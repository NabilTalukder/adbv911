!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["stream.common"]=t():e["stream.common"]=t()}(window,(function(){return n={},e.m=t={127:function(e,t,n){(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([["jumper.common"],{"./Embed/Utility/appUtil.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/models/TelemetryEventModels.ts"),r=n("./app/utility/Constants.ts"),o=n("./app/utility/string.ts"),s=n("./app/utility/appUtil.ts");function a(){$("body")[0].className.split(/\s+/).forEach((function(e){0===e.indexOf(r.Constants.Themes.Prefix)&&$("body").removeClass(e)}))}t.getParentHostName=function(){var e=s.getReferrer();if(e)try{var t=o.urlResolve(e);if(t&&t.hostname)return t.hostname}catch(e){return""}return""},t.removeAllThemes=a,t.setTheme=function(e){a(),$("body").addClass(e)},t.isWarningStatus=function(e){return e&&e.status&&(e.status==r.Constants.HttpStatusCode.ClientNetworkError||e.status==r.Constants.HttpStatusCode.Unauthorized||e.status==r.Constants.HttpStatusCode.Forbidden||e.status==r.Constants.HttpStatusCode.NotFound)},t.getSortByValue=function(e,t){var n=Object.keys(r.Constants.VideoSortQueryParams).map((function(e){return r.Constants.VideoSortQueryParams[e]})),i=t||(e[r.Constants.QueryStringKeys.SearchTerm]||e[r.Constants.QueryStringKeys.SearchTermLongKey]?r.Constants.VideoSortOptions.Relevance:r.Constants.VideoSortOptions.Trending);if(e.hasOwnProperty(r.Constants.QueryStringKeys.Sort)&&-1<n.indexOf(e[r.Constants.QueryStringKeys.Sort]))switch(e[r.Constants.QueryStringKeys.Sort]){case r.Constants.VideoSortQueryParams.Relevance:i=r.Constants.VideoSortOptions.Relevance;break;case r.Constants.VideoSortQueryParams.Trending:i=r.Constants.VideoSortOptions.Trending;break;case r.Constants.VideoSortQueryParams.PublishDate:i=r.Constants.VideoSortOptions.PublishDate;break;case r.Constants.VideoSortQueryParams.Views:i=r.Constants.VideoSortOptions.Views;break;case r.Constants.VideoSortQueryParams.Likes:i=r.Constants.VideoSortOptions.Likes;break;case r.Constants.VideoSortQueryParams.Name:i=r.Constants.VideoSortOptions.Name}return i},t.getDefaultRenderSettings=function(e,t){void 0===t&&(t={});var n=!1,i=!1;return e&&(0<=e.toLowerCase().indexOf("/channel")||0<=e.toLowerCase().indexOf("/group"))&&(i=n=!0),{displaymode:r.Constants.embedDisplayModes.buttonsMode,showdescription:n,showheader:i,open:r.Constants.embedOpenQueryValues.inline,sort:t[r.Constants.QueryStringKeys.SearchTerm]||t[r.Constants.QueryStringKeys.SearchTermLongKey]?r.Constants.VideoSortOptions.Relevance:r.Constants.lists.Trending}},t.getScreenName=function(e){var t=i.ScreenName.EmbedBrowsePage;switch(e){case r.Constants.ResourceNames.Channel:t=i.ScreenName.EmbedChannelPage;break;case r.Constants.ResourceNames.Group:t=i.ScreenName.EmbedGroupPage}return t},t.getTelemetryEventName=function(e){var t=i.TelemetryEventNames.embedBrowseSummary;switch(e){case r.Constants.ResourceNames.Channel:t=i.TelemetryEventNames.embedChannelSummary;break;case r.Constants.ResourceNames.Group:t=i.TelemetryEventNames.embedGroupSummary}return t},t.isCookiesSupported=function(){try{var e,t="__cookie_test_key_"+s.generateSmallId(),n="secure; samesite=none";return document.cookie=t+"=1; "+n,document.cookie=t+"=1",e=-1!==document.cookie.indexOf(t),document.cookie=t+"=1;  expires=Thu, 01-Jan-1970 00:00:01 GMT; "+n,document.cookie=t+"=1;  expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}},t.getCookieByName=function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:null},t.isIOSDevice=function(){return!!navigator.platform.match(/iPhone|iPod|iPad/)},t.addQueryParmsToUrl=function(e,t,n){var i=new RegExp("([?&]"+t+"=)[^&]+","");function r(i){e+=i+t+"="+encodeURIComponent(n)}return-1===e.indexOf("?")?r("?"):i.test(e)?e=e.replace(i,"$1"+encodeURIComponent(n)):r("&"),e}},"./app/Controls/Dialogs/BaseDialog/BaseDialog.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/appUtil.ts"),o=n("./common/components/MediaPlayer/MediaPlayerController.ts"),s=(a.prototype.playerStartedHandler=function(){this.dialogInterruptionHandler.pauseVideoAndSaveContext(!0)},a.prototype.isIE11=function(){return!!window.MSInputMethodContext&&!!document.documentMode},a.prototype.openDialog=function(e){var t=this;return e.disableAnimation=!!e.disableAnimation||this.isIE11(),this.dialog=this.ngDialog.open(e),this.pauseRecoverVideo&&(this.eventHandler=this.$rootScope.$on(i.Constants.Events.PlayerStarted,this.playerStartedHandler.bind(this)),this.dialogInterruptionHandler.pauseVideoAndSaveContext()),this.dialog.closePromise.then((function(e){e.value&&e.value.closeMessage?r.alertScreenReader(e.value.closeMessage+". "+t.resources.DialogClosedAria):r.alertScreenReader(t.resources.DialogClosedAria)})).finally((function(){t.pauseRecoverVideo&&(t.eventHandler(),t.dialogInterruptionHandler.recover())})),this.dialog},a.$inject=["ngDialog","$rootScope","resources"],a);function a(e,t,n){var i=this;this.ngDialog=e,this.$rootScope=t,this.resources=n,this.pauseRecoverVideo=!0,this.dialogInterruptionHandler={wasPaused:!1,autoPlay:!0,recover:function(){var e=o.getAllAMPPlayers();e&&_.forEach(e,(function(e){e&&e.controls()&&!i.dialogInterruptionHandler.wasPaused&&(e.play(),e.autoplay(i.dialogInterruptionHandler.autoPlay))}))},pauseVideoAndSaveContext:function(e){void 0===e&&(e=!1);var t=o.getAllAMPPlayers();t&&_.forEach(t,(function(t){t&&t.controls()&&(i.dialogInterruptionHandler.wasPaused=t.paused()&&!e,t.paused()||t.pause(),e&&t.autoplay&&t.autoplay()&&(i.dialogInterruptionHandler.autoPlay=!0,t.autoplay(!1)))}))}}}t.BaseDialog=s},"./app/Controls/Dialogs/ConfirmationDialog/ConfirmationDialog.html":function(e,t){e.exports='<div class=confirmation-dialog ng-keydown=ConfirmationDialog.watchForEscape($event)> <div class=dialog-content role=dialog aria-label={{ConfirmationDialog.dialogModel.title}}> <div role=document> <h2 class=dialog-title>{{ConfirmationDialog.dialogModel.title}}</h2> <p class="c-paragraph dialog-body" ng-if=ConfirmationDialog.dialogModel.messageHeading>{{ConfirmationDialog.dialogModel.messageHeading}} </p> <p class="c-paragraph dialog-body">{{ConfirmationDialog.dialogModel.message}}</p> <p class="c-paragraph dialog-body" ng-if="ConfirmationDialog.dialogModel.linkLabel && ConfirmationDialog.dialogModel.linkUrl"> <a class=c-hyperlink external-link ng-href={{ConfirmationDialog.dialogModel.linkUrl}} target=_blank>{{ConfirmationDialog.dialogModel.linkLabel}}</a> </p> <div class="c-checkbox ct-checkbox" ng-if=ConfirmationDialog.dialogModel.confirmCheckboxText ng-init=ConfirmationDialog.setCheckboxFocus()> <label class="c-label ct-label-compact"> <input class=ct-textbox-compact type=checkbox id=confirmationCheckbox ng-model=ConfirmationDialog.checkboxModel /> <span class=ct-confirmationDialogModel>{{ConfirmationDialog.dialogModel.confirmCheckboxText}}</span> </label> </div> <div class="c-group action-buttons" ng-class="{\'flex-buttons\': ConfirmationDialog.dialogModel.useFlex}"> <button class="stream-btn btn-primary dialog-confirm-button" type=submit ng-click=ConfirmationDialog.onConfirm() ng-disabled=ConfirmationDialog.confirmButtonEnabled() ng-if=!ConfirmationDialog.dialogModel.hideConfirmButton ng-init="!ConfirmationDialog.dialogModel.confirmCheckboxText && ConfirmationDialog.setConfirmButtonFocus()"> {{ConfirmationDialog.dialogModel.confirmButtonLabel}} </button> <button class="stream-btn dialog-cancel-button" type=button ng-click=ConfirmationDialog.onCancel() ng-if=!ConfirmationDialog.dialogModel.hideCancelButton> {{ConfirmationDialog.dialogModel.cancelButtonLabel}} </button> </div> </div> </div> </div>'},"./app/Controls/Dialogs/ConfirmationDialog/ConfirmationDialog.less":function(e,t){},"./app/Controls/Dialogs/ConfirmationDialog/VideoDeleteConfirmationDialog.html":function(e,t){e.exports='<div class=confirmation-dialog ng-keydown=ConfirmationDialog.watchForEscape($event)> <div class=dialog-content role=dialog tabindex=-1 aria-label={{ConfirmationDialog.dialogModel.title}}> <div role=document> <h2 class=dialog-title>{{ConfirmationDialog.dialogModel.title}}</h2> <p class="c-paragraph dialog-body" ng-if=ConfirmationDialog.dialogModel.messageHeading>{{ConfirmationDialog.dialogModel.messageHeading}} </p> <p class="c-paragraph dialog-body">{{ConfirmationDialog.dialogModel.message}}</p> <p class="c-paragraph dialog-body dialog-indent"> <span class=sub-heading>{{ConfirmationDialog.dialogModel.videoNameLabel}}:</span><br/> {{ConfirmationDialog.dialogModel.resourceName}} </p> <p class="c-paragraph dialog-body dialog-indent"> <span class=sub-heading>{{ConfirmationDialog.dialogModel.publishedLocationsLabel}}:</span><br/> {{ConfirmationDialog.dialogModel.groupsLabel}}: {{ConfirmationDialog.dialogModel.groupCount}}<br/> {{ConfirmationDialog.dialogModel.channelLabel}}: {{ConfirmationDialog.dialogModel.channelCount}} </p> <p class="c-paragraph dialog-body" ng-if="ConfirmationDialog.dialogModel.linkLabel && ConfirmationDialog.dialogModel.linkUrl"> <a class=c-hyperlink external-link ng-href={{ConfirmationDialog.dialogModel.linkUrl}} target=_blank>{{ConfirmationDialog.dialogModel.linkLabel}}</a> </p> <div class="c-checkbox ct-checkbox" ng-if=ConfirmationDialog.dialogModel.confirmCheckboxText> <label class="c-label ct-label-compact"> <input type=checkbox class=ct-textbox-compact ng-model=ConfirmationDialog.checkboxModel /> <span class=ct-confirmationDialogModel>{{ConfirmationDialog.dialogModel.confirmCheckboxText}}</span> </label> </div> <div class="dialog-footer action-buttons" ng-class="{\'flex-buttons\': ConfirmationDialog.dialogModel.useFlex}"> <div class=left> <button class="stream-btn dialog-cancel-button" type=button ng-click=ConfirmationDialog.onCancel() ng-if=!ConfirmationDialog.dialogModel.hideCancelButton> {{ConfirmationDialog.dialogModel.cancelButtonLabel}} </button> </div> <div class=right> <button class="stream-btn btn-primary dialog-confirm-button" type=submit ng-click=ConfirmationDialog.onConfirm() ng-disabled=ConfirmationDialog.confirmButtonEnabled() ng-if=!ConfirmationDialog.dialogModel.hideConfirmButton ng-init=ConfirmationDialog.setConfirmButtonFocus()> {{ConfirmationDialog.dialogModel.confirmButtonLabel}} </button> </div> </div> </div> </div> </div>'},"./app/Controls/Dialogs/DialogBox/DialogBox.html":function(e,t){e.exports='<section class="section section-size0 dialog-section"> <div class="dialog-container-outer row row-size0" role=dialog aria-labelledby=dialog-header-content aria-modal=true> <div class="dialog-container column large-centered large-8 medium-centered medium-10 small-centered small-11"> <div ng-if=!$ctrl.hideHeader> <div class=dialog-header ng-if="!$ctrl.errorHeading && !$ctrl.inProgress"> <div id=dialog-header-content role=heading aria-level=1 class="dialog-header-content c-heading-6 absolute-y-center"> {{::$ctrl.heading}} </div> <button ng-if=$ctrl.showCloseInHeader type=button class="c-action-trigger close-button" ng-click=$ctrl.onCloseClicked()> <svg-src svg-name=icon_cancel inline-with-text=true></svg-src> </button> </div> <div class=dialog-error-header ng-if=$ctrl.errorHeading> <div role=alert class="dialog-header-content c-heading-6 absolute-y-center">{{::$ctrl.errorHeading}}</div> </div> <div class=dialog-header ng-if=$ctrl.inProgress> <div class="dialog-header-content c-heading-6 absolute-y-center">{{::$ctrl.progressHeading}}</div> </div> </div> <div class=dialog-content> <ng-transclude></ng-transclude> </div> <div class=dialog-footer ng-if=!$ctrl.hideFooter> <div class=left> <button type=submit class="stream-btn left-dialog-button" ng-disabled=!$ctrl.leftButtonEnabled ng-click=$ctrl.onLeftButtonClicked()> {{$ctrl.leftButtonText}} </button> </div> <div class=right> <button type=submit class="stream-btn right-dialog-button" ng-disabled=!$ctrl.rightButtonEnabled ng-class="{\'btn-primary\': !$ctrl.rightButtonNotPrimary}" ng-click=$ctrl.onRightButtonClicked()> {{$ctrl.rightButtonText}} </button> </div> </div> </div> </div> </section> '},"./app/Controls/Dialogs/DialogBox/DialogBox.less":function(e,t){},"./app/Controls/Dialogs/DialogBox/DialogBox.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/Controls/Dialogs/DialogBox/DialogBoxController.ts");function o(){this.restrict="E",this.link=function(e,t,n,i){i.autoFocusSelector&&setTimeout((function(){var e=t.find(i.autoFocusSelector);e.length&&e.focus()}),0),i.hideFooter||setTimeout((function(){var e=angular.element(".left-dialog-button",t),n=angular.element(".right-dialog-button",t),i=Math.max(e.outerWidth(),n.outerWidth());e.outerWidth(i),n.outerWidth(i)}),0)},this.controller=r.DialogBoxController,this.bindToController=!0,this.template=n("./app/Controls/Dialogs/DialogBox/DialogBox.html"),this.controllerAs="$ctrl",this.transclude=!0,this.scope={heading:"@",errorHeading:"<?",progressHeading:"<?",inProgress:"<",leftButtonText:"<",rightButtonText:"<",leftButtonEnabled:"<",rightButtonEnabled:"<",onLeftButtonClicked:"&",onCloseClicked:"&",onRightButtonClicked:"&",autoFocusSelector:"@?",hideHeader:"<",hideFooter:"<",showCloseInHeader:"<",rightButtonNotPrimary:"<"}}n("./app/Controls/Dialogs/DialogBox/DialogBox.less"),t.DialogBox=o,i.registerDirective("dialogBox",o,angular.module("jumper"))},"./app/Controls/Dialogs/DialogBox/DialogBoxController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=(o.$inject=["$scope","resources"],o);function o(e,t){var n=this;this.$scope=e,this.resources=t;var r=function(e){e.keyCode===i.Constants.KeyCodes.Esc&&(e.isDefaultPrevented()||(n.onLeftButtonClicked(),e.stopPropagation()))}.bind(this);$("body").on("keydown",r),e.$on("$destroy",(function(){$("body").off("keydown",r)}))}t.DialogBoxController=r},"./app/Controls/Dialogs/RecordVideoFailedDialog/RecordVideoFailedDialog.html":function(e,t){e.exports='<dialog-box class=failed-videoupload-dialog heading={{::$ctrl.resources.VideoUpdateFailedUploadDialogTitle}} hide-footer=true> <div class=row> <div class="column x-small-12"> {{::$ctrl.resources.VideoUpdateFailedUploadDialogDesc}} </div> </div> <div class="row buttons-row"> <div class="column x-small-12"> <button ng-click=closeThisDialog() class="stream-btn btn-primary close-dialog-button" type=button>{{::$ctrl.resources.OK}}</button> </div> </div> </dialog-box>'},"./app/Controls/Dialogs/SessionExpiredDialog/SessionExpiredDialog.html":function(e,t){e.exports='<dialog-box> <section class=session-expired> <div class=row> <div class="column x-small-12"> <div class=icon-container> <svg-src svg-name=stream-icon></svg-src> </div> <div class=data-container> <h4>{{::$ctrl.resources.SessionExpiredDialogTitle}}</h4> <div>{{::$ctrl.resources.SessionExpiredDialogDescription}}</div> </div> </div> </div> <div class=row> <div class="column x-small-12"> <button ng-click=$ctrl.okayClicked() class="c-button ct-button-compact close-dialog-button" type=button>{{::$ctrl.resources.OK}}</button> </div> </div> </section> </dialog-box>'},"./app/Controls/Dialogs/SessionExpiredDialog/SessionExpiredDialog.less":function(e,t){},"./app/Controls/Dialogs/SessionExpiredDialog/SessionExpiredDialog.ts":function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/SessionExpiredDialog/SessionExpiredDialogController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/SessionExpiredDialog/SessionExpiredDialog.less");var a,c=(r(l,a=s.BaseDialog),l.prototype.open=function(e){return this.openDialog({template:n("./app/Controls/Dialogs/SessionExpiredDialog/SessionExpiredDialog.html"),plain:!0,controller:o.SessionExpiredDialogController,controllerAs:"$ctrl",closeByDocument:!1,closeByEscape:!1,showClose:!1,className:"dialog-box session-expired-dialog-box",ariaRole:"dialog"})},l.$inject=["ngDialog","$rootScope","resources"],l);function l(e,t,n){return a.call(this,e,t,n)||this}t.SessionExpiredDialog=c,angular.module("jumper.controls").service("sessionExpiredDialog",c)},"./app/Controls/Dialogs/SessionExpiredDialog/SessionExpiredDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/models/TelemetryEventModels.ts"),r=(o.prototype.okayClicked=function(){this.$window.location.reload(!0),this.$scope.closeThisDialog()},o.$inject=["$scope","$window","resources","telemetryService"],o);function o(e,t,n,r){this.$scope=e,this.$window=t,this.resources=n,this.telemetryService=r,this.telemetryService.getTracker(i.ScreenName.SessionExpiredDialog).trackEvent(i.TelemetryEventNames.sessionExpiredEvent)}t.SessionExpiredDialogController=r},"./app/Controls/Dialogs/VideoEditorDialog/VideoEditorDialog.html":function(e,t){e.exports='<section class=video-edit-dialog-content> <div class="large-12 medium-12 small-12 xsmall-12 editor-host"> <stream-loading ng-if=!$ctrl.isVideoEditorLoaded></stream-loading> <office-media-video-editor ng-show=$ctrl.isVideoEditorLoaded source=::$ctrl.source source-type=::$ctrl.sourceType video-id=::$ctrl.videoId video-content-source=::$ctrl.videoContentSource video-content-version=::$ctrl.videoContentVersion video-name=::$ctrl.videoName video-type=::$ctrl.videoType video-dimensions=::$ctrl.videoDimensions close=::$ctrl.close is-in-admin-mode=::$ctrl.isInAdminMode></office-media-video-editor> </div> </section>'},"./app/Controls/Dialogs/VideoEditorDialog/VideoEditorDialog.less":function(e,t){},"./app/Controls/Dialogs/VideoEditorDialog/VideoEditorDialog.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/Controls/Dialogs/VideoEditorDialog/VideoEditorDialogController.ts");n("./app/Controls/Dialogs/VideoEditorDialog/VideoEditorDialog.less");var r=(o.prototype.open=function(e){return this.openOptions.className="video-edit-dialog",this.openOptions.data=e,this.ngDialog.open(this.openOptions)},o.$inject=["ngDialog"],o);function o(e){this.ngDialog=e,this.openOptions={template:n("./app/Controls/Dialogs/VideoEditorDialog/VideoEditorDialog.html"),controller:i.VideoEditorDialogController,controllerAs:"$ctrl",closeByEscape:!1,closeByDocument:!1,showClose:!1,plain:!0,data:null,ariaRole:"dialog",overlay:!1,trapFocus:!1}}t.VideoEditorDialog=r,angular.module("jumper.controls").service("videoEditorDialog",r)},"./app/Controls/Dialogs/VideoEditorDialog/VideoEditorDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./node_modules/@msstream/core/esm/index.js"),o=(s.$inject=["$rootScope","$scope","$timeout","$element","$window","resources","navigationService"],s);function s(e,t,n,o,s,a,c){var l=this;this.$rootScope=e,this.$scope=t,this.$timeout=n,this.$element=o,this.$window=s,this.resources=a,this.navigationService=c,this.isVideoEditorLoaded=!1,this.originalTitle=this.$window.document.title,this.source=this.$scope.ngDialogData.source,this.sourceType=this.$scope.ngDialogData.sourceType,this.videoContentSource=this.$scope.ngDialogData.videoContentSource,this.videoContentVersion=this.$scope.ngDialogData.videoContentVersion,this.videoType=this.$scope.ngDialogData.videoType,this.videoId=this.$scope.ngDialogData.videoId,this.videoName=this.$scope.ngDialogData.videoName,this.videoDimensions=this.$scope.ngDialogData.videoDimensions,this.isInAdminMode=this.$scope.ngDialogData.isInAdminMode,this.close=function(){l.$scope.$broadcast(i.Constants.Events.videoEditorClosed),l.$scope.$applyAsync((function(){return l.$scope.closeThisDialog(!0)})),l.isVideoEditorLoaded=!1,l.$window.document.title=l.originalTitle},this.$element.attr("aria-modal","true"),n((function(){l.navigationService.addQueryParam({isInVideoTrimMode:"true",videoId:l.videoId}),l.$rootScope.$on(i.Constants.Events.videoEditorLoaded,(function(){l.isVideoEditorLoaded=!0,l.$window.document.title=r.formatString(l.resources.BrowserTitle.TrimVideo,i.Constants.ProductName,l.videoName)}))})),this.$scope.$on("$locationChangeStart",(function(e,t,n){var i;l.isVideoEditorLoaded&&t!==n&&t!==s.location.origin+"/"&&(i=l.resources.VideoEditorUnSavedChangeConfirmationMessage,confirm(i)||(e.preventDefault(),e.stopPropagation()))}))}t.VideoEditorDialogController=o},"./app/Controls/Dialogs/VideoShareDialog/VideoShareDialog.html":function(e,t){e.exports='<section class="section section-size0 dialog-section"> <div class="video-share-embed-dialog row row-size0"> <div class="dialog-container column large-centered large-8 medium-centered medium-10 small-centered small-10"> <div class=dialog-header> <tab-navigation class=tab-navigation-horiz-padding model=$ctrl.tabOptions value=$ctrl.selectedTabOption onselect="" init-focus=true></tab-navigation> </div> <div class=dialog-error-header ng-if=$ctrl.errorHeader> <div class="dialog-header-content c-heading-6">{{::$ctrl.errorHeader}}</div> </div> <div class=dialog-content> <div ng-if="($ctrl.isEmailEnabled() || !$ctrl.emailSelected)" class=note> {{$ctrl.videoShareNote}} <div ng-if="$ctrl.embedSelected && $ctrl.shouldShowPublicAnonymous" class="c-checkbox public-link-toggle-container"> <toggle name=public-link-toggle value=$ctrl.publicAnonEmbedLink on-toggle-click=$ctrl.onEmbedPublicAnonToggleClick() disabled=$ctrl.shouldDisablePublicAnonEmbedToggle hide-labels=true /> <span>{{::$ctrl.resources.PublicAnonymous.EmbedToggleLabel}}</span> <tooltip message=$ctrl.resources.PublicAnonymous.EmbedToggleTooltip ng-if="$ctrl.embedSelected && $ctrl.shouldShowPublicAnonymous" button-aria-label={{::$ctrl.resources.PublicAnonymous.EmbedToggleAriaLabel}}> </tooltip> </div> </div> <div ng-if=$ctrl.emailSelected class=email-tab> <principal-selector ng-if=$ctrl.isEmailEnabled() principals=$ctrl.principals telemetry-tracker=$ctrl.telemetryTracker email-needed=true /> <div ng-if=!$ctrl.isEmailEnabled() class=email-disabled-message> <a class=c-hyperlink external-link target=_blank href={{::$ctrl.serviceUpdatesLink}}> {{::$ctrl.resources.FeatureUnavailable}} </a> </div> </div> <div ng-if=$ctrl.shareSelected class=share-tab> <div class="c-checkbox ct-checkbox time-stamp" ng-if=$ctrl.shouldShowTimeStamp> <label class="c-label ct-label-compact"> <input type=checkbox class="time-stamp-checkbox ct-textbox-compact" ng-model=$ctrl.timeStamp ng-change=$ctrl.timeStampChanged() /> <span>{{::$ctrl.resources.Dialogs.VideoShare.StartAt}}</span> </label> <input type=text ng-model=$ctrl.videoStartAt value={{$ctrl.videoStartAt}} class="c-text-field ct-textbox-compact time-stamp-text" ng-change=$ctrl.timeStampChanged() ng-disabled=!$ctrl.timeStamp /> </div> <div class="link-container row"> <div class=column ng-class="$ctrl.clipBoardSupported ? [\'xsmall-8\', \'small-9\', \'large-10\'] : \'xsmall-12\'"> <div> <label class="c-label ct-label-compact"> {{$ctrl.directShareLinkLabel}} <tooltip message=$ctrl.resources.PublicAnonymous.ShareDialogInternalLinkTooltip ng-if=$ctrl.shouldShowPublicAnonymous button-aria-label={{::$ctrl.resources.PublicAnonymous.InternalLinkAriaLabel}}> </tooltip> <input class="c-text-field ct-textbox-compact video-url" type=text value={{$ctrl.shareLink}} autocomplete=off autocorrect=off autocapitalize=off spellcheck=false /> </label> </div> </div> <div class="column xsmall-4 small-3 large-2 link-container-col2" ng-if=$ctrl.clipBoardSupported ng-class="$ctrl.shouldShowPublicAnonymous ? \'internal-link-copy\' : \'\'"> <button clipboard text=$ctrl.shareLink on-copied=$ctrl.onShareLinkCopied() class="stream-btn btn-primary">{{::$ctrl.resources.CopyButtonLabel}}</button> </div> </div> <div class=public-anonymous-container ng-if=$ctrl.shouldShowPublicAnonymous> <div class="column public-anonymous-button-container xsmall-4 small-3 large-2 row"> <button class="stream-btn btn-primary" ng-if=$ctrl.shouldShowCreatePublicLinkButton ng-disabled="$ctrl.publicAnonLinkState === $ctrl.publicAnonLinkStates.ManifestNotGenerated" ng-click=$ctrl.createPublicAnonymousLink()> {{::$ctrl.resources.PublicAnonymous.CreateLinkButton}} </button> </div> <div class="public-anonymous-link-container row" ng-if="$ctrl.publicAnonLinkState === $ctrl.publicAnonLinkStates.LinkAvailable"> <div class=column ng-class="$ctrl.clipBoardSupported ? [\'xsmall-8\', \'small-9\', \'large-10\'] : \'xsmall-12\'"> <div> <label class="c-label ct-label-compact"> {{::$ctrl.resources.PublicAnonymous.PublicLinkLabel}} <tooltip message=$ctrl.resources.PublicAnonymous.ShareDialogPublicLinkTooltip button-aria-label={{::$ctrl.resources.PublicAnonymous.PublicLinkAriaLabel}}> </tooltip> <input class="c-text-field ct-textbox-compact video-url" type=text value={{$ctrl.publicAnonymousLink}} autocomplete=off autocorrect=off autocapitalize=off aria-label={{::$ctrl.resources.PublicAnonymous.TextboxAriaLabel}} spellcheck=false /> </label> </div> <div>{{::$ctrl.resources.PublicAnonymous.PublicLinkWarningText}}</div> </div> <div class="column xsmall-4 small-3 large-2 public-link-container-col2"> <button type=submit class="restore-button c-action-trigger" ng-click=$ctrl.refreshPublicAnonymousLink() aria-label={{::$ctrl.resources.PublicAnonymous.RefreshLinkTooltip}} custom-title={{::$ctrl.resources.PublicAnonymous.RefreshLinkTooltip}} light-style=true> <svg-src svg-name=icon_restore></svg-src> </button> <button clipboard text=$ctrl.publicAnonymousLink on-copied=$ctrl.onPublicAnonymousLinkCopied() class="stream-btn btn-primary public-anon-clipboard" ng-if=$ctrl.clipBoardSupported>{{::$ctrl.resources.CopyButtonLabel}}</button> </div> </div> <div class="public-anonymous-link-loading row" ng-if="$ctrl.publicAnonLinkState === $ctrl.publicAnonLinkStates.ManifestNotGenerated"> <div class=in-progress-container> <svg-src svg-name=icon_processing_status class="spin processing-icon" inline-with-text=true></svg-src> </div> </div> <div class="public-anonymous-error row" ng-if="$ctrl.publicAnonLinkState === $ctrl.publicAnonLinkStates.FailedToCreate"> <span>{{::$ctrl.resources.PublicAnonymous.LinkFailErrorText}}</span> </div> </div> <div> <label class="c-label share-with-label"> {{::$ctrl.resources.Dialogs.VideoShare.ShareWithLabel}} </label> <div class=share-buttons ng-init=$ctrl.initializeShareControls()> <div ng-show=$ctrl.isShareToTeamsLoaded ng-if=$ctrl.isShareToTeamsEnabled() ng-click=$ctrl.onTeamsShareClicked()> <span class=teams-share-button data-href={{$ctrl.shareLink}} data-icon-px-size=32></span> </div> <div ng-click=$ctrl.onYammerShareClicked() class=yammer-custom-share-button> <svg-src class=yammer-share-icon svg-name=icon_yammer_share inline-with-text=true></svg-src> </div> <div ng-if=!$ctrl.isEmailEnabled() ng-click=$ctrl.onEmailShareClicked()> <svg-src class=email-share-icon svg-name=icon_email_share inline-with-text=true></svg-src> </div> </div> </div> </div> <div ng-if=$ctrl.embedSelected class=embed-tab> <div class=video-size> <div class=video-size-selector> <label class="c-label ct-label-compact" for=videoSizeSelector> {{::$ctrl.resources.Dialogs.VideoShare.VideoSizeLabel}} </label> <div class=embed-size-selector dir=ltr> <drop-down class=ct-dropdown-compact ltr-content=true name=videoSizeSelector options=$ctrl.playerSizeOptions value=$ctrl.selectedSize aria-label={{::$ctrl.resources.Dialogs.VideoShare.VideoSizeLabel}}> </drop-down> </div> </div> <div> <div class="c-checkbox autoplay"> <label class="c-label ct-label-compact" id=auto-play-toggle> {{::$ctrl.resources.Dialogs.VideoShare.AutoplayLabel}} </label> <toggle name=auto-play-toggle value=$ctrl.autoplay on-toggle-click=$ctrl.onAutoplayToggleClick() /> </div> <div class="c-checkbox responsive-selector"> <label class="c-label ct-label-compact" id=responsive-player-toggle> {{::$ctrl.resources.Dialogs.VideoShare.ResponsiveToggleLabel}} </label> <toggle name=responsive-player-toggle value=$ctrl.responsivePlayer on-toggle-click=$ctrl.onResponsivePlayerToggleClick() /> </div> <div class="c-checkbox show-info responsive-selector"> <label class="c-label ct-label-compact" id=info-toggle> {{::$ctrl.resources.Dialogs.VideoShare.ShowInfoLabel}} </label> <toggle name=info-toggle value=$ctrl.showInfo on-toggle-click=$ctrl.onshowInfoClick() disabled="$ctrl.publicAnonEmbedLink && $ctrl.shouldShowPublicAnonymous"/> </div> </div> <div class="c-checkbox ct-checkbox time-stamp" ng-if=$ctrl.shouldShowTimeStamp> <label class="c-label ct-label-compact"> <input type=checkbox ng-model=$ctrl.timeStamp ng-change=$ctrl.timeStampChanged() /> <span>{{::$ctrl.resources.Dialogs.VideoShare.StartAt}}</span> </label> <input dir=ltr type=text ng-model=$ctrl.videoStartAt value={{$ctrl.videoStartAt}} class="c-text-field ct-textbox-compact time-stamp-text" ng-blur=$ctrl.timeStampChanged() ng-disabled=!$ctrl.timeStamp /> </div> </div> <div class="c-textarea embed-code row"> <div class=column ng-class="$ctrl.clipBoardSupported ? [\'xsmall-8\', \'small-9\', \'large-10\'] : \'xsmall-12\'"> <label class="c-label ct-label-compact"> {{::$ctrl.resources.Dialogs.VideoShare.EmbedCodeLabel}} <textarea dir=ltr class="f-no-resize f-scroll ct-textarea-compact" rows=4 autocomplete=off autocorrect=off autocapitalize=off spellcheck=false>{{$ctrl.embedCode}}</textarea> </label> </div> <div class="column xsmall-4 small-3 large-2 copy-button" ng-if=$ctrl.clipBoardSupported> <button clipboard text=$ctrl.embedCode on-copied=$ctrl.onEmbedCodeCopied() class="stream-btn btn-primary">{{::$ctrl.resources.CopyButtonLabel}}</button> </div> </div> <div class="preview-player-container large-9"> <div class=iframe-container> <iframe id=player-container-frame name=player-container-frame ng-src={{$ctrl.embedSrcLink}} class=player-container-iframe></iframe> </div> </div> </div> </div> <div class=dialog-footer> <div ng-if="!($ctrl.emailSelected) || !$ctrl.isEmailEnabled()"> <button type=submit class="stream-btn close-button only-close-button" ng-click=$ctrl.onCloseClicked()> {{::$ctrl.resources.Dialogs.VideoShare.Close}} </button> </div> <div ng-if="$ctrl.emailSelected && $ctrl.isEmailEnabled()"> <div class=left> <button type=submit class="stream-btn close-button" ng-click=$ctrl.onCloseClicked()> {{::$ctrl.resources.Dialogs.VideoShare.Close}} </button> </div> <div class=right> <button type=submit class="stream-btn btn-primary send-close-button" ng-click=$ctrl.onSendAndCloseClicked() ng-disabled=!$ctrl.principals.length> {{::$ctrl.resources.Dialogs.VideoShare.SendAndClose}} </button> </div> </div> </div> </div> </div> </section> '},"./app/Controls/Dialogs/VideoShareDialog/VideoShareDialog.less":function(e,t){},"./app/Controls/Dialogs/VideoShareDialog/VideoShareDialog.ts":function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./app/Controls/Dialogs/VideoShareDialog/VideoShareDialogController.ts"),s=n("./app/Controls/Dialogs/BaseDialog/BaseDialog.ts");n("./app/Controls/Dialogs/VideoShareDialog/VideoShareDialog.less");var a,c=(r(l,a=s.BaseDialog),l.prototype.open=function(e,t,i){var r=this,s=this.openDialog({template:n("./app/Controls/Dialogs/VideoShareDialog/VideoShareDialog.html"),plain:!0,controller:o.VideoShareDialogController,controllerAs:"$ctrl",closeByDocument:!1,closeByEscape:!1,showClose:!1,className:"video-share-dialog",data:{video:e,playerOptions:t,playerCurrentTime:i},ariaRole:"dialog"});return s.closePromise.finally((function(){r.telemetry.getTracker(r.navigation.getPageName()).tagScreen()})),s},l.$inject=["telemetryService","navigationService","ngDialog","$rootScope","resources"],l);function l(e,t,n,i,r){var o=a.call(this,n,i,r)||this;return o.telemetry=e,o.navigation=t,o}t.VideoShareDialog=c,angular.module("jumper.controls").service("videoShareDialog",c)},"./app/Controls/Dialogs/VideoShareDialog/VideoShareDialogController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r,o,s,a=n("./app/utility/string.ts"),c=n("./app/utility/Constants.ts"),l=n("./app/models/TelemetryEventModels.ts"),u=n("./app/utility/appUtil.ts"),d=n("./app/utility/LiveEventUtils.ts"),p=n("./app/utility/appUtil.ts");(r=i=t.VideoShareDialogTab||(t.VideoShareDialogTab={}))[r.Email=0]="Email",r[r.Share=1]="Share",r[r.Embed=2]="Embed",(s=o=t.PublicAnonLinkStates||(t.PublicAnonLinkStates={}))[s.NoPermissions=0]="NoPermissions",s[s.CanCreateLink=1]="CanCreateLink",s[s.ManifestNotGenerated=2]="ManifestNotGenerated",s[s.LinkAvailable=3]="LinkAvailable",s[s.FailedToCreate=4]="FailedToCreate";var A=(Object.defineProperty(m.prototype,"publicAnonLinkStates",{get:function(){return o},enumerable:!0,configurable:!0}),m.prototype.buildPreviewSizeOption=function(e){return{width:e.width,height:e.height,displayValue:a.formatString(this.previewSizeTemplate,e.width.toString(),e.height.toString())}},m.prototype.populateTabOptions=function(){var e=[];e.push({value:i.Share,text:this.resources.Dialogs.VideoShare.Share}),this.isEmailEnabled()&&this.video.state===c.Constants.VideoStatus.Completed&&e.push({value:i.Email,text:this.resources.Dialogs.VideoShare.Email}),e.push({value:i.Embed,text:this.resources.Dialogs.VideoShare.Embed}),this.tabOptions={options:e},this.selectedTabOption=i.Share},m.prototype.initializeShareControls=function(){var e=this;yam.platform.yammerShare(this.yammOptions),this.isShareToTeamsEnabled()&&portalConfiguration.ShareToTeamsSdkUrl&&$.getScript(portalConfiguration.ShareToTeamsSdkUrl,(function(){e.$scope.$evalAsync((function(){e.isShareToTeamsLoaded=!0}))})).fail((function(){e.$scope.$evalAsync((function(){e.isShareToTeamsLoaded=!1}))}))},m.prototype.onCloseClicked=function(){clearTimeout(this.pollingPlaybackUrl);var e={action:"DialogClosed"};e.resourceId=this.video.id,e.resourceType=l.ResourceType[l.ResourceType.Video],this.telemetryTracker.trackEvent(l.TelemetryEventNames.ShareDialog,e),this.$scope.closeThisDialog()},Object.defineProperty(m.prototype,"shouldShowTimeStamp",{get:function(){return!d.isEndedVodlessLiveEvent(this.video)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"shouldDisablePublicAnonEmbedToggle",{get:function(){return this.publicAnonymousLink.length<=0},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"embedCode",{get:function(){if(this.selectedSize){var e=this.embedSrcLink;return this.responsivePlayer?a.formatString(this.responsivePlayerPrefixTemplate,this.selectedSize.width.toString())+a.formatString(this.embedCodeTemplate,this.selectedSize.width.toString(),this.selectedSize.height.toString(),e,this.responsiveIframeStyle)+this.responsivePlayerPostfix:a.formatString(this.embedCodeTemplate,this.selectedSize.width.toString(),this.selectedSize.height.toString(),e,this.nonResponsiveIframeStyle)}return""},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isLargePlayer",{get:function(){return this.selectedSize&&angular.equals(this.selectedSize,this.largeSize)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isMediumPlayer",{get:function(){return this.selectedSize&&angular.equals(this.selectedSize,this.mediumSize)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isSmallPlayer",{get:function(){return this.selectedSize&&angular.equals(this.selectedSize,this.smallSize)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isExtraSmallPlayer",{get:function(){return this.selectedSize&&angular.equals(this.selectedSize,this.extraSmallSize)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"yammOptions",{get:function(){return{customButton:!0,classSelector:"yammer-custom-share-button",groupId:null,pageUrl:this.shareLink}},enumerable:!0,configurable:!0}),m.prototype.onSendAndCloseClicked=function(){var e=this,t={action:"EmailShare"};t.resourceId=this.video.id,t.resourceType=l.ResourceType[l.ResourceType.Video],t.shareCount=this.principals.length,this.telemetryTracker.trackEvent(l.TelemetryEventNames.ShareDialog,t),this.videoService.share(this.video.id,_.map(this.principals,(function(e){return e.mail}))).then((function(){e.telemetryTracker.succeed(l.FeatureName.EmailShare,{resourceId:e.video.id,SharedResourceType:l.ResourceType[l.ResourceType.Video],SharedCount:e.principals.length}),e.$scope.closeThisDialog({closeMessage:e.resources.EmailSent})}),(function(t){e.telemetryTracker.fail(l.FeatureName.EmailShare,l.SubFeatureName.VideoService_Share,t),t&&t.data&&t.data.error&&_.isString(t.data.error.message)&&0<t.data.error.message.length&&t.status<500?e.errorHeader=e.resources.Dialogs.VideoShare.ErrorHeader+" "+t.data.error.message:e.errorHeader=e.resources.Dialogs.VideoShare.ErrorHeader}))},m.prototype.onShareLinkCopied=function(){angular.element(document.querySelector(".share-tab .link-container .stream-btn")).focus(),p.alertScreenReader(this.resources.LinkCopiedAlertLabel);var e={action:"LinkCopied"};e.resourceId=this.video.id,e.startTime=this.timeInSeconds,this.telemetryTracker.trackEvent(l.TelemetryEventNames.ShareDialog,e)},m.prototype.onPublicAnonymousLinkCopied=function(){angular.element(document.querySelector(".share-tab .public-anonymous-link-container .stream-btn")).focus(),p.alertScreenReader(this.resources.LinkCopiedAlertLabel);var e={action:"PublicAnonymousLinkCopied"};e.resourceId=this.video.id,e.startTime=this.timeInSeconds,this.telemetryTracker.trackEvent(l.TelemetryEventNames.ShareDialog,e)},m.prototype.onYammerShareClicked=function(){var e={action:"YammerShareClicked"};e.resourceId=this.video.id,e.startTime=this.timeInSeconds,this.telemetryTracker.trackEvent(l.TelemetryEventNames.ShareDialog,e),this.$scope.closeThisDialog()},m.prototype.onTeamsShareClicked=function(){var e={action:"TeamsShareClicked"};e.resourceId=this.video.id,e.startTime=this.timeInSeconds,this.telemetryTracker.trackEvent(l.TelemetryEventNames.ShareDialog,e),this.$scope.closeThisDialog()},m.prototype.onEmailShareClicked=function(){var e={action:"EmailShareClicked"};e.resourceId=this.video.id,e.startTime=this.timeInSeconds,this.telemetryTracker.trackEvent(l.TelemetryEventNames.ShareDialog,e);var t=this.shareLink,n="mailto:?body="+encodeURIComponent(t);window.location.href=n,this.$scope.closeThisDialog()},m.prototype.onEmbedCodeCopied=function(){angular.element(document.querySelector(".embed-tab .copy-button .stream-btn")).focus(),p.alertScreenReader(this.resources.EmbedCopiedAlertLabel);var e={action:"EmbedCodeCopied"};e.resourceId=this.video.id,e.width=this.selectedSize.width,e.height=this.selectedSize.height,e.responsive=this.responsivePlayer,e.autoPlay=this.autoplay,e.showInfo=this.showInfo,e.startTime=this.timeInSeconds,this.telemetryTracker.trackEvent(l.TelemetryEventNames.ShareDialog,e)},Object.defineProperty(m.prototype,"emailSelected",{get:function(){return this.selectedTabOption===i.Email},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"shareSelected",{get:function(){return this.selectedTabOption===i.Share},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"embedSelected",{get:function(){return this.selectedTabOption===i.Embed},enumerable:!0,configurable:!0}),m.prototype.timeStampChanged=function(){var e=u.playBackTimeStringtoSeconds(this.videoStartAt);e&&this.timeStamp?this.timeInSeconds=e:this.timeInSeconds=0},Object.defineProperty(m.prototype,"shareLink",{get:function(){var e="{0}://{1}/video/{2}";return this.timeStamp&&this.timeInSeconds&&(e=this.addQueryStringParameter(e,"st",this.timeInSeconds.toString())),this.isGuestAccessEnabled()&&(e=this.addQueryStringParameter(e,"tenantId",sessionInfo.UserClaim.TenantId)),a.formatString(e,this.$location.protocol(),this.$location.host(),this.video.id)},enumerable:!0,configurable:!0}),m.prototype.refreshPublicAnonymousLink=function(){this.createPublicAnonymousLink(),this.refreshedPublicAnonLink=!0,p.alertScreenReader(this.resources.PublicAnonymous.RefreshLinkConfirmationOfAction)},m.prototype.createPublicAnonymousLink=function(){var e=this;this.publicAnonLinkState=o.ManifestNotGenerated;var t,n=sessionInfo.UserClaim.TenantId;e.videoService.getPublicAnonymous(e.video.id,n,e.isInAdminMode).then((function(i){if(i&&200===i.status){var r=i&&i.data?i.data.playbackUrls:void 0;if(r&&r.length)for(var s=0;s<r.length;s++)r[s].mimeType===c.Constants.PublicAnonymous.mimeType&&(t=r[s].playbackUrl,e.generatePublicAnonymousLink(t,n),e.telemetryTracker.succeed(l.FeatureName.CreatePublicAnonymousLink,{resourceId:e.video.id}),e.publicAnonLinkState=o.LinkAvailable,e.refreshedPublicAnonLink&&setTimeout((function(){$(".restore-button").focus(),e.refreshedPublicAnonLink=!1}),0),clearTimeout(e.pollingPlaybackUrl));else e.publicAnonLinkState=o.ManifestNotGenerated}else e.publicAnonLinkState=e.publicAnonLinkStates.FailedToCreate,clearTimeout(e.pollingPlaybackUrl)}),(function(t){e.publicAnonLinkState=e.publicAnonLinkStates.FailedToCreate,e.telemetryTracker.fail(l.FeatureName.CreatePublicAnonymousLink,l.SubFeatureName.VideoService_GetPublicPlaybackUrl,t,{resourceId:e.video.id}),clearTimeout(e.pollingPlaybackUrl)})),e.publicAnonymousLink=""},m.prototype.generatePublicAnonymousLink=function(e,t){var n="";return this.timeStamp&&this.timeInSeconds&&(n="&amp;st="+this.timeInSeconds.toString()),this.publicAnonymousLink=a.formatString(this.publicAnonymousShareLinkTemplate,this.$location.protocol(),this.$location.host(),this.video.id,t,e,this.video.contentSource,n)},Object.defineProperty(m.prototype,"embedSrcLink",{get:function(){var e="{0}://{1}/embed/video/{2}?autoplay={3}&amp;showinfo={4}";if(this.timeStamp&&this.timeInSeconds&&(e=this.addQueryStringParameter(e,"amp;st",this.timeInSeconds.toString())),this.publicAnonEmbedLink&&this.shouldShowPublicAnonymous&&this.publicAnonymousLink){var t="";return this.timeStamp&&this.timeInSeconds&&(t="&amp;st="+this.timeInSeconds.toString()),a.formatString(this.publicAnonEmbedSrcTemplate,this.publicAnonymousLink,this.autoplay.toString(),t)}return this.isGuestAccessEnabled()&&(e=this.addQueryStringParameter(e,"amp;tenantId",sessionInfo.UserClaim.TenantId)),a.formatString(e,this.$location.protocol(),this.$location.host(),this.video.id,this.autoplay.toString(),this.showInfo.toString())},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"videoShareNote",{get:function(){return this.shouldShowPublicAnonymous?this.embedSelected?this.resources.PublicAnonymous.EmbedShareDialogDescription:this.resources.PublicAnonymous.ShareDialogDescription:this.resources.Dialogs.VideoShare.Note},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"shouldShowCreatePublicLinkButton",{get:function(){return this.shouldShowPublicAnonymous&&this.publicAnonLinkState!==this.publicAnonLinkStates.LinkAvailable},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"shouldShowPublicAnonymous",{get:function(){var e=this.isStreamAdmin&&this.isInAdminMode&&this.video.published&&this.publicAnonLinkState!==this.publicAnonLinkStates.NoPermissions;if(this.isPublicAnonymousLiveEnabled()&&this.isPublicAnonymousVODEnabled())return e;if(this.video.contentSource){if(this.isPublicAnonymousLiveEnabled())return e&&this.video.contentSource===c.Constants.VideoContentSource.liveStream;if(this.isPublicAnonymousVODEnabled())return e&&this.video.contentSource!==c.Constants.VideoContentSource.liveStream}return!1},enumerable:!0,configurable:!0}),m.prototype.onAutoplayToggleClick=function(){this.autoplay=!this.autoplay},m.prototype.onEmbedPublicAnonToggleClick=function(){this.publicAnonEmbedLink=!this.publicAnonEmbedLink,this.publicAnonEmbedLink&&(this.showInfo=!1)},m.prototype.onshowInfoClick=function(){this.showInfo=!this.showInfo},m.prototype.onResponsivePlayerToggleClick=function(){this.responsivePlayer=!this.responsivePlayer},m.prototype.isEmailEnabled=function(){return this.featureFlagsService.Values.EmailEnabled},m.prototype.isShareToTeamsEnabled=function(){return this.featureFlagsService.Values.ShareToTeams},m.prototype.isPublicAnonymousLiveEnabled=function(){return this.featureFlagsService.Values.PublicAnonymousLive},m.prototype.isPublicAnonymousVODEnabled=function(){return this.featureFlagsService.Values.PublicAnonymousVOD},m.prototype.isGuestAccessEnabled=function(){return this.featureFlagsService.Values.GuestAccess},m.prototype.addQueryStringParameter=function(e,t,n){var i=-1===e.indexOf("?")?"?":"&";return e+i+t+"="+n},m.$inject=["$scope","$element","resources","videoService","principalService","telemetryService","featureFlagsService","$location"],m);function m(e,t,n,r,s,a,d,p){var A=this;this.$scope=e,this.$element=t,this.resources=n,this.videoService=r,this.principalService=s,this.telemetryService=a,this.featureFlagsService=d,this.$location=p,this.autoplay=!1,this.showInfo=!0,this.principals=[],this.errorHeader="",this.videoStartAt="00:00",this.timeStamp=!1,this.timeInSeconds=0,this.playerCurrentTime=0,this.responsivePlayer=!1,this.isStreamAdmin=!1,this.isInAdminMode=!1,this.publicAnonEmbedLink=!1,this.publicAnonymousLink="",this.directShareLinkLabel=this.resources.Dialogs.VideoShare.ShareLinkLabel,this.refreshedPublicAnonLink=!1,this.previewSizeTemplate="{0} x {1}",this.embedCodeTemplate='<iframe width="{0}" height="{1}" src="{2}" allowfullscreen {3}></iframe>',this.publicAnonymousShareLinkTemplate="{0}://{1}/embed/video/{2}?tenant={3}&publicPlaybackUrl={4}&contentSource={5}{6}",this.publicAnonEmbedSrcTemplate="{0}&autoplay={1}{2}",this.responsivePlayerPrefixTemplate="<div style='max-width: {0}px'><div style='position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;'>",this.responsivePlayerPostfix="</div></div>",this.responsiveIframeStyle='style="border:none; position: absolute; top: 0; left: 0; right: 0; bottom: 0; height: 100%; max-width: 100%;"',this.nonResponsiveIframeStyle='style="border:none;"',this.largeSize=this.buildPreviewSizeOption(c.Constants.EmbedPreviewSizes.large),this.mediumSize=this.buildPreviewSizeOption(c.Constants.EmbedPreviewSizes.medium),this.smallSize=this.buildPreviewSizeOption(c.Constants.EmbedPreviewSizes.small),this.extraSmallSize=this.buildPreviewSizeOption(c.Constants.EmbedPreviewSizes.extraSmall),this.selectedSize=this.smallSize,this.playerSizeOptions=[],this.clipBoardSupported=!1,this.isShareToTeamsLoaded=!1,this.serviceUpdatesLink=c.Constants.ServiceUpdatesLink,this.playerSizeOptions.push({text:this.largeSize.displayValue,value:this.largeSize},{text:this.mediumSize.displayValue,value:this.mediumSize},{text:this.smallSize.displayValue,value:this.smallSize},{text:this.extraSmallSize.displayValue,value:this.extraSmallSize}),this.$element.removeAttr("aria-describedby"),this.$element.attr("aria-label",this.resources.Dialogs.VideoShare.AriaLabel),this.$element.attr("aria-modal","true"),this.isStreamAdmin=this.principalService.getIsStreamAdmin(),this.isInAdminMode=this.principalService.getAdminModeStatus(),this.clipBoardSupported=document.queryCommandSupported&&document.queryCommandSupported("copy"),this.telemetryTracker=this.telemetryService.getTracker(l.ScreenName.VideoShareDialog,l.ResourceType.Video,this.video?this.video.id:null),this.telemetryTracker.tagScreen(),this.video=this.$scope.ngDialogData.video,this.playerOptions=this.$scope.ngDialogData.playerOptions,this.playerOptions?this.playerOptions.autoplay=!1:(this.playerOptions={playbackUrls:_.map(this.video.playbackUrls,(function(e){return{type:e.mimeType,src:e.playbackUrl}})),autoplay:!1,disableLogo:!0,aesToken:"Bearer "+sessionInfo.AccessToken},this.video.posterImage&&this.video.posterImage.large&&(this.playerOptions.poster=this.video.posterImage.large.url)),this.playerCurrentTime=Math.floor(this.$scope.ngDialogData.playerCurrentTime),this.playerCurrentTime&&(this.videoStartAt=u.convertTimeInSecondsToTimeString(this.playerCurrentTime)),(this.isPublicAnonymousVODEnabled()||this.isPublicAnonymousLiveEnabled())&&this.isStreamAdmin&&this.isInAdminMode&&this.videoService.get(this.video.id).then((function(e){A.video=e.data,A.publicAnonLinkState=A.video.options&&A.video.options.allowPublicPlayback?o.CanCreateLink:o.NoPermissions,A.directShareLinkLabel=A.shouldShowPublicAnonymous?A.resources.PublicAnonymous.InternalLink:A.resources.Dialogs.VideoShare.ShareLinkLabel,A.publicAnonLinkState==o.CanCreateLink&&A.shouldShowPublicAnonymous&&A.telemetryTracker.succeed(l.FeatureName.PublicShareOptionShown)})),this.video.state!==c.Constants.VideoStatus.Completed?this.videoService.get(this.video.id).then((function(e){A.video=e.data,A.playerOptions.playbackUrls=_.map(A.video.playbackUrls,(function(e){return{type:e.mimeType,src:e.playbackUrl}})),A.video.posterImage&&A.video.posterImage.large&&(A.playerOptions.poster=A.video.posterImage.large.url),A.telemetryTracker.succeed(l.FeatureName.ShareVideo)}),(function(e){A.telemetryTracker.fail(l.FeatureName.ShareVideo,l.SubFeatureName.VideoService_GetVideo,e)})):this.telemetryTracker.succeed(l.FeatureName.ShareVideo),this.populateTabOptions(),this.$scope.$watch((function(){return A.emailSelected}),(function(e,t){t!==e&&e&&setTimeout((function(){var e=angular.element(".close-button",A.$element),t=angular.element(".send-close-button ",A.$element),n=Math.max(e.outerWidth(),t.outerWidth());e.outerWidth(n),t.outerWidth(n)}),0)})),setTimeout((function(){A.$scope.$watch((function(){return A.selectedTabOption}),(function(e,t){t!==e&&(e===i.Share?$(".time-stamp-checkbox").focus():e===i.Email?$(".autoComplete input.c-text-field").focus():e===i.Embed&&$(".drop-down .selector").focus())}))}),0);var m=function(e){e.keyCode===c.Constants.KeyCodes.Esc&&(e.isDefaultPrevented()||(A.onCloseClicked(),e.stopPropagation()))}.bind(this);$("body").on("keydown",m),this.$scope.$on("$destroy",(function(){$("body").off("keydown",m)}))}t.VideoShareDialogController=A},"./app/Filters/LiveEventFilters.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/appUtil.ts"),o=n("./app/utility/string.ts");function s(){return function(e){if(e){var t=moment(),n=new Date(e);if(moment(n).isAfter(t))return n.toLocaleString(sessionInfo.UserRegion,{hour12:!0,hour:"numeric",minute:"numeric",timeZoneName:"short"})}return""}}function a(e){return function(t){if(!t)return"";var n=moment(t);return n?n.isBefore(r.endOfToday())?e.LiveEventToday:n.isBefore(r.endOfTomorrow())?e.LiveEventTomorrow:o.formatString(e.LiveEventStartingOnDate,r.formatISODateTimeToDate(t)):""}}function c(e){return function(t){return t&&t.contentSource===i.Constants.VideoContentSource.liveStream&&t.state!==i.Constants.VideoStatus.Completed?t.state===i.Constants.VideoStatus.Live?e.LiveEventNow:e.LiveEventUpcoming:""}}function l(e){return function(t){return t&&t.contentSource===i.Constants.VideoContentSource.liveStream?t.state===i.Constants.VideoStatus.Live?e.LiveEventLiveNow:t.state===i.Constants.VideoStatus.Completed?e.LiveEventCompleted:e.LiveEventUpcoming:""}}t.liveEventStartTimeWithTimezone=s,(t.liveEventStartDate=a).$inject=["resources"],(t.liveEventThumbnailTime=c).$inject=["resources"],(t.liveEventListTime=l).$inject=["resources"],r.registerFilter("liveEventStartTimeWithTimezone",s,angular.module("jumper.filters")),r.registerFilter("liveEventStartDate",a,angular.module("jumper.filters")),r.registerFilter("liveEventThumbnailTime",c,angular.module("jumper.filters")),r.registerFilter("liveEventListTime",l,angular.module("jumper.filters"))},"./app/Filters/channelFilters.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/string.ts"),o=n("./app/utility/appUtil.ts");function s(e){return function(t){return t?r.formatString(e.Components.SingleChannel.CreateMessage,o.formatISODateTimeToDate(t)):""}}function a(e){return function(t){return i.handleStringCardinality(t,e.Components.ChannelStatistics.Video.Singular,e.Components.ChannelStatistics.Video.Plural)}}function c(e){return function(t){return i.handleStringCardinality(t,e.Controllers.Video.Channel.Message.Singular,e.Controllers.Video.Channel.Message.Plural)}}function l(e){return function(t){return i.handleStringCardinality(t,e.Components.ChannelStatistics.Follow.Singular,e.Components.ChannelStatistics.Follow.Plural)}}function u(e){return function(t){return t?r.formatString(e.Components.ChannelEdit.Edit,t):r.formatString(e.Components.ChannelEdit.Edit,"")}}function d(e){return function(t){return t?e.Components.ChannelStatistics.Isfollowed:e.Components.ChannelStatistics.FollowAction}}function p(e){return function(t){return t&&t.length?r.formatString(e.Components.ChannelDetail.Creator,t):""}}(t.channelCreateMessage=s).$inject=["resources"],(t.channelVideos=a).$inject=["resources"],(t.channelCount=c).$inject=["resources"],(t.channelFollows=l).$inject=["resources"],(t.channelEdit=u).$inject=["resources"],(t.channelFollowAction=d).$inject=["resources"],(t.channelCreator=p).$inject=["resources"],i.registerFilter("channelCreateMessage",s,angular.module("jumper.filters")),i.registerFilter("channelVideos",a,angular.module("jumper.filters")),i.registerFilter("channelFollows",l,angular.module("jumper.filters")),i.registerFilter("channelEdit",u,angular.module("jumper.filters")),i.registerFilter("channelFollowAction",d,angular.module("jumper.filters")),i.registerFilter("channelCount",c,angular.module("jumper.filters")),i.registerFilter("channelCreator",p,angular.module("jumper.filters"))},"./app/Filters/commentFilters.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/string.ts");function o(e){return function(t){return _.isNumber(t)?1===t?r.formatString(e.Components.Comment.Text.CommentTitleSingular,t.toString()):r.formatString(e.Components.Comment.Text.CommentTitlePlural,t.toString()):""}}function s(e){return function(t){if(!t)return"";var n,i,o,s,a,c=Date.parse(t);return c?(a=c,((new Date).getTime()-3e5<a?e.Components.Comment.Time.MomentsAgo:"")||function(t){var n=(new Date).getTime();if(n-354e4<t){var i=Math.round((n-t)/6e4);return r.formatString(e.Components.Comment.Time.MinutesAgo,i.toString())}return""}(c)||function(t){var n=(new Date).getTime();if(n-864e5<t){var i=Math.round((n-t)/36e5);return 1===i?r.formatString(e.Components.Comment.Time.HourAgo,i.toString()):r.formatString(e.Components.Comment.Time.HoursAgo,i.toString())}return""}(c)||(s=c,(new Date).getTime()-1728e5<s?e.Components.Comment.Time.Yesterday:"")||function(t){var n=(new Date).getTime();if(n-5184e5<t){var i=Math.round((n-t)/864e5);return r.formatString(e.Components.Comment.Time.DaysAgo,i.toString())}return""}(c)||function(t){var n=(new Date).getTime();if(n-24192e5<t){var i=Math.round((n-t)/6048e5);return 1===i?r.formatString(e.Components.Comment.Time.WeekAgo,i.toString()):r.formatString(e.Components.Comment.Time.WeeksAgo,i.toString())}return""}(c)||function(t){var n=(new Date).getTime();if(n-31536e6<t){var i=Math.round((n-t)/2592e6);return 1===i?r.formatString(e.Components.Comment.Time.MonthAgo,i.toString()):r.formatString(e.Components.Comment.Time.MonthsAgo,i.toString())}return""}(c)||(n=c,i=(new Date).getTime(),1===(o=Math.round((i-n)/31536e6))?r.formatString(e.Components.Comment.Time.YearAgo,o.toString()):r.formatString(e.Components.Comment.Time.YearsAgo,o.toString()))):""}}(t.commentCount=o).$inject=["resources"],(t.commentCreateTime=s).$inject=["resources"],i.registerFilter("commentCreateTime",s,angular.module("jumper.filters")),i.registerFilter("commentCount",o,angular.module("jumper.filters"))},"./app/Filters/common.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/NumberUtils.ts"),o=n("./app/utility/string.ts"),s=n("./app/utility/Constants.ts");function a(){function e(e,t,n){return t+'<a class="c-hyperlink" href="/browse?'+s.Constants.QueryStringKeys.SearchTerm+"="+encodeURIComponent("#"+n)+'">'+n+"</a>"}return function(t){return t?t.replace(/(^|\s)#([a-z\d][\w-]*)/gi,e):""}}function c(e){return function(t,n,i){function r(t){t&&c.push(e(t))}for(var a,c=[],l=t=o.htmlEncode(t);a=l.match(s.Constants.LinkRegExp);){var u=a.index;r(l.substring(0,u)),function(e,t){var o;if(c.push("<a external-link "),angular.isFunction(i))i=i(e);else if(angular.isObject(i))for(o in i)c.push(o+'="'+i[o]+'" ');else i={};!angular.isDefined(n)||"target"in i||c.push('target="',n,'" '),RegExp("^http(s)?://").test(e)||(e="http://"+e),c.push('href="',e.replace(/"/g,"&quot;"),'">'),r(t),c.push("</a>")}(a[0],a[0]),l=l.substring(u+a[0].length)}return r(l),c.join("")}}function l(){return function(e,t){var r=n("moment");return r(e,r.ISO_8601).local().format(i.getUserRegionInfo().shortDateformats)}}function u(){return function(e){if(e&&0<=e){var t=i.getUserRegionInfo(),n=t.numberDigitSeperator||",";if(t.numberSperatorPosition){if(3<e.toString().length){var r=n+e.toString().substring(e.toString().length-3);return e.toString().substring(0,e.toString().length-3).replace(/\B(?=(\d{2})+(?!\d))/g,n)+r}return e.toString()}return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,n)}return"0"}}function d(e){return function(t,n,o){var s=i.getUserRegionInfo(),a=o||s.numberSperatorPosition;return r.convertNumberToShortNumber(e,t,n,a)}}t.hashTag=a,i.registerFilter("hashTag",a,angular.module("jumper.filters")),t.linkIt=c,t.localDate=l,t.localNumber=u,d.$inject=["resources"],t.shortNumber=d,c.$inject=["$sanitize"],i.registerFilter("localDate",l,angular.module("jumper.filters")),i.registerFilter("linkIt",c,angular.module("jumper.filters")),i.registerFilter("localNumber",u,angular.module("jumper.filters")),i.registerFilter("shortNumber",d,angular.module("jumper.filters"))},"./app/Filters/videoFilters.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/Constants.ts");function o(){return function(e){return i.formatISODuration(e)}}function s(){return function(e){return e===r.Constants.privacyMode.private}}function a(){return function(e){return e===r.Constants.privacyMode.organization}}function c(){return function(e){return e===r.Constants.privacyMode.custom}}function l(){return function(e){return e===r.Constants.privacyMode.public}}function u(){return function(e){return e===r.Constants.privacyMode.organization}}function d(){return function(e){return e===r.Constants.privacyMode.private}}function p(e){return function(t){return i.handleStringCardinality(t,e.VideoMeta.View.Singular,e.VideoMeta.View.Plural)}}function A(e){return function(t){return i.handleStringCardinality(t,e.VideoMeta.Like.Singular,e.VideoMeta.Like.Plural)}}function m(e){return function(t){return i.handleStringCardinality(t,e.VideoMeta.Comment.Singular,e.VideoMeta.Comment.Plural)}}function h(e){return function(t){return i.handleStringCardinality(t,e.VideoMetaLiveCurrentViewersSingular,e.VideoMetaLiveCurrentViewersPlural)}}function f(e){return function(t){switch(t){case r.Constants.privacyMode.organization:return e.PermissionsCompany;case r.Constants.privacyMode.private:return e.PermissionsLimited;default:return""}}}t.videoDuration=o,t.isVideoPrivacyPrivate=s,t.isVideoPrivacyOrganization=a,t.isVideoPrivacyCustom=c,t.isVideoPrivacyPublic=l,t.isVideoPrivacyCompany=u,t.isVideoPrivacyLimited=d,(t.videoViews=p).$inject=["resources"],(t.videoLikes=A).$inject=["resources"],(t.videoComments=m).$inject=["resources"],(t.videoLiveCurrentViewers=h).$inject=["resources"],(t.videoPrivacyText=f).$inject=["resources"],i.registerFilter("videoDuration",o,angular.module("jumper.filters")),i.registerFilter("isVideoPrivacyPrivate",s,angular.module("jumper.filters")),i.registerFilter("isVideoPrivacyCustom",c,angular.module("jumper.filters")),i.registerFilter("isVideoPrivacyOrganization",a,angular.module("jumper.filters")),i.registerFilter("isVideoPrivacyPublic",l,angular.module("jumper.filters")),i.registerFilter("isVideoPrivacyCompany",u,angular.module("jumper.filters")),i.registerFilter("isVideoPrivacyLimited",d,angular.module("jumper.filters")),i.registerFilter("videoPrivacyText",f,angular.module("jumper.filters")),i.registerFilter("videoViews",p,angular.module("jumper.filters")),i.registerFilter("videoLikes",A,angular.module("jumper.filters")),i.registerFilter("videoComments",m,angular.module("jumper.filters")),i.registerFilter("videoLiveCurrentViewers",h,angular.module("jumper.filters"))},"./app/appStartup.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/TelemetryPayloads/SettingsStatusPayload.ts"),o=n("./app/models/TelemetryEventModels.ts"),s=n("./app/utility/appUtil.ts"),a=n("./app/utility/string.ts"),c=n("./node_modules/@msstream/core/esm/index.js");angular.module("jumper").config([function(){window.portalConfiguration||(window.portalConfiguration={EnableMockApiGateway:!0,AzureMediaPlayerVersion:"1.8.0",FeatureFlags:"",IsDevelopmentMode:!0,BuildNumber:"someNumber"},window.isUnitTest=!0),!window.sessionInfo&&window.isUnitTest&&(window.sessionInfo={UserLanguage:"en",UserClaim:{UserInfo:{DisplayableId:"test@account.com",FamilyName:"Account",GivenName:"Test",UniqueId:"33333333-aaaa-bbbb-cccc-ddddddddd555"},TenantId:"00000000-ba46-4b1d-be18-a7e3340bfb9c"}}),!window.initLocalytics&&window.isUnitTest&&(window.initLocalytics=function(){})}]).run(["$router","$q","$location",function(e,t,n){portalConfiguration.EnableMockApiGateway&&n.search().login&&(window.sessionInfo.UserClaim.UserInfo.UniqueId=n.search().login)}]).run(["$router","$q","$location",function(e,t,n){e.navigate=function(e){return"/"+e!==n.path()||e.startsWith("/")?r.call(this,e).then((function(e){var t;e&&((t=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/.exec(e))[2]||t[5]?n.url(e):n.path(e),n.search(i.Constants.QueryStringKeys.NoSignUpCheck,null))})):t.when()};var r=function(e){var n=this;if(this.navigating)return t.when();this.lastNavigationAttempt=e;var i=this.recognize(e);if(!i)return t.reject();this.lastInstructionCanonicalUrl=i.canonicalUrl,this._startNavigating(),i.router=this;var r=t.defer();return this.pipeline.process(i).then((function(){n._finishNavigating(),r.resolve(i.canonicalUrl)}),(function(){n._finishNavigating(),r.reject()})),r.promise}}]).run(["principalService","$location","telemetryService","$timeout","loggingService",function(e,t,n,i,s){var a,l,u,d;window.isUnitTest?s.enableLogging(!1):(n.getTracker().trackEvent(o.TelemetryEventNames.siteLoaded),a=t.search(),l=n.getTracker(o.ScreenName.Startup),u=function(){i((function(){$(".topbar-container").css("background-color","#B22222")}),0)},a&&"true"===a.DisableTelemetry?(d={web:{disableTelemetry:!0}},l.succeed(o.FeatureName.EnableOrDisableTelemetry,{subFeature:o.SubFeatureName[o.SubFeatureName.DisablingTelemetry]}),s.enableLogging(!1),u(),e.patchMySettings(d).then((function(e){}),(function(e){l.fail(o.FeatureName.UpdatePrincipalSettings,o.SubFeatureName.DisablingTelemetry,e)}))):a&&"false"===a.DisableTelemetry?(d={web:{disableTelemetry:null}},l.succeed(o.FeatureName.EnableOrDisableTelemetry,{subFeature:o.SubFeatureName[o.SubFeatureName.EnablingTelemetry]}),s.enableLogging(!0),e.patchMySettings(d).then((function(e){}),(function(e){l.fail(o.FeatureName.UpdatePrincipalSettings,o.SubFeatureName.EnablingTelemetry,e)}))):_.isNull(sessionInfo.UserClaim)||e.getMyPrincipalInfo().then((function(e){var t=e.data.settings,n=!t.web||void 0===t.web.disableTelemetry||!0!==t.web.disableTelemetry;s.enableLogging(n),n||u();var i={payloadTypeName:r.SettingsStatusPayloadNames.SettingsCommonPayload,isEmailNotificationEnabled:_.get(e,"data.settings.system.notifications.email.enabled",!1)};c.StreamLoggingService.appLogicThin("EmailNotificationState",i)}),(function(e){l.fail(o.FeatureName.GetPrincipalSettings,o.SubFeatureName.PrincipalService_GetMyInfo,e)})))}]).run(s.setOutlineOnlyForKeyboardUse).run(s.decodeUserInfo).run(["$location","$rootScope","$router","$timeout","resources","$window",function(e,t,n,i,r,o){t.$on("$locationChangeSuccess",(function(e,t){i((function(){var e=o.document.title.split("|"),t=a.formatString(r.PageLoaded,e[0].trim());s.alertScreenReader(t)}))}))}])},"./app/components/AutoComplete/AutoComplete.html":function(e,t){e.exports='<div class=autoComplete action-list> <label ng-if=!$ctrl.hideLabel for={{$ctrl.inputId}} class=shareWith>{{::$ctrl.resources.VideoUpdate.sharedWith}}</label> <tooltip ng-if=!$ctrl.hideLabel class=shareWith message=$ctrl.resources.ToolTip.SharedWith button-aria-label={{::$ctrl.resources.VideoUpdate.sharedWithMoreInformationAriaLabel}}></tooltip> <input type=text id={{::$ctrl.inputId}} ng-disabled=$ctrl.customDisabled placeholder="{{::$ctrl.placeHolder || $ctrl.resources.VideoUpdate.typeToSearchUser}}" aria-label="{{::$ctrl.placeHolder || $ctrl.resources.VideoUpdate.typeToSearchUser}}" ng-focus=$ctrl.updateAriaLabelwithSearchLabel() ng-model=$ctrl.searchParams ng-model-options="{ debounce: $ctrl.inputTimeInterval}" ng-change=$ctrl.onInputChange($ctrl.searchParams) class="c-text-field ct-textbox-compact search-box" maxlength={{::$ctrl.pickerInputMaxLength}} ng-paste=$ctrl.onInputPaste($event) ng-class="{ \'error-border\': $ctrl.noPrincipalsFound }"/> <span id={{$ctrl.placeholderID}} style=display:none>{{::$ctrl.placeHolder || $ctrl.resources.VideoUpdate.typeToSearchUser}}</span> <ul ng-show="$ctrl.suggestions.length && $ctrl.searchParams" class=search-results escape-hide> <li ng-repeat="suggestion in $ctrl.suggestions" class=result-line> <button role=button ng-click=$ctrl.select(suggestion)> <div class=profile-image-col> <img class=profile-image ng-src={{::suggestion.profileImageUrl}} ng-if=suggestion.profileImageUrl onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\'/> <img class=profile-image ng-if=!suggestion.profileImageUrl src=/bundles/app/generated/user-placeholder.svg /> </div> <div class=name-col> <div class="row column row-size0 name-line"> {{$ctrl.displayedName(suggestion)}} </div> <div class="row column row-size0 email-line"> {{suggestion.mail}} </div> </div> </button> </li> </ul> <custom-error-message ng-if=$ctrl.noPrincipalsFound error-message=$ctrl.resources.AutoComplete.InvalidUserErrorMsg></custom-error-message> </div>'},"./app/components/AutoComplete/AutoComplete.less":function(e,t){},"./app/components/AutoComplete/AutoComplete.ts":function(e,t,n){function i(){this.controller=o.AutoCompleteController,this.template=n("./app/components/AutoComplete/AutoComplete.html"),this.bindings={id:"@",searchMinInput:"@",searchProvider:"<",lastSelectedItem:"=",principalsSearched:"&",principalsAdded:"&",hideLabel:"<?",getReference:"&",customDisabled:"<",placeHolder:"<",labelId:"<?"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/AutoComplete/AutoComplete.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/AutoComplete/AutoCompleteController.ts");t.AutoComplete=i,r.registerComponent("autoComplete",i,angular.module("jumper"))},"./app/components/AutoComplete/AutoCompleteController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/appUtil.ts"),o=(s.prototype.onInputPaste=function(e){var t=e.originalEvent.clipboardData.getData("text"),n=/.+@.+\..+/.test(t),i=t.match(/<(.*?)>/),r=t.match(/[^<]*/);n&&r&&r.length&&i&&1<i.length&&(e.preventDefault(),this.searchParams=r[0].trim(),this.onInputChange(i[1]))},s.prototype.onInputChange=function(e){var t=this;e.length>=this.searchMinInput?(this.noPrincipalsFound=!1,$(".search-results").show(),this.principalsSearched&&this.principalsSearched(),this.searchProvider.search(e).then((function(e){(t.suggestions=e).length<=0?t.noPrincipalsFound=!0:r.alertScreenReader(t.resources.SuggestionsReminderLabel)}))):(this.suggestions=[],this.noPrincipalsFound=!1)},s.prototype.select=function(e){this.searchParams="",this.suggestions=[],this.lastSelectedItem=e,this.principalsAdded&&this.principalsAdded()},s.prototype.displayedName=function(e){return e.name?e.name:e.mail},s.prototype.clear=function(){this.searchParams=""},Object.defineProperty(s.prototype,"inputTimeInterval",{get:function(){return i.Constants.DropdownList.InputTimeInterval},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"inputId",{get:function(){var e=this.$element[0].id;return e?"input"+e:""},enumerable:!0,configurable:!0}),s.prototype.updateAriaLabelwithSearchLabel=function(){null!=this.$element.attr("label-id")&&$("input",this.$element).attr("aria-labelledby",this.$element.attr("label-id")+" "+this.placeholderID)},s.$inject=["$scope","resources","$window","$element"],s);function s(e,t,n,o){var s=this;this.$scope=e,this.resources=t,this.$window=n,this.$element=o,this.searchMinInput=1,this.suggestions=[],this.pickerInputMaxLength=i.Constants.MaxLengths.PickerSearch,this.noPrincipalsFound=!1,this.placeholderID="autoCompletePlaceholderText"+r.generateSmallId();var a=function(){s.suggestions=[],s.$scope.$apply()}.bind(this),c=function(e){e.keyCode===i.Constants.KeyCodes.Esc&&(0<s.searchParams.length&&e.preventDefault(),s.searchParams="",s.suggestions=[],s.$scope.$apply())}.bind(this);n.document.body.addEventListener("click",a),o.on("keydown",c),e.$on("$destroy",(function(){n.document.body.removeEventListener("click",a),o.off("keydown",c)})),this.getReference&&this.getReference({obj:this})}t.AutoCompleteController=o},"./app/components/Channel/FollowActionTrigger/FollowActionTrigger.html":function(e,t){e.exports='<div class=follow-unfollow> <button type=button ng-mouseover="$ctrl.hoverUnfollow = true" ng-mouseleave="$ctrl.hoverUnfollow = false" ng-focus="$ctrl.hoverUnfollow = true" ng-blur="$ctrl.hoverUnfollow = false" class="c-glyph c-action-trigger follow-unfollow-btn following" ng-class="$ctrl.isFollowing ? \'\' : \'init-hide\'" ng-click=$ctrl.doUnfollow() aria-label={{$ctrl.resources.Components.ChannelStatistics.ChannelAction.UnfollowAriaLabel}}> {{$ctrl.UnfollowText}} </button> <button type=button class="c-glyph c-action-trigger follow-unfollow-btn follow" ng-class="$ctrl.isFollowing ? \'init-hide\' : \'\'" ng-click=$ctrl.doFollow() aria-label={{::$ctrl.resources.Components.ChannelStatistics.ChannelAction.FollowAriaLabel}}> {{::$ctrl.resources.Components.ChannelStatistics.FollowAction}} </button> </div>'},"./app/components/Channel/FollowActionTrigger/FollowActionTrigger.less":function(e,t){},"./app/components/Channel/FollowActionTrigger/FollowActionTrigger.ts":function(e,t,n){function i(){this.controller=r.FollowActionTriggerController,this.template=n("./app/components/Channel/FollowActionTrigger/FollowActionTrigger.html"),this.bindings={channel:"=",hideOnUnfollow:"<",numFollowClick:"=?",numUnfollowClick:"=?",onFeatureSuccess:"&",onFeatureFailure:"&",onUnfollow:"&"},this.bindToController=!0}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Channel/FollowActionTrigger/FollowActionTrigger.less");var r=n("./app/components/Channel/FollowActionTrigger/FollowActionTriggerController.ts"),o=n("./app/utility/appUtil.ts");t.FollowActionTrigger=i,o.registerComponent("followActionTrigger",i,angular.module("jumper"))},"./app/components/Channel/FollowActionTrigger/FollowActionTriggerController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/models/TelemetryEventModels.ts"),r=n("./app/utility/Constants.ts"),o=(Object.defineProperty(s.prototype,"UnfollowText",{get:function(){return this.hoverUnfollow?this.resources.Components.ChannelStatistics.UnfollowAction:this.resources.Components.ChannelStatistics.Isfollowed},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isFollowing",{get:function(){return!!this.channel.userData&&this.channel.userData.isFollowed},enumerable:!0,configurable:!0}),s.prototype.doUnfollow=function(){var e=this;this.numUnfollowClick=this.numUnfollowClick+1,this.channelService.unfollow(this.channel.id).then((function(){e.channel.userData.isFollowed=!1,e.channel.metrics.follows--,e.onUnfollow&&e.onUnfollow(),e.hideOnUnfollow||e.$timeout((function(){e.followBtn.focus()}),r.Constants.showAnimationPeriod),e.onFeatureSuccess({featureName:i.FeatureName.UnFollow})}),(function(t){e.onFeatureFailure({featureName:i.FeatureName.UnFollow,subFeatureName:i.SubFeatureName.ChannelService_Unfollow,err:t})}))},s.prototype.doFollow=function(){var e=this;this.numFollowClick=this.numFollowClick+1,this.channelService.follow(this.channel.id).then((function(){e.channel.userData.isFollowed=!0,e.channel.metrics.follows++,e.onFeatureSuccess({featureName:i.FeatureName.Follow}),e.$timeout((function(){e.unfollowBtn.focus()}),r.Constants.showAnimationPeriod)}),(function(t){e.onFeatureFailure({err:t,featureName:i.FeatureName.Follow,subFeatureName:i.SubFeatureName.ChannelService_Follow})}))},s.$inject=["$scope","$element","resources","channelService","$timeout"],s);function s(e,t,n,i,r){var o=this;this.$scope=e,this.$element=t,this.resources=n,this.channelService=i,this.$timeout=r,this.hoverUnfollow=!1,this.followBtn=this.$element.find(".follow"),this.unfollowBtn=this.$element.find(".following"),this.$timeout((function(){o.numFollowClick||(o.numFollowClick=0),o.numUnfollowClick||(o.numUnfollowClick=0)}),0)}t.FollowActionTriggerController=o},"./app/components/ChannelCreateUpdate/ChannelUpdateContributor/ChannelUpdateContributorController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/models/TelemetryEventModels.ts"),o=(s.prototype.setPrivacyMode=function(e){this.channel.privacyMode=e?i.Constants.privacyMode.custom:i.Constants.privacyMode.organization},s.prototype.canModifyContributor=function(){return!this.channel.userData||this.channel.userData.permissions.canManageRoleAssignments},s.prototype.onPrincipalsRemoved=function(){this.principalsRemoved&&this.principalsRemoved(),this.checkIfSearchNeedToBeDisabled()},s.prototype.checkIfSearchNeedToBeDisabled=function(){this.searchDisabled=this.principals.length>=i.Constants.MaxLengths.PrincipleAssignmentsLimit},s.$inject=["$q","$scope","resources","channelService","principalService","telemetryService","navigationService"],s);function s(e,t,n,o,s,a,c){var l=this;this.$q=e,this.$scope=t,this.resources=n,this.channelService=o,this.principalService=s,this.telemetryService=a,this.navigationService=c,this.searchMinInput=1,this.searchDisabled=!1;var u=this;this.principalSearch={search:function(t){u.featureTelemetryTracker=u.telemetryService.getTracker(u.channel.id?r.ScreenName.ChannelUpdate:r.ScreenName.ChannelCreateDialog);var n=e.defer();return u.principalService.searchPrincipals(t,i.Constants.MaxLengths.PrincipleSearchOutput).then((function(e){u.featureTelemetryTracker.succeed(r.FeatureName.SearchPrincipals),n.resolve(e.data.value)}),(function(e){u.channel.id,u.featureTelemetryTracker.fail(r.FeatureName.SearchPrincipals,r.SubFeatureName.PrincipalService_SearchPrincipals,e),n.reject(e)})),n.promise}},t.$watch((function(){return l.lastSelectedPrincipal}),(function(e,t){e&&(l.principals||(l.principals=[]),0===l.principals.filter((function(t,n,i){return t.id===e.id})).length&&(l.principals.push(e),l.checkIfSearchNeedToBeDisabled()))})),t.$watch((function(){return l.channel}),(function(e,t){e&&(l.isRestricted=e.privacyMode===i.Constants.privacyMode.custom)}))}t.ChannelUpdateContributorController=o},"./app/components/EndedLivePlayerOverlay/EndedLivePlayerOverlay.html":function(e,t){e.exports="<div class=ended-background> <img ng-if=$ctrl.posterUrl src={{$ctrl.posterUrl}} class=poster alt={{::$ctrl.resources.LivePosterImageAlt}} /> <div class=info-panel-container> <div class=info-panel> <div class=info-panel-wrapper> <div class=end-event-message>{{$ctrl.endEventMessage}}</div> </div> </div> <div class=stream-app-name>{{::$ctrl.resources.MicrosoftStream}}</div> </div> </div> "},"./app/components/EndedLivePlayerOverlay/EndedLivePlayerOverlay.less":function(e,t){},"./app/components/EndedLivePlayerOverlay/EndedLivePlayerOverlay.ts":function(e,t,n){function i(){this.controller=o.EndedLivePlayerOverlayController,this.template=n("./app/components/EndedLivePlayerOverlay/EndedLivePlayerOverlay.html"),this.bindings={message:"<",video:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/EndedLivePlayerOverlay/EndedLivePlayerOverlay.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/EndedLivePlayerOverlay/EndedLivePlayerOverlayController.ts");t.EndedLivePlayerOverlay=i,r.registerComponent("endedLivePlayerOverlay",i,angular.module("jumper"))},"./app/components/EndedLivePlayerOverlay/EndedLivePlayerOverlayController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(Object.defineProperty(i.prototype,"posterUrl",{get:function(){return this.hasTriedToGetPosterImage||this.imageUrl||!this.video||(this.imageUrl=_.get(this.video,"posterImage.large.url"),this.hasTriedToGetPosterImage=!0),this.imageUrl},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endEventMessage",{get:function(){return this.message||this.resources.VideoDefaultEndLiveEventMessage},enumerable:!0,configurable:!0}),i.$inject=["resources"],i);function i(e){this.resources=e,this.hasTriedToGetPosterImage=!1}t.EndedLivePlayerOverlayController=n},"./app/components/ErrorBox/ErrorBox.html":function(e,t){e.exports='<div class=error-box ng-class="{\'not-player\': !$ctrl.playerPage, \'slate\': $ctrl.slate}" ng-if=!$ctrl.fullScreen> <div class=error-box-content> <div class=error-message-container> <div class=errortitle flex-style=4.5 flex-style-min=16 flex-style-target=font-size> {{::$ctrl.titleStr}} </div> <div class=message ng-if="::($ctrl.message && !$ctrl.hideMessage)" flex-style=2.5 flex-style-min=12 flex-style-target=font-size> <span ng-if=::!$ctrl.messageLink>{{::$ctrl.message}}</span> <a ng-if=::$ctrl.messageLink external-link ng-href={{$ctrl.messageLink}} target=_blank class=c-hyperlink> {{::$ctrl.message}} </a> <a ng-if=::$ctrl.learnMoreLink external-link ng-href={{$ctrl.learnMoreLink}} target=_blank class=c-hyperlink> {{::$ctrl.resources.LearnMore}} </a> </div> <div class=message ng-if="(!$ctrl.message && !$ctrl.hideMessage || !$ctrl.noActions)" flex-style=2.5 flex-style-min=12 flex-style-target=font-size> <div class=button-container ng-if=::!$ctrl.encoderError> <button type=button ng-if="!$ctrl.customPrimaryButtonLabel || !$ctrl.customPrimaryButtonClicked" class="stream-btn btn-primary" ng-click=$ctrl.reload()> {{::$ctrl.resources.TryAgain}} </button> <button type=button ng-if="$ctrl.customPrimaryButtonLabel && $ctrl.customPrimaryButtonClicked" class="stream-btn btn-primary" ng-click=$ctrl.customPrimaryButtonClicked()> {{::$ctrl.customPrimaryButtonLabel}} </button> <button type=button class=stream-btn ng-if="$ctrl.customSecondaryButtonClicked && $ctrl.customSecondaryButtonLabel" ng-click=$ctrl.customSecondaryButtonClicked()> {{::$ctrl.customSecondaryButtonLabel}} </button> </div> <a ng-if=::$ctrl.encoderError external-link ng-href={{$ctrl.communityLink}} target=_blank class=c-hyperlink> {{::$ctrl.resources.VideoPlayer.EncoderErrorCode}} </a> </div> <div class=session-info ng-if=!$ctrl.hideSessionInfo> <div class=session-id ng-if=::$ctrl.sessionId> <span>{{::$ctrl.sessionIdText}}</span> </div> <div class=message-error-code ng-if=::$ctrl.errorCode>{{::$ctrl.errorCodeMessage}}</div> </div> </div> <div class=stream-app-name>{{::$ctrl.resources.MicrosoftStream}}</div> </div> </div> <div class="error-box full-height" ng-if=$ctrl.fullScreen> <div class="error-box-content full-screen request-container" ng-if=::$ctrl.permissionError> <div class=request-access-container> <div class=no_access_icon ng-if=!$ctrl.accessRequestSent> <svg-src svg-name=icon_no_access inline-with-text=false aria-hidden=true /> </div> <div class=video_not_found_icon ng-if=!$ctrl.videoExist> <svg-src svg-name=icon_video_not_found inline-with-text=false aria-hidden=true /> </div> <div class=warning_icon ng-if=$ctrl.permissionExist> <svg-src svg-name=icon_request_warning inline-with-text=false aria-hidden=true /> </div> <div class=waiting_icon ng-if=$ctrl.requestSucceed> <svg-src svg-name=icon_waiting inline-with-text=false aria-hidden=true /> </div> <div class=request-access-errortitle flex-style=3 flex-style-min=12 flex-style-target=font-size> {{$ctrl.titleStr}} </div> <div class=request-access-message flex-style=1.5 flex-style-min=12 flex-style-target=font-size> <span ng-if=$ctrl.message>{{$ctrl.message}}</span> </div> <div class=request-button-container ng-if="$ctrl.requestButtonEnabled && !$ctrl.accessRequestSent"> <button type=button class="stream-btn btn-primary" ng-click=$ctrl.requestAccessButtonClicked()> {{::$ctrl.resources.RequestAccess}} </button> </div> </div> <div class=stream-app-name>{{::$ctrl.resources.MicrosoftStream}}</div> </div> <div class="error-box-content full-screen" ng-if=::!$ctrl.permissionError> <div class=error-message-container> <div class=errortitle flex-style=4.5 flex-style-target=font-size> {{::$ctrl.titleStr}} </div> <div class=message ng-if="::($ctrl.message && !$ctrl.hideMessage)" flex-style=2.5 flex-style-min=12 flex-style-target=font-size> <span ng-if=::!$ctrl.messageLink>{{::$ctrl.message}}</span> <a ng-if=::$ctrl.messageLink external-link ng-href={{$ctrl.messageLink}} target=_blank class=c-hyperlink> {{::$ctrl.message}} </a> <a ng-if=::$ctrl.learnMoreLink external-link ng-href={{$ctrl.learnMoreLink}} target=_blank class=c-hyperlink> {{::$ctrl.resources.LearnMore}} </a> </div> <div class=message ng-if=$ctrl.displaySessionId flex-style=2.5 flex-style-min=12 flex-style-target=font-size><span>{{::$ctrl.sessionIdText}}</span></div> <div class=message ng-if="::(!$ctrl.message && !$ctrl.hideMessage || !$ctrl.noActions)" flex-style=2.5 flex-style-min=12 flex-style-target=font-size> <div class=button-container ng-if=::!$ctrl.encoderError> <button type=button ng-if="!$ctrl.customPrimaryButtonLabel || !$ctrl.customPrimaryButtonClicked" class="stream-btn btn-primary" ng-click=$ctrl.reload()> {{::$ctrl.resources.TryAgain}} </button> <button type=button ng-if="$ctrl.customPrimaryButtonLabel && $ctrl.customPrimaryButtonClicked" class="stream-btn btn-primary" ng-click=$ctrl.customPrimaryButtonClicked()> {{::$ctrl.customPrimaryButtonLabel}} </button> <button type=button class=stream-btn ng-if="$ctrl.customSecondaryButtonClicked && $ctrl.customSecondaryButtonLabel" ng-click=$ctrl.customSecondaryButtonClicked()> {{::$ctrl.customSecondaryButtonLabel}} </button> </div> </div> <div class="message full-screen-links" ng-if="::($ctrl.noActions && $ctrl.fallBackLinks)" flex-style=2.5 flex-style-min=12 flex-style-target=font-size> <a class=c-hyperlink href=/ >{{::$ctrl.resources.Controller.Fallback.LinkLabel.Home}}</a> <a class=c-hyperlink href=/browse>{{::$ctrl.resources.Controller.Fallback.LinkLabel.Search}}</a> </div> <div class=message-error-code ng-if=::$ctrl.errorCode flex-style=2.5 flex-style-target=font-size>{{::$ctrl.errorCodeMessage}}</div> </div> <div class=stream-app-name>{{::$ctrl.resources.MicrosoftStream}}</div> </div> </div>'},"./app/components/ErrorBox/ErrorBox.less":function(e,t){},"./app/components/ErrorBox/ErrorBox.ts":function(e,t,n){function i(){this.controller=r.ErrorBoxController,this.template=n("./app/components/ErrorBox/ErrorBox.html"),this.bindings={titleStr:"@",message:"@?",messageLink:"<?",learnMoreLink:"<?",errorCode:"@",hideMessage:"<",hideSessionInfo:"<",playerPage:"<",slate:"<",requestButtonEnabled:"<",accessRequestSent:"<",requestSucceed:"<",videoExist:"<",permissionError:"<",permissionExist:"<",noActions:"<?",fullScreen:"@?",encoderError:"@?",fallBackLinks:"<",displaySessionId:"<",customPrimaryButtonLabel:"@",customPrimaryButtonClicked:"&",customSecondaryButtonClicked:"&",requestAccessButtonClicked:"&",customSecondaryButtonLabel:"@",isServerError:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/ErrorBox/ErrorBox.less");var r=n("./app/components/ErrorBox/ErrorBoxController.ts"),o=n("./app/utility/appUtil.ts");t.ErrorBox=i,o.registerComponent("errorBox",i,angular.module("jumper"))},"./app/components/ErrorBox/ErrorBoxController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/appUtil.ts"),o=n("./app/utility/string.ts"),s=(Object.defineProperty(a.prototype,"errorCodeMessage",{get:function(){return o.formatString(this.resources.VideoPlayer.ErrorCode,this.errorCode)},enumerable:!0,configurable:!0}),a.prototype.reload=function(){this.$window.location.reload()},Object.defineProperty(a.prototype,"sessionId",{get:function(){return this.isServerError?sessionInfo.SessionId:sessionInfo.ClientSessionId},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"sessionIdText",{get:function(){return this.isServerError?o.formatString(this.resources.SessionIDText,this.sessionId):o.formatString(this.resources.ClientSessionIDText,this.sessionId)},enumerable:!0,configurable:!0}),a.$inject=["resources","$window"],a);function a(e,t){this.resources=e,this.$window=t,this.communityLink=r.generateFwLink(i.Constants.ExternalLinkIds.Community),$("body").css("overflowY","auto")}t.ErrorBoxController=s},"./app/components/Fallback/Fallback.html":function(e,t){e.exports="<section aria-label={{$ctrl.description}}> <error-box title-str={{$ctrl.title}} message={{$ctrl.description}} learn-more-link=$ctrl.learnMoreLink full-screen=true no-actions=$ctrl.isNoAction fall-back-links=!$ctrl.hideLinks display-session-id=$ctrl.displaySessionId is-server-error=$ctrl.isServerError custom-primary-button-label={{$ctrl.customPrimaryButtonLabel}} custom-primary-button-clicked=$ctrl.customPrimaryButtonClicked() /> </section>"},"./app/components/Fallback/Fallback.less":function(e,t){},"./app/components/Fallback/Fallback.ts":function(e,t,n){function i(){this.controller=r.FallbackController,this.template=n("./app/components/Fallback/Fallback.html"),this.bindings={hideLinks:"<",isServerError:"<",statusCode:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Fallback/Fallback.less");var r=n("./app/components/Fallback/FallbackController.ts"),o=n("./app/utility/appUtil.ts");t.Fallback=i,o.registerComponent("fallback",i,angular.module("jumper"))},"./app/components/Fallback/FallbackController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Fallback/Fallback.less");var i=n("./app/utility/Constants.ts"),r=(Object.defineProperty(o.prototype,"displaySessionId",{get:function(){return!_.isNil(sessionInfo)&&!_.isNil(sessionInfo.SessionId)&&!_.isEmpty(sessionInfo.SessionId)},enumerable:!0,configurable:!0}),o.$inject=["resources","$location","$window"],o);function o(e,t,n){var r=this;switch(this.resources=e,this.$location=t,this.$window=n,this.learnMoreLink=null,this.isNoActions=!0,$("body").css("overflowY","auto"),this.statusCode){case 401:this.title=this.resources.Controller.Fallback.Message.Head.Unauthorized,this.description=this.resources.Controller.Fallback.Message.Detail.Unauthorized;break;case 403:this.title=this.resources.Controller.Fallback.Message.Head.Forbidden,this.description=this.resources.Controller.Fallback.Message.Detail.Unauthorized;break;case 500:this.title=this.resources.Controller.Fallback.Message.Head.ServerError,this.description=this.resources.Controller.Fallback.Message.Detail.ServerError;break;case 50103:this.title=this.resources.Controller.Fallback.Message.Head.Terminated,this.description=this.resources.Controller.Fallback.Message.Detail.Terminated;break;case 50104:this.title=this.resources.ControllerFallbackMessageTitleInvalidCookies,this.description=this.resources.Controller.Fallback.Message.Detail.InvalidCookies,this.learnMoreLink="https://go.microsoft.com/fwlink/?linkid=2048919",this.isNoActions=!1,this.customPrimaryButtonClicked=function(){var e=_.isString(r.$location.search()[i.Constants.QueryStringKeys.ErrorRedirectedFrom])?decodeURI(r.$location.search()[i.Constants.QueryStringKeys.ErrorRedirectedFrom]):t.absUrl();e.replace("skipSignIn=1",""),-1===e.indexOf("?")?e+="?forceServerAuth=true":e+="&forceServerAuth=true",r.$window.open(e)},this.customPrimaryButtonLabel=this.resources.OpenInNewWindow;break;case 50105:this.title=this.resources.Controller.Fallback.Message.Head.FeatureBlockedError,this.description=this.resources.Controller.Fallback.Message.Detail.FeatureBlockedError;break;case 50106:this.title=this.resources.Controller.Fallback.Message.Head.FeatureBlockedError,this.description=this.resources.ControllerFallbackMessageContentServiceDisabled,this.learnMoreLink="https://go.microsoft.com/fwlink/?linkid=2132374";break;case 50107:this.title=this.resources.ControllerFallbackMessageTitleInvalidCookies,this.description=this.resources.ControllerFallbackMessageIOS13Error,this.learnMoreLink="https://go.microsoft.com/fwlink/?linkid=2048919",this.customPrimaryButtonClicked=function(){var e=_.isString(r.$location.search()[i.Constants.QueryStringKeys.ErrorRedirectedFrom])?decodeURI(r.$location.search()[i.Constants.QueryStringKeys.ErrorRedirectedFrom]):t.absUrl();e.replace("skipSignIn=1",""),-1===e.indexOf("?")?e+="?forceServerAuth=true":e+="&forceServerAuth=true",r.$window.open(e)},this.isNoActions=!1,this.customPrimaryButtonLabel=this.resources.OpenInNewWindow;break;case 50108:this.title=this.resources.ControllerFallbackMessageTitleGuestUserAccessDisabled,this.description=this.resources.ControllerFallbackMessageGuestUserAccessDisabled;break;case 404:this.title=this.resources.Controller.Fallback.Message.Head.NotFound,this.description=this.resources.Controller.Fallback.Message.Detail.Default;break;case 400:default:this.title=this.resources.Controller.Fallback.Message.Head.Default,this.description=this.resources.Controller.Fallback.Message.Detail.Default}}t.FallbackController=r},"./app/components/ItemsList/ItemsList.html":function(e,t){e.exports='<div class=items-list-container> <div class=items-list-info-message ng-if=$ctrl.infoMessage ng-class="{\'error-message-content\':$ctrl.isFailed}"> {{$ctrl.infoMessage}} </div> <div class=items-list-info-message ng-transclude=noDataMessage ng-if="$ctrl.showCustomNoDataMessage && !$ctrl.isLoading"></div> <ng-transclude ng-transclude-slot=header ng-if=$ctrl.currentList.length> </ng-transclude> <item-sizer ng-transclude=item class={{$ctrl.itemClass}} ng-class="{\'items-list-hidden\':!$ctrl.initCompleted}" ng-if=!$ctrl.initCompleted item=$ctrl.mockItem on-render-complete=$ctrl.loadData(rowsCount,itemsPerRow)> <ng-transclude></ng-transclude> </item-sizer> <div class={{$ctrl.itemClass}} ng-transclude=prependItem ng-class="{\'items-list-hidden\':!$ctrl.initCompleted}" ng-if=$ctrl.hasAPrependedItem></div> <div infinite-scroll=$ctrl.displayDataPage() infinite-scroll-container="\'window\'" ng-if="$ctrl.initCompleted && !$ctrl.isRefreshing && !$ctrl.disableInfiniteScolling()"> <div ng-transclude=item class="{{$ctrl.itemClass}} item-animate" ng-repeat="item in $ctrl.currentList"> <ng-transclude></ng-transclude> </div> </div> <div ng-if=$ctrl.disableInfiniteScolling()> <div ng-transclude=item class="{{$ctrl.itemClass}} item-animate" ng-repeat="item in $ctrl.currentList"> <ng-transclude></ng-transclude> </div> </div> <div class={{$ctrl.itemClass}} ng-transclude=appendItem ng-class="{\'items-list-hidden\':!$ctrl.initCompleted}" ng-if=$ctrl.hasAppendedItem></div> <div class=loading-page-progress> <div class=loading-spin-container ng-hide=!$ctrl.isLoading> <svg-src svg-name=icon_processing_status class="spin processing-icon" inline-with-text=true></svg-src> <span class=loading-message aria-label={{$ctrl.loadingMessage}}>{{$ctrl.loadingMessage}}</span> </div> <div ng-hide=$ctrl.disableShowMoreOption()> <button class="show-more c-hyperlink c-action-trigger" aria-label={{$ctrl.showMoreButtonTitle}} ng-click=$ctrl.showMoreItems()>{{$ctrl.showMoreButtonTitle}}</button> </div> </div> </div>'},"./app/components/ItemsList/ItemsList.less":function(e,t){},"./app/components/ItemsList/ItemsList.ts":function(e,t,n){function i(){this.controller=o.ItemsListController,this.restrict="E",this.template=n("./app/components/ItemsList/ItemsList.html"),this.transclude={prependItem:"?prependItem",noDataMessage:"?noDataMessage",item:"item",header:"?header",appendItem:"?appendItem"},this.scope={loadDataPage:"&",onMoreDataLoad:"&",onDataChange:"&",onInit:"&",fullPageList:"<",refreshData:"=",removeItem:"=",newItem:"=",listEvents:"<",itemsPerRowLarge:"<",resourceName:"<",screenName:"<",hasAPrependedItem:"<",itemIdentifier:"<",additionalSuccessTelemetry:"&",additionalFailureTelemetry:"&"},this.controllerAs="$ctrl",this.bindToController=!0}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/ItemsList/ItemsList.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/ItemsList/ItemsListController.ts");t.ItemsList=i,r.registerDirective("itemsList",i,angular.module("jumper"))},"./app/components/ItemsList/ItemsListController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/ItemsList/ItemsList.less");var i=n("./app/utility/string.ts"),r=n("./app/components/ItemsList/ListBase/DataListEvents.ts"),o=n("./app/components/ItemsList/ListBase/DataListSummaryProperties.ts"),s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/utility/Constants.ts"),c=n("./app/utility/appUtil.ts"),l=(u.prototype.loadData=function(e,t){var n=this;this.currentList=[],this.skipRecords=0,e=Math.max(8,e*t),this.pageSize=e,this.listEvents.adjustDataPageSize=e,this.isFailed=!1,this.showCustomNoDataMessage=!1,this.fullPageList&&!angular.element(".search-filter-bar").hasClass("fixedposition")&&angular.element("items-list").css("min-height",angular.element("body").height()-$("header").height()-$(".loading-page-progress").height()),this.loadDataInternal(2*this.pageSize).then((function(e){var t;n.isRefreshing=!1,e.data&&e.data.value&&(e.data.value.length?(t=n.buffer.splice(0,Math.min(n.buffer.length,n.pageSize-(n.hasAPrependedItem&&0===n.currentList.length?1:0))),n.dataLoaded=n.dataLoaded.concat(t),n.onMoreDataLoad&&n.onMoreDataLoad({dataLoaded:n.dataLoaded}),n.appendToCurrentList(t),n.infoMessage="",n.showCustomNoDataMessage=!1):n.showNoDataMessage())}),(function(e){n.infoMessage&&(n.showCustomNoDataMessage=!1)})),this.initCompleted=!0},u.prototype.displayDataPage=function(e,t){var n=this;if(void 0===e&&(e=this.pageSize),void 0===t&&(t=!1),this.scrollingPaused||this.enableEndOfResultSet&&this.endOfData&&this.browseGroupPage)return this.IsEndOfDataReached(),null;if(this.buffer&&0<this.buffer.length){var i=this.buffer.splice(0,Math.min(e,this.buffer.length));return this.appendToCurrentList(i),!t&&this.buffer&&this.buffer.length<=this.pageSize?this.isCustomFetchForBrowseGroupEnabled()?this.loadDataInternal(e).then((function(e){n.listEvents&&(n.listEvents.infiniteScrollCount++,n.listEvents.maxPageDepth++,n.IsEndOfDataReached())})):this.loadDataInternal().then((function(e){n.listEvents&&(n.listEvents.infiniteScrollCount++,n.listEvents.maxPageDepth++)})):this.$q.resolve()}return this.loadDataInternal(2*this.pageSize).then((function(e){n.isRefreshing=!1,e&&e.data&&e.data.value&&(e.data.value.length?(n.resetNoDataMessage(),n.displayDataPage(n.pageSize,!0)):n.showNoDataMessage())}))},u.prototype.isCustomFetchForBrowseGroupEnabled=function(){return this.browseGroupPage&&this.enableShowMoreOption&&this.fetchDoubleTopRecords},Object.defineProperty(u.prototype,"loadingMessage",{get:function(){return i.formatString(this.Resources.ItemList.LoadingMessage,this.resourceName)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showMoreButtonTitle",{get:function(){return this.Resources.ItemList.ShowMoreButtonTitle},enumerable:!0,configurable:!0}),u.prototype.removeListAnimation=function(){angular.element(".item-animate").removeClass("item-animate")},u.prototype.showMoreItems=function(){var e=this;this.scrollingPaused=!1;var t=1;this.fetchDoubleTopRecords&&(t=2),this.browseGroupPage&&this.enableShowMoreOption?this.displayDataPage(this.pageSize*t).then((function(){e.IsEndOfDataReached()})):this.displayDataPage()},u.prototype.disableShowMoreOption=function(){return this.browseGroupPage&&this.enableShowMoreOption?this.isLoading||this.endOfData:this.isLoading||!this.scrollingPaused||this.endOfData},u.prototype.disableInfiniteScolling=function(){return!(!this.browseGroupPage||!this.enableShowMoreOption)},u.prototype.appendToCurrentList=function(e){var t=this,n=_.isEmpty(this.currentList),r=this.currentList.length;this.allowDuplicates?this.currentList=this.currentList.concat(e):this.currentList=_.unionBy(this.currentList,e,(function(e){return void 0!==e.id?e.id:e[t.itemIdentifier]})),r=this.currentList.length-r,this.currentList&&0!==this.currentList.length||this.telemetryProperties.numEmptyResults++,c.alertScreenReader(i.formatString(n?this.Resources.ItemList.ItemsLoaded:this.Resources.ItemList.MoreItemsLoaded,r.toString(),this.resourceName))},u.prototype.loadDataInternal=function(e){var t=this;void 0===e&&(e=this.pageSize);var n,r=this.$q.defer();return this.dataLoadLock?r.resolve({data:{value:null}}):(this.isLoading=!this.endOfData,this.isLoading&&c.alertScreenReader(this.loadingMessage),n=Math.max(0,e-a.Constants.QueryConfigDefaults.MaxTop),this.dataLoadLock=!0,this.isFailed=!1,this.infoMessage="",this.loadDataPage({skip:this.skipRecords,top:e}).then((function(i){var o;i&&i.data||r.resolve(i),t.$attrs.additionalSuccessTelemetry&&t.additionalSuccessTelemetry(),null!=i.config?(o={orderBy:c.getUrlParamValueFromUrl("$orderby",i.config.url)},t.telemetryTracker.succeed(t.searchFeature,o)):t.telemetryTracker.succeed(t.searchFeature),t.listEvents.dataLoadEvents++,t.isLoading=!1,t.dataLoadLock=!1,i.data&&i.data.value&&(t.skipRecords+=i.data.value.length,t.endOfData=i.data.value.length<e,t.endOfData&&(t.scrollingPaused=!1),0<i.data.value.length&&i.data.value[0].video&&(i.data.value=i.data.value.map((function(e){var t=e.video;return e.video&&(t.creator=e.creator),t}))),t.buffer=t.buffer?t.buffer.concat(i.data.value):i.data.value),0<n?t.loadDataInternal(n).then((function(e){r.resolve(e)})):r.resolve(i)}),(function(e){t.isLoading=!1,t.dataLoadLock=!1,t.telemetryTracker.fail(t.searchFeature,t.searchSubfeature,e),t.$attrs.additionalFailureTelemetry&&t.additionalFailureTelemetry({err:e}),e.status&&(e.status===a.Constants.HttpResponseCodes.Unauthorized?(t.isFailed=!0,t.infoMessage=i.formatString(t.Resources.ItemList.UnauthorizedMessage,t.resourceName)):e.status===a.Constants.HttpResponseCodes.Forbidden?(t.isFailed=!0,t.infoMessage=i.formatString(t.Resources.ItemList.AuthErrorMessage,t.resourceName)):e.status===a.Constants.HttpResponseCodes.TooManyRequests||e.status===a.Constants.HttpResponseCodes.Unavailable?(t.isFailed=!0,t.infoMessage=i.formatString(t.Resources.ItemList.ServerBusyMessage,t.resourceName)):(t.isFailed=!0,t.infoMessage=i.formatString(t.Resources.ItemList.SearchFailureMessage,t.resourceName))),r.reject(e)}))),r.promise},u.prototype.showNoDataMessage=function(){void 0!==this.currentList&&0!==this.currentList.length||(this.$transclude.isSlotFilled("noDataMessage")?this.showCustomNoDataMessage=!0:this.infoMessage=i.formatString(this.Resources.ItemList.NoMatchingResultsMessage,this.resourceName),this.scrollingPaused=!1)},u.prototype.resetNoDataMessage=function(){void 0!==this.currentList&&0!==this.currentList.length||(this.$transclude.isSlotFilled("noDataMessage")?this.showCustomNoDataMessage=!1:this.infoMessage="")},u.prototype.onItemDeleted=function(e){var t=this;this.listEvents&&this.listEvents.deletedFromList++;var n=_.findIndex(this.currentList,(function(n){return n[t.identifier]===e[t.identifier]}));-1<n&&(this.currentList.splice(n,1),this.skipRecords--,this.displayDataPage(1)),0===this.currentList.length&&this.showNoDataMessage()},u.prototype.onItemDeletedWithoutFetching=function(e){var t=this;this.listEvents&&this.listEvents.deletedFromList++;var n=_.findIndex(this.currentList,(function(n){return n[t.identifier]===e[t.identifier]}));-1<n&&(this.currentList.splice(n,1),this.skipRecords--),0===this.currentList.length&&this.showNoDataMessage(),this.onDataChange&&this.onDataChange({changedData:this.currentList})},u.prototype.onMoveItemDown=function(e){var t,n=this;!this.currentList||this.currentList.length<2||(t=_.findIndex(this.currentList,(function(t){return t[n.identifier]===e[n.identifier]})))!==this.currentList.length-1&&(this.move(this.currentList,t,t+1),this.onDataChange&&this.onDataChange({changedData:this.currentList}))},u.prototype.onMoveItemUp=function(e){var t,n=this;!this.currentList||this.currentList.length<2||0!==(t=_.findIndex(this.currentList,(function(t){return t[n.identifier]===e[n.identifier]})))&&(this.move(this.currentList,t,t-1),this.onDataChange&&this.onDataChange({changedData:this.currentList}))},u.prototype.isLastItem=function(e){var t=this;return!(!this.currentList||(!this.currentList||1!==this.currentList.length)&&_.findIndex(this.currentList,(function(n){return n[t.identifier]===e[t.identifier]}))!==this.currentList.length-1)},u.prototype.isFirstItem=function(e){var t=this;return!(!this.currentList||(!this.currentList||1!==this.currentList.length)&&0!==_.findIndex(this.currentList,(function(n){return n[t.identifier]===e[t.identifier]})))},u.prototype.onItemAdded=function(e){this.listEvents&&this.listEvents.addedToList++,this.skipRecords++;var t=this.currentList;this.currentList=angular.isArray(e)?e:[e],this.appendToCurrentList(t),this.showCustomNoDataMessage=!1,this.infoMessage=""},u.prototype.onItemChanged=function(e){this.listEvents&&this.listEvents.changedInList++},u.prototype.move=function(e,t,n){!e||t<0||t>e.length||n<0||n>e.length||e.splice(n,0,e.splice(t,1)[0])},u.prototype.setupWatchers=function(){var e=this;this.$scope.$watch((function(){return e.refreshData&&e.initCompleted}),(function(){e.refreshData&&(e.isRefreshing=!0,e.currentList=[],e.buffer=[],e.skipRecords=0,e.refreshData=!1,e.endOfData=!1,angular.element(".search-filter-bar").hasClass("fixedposition")&&angular.element("body").scrollTop(0),e.scrollingPaused=!1,e.displayDataPage(e.pageSize,!1))})),this.$scope.$watch((function(){return e.removeItem}),(function(){e.removeItem&&(e.onItemDeleted(e.removeItem),e.removeItem=null)})),this.$scope.$watch((function(){return e.newItem}),(function(){e.newItem&&(e.onItemAdded(e.newItem),e.newItem=null)}))},u.prototype.initItemLayout=function(){var e=this;this.skipRecords=0,this.pageSize=a.Constants.DefaultQueryCounts.top,this.itemsPerRowLarge&&1!==this.itemsPerRowLarge?(this.breakPoints=_.map(this.breakPoints,(function(t,n){return t+"-"+Math.floor(12/(e.itemsPerRowLarge-n))})),this.breakPoints.unshift("column","end","list-item"),this.hasAPrependedItem=this.hasAPrependedItem||this.$transclude.isSlotFilled("prependItem"),this.itemClass=_.join(this.breakPoints," ")):this.itemClass=" list-item row row-size1 column list-item-fixed-margin",this.hasAppendedItem=this.$transclude.isSlotFilled("appendItem"),this.itemClass=this.itemClass?this.itemClass:"row row-size1"},u.prototype.initTelemetry=function(){var e=this;this.telemetryTracker=this.telemetryService.getTracker(this.screenName);var t=this.flushTelemetry.bind(this);this.$scope.$on("$destroy",(function(){t(),e.$window.removeEventListener("beforeunload",t)})),this.$window.addEventListener("beforeunload",t),this.$timeout((function(){var t=e.navigationService.getPreviousUrl(),n=e.navigationService.getPageName(t);e.resourceName===e.Resources.ItemList.ResourceName.Videos?(e.searchFeature=s.FeatureName.SearchVideos,e.searchSubfeature=s.SubFeatureName.VideoService_Search,e.telemetryProperties=new o.DataListSummaryProperties(!0,!1,!1,!1,n,e.screenName)):e.resourceName===e.Resources.ItemList.ResourceName.Channels?(e.searchFeature=s.FeatureName.SearchChannels,e.searchSubfeature=s.SubFeatureName.ChannelService_Search,e.telemetryProperties=new o.DataListSummaryProperties(!1,!0,!1,!1,n,e.screenName)):e.resourceName===e.Resources.ItemList.ResourceName.People?(e.searchFeature=s.FeatureName.SearchPrincipals,e.searchSubfeature=s.SubFeatureName.PrincipalService_SearchPrincipals,e.telemetryProperties=new o.DataListSummaryProperties(!1,!1,!0,!1,n,e.screenName)):e.resourceName===e.Resources.ItemList.ResourceName.Groups?(e.searchFeature=s.FeatureName.ListGroups,e.searchSubfeature=s.SubFeatureName.GroupService_Search,e.telemetryProperties=new o.DataListSummaryProperties(!1,!1,!1,!0,n,e.screenName)):e.resourceName===e.Resources.ItemList.ResourceName.GroupMembers&&(e.searchFeature=s.FeatureName.ListGroupMembers,e.searchSubfeature=s.SubFeatureName.GroupService_ListMembers,e.telemetryProperties=new o.DataListSummaryProperties(!1,!1,!1,!0,n,e.screenName))}),0)},u.prototype.flushTelemetry=function(){this.isTelemetrySent||(this.telemetryTracker.trackEvent(s.TelemetryEventNames.searchSummaryEventName,this.telemetryProperties,{}),this.listEvents&&this.telemetryTracker.trackEvent(s.getTelemetryEventName(this.screenName),{},r.DataListEvents.flatten(this.listEvents)),this.isTelemetrySent=!0)},u.prototype.initFeatureFlags=function(){this.enableEndOfResultSet=this.featureFlagsService.Values.EndOfResultSet||!1,this.fetchDoubleTopRecords=this.featureFlagsService.Values.FetchDoubleTopRecords||!1,this.enableShowMoreOption=this.featureFlagsService.Values.EnableShowMoreOption||!1,this.browseGroupPage=void 0!==this.screenName&&this.screenName==s.ScreenName.BrowseGroups},u.prototype.IsEndOfDataReached=function(){var e;this.enableEndOfResultSet&&this.endOfData&&this.browseGroupPage&&this.buffer&&0<this.buffer.length&&(e=this.buffer.splice(0,this.buffer.length),this.appendToCurrentList(e))},u.$inject=["$scope","resources","$timeout","$transclude","navigationService","telemetryService","featureFlagsService","$window","$q","$attrs"],u);function u(e,t,n,i,r,o,a,c,l,u){var d=this;this.$scope=e,this.Resources=t,this.$timeout=n,this.$transclude=i,this.navigationService=r,this.telemetryService=o,this.featureFlagsService=a,this.$window=c,this.$q=l,this.$attrs=u,this.isLoading=!0,this.isRefreshing=!1,this.allowDuplicates=!1,this.hasAPrependedItem=!1,this.hasAppendedItem=!1,this.isFailed=!1,this.showCustomNoDataMessage=!1,this.enableShowMoreOption=!1,this.browseGroupPage=!1,this.fetchDoubleTopRecords=!1,this.enableEndOfResultSet=!1,this.telemetryProperties=null,this.mockItem={name:"..."},this.dataLoaded=[],this.fullPageList=!0,this.endOfData=!1,this.scrollingPaused=!0,this.searchFeature=s.FeatureName.NotApplicable,this.searchSubfeature=s.SubFeatureName.NotApplicable,this.breakPoints=["large","medium","small","xsmall"],this.initCompleted=!1,this.dataLoadLock=!1,this.isTelemetrySent=!1,this.identifier=this.itemIdentifier||"id",this.initFeatureFlags(),this.initItemLayout(),this.setupWatchers(),this.initTelemetry(),this.onInit&&this.onInit({itemsListController:this}),this.$scope.$watch((function(){return d.currentList}),(function(){d.onDataChange&&d.onDataChange({changedData:d.currentList})}))}t.ItemsListController=l},"./app/components/ItemsList/ListBase/DataListEvents.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(i.flatten=function(e){var t={};return e.sortEvents&&delete(t=_.extend(e,e.sortEvents)).sortEvents,e.stateFilterEvents&&delete(t=_.extend(e,e.stateFilterEvents)).stateFilterEvents,e.videoScopeFilterEvents&&delete(t=_.extend(e,e.videoScopeFilterEvents)).videoScopeFilterEvents,e.privacyFilterEvents&&delete(t=_.extend(e,e.privacyFilterEvents)).privacyFilterEvents,e.itemsEvents&&delete(t=_.extend(e,e.itemsEvents)).itemsEvents,t},i);function i(){this.dataLoadEvents=0,this.infiniteScrollCount=0,this.maxPageDepth=0,this.adjustDataPageSize=0,this.searchEvents=0,this.addedToList=0,this.deletedFromList=0,this.changedInList=0,this.sortEvents={},this.stateFilterEvents={},this.videoScopeFilterEvents={},this.privacyFilterEvents={},this.itemsEvents={}}t.DataListEvents=n},"./app/components/ItemsList/ListBase/DataListSummaryProperties.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/models/TelemetryEventModels.ts");t.DataListSummaryProperties=function(e,t,n,r,o,s,a,c){void 0===o&&(o=i.ScreenName.Auto),void 0===s&&(s=i.ScreenName.Auto),void 0===a&&(a=""),void 0===c&&(c=0),this.isVideo=e,this.isChannel=t,this.isPrincipal=n,this.isGroup=r,this.fromPageName=o,this.onPageName=s,this.fromPageUrl=a,this.numEmptyResults=c}},"./app/components/ItemsList/ListBase/ListBase.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/components/ItemsList/ListBase/DataListEvents.ts"),r=n("./app/models/TelemetryEventModels.ts"),o=(s.prototype.onAdminModeChanged=function(e){this.isInAdminMode!=(this.isStreamAdmin&&e)&&(this.isInAdminMode=this.isStreamAdmin&&e,this.refreshData=!0,this.telemetryService.getTracker(r.ScreenName.Auto).trackEvent(r.TelemetryEventNames.adminModeToggled,{active:e}))},s.$inject=["$scope","telemetryService","featureFlagsService","principalService"],s);function s(e,t,n,r,o){void 0===o&&(o=!1);var s=this;this.$scope=e,this.telemetryService=t,this.featureFlagsService=n,this.principalService=r,this.itemsPerRow=1,this.listEvents=new i.DataListEvents,this.refreshData=!1,this.removeItem=null,this.isStreamAdmin=!1,this.isInAdminMode=!1,this.$scope.$watch((function(){return s.hideSearchAndFilter}),(function(e,t){e?$("search-and-filter").hide():$("search-and-filter").show()}),!0),o&&this.principalService.getMyPrincipalInfo().then((function(e){s.isStreamAdmin=s.principalService.getIsStreamAdmin(),s.isInAdminMode=s.isStreamAdmin&&s.principalService.getAdminModeStatus(),s.$scope.$watch(s.principalService.getAdminModeStatus,(function(e,t){e!=t&&s.onAdminModeChanged(e)}))}))}t.ListBase=o},"./app/components/ItemsList/ListBase/ListItemBase.ts":function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/components/ItemsList/ItemsListController.ts"),a=n("./app/utility/ComponentBase.ts"),c=n("./app/utility/appUtil.ts"),l=(r(u,o=a.ComponentBase),Object.defineProperty(u.prototype,"item",{get:function(){for(var e=this.$scope;e&&!e.item;)e=e.$parent;return e?e.item:null},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"listScope",{get:function(){for(var e=this.$scope;e&&!(e.$ctrl instanceof s.ItemsListController);)e=e.$parent;return e},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"telemetryTracker",{get:function(){return this.listScope?this.listScope.$ctrl.telemetryTracker:null},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"screenName",{get:function(){return this.listScope.$ctrl.screenName},enumerable:!0,configurable:!0}),u.prototype.onItemDeleted=function(e){var t=this.listScope.$ctrl,n=t.currentList.indexOf(e);return t.onItemDeleted(e),n},u.prototype.onItemChanged=function(e){this.listScope.$ctrl.onItemChanged(e)},u.prototype.onFollowedChannelDeleted=function(e){var t,n,i=this.listScope.$ctrl,r=i.currentList.indexOf(e);return i.currentList&&1!==i.currentList.length?(t=(t=r)>=i.currentList.length-1?r-1:r+1,n=i.currentList[t],document.getElementById(n.id).focus()):$("button.f-active:visible:enabled",$("[ng-viewport]")).first().focus(),i.onItemDeleted(e),r},u.$inject=["$scope","$timeout"],u);function u(e,t,n){var i=o.call(this,n)||this;return i.$scope=e,i.$timeout=t,i.itemUxId=c.generateGuid().split("-")[0],i.$timeout((function(){i.itemUniqueClass=[i.itemBaseClass,"-",i.itemUxId].join("")}),0),i}t.ListItemBase=l},"./app/components/LivePlayerOverlay/LivePlayerOverlay.html":function(e,t){e.exports="<div class=live-player-overlay> <img ng-if=$ctrl.posterUrl ng-src={{$ctrl.posterUrl}} class=live-poster-image alt={{::$ctrl.resources.LivePosterImageAlt}} /> <div class=info-panel-container ng-class=\"{'producer-view':$ctrl.isProducerView}\"> <div class=info-panel> <div class=info-panel-wrapper> <div class=video-title>{{$ctrl.videoItem.name}}</div> <div class=video-date-time> <div class=date-text>{{$ctrl.videoItem.liveEvent.startTime | liveEventStartDate}}</div> <div class=time-text>{{$ctrl.videoItem.liveEvent.startTime | liveEventStartTimeWithTimezone}}</div> </div> </div> </div> </div> </div> "},"./app/components/LivePlayerOverlay/LivePlayerOverlay.less":function(e,t){},"./app/components/LivePlayerOverlay/LivePlayerOverlay.ts":function(e,t,n){function i(){this.controller=o.LivePlayerOverlayController,this.template=n("./app/components/LivePlayerOverlay/LivePlayerOverlay.html"),this.bindings={videoItem:"<",videoEditStateInfo:"<",isProducerView:"<"},this.bindToController=!0}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/LivePlayerOverlay/LivePlayerOverlay.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/LivePlayerOverlay/LivePlayerOverlayController.ts");t.LivePlayerOverlay=i,r.registerComponent("livePlayerOverlay",i,angular.module("jumper"))},"./app/components/LivePlayerOverlay/LivePlayerOverlayController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(Object.defineProperty(i.prototype,"posterUrl",{get:function(){return this.videoEditStateInfo&&this.videoEditStateInfo.localPosterUrl?this.videoEditStateInfo.localPosterUrl:_.get(this.videoItem,"posterImage.large.url")},enumerable:!0,configurable:!0}),i.$inject=["$scope","resources"],i);function i(e,t){this.$scope=e,this.resources=t}t.LivePlayerOverlayController=n},"./app/components/LiveUpdate/ProducerActionBar/ProducerActionBar.html":function(e,t){e.exports='<div class=producer-action-bar> <div class=status-panel> <div class=status-panel-info ng-if=$ctrl.showGenericError role=dialog> <div role=alert class="status-content column xsmall-12 small-7"> <div class=title>{{::$ctrl.resources.LiveGenericErrorMessageTitle}}</div> <div class=content>{{$ctrl.errorMessageContent}}</div> <div class=status-buttons> <button type=button class="producer-button stream-btn" ng-click=$ctrl.errorOkButton()> {{::$ctrl.resources.OK}} </button> </div> </div> </div> <div ng-switch=$ctrl.liveStatus class=status-panel-info ng-if=!$ctrl.showGenericError role=dialog> <div ng-switch-when=1 role=alert class="status-content column xsmall-12 small-7"> <div class=title>{{::$ctrl.resources.PreparingLiveMessageTitle}}</div> <div class=content>{{$ctrl.preparingLiveMessage}}</div> <div class=in-progress-container> <svg-src svg-name=icon_processing_status class="spin processing-icon" inline-with-text=true></svg-src> </div> </div> <div ng-switch-when=2 role=alert class="status-content column xsmall-12 small-7" ng-if="!$ctrl.playerLoaded && !$ctrl.playerErrored" trap-focus> <div ng-if="!$ctrl.isStartTimePassed || !$ctrl.showStatus || $ctrl.videoEditStateInfo.isLiveEventScheduledToNow"> <div class=title>{{::$ctrl.resources.ConnectEncoderMessageTitle}}</div> <div class=content>{{::$ctrl.resources.ConnectEncoderMessageContent}}</div> </div> <div ng-if="$ctrl.isStartTimePassed && $ctrl.showStatus && !$ctrl.videoEditStateInfo.isLiveEventScheduledToNow"> <div class=title>{{::$ctrl.resources.ConnectEncoderPassedStartTimeMessageTitle}}</div> <div class=content>{{::$ctrl.resources.ConnectEncoderPassedStartTimeMessageContent}}</div> <div class=status-buttons> <button type=button class="producer-button stream-btn" ng-click=$ctrl.okButton()> {{::$ctrl.resources.OK}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.clickEncoderLearnMore() auto-focus> {{::$ctrl.resources.LiveEventControlBarLearnMore}} </button> </div> </div> </div> <div ng-switch-when=4 role=alert class="status-content column xsmall-12 small-7"> <div class=title>{{::$ctrl.resources.LiveStartingMessageContent}}</div> <div class=in-progress-container> <svg-src svg-name=icon_processing_status class="spin processing-icon" inline-with-text=true></svg-src> </div> </div> <div ng-switch-when=6 role=alert class="status-content column xsmall-12 small-7" ng-if=$ctrl.showStatus trap-focus> <div class=title>{{::$ctrl.resources.EndLiveMessageTitle}}</div> <div class=content>{{::$ctrl.resources.EndLiveMessageContent}}</div> <div class=status-buttons> <button type=button class="producer-button stream-btn" ng-click=$ctrl.cancelStopButton() auto-focus> {{::$ctrl.resources.Cancel}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.stopBroadcast()> {{::$ctrl.resources.EndEvent}} </button> </div> </div> <div ng-switch-when=7 role=alert class="status-content column xsmall-12 small-7"> <div class=title>{{::$ctrl.resources.EndingLiveMessageTitle}}</div> <div class=content>{{$ctrl.resources.EndingLiveMessageContent}}</div> <div class=in-progress-container> <svg-src svg-name=icon_processing_status class="spin processing-icon" inline-with-text=true></svg-src> </div> </div> <div ng-switch-when=9 role=alert class="status-content column xsmall-12 small-7" ng-if="$ctrl.showVideoEditOption && $ctrl.isVideoEditorEnabled" trap-focus> <div class=title>{{::$ctrl.resources.VideoEditMessageTitle}}</div> <div class=content>{{::$ctrl.resources.VideoEditMessageContent}}</div> <div class=status-buttons> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.yesVideoEdit()> {{::$ctrl.resources.Yes}} </button> <button type=button class="producer-button stream-btn" ng-click=$ctrl.noVideoEdit() auto-focus> {{::$ctrl.resources.No}} </button> </div> </div> <div ng-switch-when=11 role=alert class="status-content column xsmall-12 small-7"> <div class=title>{{::$ctrl.resources.DisconnectingLiveMessageTitle}}</div> <div class=content>{{$ctrl.resources.DisconnectingLiveMessageContent}}</div> <div class=in-progress-container> <svg-src svg-name=icon_processing_status class="spin processing-icon" inline-with-text=true></svg-src> </div> </div> <div ng-switch-when=12 role=alert class="status-content column xsmall-12 small-7" trap-focus> <div class=title>{{::$ctrl.resources.DisconnectLiveMessageTitle}}</div> <div class=content>{{$ctrl.resources.DisconnectLiveMessageContent}}</div> <div class=status-buttons> <button type=button class="producer-button stream-btn" ng-click=$ctrl.clickCancelDisconnect() auto-focus> {{::$ctrl.resources.Cancel}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.disconnect()> {{::$ctrl.resources.LiveEventControlBarDisconnect}} </button> </div> </div> <div ng-switch-when=14 role=alert class="status-content column xsmall-12 small-7" trap-focus> <div class=title>{{::$ctrl.resources.AutoEndingLiveMessageTitle}}</div> <div class=content>{{$ctrl.autoEndingMessage}}</div> <div class=status-buttons> <button type=button class="producer-button stream-btn" ng-click=$ctrl.cancelStopButton()> {{::$ctrl.resources.OK}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.clickEndEvent() auto-focus> {{::$ctrl.resources.EndNow}} </button> </div> </div> <div ng-switch-when=15 role=alert class="status-content column xsmall-12 small-7" ng-if=$ctrl.showStatus trap-focus> <div class=title>{{::$ctrl.resources.LiveQuotaReachedMessageTitle}}</div> <div class=content>{{$ctrl.resources.LiveQuotaReachedMessageContent}}</div> <div class=status-buttons> <button type=button class="producer-button stream-btn" ng-click=$ctrl.quotaErrorOkButton()> {{::$ctrl.resources.OK}} </button> <button type=button class="producer-button stream-btn btn-primary2" ng-click=$ctrl.connectEncoder() auto-focus> {{::$ctrl.resources.TryAgain}} </button> </div> </div> <div ng-switch-when=16 role=alert class="status-content column xsmall-12 small-7" ng-if=$ctrl.showStatus trap-focus> <div class=title>{{::$ctrl.resources.LiveEncoderNotConnectedConfirmMessageTitle}}</div> <div class=content>{{$ctrl.resources.LiveEncoderNotConnectedMessageConfirmMessageContent}}</div> <div class="c-checkbox ct-checkbox"> <label class="c-label ct-label-compact"> <input type=checkbox class=ct-textbox-compact ng-model=$ctrl.canStartLiveWithoutEncoder auto-focus/> <span>{{::$ctrl.resources.LiveEncoderNotConnectedCheckboxDescription}}</span> </label> </div> <div class=status-buttons> <button type=button class="producer-button stream-btn" ng-click=$ctrl.clickCancelStartEventOnIdle()> {{::$ctrl.resources.Cancel}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.startEvent() ng-disabled=!$ctrl.canStartLiveWithoutEncoder> {{::$ctrl.resources.LiveEventControlBarStartEvent}} </button> </div> </div> <div ng-switch-when=17 role=alert class="status-content column xsmall-12 small-7" ng-if=$ctrl.showStatus trap-focus> <div class=title>{{::$ctrl.resources.DisconnectLiveMessageTitle}}</div> <div class=content>{{$ctrl.resources.LiveEncoderDisconnectedPreviewMessageContent}}</div> <div class=status-buttons> <button type=button class="producer-button stream-btn" ng-click=$ctrl.clickCancelDisconnect()> {{::$ctrl.resources.Cancel}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.clickDisconnect() auto-focus> {{::$ctrl.resources.DisconnectNow}} </button> </div> </div> <div ng-switch-when=18 role=alert class="status-content column xsmall-12 small-7" ng-if=$ctrl.showStatus trap-focus> <div class=title>{{::$ctrl.resources.EndLiveMessageTitle}}</div> <div class=content>{{$ctrl.resources.LiveEncoderDisconnectedEventStartedMessageContent}}</div> <div class=status-buttons> <button type=button class="producer-button stream-btn" ng-click=$ctrl.cancelStopButton()> {{::$ctrl.resources.Cancel}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.clickEndEvent() auto-focus> {{::$ctrl.resources.EndNow}} </button> </div> </div> </div> </div> <div class=live-player-control-bar> <div class=status-bar-container> <div ng-switch=$ctrl.liveStatus class=producer-status-info> <div ng-switch-when=0 class=status-info> <span class="live-status stream-pill">{{::$ctrl.resources.LiveEventOffline}}</span> </div> <div ng-switch-when=1 class=status-info> <span class="live-status stream-pill">{{::$ctrl.resources.LiveEventOffline}}</span> </div> <div ng-switch-when=2 class=status-info> <span class="live-status stream-pill pill-primary2">{{::$ctrl.resources.LiveEventConnected}}</span> </div> <div ng-switch-when=3 class=status-info> <span class="live-status stream-pill pill-primary2">{{::$ctrl.resources.LiveEventConnected}}</span> </div> <div ng-switch-when=4 class=status-info> <span class="live-status stream-pill pill-primary2">{{::$ctrl.resources.LiveEventConnected}}</span> </div> <div ng-switch-when=5 class=status-info> <span class="live-status stream-pill pill-secondary-red-color"> <span class=pill-text>{{::$ctrl.resources.LiveEventLiveNow}}</span> </span> </div> <div ng-switch-when=6 class=status-info> <span class="live-status stream-pill pill-secondary-red-color"> <span class=pill-text>{{::$ctrl.resources.LiveEventLiveNow}}</span> </span> </div> <div ng-switch-when=7 class=status-info> <span class="live-status stream-pill pill-secondary-red-color"> <span class=pill-text>{{::$ctrl.resources.LiveEventLiveNow}}</span> </span> </div> <div ng-switch-when=11 class=status-info> <span class="live-status stream-pill pill-primary2">{{::$ctrl.resources.LiveEventConnected}}</span> </div> <div ng-switch-when=12 class=status-info> <span class="live-status stream-pill pill-primary2">{{::$ctrl.resources.LiveEventConnected}}</span> </div> <div ng-switch-when=9 class=status-info> <span class="live-status stream-pill">{{::$ctrl.resources.LiveEventEnded}}</span> </div> <div ng-switch-when=10 class=status-info> <span class="live-status stream-pill">{{::$ctrl.resources.LiveEventOffline}}</span> </div> <div ng-switch-when=13 class=status-info> <span class="live-status stream-pill pill-primary2">{{::$ctrl.resources.LiveEventConnected}}</span> </div> <div ng-switch-when=14 class=status-info> <span class="live-status stream-pill pill-secondary-red-color"> <span class=pill-text>{{::$ctrl.resources.LiveEventLiveNow}}</span> </span> </div> <div ng-switch-when=15 class=status-info> <span class="live-status stream-pill">{{::$ctrl.resources.LiveEventOffline}}</span> </div> <div ng-switch-when=16 class=status-info> <span class="live-status stream-pill pill-primary2">{{::$ctrl.resources.LiveEventConnected}}</span> </div> <div ng-switch-when=17 class=status-info> <span class="live-status stream-pill pill-primary2">{{::$ctrl.resources.LiveEventConnected}}</span> </div> <div ng-switch-when=18 class=status-info> <span class="live-status stream-pill pill-primary2">{{::$ctrl.resources.LiveEventConnected}}</span> </div> </div> <volume-button media-player-id=$ctrl.videoEditStateInfo.mediaPlayerId ng-if="$ctrl.playerLoaded && !$ctrl.isLiveEnded" class=producer-volume-button></volume-button> </div> <div class=label-container ng-if=$ctrl.isEmbed custom-title={{::$ctrl.resources.LiveOpenInStreamTooltip}}> <a href={{$ctrl.videoUrl}} class=powered-by-container target=_blank aria-label={{::$ctrl.resources.LiveOpenInStreamAriaLabel}}> <svg-src svg-name=stream-icon-white class=stream-icon inline-with-text=true></svg-src> <span class=powered-by-label>{{::$ctrl.resources.LivePoweredByLabel}}</span> </a> </div> <div class=right-container> <caption-button video-id=$ctrl.video.id media-player-id=$ctrl.videoEditStateInfo.mediaPlayerId ng-if="$ctrl.playerLoaded && $ctrl.embeddedCaptionButtonShown" class=producer-caption-button></caption-button> <div ng-switch=$ctrl.liveStatus class=producer-controls> <div ng-if=!$ctrl.isPartner> <div ng-switch-when=0 ng-show=$ctrl.showStartSetupCoachMark class="coach-mark xsmall-12 small-7"> <div class=inner-container> <button class=delete-button role=button aria-label={{::$ctrl.resources.Cancel}} ng-click=$ctrl.cancelSetupCoachMark()> <svg-src svg-name=icon_cancel></svg-src> </button> <div class=title><strong>{{$ctrl.startSetupCoachMarkTitle}}</strong></div> <div class=content>{{::$ctrl.resources.LiveEventControlBarStartSetupCoachMarkContent}}</div> </div> </div> <div ng-switch-when=0 ng-show=$ctrl.showScheduledToSetupCoachMark class="coach-mark xsmall-12 small-7" ng-class="{\'stopped-state-time-passed\': $ctrl.showScheduledToSetupCoachMark}"> <div class=inner-container> <button class=delete-button role=button aria-label={{::$ctrl.resources.Cancel}} ng-click=$ctrl.cancelSetupCoachMark()> <svg-src svg-name=icon_cancel></svg-src> </button> <div class=title><strong>{{::$ctrl.resources.LiveEventControlBarStartSetupTitle}}</strong></div> <div class=content>{{::$ctrl.resources.LiveEventControlBarStartSetupContent}}</div> </div> </div> <div ng-switch-when=0 class=producer-action-container> <button type=button class="producer-button start-setup-button stream-btn btn-primary2" ng-click=$ctrl.connectEncoder() auto-focus> {{::$ctrl.resources.LiveEventControlBarConnectEncoder}} </button> </div> <div ng-switch-when=1 class=producer-action-container> <button type=button class="producer-button stream-btn" ng-disabled=true> {{::$ctrl.resources.LiveEventControlBarConnectEncoder}} </button> </div> <div ng-switch-when=2 class="producer-action-container two-button-width"> <button type=button class="producer-button stream-btn" ng-click=$ctrl.clickDisconnect()> {{::$ctrl.resources.LiveEventControlBarDisconnect}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.startEventOnIdle()> {{::$ctrl.resources.LiveEventControlBarStartEvent}} </button> </div> <div ng-switch-when=3 class="coach-mark xsmall-12 small-7" ng-show=$ctrl.showStartEventCoachMark ng-class="{\'encoder-connected-state\': $ctrl.showStartEventCoachMark}"> <div class=inner-container> <button class=delete-button aria-label={{::$ctrl.resources.Cancel}} ng-click=$ctrl.cancelStartEventCoachMark()> <svg-src svg-name=icon_cancel></svg-src> </button> <div class=title><strong>{{::$ctrl.resources.StartLiveMessageTitle}}</strong></div> <div class=content><strong>{{::$ctrl.resources.StartLiveMessageContent}}</strong></div> </div> </div> <div ng-switch-when=3 class="coach-mark xsmall-12 small-7" ng-show=$ctrl.showScheduledToStartEventCoachMark ng-class="{\'encoder-connected-state-time-passed\': $ctrl.showScheduledToStartEventCoachMark}"> <div class=inner-container> <button class=delete-button aria-label={{::$ctrl.resources.Cancel}} ng-click=$ctrl.cancelStartEventCoachMark()> <svg-src svg-name=icon_cancel></svg-src> </button> <div class=title><strong>{{::$ctrl.resources.StartLivePassedStartTimeMessageTitle}}</strong></div> <div class=content><strong>{{::$ctrl.resources.StartLivePassedStartTimeMessageContent}}</strong></div> </div> </div> </div> <div ng-switch-when=3 class="producer-action-container two-button-width"> <button type=button class="producer-button stream-btn" ng-click=$ctrl.clickDisconnect()> {{::$ctrl.resources.LiveEventControlBarDisconnect}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.startEvent()> {{::$ctrl.resources.LiveEventControlBarStartEvent}} </button> </div> <div ng-switch-when=4 class="producer-action-container two-button-width"> <button type=button class="producer-button stream-btn" ng-click=$ctrl.disconnect() ng-disabled=true> {{::$ctrl.resources.LiveEventControlBarDisconnect}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.startEvent() ng-disabled=true> {{::$ctrl.resources.LiveEventControlBarStartEvent}} </button> </div> <div ng-switch-when=5 class=producer-action-container> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.clickEndEvent()> {{::$ctrl.resources.EndEvent}} </button> </div> <div ng-switch-when=6 class="producer-action-container two-button-width"> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.clickEndEvent() disabled=disabled> {{::$ctrl.resources.EndEvent}} </button> </div> <div ng-switch-when=7 class=producer-action-container> <button type=button class="producer-button stream-btn" ng-click=$ctrl.clickEndEvent() disabled=disabled> {{::$ctrl.resources.EndEvent}} </button> </div> <div ng-switch-when=9 class=producer-action-container> </div> <div ng-switch-when=10 class=producer-action-container> <button type=button class="producer-button stream-btn" ng-click=$ctrl.connectEncoder() disabled=disabled> {{::$ctrl.resources.LiveEventControlBarConnectEncoder}} </button> </div> <div ng-switch-when=11 class="producer-action-container two-button-width"> <button type=button class="producer-button stream-btn" ng-click=$ctrl.disconnect() ng-disabled=true> {{::$ctrl.resources.LiveEventControlBarDisconnect}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.startEvent() ng-disabled=true> {{::$ctrl.resources.LiveEventControlBarStartEvent}} </button> </div> <div ng-switch-when=12 class="producer-action-container two-button-width"> <button type=button class="producer-button stream-btn" ng-click=$ctrl.disconnect() ng-disabled=true> {{::$ctrl.resources.LiveEventControlBarDisconnect}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.startEvent() ng-disabled=true> {{::$ctrl.resources.LiveEventControlBarStartEvent}} </button> </div> <div ng-switch-when=13 class="coach-mark xsmall-12 small-7" ng-show=$ctrl.shouldDisplayAutoCancelCoachMark ng-class="{\'auto-disconnect-state\': $ctrl.shouldDisplayAutoCancelCoachMark}"> <div class=inner-container> <button class=delete-button aria-label={{::$ctrl.resources.Cancel}} ng-click=$ctrl.cancelAutoDisconnectCoachMark()> <svg-src svg-name=icon_cancel></svg-src> </button> <div class=title><strong>{{::$ctrl.resources.AutoDisconnectingLiveMessageTitle}}</strong></div> <div class=content>{{::$ctrl.autoDisconnectingMessage}}</div> </div> </div> <div ng-switch-when=13 class="producer-action-container two-button-width"> <button type=button class="producer-button stream-btn" ng-click=$ctrl.clickDisconnect()> {{::$ctrl.resources.LiveEventControlBarDisconnect}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.startEvent() ng-disabled=true> {{::$ctrl.resources.LiveEventControlBarStartEvent}} </button> </div> <div ng-switch-when=14 class=producer-action-container> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.clickEndEvent()> {{::$ctrl.resources.EndEvent}} </button> </div> <div ng-switch-when=15 class=producer-action-container> <button type=button class="producer-button stream-btn btn-primary2" ng-click=$ctrl.connectEncoder() disabled=disabled> {{::$ctrl.resources.LiveEventControlBarConnectEncoder}} </button> </div> <div ng-switch-when=16 class="producer-action-container two-button-width"> <button type=button class="producer-button stream-btn" ng-click=$ctrl.clickDisconnect()> {{::$ctrl.resources.LiveEventControlBarDisconnect}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.startEvent() disabled=disabled> {{::$ctrl.resources.LiveEventControlBarStartEvent}} </button> </div> <div ng-switch-when=17 class="producer-action-container two-button-width"> <button type=button class="producer-button stream-btn" ng-click=$ctrl.clickDisconnect()> {{::$ctrl.resources.LiveEventControlBarDisconnect}} </button> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.startEvent() disabled=disabled> {{::$ctrl.resources.LiveEventControlBarStartEvent}} </button> </div> <div ng-switch-when=18 class="producer-action-container two-button-width"> <button type=button class="producer-button stream-btn btn-primary" ng-click=$ctrl.clickEndEvent() disabled=disabled> {{::$ctrl.resources.EndEvent}} </button> </div> </div> <div ng-if=!$ctrl.isPartner> <flex-drawer drawer-items=$ctrl.drawerItems flex-mode=false class=producer-more-actions always-open-up=true> <transcludebutton> <button class="c-action-trigger drawer-button drawer-button-stream more-actions-button drawer-button-without-label producer-more-items-button" aria-label={{::$ctrl.resources.PlayerSkin.Settings}} custom-title={{::$ctrl.resources.PlayerSkin.Settings}}> <svg-src svg-name=icon_settings></svg-src> </button> </transcludebutton> </flex-drawer> </div> </div> </div> </div> '},"./app/components/LiveUpdate/ProducerActionBar/ProducerActionBar.less":function(e,t){},"./app/components/LiveUpdate/ProducerActionBar/ProducerActionBar.ts":function(e,t,n){function i(){this.controller=o.ProducerActionBarController,this.template=n("./app/components/LiveUpdate/ProducerActionBar/ProducerActionBar.html"),this.bindings={video:"<",videoEditStateInfo:"<",stopLiveEvent:"&",producerSessionId:"<",playerLoaded:"<",playerErrored:"<",showVolumeButton:"<",isEmbed:"<?",reportAnIssue:"&",embeddedCaptionButtonShown:"<",isAdminMode:"<",showEndOfEventOverlay:"&",isPartner:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/LiveUpdate/ProducerActionBar/ProducerActionBar.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/LiveUpdate/ProducerActionBar/ProducerActionBarController.ts");t.ProducerActionBar=i,r.registerComponent("producerActionBar",i,angular.module("jumper"))},"./app/components/LiveUpdate/ProducerActionBar/ProducerActionBarController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r,o=n("./app/models/TelemetryEventModels.ts"),s=n("./app/utility/appUtil.ts"),a=n("./app/utility/string.ts"),c=n("./app/utility/Constants.ts"),l=n("./app/services/NavigationService.ts"),u=n("./common/Directives/Drawer/Drawer.ts"),d=n("./app/utility/LiveEventUtils.ts"),p=n("./app/vNextBridges/components/VideoEditorBridge/VideoEditorBridge.precheck.ts");(r=i=t.LiveStatus||(t.LiveStatus={}))[r.stopped=0]="stopped",r[r.starting=1]="starting",r[r.idle=2]="idle",r[r.encoderConnected=3]="encoderConnected",r[r.startLive=4]="startLive",r[r.live=5]="live",r[r.toEndLive=6]="toEndLive",r[r.endLive=7]="endLive",r[r.unhealthy=8]="unhealthy",r[r.afterLive=9]="afterLive",r[r.notCreated=10]="notCreated",r[r.disconnecting=11]="disconnecting",r[r.toDisconnect=12]="toDisconnect",r[r.autoDisconnecting=13]="autoDisconnecting",r[r.autoEndingLive=14]="autoEndingLive",r[r.quotaReachedError=15]="quotaReachedError",r[r.encoderNotConnected=16]="encoderNotConnected",r[r.encoderDisconnectedPreview=17]="encoderDisconnectedPreview",r[r.encoderDisconnectedLive=18]="encoderDisconnectedLive";var A=(m.prototype.connectEncoder=function(){var e=this;"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(c.Constants.PostMessages.producerEvent,{eventname:c.Constants.PostMessageSubEventNames.selectStartSetup}),this.featureTelemetryTracker.setResourceId(this.video?this.video.id:null),this.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.selectStartSetup,this.videoTelemetryProperties),this.liveStatus=i.starting,this.videoService.startIngest(this.video.id).then((function(t){var n;t.status&&t.status.toString()===c.Constants.HttpStatusCode.Accepted&&(n=c.Constants.VideoIngestState.starting,e.videoEditStateInfo.ingestState=n,e.featureTelemetryTracker.succeed(o.FeatureName.LiveProducerSetup))}),(function(t){var n=_.get(t,"data.error.message"),r=_.get(t,"data.error.code"),s=_.get(t,"status");e.treatIngestCallErrorAsWarning(s,(function(){return e.videoEditStateInfo.ingestState!==c.Constants.VideoIngestState.stopped})).then((function(a){a?e.featureTelemetryTracker.warn(o.FeatureName.LiveProducerSetup,o.SubFeatureName.VideoService_StartIngest,t):(s==c.Constants.HttpStatusCode.BadRequest&&r===c.Constants.ApiErrorCodes.QuotaExceeded?(e.liveStatus=i.quotaReachedError,e.showStatus=!0):e.liveStatus===i.starting&&(e.liveStatus=i.stopped,e.showGenericError=!0,e.errorMessageContent=n,e.shouldDisplayStartSetupCoachMark=!1),e.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.selectStartSetupFailed,e.videoTelemetryProperties),e.featureTelemetryTracker.fail(o.FeatureName.LiveProducerSetup,o.SubFeatureName.VideoService_StartIngest,t),"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(c.Constants.PostMessages.producerEvent,{eventname:c.Constants.PostMessageSubEventNames.selectStartSetupFailed,message:n,errorcode:r,responsecode:s}))}))}))},m.prototype.cancelSetupCoachMark=function(){this.shouldDisplayStartSetupCoachMark=!1},m.prototype.cancelStartEventCoachMark=function(){this.shouldDisplayStartEventCoachMark=!1},m.prototype.cancelAutoDisconnectCoachMark=function(){this.shouldDisplayAutoCancelCoachMark=!1},Object.defineProperty(m.prototype,"showStartSetupCoachMark",{get:function(){return this.shouldDisplayStartSetupCoachMark&&(!this.showStatus||!this.shouldShowStartSetupReminder)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"showScheduledToSetupCoachMark",{get:function(){return this.shouldDisplayStartSetupCoachMark&&this.showStatus&&this.shouldShowStartSetupReminder},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"showStartEventCoachMark",{get:function(){return this.shouldDisplayStartEventCoachMark&&(!this.isStartTimePassed||this.videoEditStateInfo.isLiveEventScheduledToNow)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"showScheduledToStartEventCoachMark",{get:function(){return this.shouldDisplayStartEventCoachMark&&this.isStartTimePassed&&!this.videoEditStateInfo.isLiveEventScheduledToNow},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isVideoEditorEnabled",{get:function(){return this.featureFlagsService.Values.VideoEditor&&!p.isBrowserBlacklisted(navigator&&navigator.userAgent||"")&&(void 0===this.isEmbed||!1===this.isEmbed)&&!d.isVodlessLiveEvent(this.video)&&(void 0===this.manifestAvailable||this.manifestAvailable)},enumerable:!0,configurable:!0}),m.prototype.startEvent=function(){var e=this;"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(c.Constants.PostMessages.producerEvent,{eventname:c.Constants.PostMessageSubEventNames.selectStartEvent}),this.featureTelemetryTracker.setResourceId(this.video?this.video.id:null),this.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.selectStartEvent,this.videoTelemetryProperties),this.videoService.startBroadcast(this.video.id,{autopublish:!0}).then((function(t){t.status&&t.status.toString()===c.Constants.HttpStatusCode.OK&&(e.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.eventStarted,e.videoTelemetryProperties),e.featureTelemetryTracker.succeed(o.FeatureName.LiveProducerBroadcast),e.$scope.$emit(c.Constants.Events.videoPublished,{id:e.video.id}))}),(function(t){var n=_.get(t,"data.error.message"),r=_.get(t,"data.error.code"),s=_.get(t,"status");e.treatIngestCallErrorAsWarning(s,(function(){return e.videoEditStateInfo.videoState===c.Constants.VideoStatus.Live})).then((function(a){a?e.featureTelemetryTracker.warn(o.FeatureName.LiveProducerBroadcast,o.SubFeatureName.VideoService_StartBroadcast,t):(e.videoEditStateInfo.ingestState===c.Constants.VideoIngestState.idle?e.liveStatus=i.idle:e.videoEditStateInfo.ingestState===c.Constants.VideoIngestState.processing&&(e.liveStatus=i.encoderConnected,e.shouldDisplayStartEventCoachMark=!0),e.showGenericError=!0,e.errorMessageContent=n,e.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.selectStartEventFailed,e.videoTelemetryProperties),e.featureTelemetryTracker.fail(o.FeatureName.LiveProducerBroadcast,o.SubFeatureName.VideoService_StartBroadcast,t),"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(c.Constants.PostMessages.producerEvent,{eventname:c.Constants.PostMessageSubEventNames.selectStartEventFailed,message:n,errorcode:r,responsecode:s}))}))})),this.liveStatus=i.startLive,this.showStatus=!0},m.prototype.disconnect=function(){var e=this;"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(c.Constants.PostMessages.producerEvent,{eventname:c.Constants.PostMessageSubEventNames.selectDisconnect}),this.featureTelemetryTracker.setResourceId(this.video?this.video.id:null),this.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.selectDisconnect,this.videoTelemetryProperties),this.videoService.stopIngest(this.video.id).then((function(t){var n;t.status&&t.status.toString()===c.Constants.HttpStatusCode.Accepted&&(e.liveStatus=i.disconnecting,n=c.Constants.VideoIngestState.stopping,e.videoEditStateInfo.ingestState=n,e.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.setupDisconnected,e.videoTelemetryProperties),e.featureTelemetryTracker.succeed(o.FeatureName.LiveUpdatePage))}),(function(t){var n=_.get(t,"data.error.message"),r=_.get(t,"data.error.code"),s=_.get(t,"status");e.treatIngestCallErrorAsWarning(s,(function(){return e.videoEditStateInfo.ingestState!==c.Constants.VideoIngestState.idle&&e.videoEditStateInfo.ingestState!==c.Constants.VideoIngestState.processing})).then((function(a){a?e.featureTelemetryTracker.warn(o.FeatureName.LiveUpdatePage,o.SubFeatureName.VideoService_StopIngest,t):(e.videoEditStateInfo.ingestState===c.Constants.VideoIngestState.idle?e.liveStatus=i.idle:e.videoEditStateInfo.ingestState===c.Constants.VideoIngestState.processing&&(e.liveStatus=i.encoderConnected,e.shouldDisplayStartEventCoachMark=!0),e.showGenericError=!0,e.errorMessageContent=n,e.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.selectDisconnectFailed,e.videoTelemetryProperties),e.featureTelemetryTracker.fail(o.FeatureName.LiveUpdatePage,o.SubFeatureName.VideoService_StopIngest,t),"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(c.Constants.PostMessages.producerEvent,{eventname:c.Constants.PostMessageSubEventNames.selectDisconnectFailed,message:n,errorcode:r,responsecode:s}))}))}))},m.prototype.stopBroadcast=function(){var e=this;"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(c.Constants.PostMessages.producerEvent,{eventname:c.Constants.PostMessageSubEventNames.selectEndEvent}),this.featureTelemetryTracker.setResourceId(this.video?this.video.id:null),this.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.selectEndEvent,this.videoTelemetryProperties),this.videoService.stopIngest(this.video.id,this.isAdminMode,this.isVideoEditorEnabled?this.ingestStopDelay:void 0).then((function(t){t.status&&t.status.toString()===c.Constants.HttpStatusCode.Accepted&&(e.liveStatus=i.endLive,e.stopLiveEvent(),e.videoEditStateInfo.ingestState=c.Constants.VideoIngestState.stopping,e.reportBroadcastEndSuccess=!0)}),(function(t){var n=_.get(t,"data.error.message"),r=_.get(t,"data.error.code"),s=_.get(t,"status");e.treatIngestCallErrorAsWarning(s,(function(){return e.videoEditStateInfo.videoState===c.Constants.VideoStatus.Completed||e.videoEditStateInfo.ingestState===c.Constants.VideoIngestState.stopping||e.videoEditStateInfo.ingestState===c.Constants.VideoIngestState.stopped})).then((function(a){a?e.featureTelemetryTracker.warn(o.FeatureName.LiveProducerPostprocess,o.SubFeatureName.VideoService_StopIngest,t):(e.liveStatus===i.endLive&&(e.liveStatus=i.live),e.showGenericError=!0,e.errorMessageContent=n,e.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.selectEndEventFailed,e.videoTelemetryProperties),e.featureTelemetryTracker.fail(o.FeatureName.LiveProducerPostprocess,o.SubFeatureName.VideoService_StopIngest,t),"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(c.Constants.PostMessages.producerEvent,{eventname:c.Constants.PostMessageSubEventNames.selectendeventFailed,message:n,errorcode:r,responsecode:s}))}))}))},m.prototype.okButton=function(){this.showStatus=!1},m.prototype.quotaErrorOkButton=function(){this.liveStatus=i.stopped,this.shouldDisplayStartSetupCoachMark=!1},m.prototype.errorOkButton=function(){this.showGenericError=!1},m.prototype.cancelStopButton=function(){this.liveStatus=i.live},m.prototype.noVideoEdit=function(){var e=this,t={resourceId:this.video.id,shouldOpen:!1,durationInSec:this.video.media&&this.video.media.duration?s.formatISODurationToSeconds(this.video.media.duration):-1,playbackUrls:this.video.playbackUrls,videoType:this.video.contentType,videoContentSource:this.video.contentSource};this.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.VideoEditorLoadOptionSelected,t),this.videoService.edit(this.video.id,{}).then((function(){e.featureTelemetryTracker.succeed(o.TelemetryEventNames.VideoEditorPostProcess,t)})).catch((function(n){e.featureTelemetryTracker.fail(o.TelemetryEventNames.VideoEditorPostProcess,o.SubFeatureName.ProcessingVideo,n.data.error.code,t)})),this.showVideoEditOption=!1},m.prototype.yesVideoEdit=function(){var e,t;this.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.VideoEditorLoadOptionSelected,{resourceId:this.video.id,shouldOpen:!0,durationInSec:this.video.media&&this.video.media.duration?s.formatISODurationToSeconds(this.video.media.duration):-1,videoType:this.video.contentType,videoContentSource:this.video.contentSource}),!this.video||!this.video.playbackUrls||_.isEmpty(this.video.playbackUrls)||(e=this.video.playbackUrls.filter((function(e){return"application/dash+xml"===e.mimeType})))&&!_.isEmpty(e)&&(t=e[0],this.videoEditorDialog.open({source:t.playbackUrl,sourceType:t.mimeType,videoContentSource:this.video.contentSource,videoContentVersion:this.video.contentVersion,videoType:this.video.contentType,videoId:this.video.id,videoName:this.video.name,videoDimensions:this.video.media&&{height:this.video.media.height,width:this.video.media.width},isInAdminMode:this.isAdminMode}),this.showVideoEditOption=!1)},m.prototype.startEventOnIdle=function(){this.liveStatus=i.encoderNotConnected,this.showStatus=!0},m.prototype.clickCancelStartEventOnIdle=function(){this.liveStatus=i.idle},m.prototype.clickEndEvent=function(){this.liveStatus=i.toEndLive,this.showStatus=!0},m.prototype.clickDisconnect=function(){this.liveStatus=i.toDisconnect,this.showStatus=!0},Object.defineProperty(m.prototype,"videoUrl",{get:function(){return l.generatePathWithQueryStrings(c.Constants.Routes.Update,this.video.id,{})},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"startSetupCoachMarkTitle",{get:function(){return a.formatString(this.resources.LiveEventControlBarStartSetupCoachMarkTitle,this.resources.LiveEventControlBarConnectEncoder)},enumerable:!0,configurable:!0}),m.prototype.clickCancelDisconnect=function(){this.videoEditStateInfo.ingestState===c.Constants.VideoIngestState.idle?this.liveStatus=i.idle:(this.liveStatus=i.encoderConnected,this.shouldDisplayStartEventCoachMark=!1)},m.prototype.clickEncoderLearnMore=function(){this.$window.open(c.Constants.LiveEncoderLearnMoreLink,"_blank")},m.prototype.encoderNotConnectedMessage=function(){return a.formatString(this.resources.EncoderNotConnectedContent+this.$filter("liveEventStartTimeWithTimezone")(this.video.liveEvent.startTime))},Object.defineProperty(m.prototype,"shouldShowStartSetupReminder",{get:function(){var e=moment(this.video.liveEvent.startTime,moment.ISO_8601),t=moment(this.video.created,moment.ISO_8601),n=moment().add(c.Constants.liveStartingSoonThreshold,"minutes").isAfter(e),i=t.add(c.Constants.liveStartingSoonThreshold,"minutes").isAfter(moment());return n&&!i},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"preparingLiveMessage",{get:function(){if(this.preparingLiveStartTime){var e=moment(this.preparingLiveStartTime),t=moment();return t<e.add(c.Constants.livePreparingLiveSlowThreshold,"seconds")?this.resources.PreparingLiveMessageContent:t<e.add(c.Constants.livePreparingLiveVerySlowThreshold,"seconds")?this.resources.PreparingLiveMessageContentSlow:this.resources.PreparingLiveMessageContentVerySlow}return this.resources.PreparingLiveMessageContent},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isStartTimePassed",{get:function(){var e=moment(this.video.liveEvent.startTime);return moment().isAfter(e)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"autoDisconnectingMessage",{get:function(){return a.formatString(this.resources.AutoDisconnectingLiveMessageContent,this.minutesToShutdown.toString())},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"autoEndingMessage",{get:function(){return a.formatString(this.resources.AutoEndingLiveMessageContent,this.minutesToShutdown.toString())},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isLiveEnded",{get:function(){return this.liveStatus===i.afterLive},enumerable:!0,configurable:!0}),m.prototype.treatIngestCallErrorAsWarning=function(e,t){var n,i,r,o=this,s=this.$q.defer();return e==c.Constants.HttpStatusCode.PreConditionFailed?(n=[],i=this.videoService.get(this.video.id).then((function(e){var t=e.data;o.videoEditStateInfo.videoState=t.state})),n.push(i),r=this.videoService.getIngest(this.video.id).then((function(e){var t=e.data;o.videoEditStateInfo.ingestState=t.state})),n.push(r),this.$q.all(n).finally((function(){s.resolve(t())}))):this.$q.when((function(){s.resolve(!1)})),s.promise},m.prototype.reportAnIssueClicked=function(){this.reportAnIssue()},m.$inject=["$scope","$q","$http","videoService","resources","$filter","$window","$interval","telemetryService","featureFlagsService","videoEditorDialog"],m);function m(e,t,n,r,s,l,p,A,m,h,f){var g=this;this.$scope=e,this.$q=t,this.$http=n,this.videoService=r,this.resources=s,this.$filter=l,this.$window=p,this.$interval=A,this.telemetryService=m,this.featureFlagsService=h,this.videoEditorDialog=f,this.showStatus=!0,this.liveStatus=i.notCreated,this.manifestAvailable=void 0,this.showVideoEditOption=!0,this.isPartner=!1,this.canStartLiveWithoutEncoder=!1,this.shouldDisplayStartSetupCoachMark=!1,this.shouldDisplayStartEventCoachMark=!1,this.shouldDisplayAutoCancelCoachMark=!1,this.ingestStopDelay="0:15:0.0000",this.preparingLiveStartTime=new Date,this.minutesToShutdown=5,this.reportBroadcastEndSuccess=!1,this.videoTelemetryProperties={videoId:this.video.id,producerSessionId:this.producerSessionId,serverIngestUrl:this.videoEditStateInfo.mainIngestUrl},this.featureTelemetryTracker=this.telemetryService.getTracker(o.ScreenName.LiveUpdate),this.$scope.$watchGroup([function(){return g.videoEditStateInfo.videoState},function(){return g.videoEditStateInfo.ingestState}],(function(e,t){t[0];var n,r,s,l,u,p=t[1];e[0],e[1],g.videoEditStateInfo.videoState===c.Constants.VideoState.creating&&(g.liveStatus=i.notCreated),g.videoEditStateInfo.ingestState===c.Constants.VideoIngestState.stopped&&g.videoEditStateInfo.videoState===c.Constants.VideoState.created?(g.showStatus=!0,g.liveStatus=i.stopped,g.shouldDisplayStartSetupCoachMark=!0):g.videoEditStateInfo.ingestState===c.Constants.VideoIngestState.starting&&g.videoEditStateInfo.videoState===c.Constants.VideoState.created?(g.liveStatus=i.starting,g.preparingLiveStartTime=new Date):g.videoEditStateInfo.ingestState===c.Constants.VideoIngestState.idle&&g.videoEditStateInfo.videoState===c.Constants.VideoState.created?g.liveStatus=i.idle:g.videoEditStateInfo.ingestState===c.Constants.VideoIngestState.processing&&g.videoEditStateInfo.videoState===c.Constants.VideoState.created?_.isNil(p)||g.playerLoaded?(g.featureTelemetryTracker.setResourceId(g.video?g.video.id:null),g.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.setupStarted,g.videoTelemetryProperties),g.liveStatus=i.encoderConnected,g.shouldDisplayStartEventCoachMark=!0):(g.playerDelayTimer&&g.$interval.cancel(g.playerDelayTimer),g.playerDelayTimer=g.$interval((function(){g.showStatus=!0,g.liveStatus===i.idle&&(g.featureTelemetryTracker.setResourceId(g.video?g.video.id:null),g.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.setupStarted,g.videoTelemetryProperties),g.liveStatus=i.encoderConnected,g.shouldDisplayStartEventCoachMark=!0)}),portalConfiguration.PlayerLiveInitTimeInMS,1)):g.videoEditStateInfo.ingestState!==c.Constants.VideoIngestState.idle&&g.videoEditStateInfo.ingestState!==c.Constants.VideoIngestState.processing||g.videoEditStateInfo.videoState!==c.Constants.VideoState.live?g.videoEditStateInfo.ingestState!==c.Constants.VideoIngestState.stopping||g.liveStatus===i.afterLive||g.videoEditStateInfo.videoState!==c.Constants.VideoState.live&&g.videoEditStateInfo.videoState!==c.Constants.VideoState.completed?g.videoEditStateInfo.ingestState===c.Constants.VideoIngestState.stopping&&g.videoEditStateInfo.videoState===c.Constants.VideoState.created?g.liveStatus=i.disconnecting:g.videoEditStateInfo.videoState===c.Constants.VideoState.completed&&(n=function(){g.liveStatus=i.afterLive,g.reportBroadcastEndSuccess&&(g.featureTelemetryTracker.setResourceId(g.video?g.video.id:null),g.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.eventEnded,g.videoTelemetryProperties),g.featureTelemetryTracker.succeed(o.FeatureName.LiveProducerPostprocess),g.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.VideoEditOptionDisplayedForLive,{shouldDisplayDialog:g.isVideoEditorEnabled}),g.reportBroadcastEndSuccess=!1)},r=g.video&&g.video.playbackUrls&&!_.isEmpty(g.video.playbackUrls),s=g.video.playbackUrls.filter((function(e){return"application/dash+xml"===e.mimeType}))[0],g.isVideoEditorEnabled&&void 0===g.manifestAvailable&&r&&!_.isEmpty(s.playbackUrl)?(l={method:"GET",url:s.playbackUrl},g.$http(l).then((function(e){return g.manifestAvailable=e.status&&e.status.toString()===c.Constants.HttpStatusCode.OK})).catch((function(e){return g.manifestAvailable=!1})).finally(n)):(n(),d.isVodlessLiveEvent(g.video)&&(g.showEndOfEventOverlay(),g.liveStatus===i.afterLive&&(u=a.formatString(c.Constants.Routes.Update,g.video.id).toLowerCase(),window.location.href.toLowerCase().endsWith(u)||window.open(u,"_self"))))):g.liveStatus=i.endLive:g.liveStatus=i.live})),this.$scope.$on(c.Constants.Events.Notification_LiveAutoShutdown,(function(e,t){var n;t&&t.videoId===g.video.id&&(g.videoEditStateInfo.videoState!==c.Constants.VideoState.live?(g.liveStatus=i.autoDisconnecting,g.shouldDisplayAutoCancelCoachMark=!0):g.liveStatus=i.autoEndingLive,(n=moment.duration(t.shutdownTime))&&(g.minutesToShutdown=n.asMinutes()),"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(c.Constants.PostMessages.producerEvent,{eventname:c.Constants.PostMessageSubEventNames.eventAutoShutdown}))})),this.$scope.$on("producerEncoderDisconnect",(function(){g.videoEditStateInfo.videoState!==c.Constants.VideoState.live?g.liveStatus=i.encoderDisconnectedPreview:g.liveStatus=i.encoderDisconnectedLive,g.showStatus=!0})),this.$scope.$on("producerEncoderConnect",(function(){g.liveStatus!==i.encoderDisconnectedPreview&&g.liveStatus!==i.encoderDisconnectedLive||(g.liveStatus=i.encoderConnected)})),this.$scope.$on("$destroy",(function(){g.playerDelayTimer&&g.$interval.cancel(g.playerDelayTimer)})),this.drawerItems=[],this.telemetryService.isUserFeedbackSupported()&&this.drawerItems.push(new u.DrawerItem("producer-action-bar-report-issue",this.resources.PlayerSkin.ReportAnIssueButtonText,this.reportAnIssueClicked.bind(this),null))}t.ProducerActionBarController=A},"./app/components/LiveUpdate/VideoAnalytics/VideoAnalytics.html":function(e,t){e.exports='<div class=video-analytics-container ng-if=!$ctrl.isSmallSize> <div class=empty-state ng-if="!$ctrl.hasData && !$ctrl.isVod"> <svg-src class=empty-state-icon svg-name=icon_info_balloon></svg-src> <span class=empty-state-message>{{::$ctrl.resources.LiveAnalyticsEmptyStateMessage}}</span> </div> <div class=analytics-data-container ng-if="$ctrl.hasData || $ctrl.isVod"> <div class=live-viewers-panel ng-if=!$ctrl.isVod> <div class=live-viewer-value ng-if=!$ctrl.isLiveNow>—</div> <div class=live-viewer-value ng-if=$ctrl.isLiveNow>{{$ctrl.liveViewerCount | localNumber}}</div> <div class=live-viewer-label>{{::$ctrl.resources.LiveAnalyticsCurrentViewers}}</div> </div> <div class=view-count-panel> <div class=view-count-value>{{$ctrl.videoViews | localNumber}}</div> <div class=view-count-label>{{::$ctrl.resources.LiveAnalyticsViews}}</div> </div> <div class=like-count-panel> <div class=like-count-value>{{$ctrl.videoLikes | localNumber}}</div> <div class=like-count-label> <svg-src class=likes-icon svg-name=icon_likes></svg-src> <span>{{::$ctrl.resources.LiveAnalyticsLikes}}</span> </div> </div> <div class=sdn-analytics-link ng-if=$ctrl.providerUrl> <div class=sdn-analytics-inner-container> <a external-link ng-href={{$ctrl.providerUrl}} ng-click=$ctrl.onProviderReportClick() aria-label={{$ctrl.providerDisplayString}} target=_blank class=c-hyperlink> <span class=link-content> <svg-src class=sdn-analytics-icon svg-name=icon_sdn_analytics></svg-src> <span class=link-text>{{$ctrl.providerDisplayString}}</span> </span> </a> <tooltip message=$ctrl.providerLinkToolTip button-aria-label={{::$ctrl.providerLinkToolTip}}> </tooltip> </div> </div> <div class=download-panel ng-if=$ctrl.isDownloadAnalyticsEnabled> <div class=download-csv> <button type=button ng-disabled=$ctrl.isDownloadingCSV class="c-glyph c-action-trigger download-csv-btn" ng-click=$ctrl.onDownloadCSV() aria-label={{::$ctrl.resources.DownloadCSV}}> {{::$ctrl.resources.DownloadCSV}} </button> </div> </div> </div> </div> <span class=live-analytics-container-small ng-if="$ctrl.isSmallSize && $ctrl.isLiveNow"> <span class="live-viewer-count metric-inline-flex" custom-title="{{$ctrl.liveViewerCount | localNumber | videoLiveCurrentViewers}}" aria-label="{{$ctrl.liveViewerCount | localNumber | videoLiveCurrentViewers}}"> <span aria-hidden=true>{{$ctrl.liveViewerCount | localNumber}}</span> <svg-src svg-name=icon_live_views class=metric-icon aria-hidden=true></svg-src> </span> <span class="like-count metric-inline-flex" custom-title="{{$ctrl.videoLikes | localNumber | videoLikes}}" aria-label="{{$ctrl.videoLikes | localNumber | videoLikes}}"> <span aria-hidden=true>{{$ctrl.videoLikes | localNumber}}</span> <svg-src svg-name=icon_likes class=metric-icon aria-hidden=true></svg-src> </span> </span>'},"./app/components/LiveUpdate/VideoAnalytics/VideoAnalytics.less":function(e,t){},"./app/components/LiveUpdate/VideoAnalytics/VideoAnalytics.ts":function(e,t,n){function i(){this.controller=o.VideoAnalyticsController,this.template=n("./app/components/LiveUpdate/VideoAnalytics/VideoAnalytics.html"),this.bindings={video:"<",isInAdminMode:"<",videoEditStateInfo:"<",videoTokens:"<",isProducer:"<",isSmallSize:"<",isVod:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/LiveUpdate/VideoAnalytics/VideoAnalytics.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/LiveUpdate/VideoAnalytics/VideoAnalyticsController.ts");t.VideoAnalytics=i,r.registerComponent("videoAnalytics",i,angular.module("jumper"))},"./app/components/LiveUpdate/VideoAnalytics/VideoAnalyticsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/appUtil.ts"),o=n("./app/models/TelemetryEventModels.ts"),s=n("./app/utility/string.ts"),a=(Object.defineProperty(c.prototype,"hasData",{get:function(){return this.video.contentSource===i.Constants.VideoContentSource.liveStream&&this.videoState!==i.Constants.VideoStatus.Created&&this.video.id!==i.Constants.preCreationVideoId},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isDownloadAnalyticsEnabled",{get:function(){return this.featureFlagsService.Values.DownloadAnalytics&&void 0!==this.downloadCSVUrl},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isLiveNow",{get:function(){return this.video&&this.videoState===i.Constants.VideoStatus.Live},enumerable:!0,configurable:!0}),c.prototype.onProviderReportClick=function(){this.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.ProviderReportLinkClicked)},c.prototype.onDownloadCSV=function(){this.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.DownloadCSVButtonClicked),void 0!==this.downloadCSVUrl?(this.isDownloadingCSV=!0,this.mediaDownloaderService.downloadFile(this.downloadCSVUrl)):this.featureTelemetryTracker.fail(o.FeatureName.AudienceAnalytics,o.SubFeatureName.AudienceAnalytics_DownloadCSV,"DownloadCSVUrl is undefined onDownloadCSV button click"),this.isDownloadingCSV=!1},c.prototype.setDownloadCSVUrl=function(){var e=this;this.mediaDownloaderService.getAnalyticsFileUrl(this.video.id,this.video.name.toString(),this.featureTelemetryTracker,this.isInAdminMode).then((function(t){e.downloadCSVUrl=t})).catch((function(t){e.featureTelemetryTracker.fail(o.FeatureName.AudienceAnalytics,o.SubFeatureName.VideoService_GetAnalyticsDownloadUrl,t)}))},Object.defineProperty(c.prototype,"videoUserDataToken",{get:function(){return _.find(this.videoTokens,(function(e){return e.type===i.Constants.VideoTokenTypes.videoUserData}))},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isVideoTokenExpiring",{get:function(){return moment(r.getLocalDateFromISODateTime(this.videoUserDataToken.expirationDate)).isBefore(moment().add(15,"m"))},enumerable:!0,configurable:!0}),c.prototype.getVideoTokens=function(){var e=this;return this.videoService.getTokens(this.video.id).then((function(t){e.videoTokens=_.get(t,"data.value"),e.featureTelemetryTracker.succeed(o.FeatureName.GetVideo)}),(function(t){e.featureTelemetryTracker.fail(o.FeatureName.GetVideo,o.SubFeatureName.VideoService_GetTokens,t)}))},c.prototype.setupDataPoll=function(){var e=this;this.videoState===i.Constants.VideoStatus.Live&&this.videoUserDataToken&&(this.videoDataPollPromise=this.$interval((function(){e.pollData()}),i.Constants.VideoAnalyticsDataPollInterval),this.pollData())},c.prototype.pollData=function(){var e=this;this.isVideoTokenExpiring&&this.getVideoTokens(),this.videoService.get(this.video.id,!1,!0).then((function(t){var n=t.data;n.metrics&&e.getAnalyticsData(n),e.videoState=n.state}),(function(t){e.featureTelemetryTracker.warn(o.FeatureName.GetVideo,o.SubFeatureName.VideoService_GetVideo,t)}))},c.prototype.getSdnProviderAnalyticsLink=function(){var e=this;this.tenantService.getSettings().then((function(t){var n=_.get(t.data,"system.networkCaching.providerVideoUrl",null);n&&-1<n.indexOf(i.Constants.sdnAnalyticsReplaceStrings.videoId)&&(-1<(n=n.replace(i.Constants.sdnAnalyticsReplaceStrings.videoId,e.video.id)).indexOf(i.Constants.sdnAnalyticsReplaceStrings.tenantId)&&(n=n.replace(i.Constants.sdnAnalyticsReplaceStrings.tenantId,_.get(t.data,"system.networkCaching.customerId",""))),e.providerUrl=n,e.providerName=_.get(t.data,"system.networkCaching.provider",null),e.providerName=e.providerName.replace(/^\w/,(function(e){return e.toUpperCase()})))})),this.videoIdWatcher&&this.videoIdWatcher()},Object.defineProperty(c.prototype,"providerDisplayString",{get:function(){return this.providerName?s.formatString(this.resources.SdnProviderUrlDisplay,this.providerName):null},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"providerLinkToolTip",{get:function(){return this.providerName?s.formatString(this.resources.SdnProviderToolTip,this.providerName):null},enumerable:!0,configurable:!0}),c.prototype.getAnalyticsData=function(e){this.liveViewerCount=e.metrics.concurrentViewers,this.videoViews=e.metrics.views>this.liveViewerCount?e.metrics.views:this.liveViewerCount,this.videoLikes=e.metrics.likes},c.$inject=["$scope","resources","telemetryService","featureFlagsService","$interval","videoService","notificationService","tenantService","mediaDownloaderService","$q"],c);function c(e,t,n,r,s,a,c,l,u,d){var p=this;this.$scope=e,this.resources=t,this.telemetryService=n,this.featureFlagsService=r,this.$interval=s,this.videoService=a,this.notificationService=c,this.tenantService=l,this.mediaDownloaderService=u,this.$q=d,this.providerUrl=null,this.featureTelemetryTracker=this.telemetryService.getTracker(o.ScreenName.Auto,o.ResourceType.Video,this.video.id),this.video.metrics&&this.getAnalyticsData(this.video),this.videoState=this.video.state,this.videoEditStateInfo&&(this.videoState=this.videoEditStateInfo.videoState,e.$watch((function(){return p.videoEditStateInfo.videoState}),(function(e){p.videoState=p.videoEditStateInfo.videoState}))),e.$on(i.Constants.Events.Notification_JoinVideoGroupFailed,(function(e,t){p.video.id===t.videoId&&p.videoService.getTokens(p.video.id)})),setTimeout((function(){!p.videoTokens&&p.video.tokens&&(p.videoTokens=p.video.tokens),p.$scope.$watch((function(){return p.videoTokens}),(function(e){var t;!e||p.video.contentSource!==i.Constants.VideoContentSource.liveStream||p.videoState===i.Constants.VideoStatus.Completed||(t=p.videoUserDataToken)&&p.featureFlagsService.Values.NewNotifications&&c.addOrUpdateJoinVideoGroupList(p.video.id,t.payload)})),p.isProducer&&(p.videoState===i.Constants.VideoStatus.Live&&p.setupDataPoll(),p.$scope.$watch((function(){return p.videoState}),(function(e,t){e!==t&&(e===i.Constants.VideoStatus.Live?p.setupDataPoll():p.videoDataPollPromise&&p.$interval.cancel(p.videoDataPollPromise),t===i.Constants.VideoStatus.Live&&e===i.Constants.VideoStatus.Completed&&p.pollData())}))),p.$scope.$watch((function(){return p.video.metrics.likes}),(function(e,t){e!==t&&(p.videoLikes=p.video.metrics.likes)})),p.$scope.$on(i.Constants.Events.Notification_ConcurrentViewers,(function(e,t){t&&t.videoId===p.video.id&&(p.liveViewerCount=t.concurrentViewers,p.videoViews=p.video.metrics.views>p.liveViewerCount?p.video.metrics.views:p.liveViewerCount)})),p.$scope.$on(i.Constants.Events.Notification_VideoStateChange,(function(e,t){t&&t.videoId===p.video.id&&(p.videoState=t.videoState)}))}),0),this.$scope.$on("$destroy",(function(){p.videoDataPollPromise&&p.$interval.cancel(p.videoDataPollPromise),c.leaveVideoGroup(p.video.id)})),this.featureFlagsService.Values.NetworkCaching&&(this.video.id===i.Constants.preCreationVideoId?this.videoIdWatcher=this.$scope.$watch((function(){return p.video.id}),(function(e){e!==i.Constants.preCreationVideoId&&p.getSdnProviderAnalyticsLink()})):this.getSdnProviderAnalyticsLink()),this.featureFlagsService.Values.DownloadAnalytics&&this.setDownloadCSVUrl()}t.VideoAnalyticsController=a},"./app/components/LiveUpdate/VideoPlayerView/VideoPlayerView.html":function(e,t){e.exports='<div class=video-player-view> <div class=player-content-wrapper> <div id=playerContent class=player-content> <div class=player-inner-content> <div class=video-feedback ng-if=$ctrl.isReportIssueOpen trap-focus> <div ng-if=$ctrl.isReportIssueFormVisible> <div class=video-feedback-brand-header>{{::$ctrl.resources.MicrosoftStream}}</div> <h2 class="video-feedback-title title-heading">{{::$ctrl.resources.VideoFeedbackTitle}}</h2> <div class=video-feedback-container> <div class=video-feedback-subtitle-container> <span>{{::$ctrl.feedbackDialogSubtitle}}</span> <a external-link class=video-feedback-privacy-url ng-href={{::$ctrl.reportPlayerIssuePrivacyUrl}}> {{::$ctrl.resources.VideoFeedbackPrivacyStatement}} </a> </div> <div class=video-feedback-content> <textarea class="f-no-resize ct-textarea-compact video-feedback-message" name=videoFeedbackMessageTextarea auto-focus placeholder={{::$ctrl.resources.VideoFeedbackMessagePlaceholderText}} aria-label={{::$ctrl.resources.VideoFeedbackMessagePlaceholderText}} ng-model=$ctrl.reportPlayerIssueCustomMessage maxlength={{::$ctrl.reportPlayerIssueMaxLength}}>\r\n                                </textarea> <div class="c-checkbox ct-checkbox ct-checkbox-white video-feedback-consent-checkbox"> <label class="c-label ct-label-compact"> <input type=checkbox name=user-consent-to-email-back ng-model=$ctrl.consentToEmail /> <span>{{::$ctrl.resources.UserFeedbackEmailConfirmation}}</span> </label> </div> <input class="ct-textbox-compact video-feedback-email" type=email name=feedbackEmail ng-model=$ctrl.reportPlayerIssueContactEmail ng-disabled=!$ctrl.consentToEmail placeholder={{::$ctrl.resources.VideoFeedbackContactEmailPlaceholderText}} aria-label={{::$ctrl.resources.VideoFeedbackContactEmailPlaceholderText}} maxlength=100>  </div> <div class=video-feedback-action-container> <button class="stream-btn btn-primary submit-button" type=submit ng-click=$ctrl.submitButtonClicked()>{{::$ctrl.resources.SubmitReport}}</button> <button class="stream-btn cancel-button" ng-click=$ctrl.resetAndCloseReportIssue()>{{::$ctrl.resources.Cancel}}</button> </div> </div> </div> <div ng-if=$ctrl.isReportIssueConfirmVisible> <div class=video-feedback-brand-header>{{::$ctrl.resources.MicrosoftStream}}</div> <h2 class="video-feedback-title title-heading">{{::$ctrl.resources.VideoFeedbackReportedTitle}}</h2> <div class=video-feedback-container> <div class=video-feedback-subtitle-container> <span>{{::$ctrl.feedbackReportedDialogSubtitle}}</span> </div> <div class=video-feedback-action-container> <button class="stream-btn btn-primary submit-button" type=submit ng-click=$ctrl.resetAndCloseReportIssue()>{{::$ctrl.resources.VideoFeedbackReportCompletedButton}}</button> </div> </div> </div> </div> <div ng-if="!$ctrl.isVideoPlayerShown && $ctrl.isContentSourceLiveStream && !$ctrl.isErrorOccured"> <live-player-overlay class=player-overlay video-item=$ctrl.videoItem ng-if="!$ctrl.isCompleted && !$ctrl.isStopping && !$ctrl.showFakePlayButton && !$ctrl.isErrorOccured && !$ctrl.isReplacing" video-edit-state-info=$ctrl.videoEditStateInfo is-producer-view=$ctrl.isProducerView></live-player-overlay> </div> <media-player player-options=$ctrl.playerOptions media-player-id=$ctrl.videoEditStateInfo.mediaPlayerId ng-if="$ctrl.isVideoPlayerShown && !$ctrl.showFakePlayButton && !$ctrl.isErrorOccured" on-viewed=$ctrl.onVideoViewed() on-deleted-or-replaced=$ctrl.refreshVideoMetadata() is-live-event-stopped=$ctrl.isLiveEventStopped() summary-heartbeat=$ctrl.summaryHeartbeat(properties) playback-summary=$ctrl.playbackSummary(properties) on-error="$ctrl.onPlayerError(metrics, traceId, isWarning, eventType)" trace-player-logs-and-return-trace-id="$ctrl.tracePlayerLogsAndReturnTraceId(eventName, flushLog, logMediaInternals)" on-player-retry="$ctrl.onPlayerRetry(retryCount, metrics, traceId, isWarning, eventType, enableTelemetry, manualRetry, errorCode, reason)" on-play=$ctrl.onPlayEvent() on-canplaythrough=$ctrl.onCanplaythrough() on-init="$ctrl.onInit({ seekFunction: seekFunction, getCurrentTime: getCurrentTime, play: play, pause: pause, toggleTheaterMode: toggleTheaterMode })" on-time-update=$ctrl.onTimeUpdateEvent(currentTime) preload=$ctrl.preload enable-theater-mode=$ctrl.enableTheaterMode enter-theater-mode="$ctrl.toggleTheaterMode({enable: true})" exit-theater-mode="$ctrl.toggleTheaterMode({enable: false})" on-user-active=$ctrl.onUserActive() player-events-tracker=$ctrl.playerEventsTracker() on-user-inactive=$ctrl.onUserInactive() on-pause=$ctrl.onPause() enable-search=$ctrl.enableSearch on-search=$ctrl.onSearch() on-player-ended=$ctrl.changeVideoStateToCompleted() default-muted=$ctrl.defaultMuted video-link=$ctrl.videoLink on-sdn-init-success=$ctrl.onSdnInitSuccess(details) on-sdn-init-failure=$ctrl.onSdnInitFailure(details) on-sdn-fatal-error=$ctrl.onSdnFatalError(details) on-report-issue=$ctrl.onReportIssue() on-last-amp-error-change=$ctrl.onLastAmpErrorChange(lastAmpError) playback-session-id=$ctrl.playbackSessionId is-producer-view=$ctrl.isProducerView is-live-event-completed=$ctrl.isCompleted timed-events=$ctrl.video.timedEvents on-player-caption-detected=$ctrl.onPlayerCaptionDetected() video-id=$ctrl.video.id content-version=$ctrl.video.contentVersion ng-class=" { \'hide-amp-controlbar\' : $ctrl.isProducerView && !$ctrl.hideControlBar } " on-forms-token-post-message=$ctrl.getFormsAuthToken() on-demand-options=$ctrl.video.liveEvent.liveEventOptions.onDemandOptions show-end-of-event-overlay=$ctrl.onAudienceDidReachEndOfVodlessPlayback() reload-updated-video=$ctrl.reloadUpdatedVideo() is-audio-only=$ctrl.video.media.isAudioOnly> </media-player> <div ng-if=$ctrl.showFakePlayButton class=video-poster-container role=button aria-live=polite aria-label={{::$ctrl.resources.PlayVideo}} ng-click=$ctrl.onPosterImagePlay() style=background-image:url({{$ctrl.video.posterImage.large.url}}) data-ng-src={{$ctrl.videoThumbnailDataUrl}}> <div class="c-action action-button c-glyph big-play-button" ng-style="{\'pointer-events\': $ctrl.fakePlayButonPointerEvents}"> <svg-src svg-name=icon_play_fill inline-with-text=true class=action-button-svg></svg-src> </div> </div> <error-box ng-if=$ctrl.isErrorOccured class=video-error title-str={{$ctrl.resources.VideoPlayer.EncoderErrorCode}} no-actions=true encoder-error=true player-page=true /> <producer-action-bar video=$ctrl.video video-edit-state-info=$ctrl.videoEditStateInfo player-loaded=$ctrl.playerLoaded show-volume-button=$ctrl.showVolumeButton player-errored=$ctrl.playerErrored ng-if="$ctrl.isProducerView && !$ctrl.hideControlBar" stop-live-event=$ctrl.stopLiveEvent() producer-session-id=$ctrl.producerSessionId is-embed=$ctrl.isEmbed is-partner=$ctrl.isPartner embedded-caption-button-shown=$ctrl.embeddedCaptionButtonShown report-an-issue=$ctrl.onReportIssue() is-admin-mode=$ctrl.isInAdminMode show-end-of-event-overlay=$ctrl.onAudienceDidReachEndOfVodlessPlayback()></producer-action-bar> </div> </div> </div> </div>'},"./app/components/LiveUpdate/VideoPlayerView/VideoPlayerView.less":function(e,t){},"./app/components/LiveUpdate/VideoPlayerView/VideoPlayerView.ts":function(e,t,n){function i(){this.controller=o.VideoPlayerViewController,this.template=n("./app/components/LiveUpdate/VideoPlayerView/VideoPlayerView.html"),this.bindings={video:"<",videoItem:"<",isProducerView:"<",isPartner:"<",onViewed:"&",onTimeUpdate:"&",preload:"<",videoEditStateInfo:"<",videoIngest:"=",videoTokens:"<",toggleTheaterMode:"&",onInit:"&",enableTheaterMode:"<",isInAdminMode:"<",onUserActive:"&",onUserInactive:"&",onPause:"&",onPlay:"&",enableSearch:"<",onSearch:"&",autoPlay:"<",defaultMuted:"<",onVideoCompleted:"&",videoLink:"<",isYammerAvailable:"<",isYammerLoaded:"<",yammerEvents:"<",producerSessionId:"<",sdnInitSuccess:"&",sdnInitFailure:"&",sdnFatalError:"&",isCompletedOnLoad:"<",screen:"<",isEmbed:"<?",notifyEmbed:"&",app:"<",disableFakePlayButtonPointerEvents:"<",embeddedCaptionButtonShown:"<",onFormsTokenPostMessage:"&",onAudienceDidReachEndOfVodlessPlayback:"&",isReplacing:"<?",reloadUpdatedVideo:"&"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/LiveUpdate/VideoPlayerView/VideoPlayerView.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/LiveUpdate/VideoPlayerView/VideoPlayerViewController.ts");t.VideoPlayerView=i,r.registerComponent("videoPlayerView",i,angular.module("jumper"))},"./app/components/LiveUpdate/VideoPlayerView/VideoPlayerViewController.ts":function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s,a=n("./app/utility/PlayerOption.ts"),c=n("./app/utility/LiveEventUtils.ts"),l=n("./common/components/MediaPlayer/PlayerPageTelemetryBaseClass.ts"),u=n("./app/utility/Constants.ts"),d=n("./app/models/TelemetryEventModels.ts"),p=n("./app/utility/appUtil.ts"),A=n("./node_modules/@msstream/services-one-customer-voice/index.ts"),m=n("./app/utility/string.ts"),h=n("./node_modules/ua-parser-js/src/ua-parser.js");(s=o=o||{})[s.Closed=0]="Closed",s[s.Form=1]="Form",s[s.Confirm=2]="Confirm";var f,g=(r(v,f=l.PlayerPageTelemetryBaseClass),v.prototype.changeVideoStateToCompleted=function(){var e;this.videoEditStateInfo&&this.videoEditStateInfo.videoState&&(e=u.Constants.VideoStatus.Completed,this.videoEditStateInfo.videoState=e,this.videoEditStateInfo.isReplacingVideo=!1,this.additionalTelemetryProperties.state=e,this.ingestTelemetryProperties.state=e),this.onVideoCompleted()},v.prototype.checkAndSendTelemetry=function(e){this.isSummaryTelemetrySent||(this.sendPlayerTelemetrySummary(e),this.isSummaryTelemetrySent=!0)},v.prototype.pageLeaveAlertCondition=function(){return this.isProducerView&&!this.isVideoDeleted&&this.videoEditStateInfo.ingestState&&this.videoEditStateInfo.ingestState!==u.Constants.VideoIngestState.stopped&&this.videoEditStateInfo.ingestState!==u.Constants.VideoIngestState.stopping&&this.videoEditStateInfo.ingestState!==u.Constants.VideoIngestState.completed},Object.defineProperty(v.prototype,"showVolumeButton",{get:function(){return this.isVideoPlayerShown&&!this.showFakePlayButton&&this.playerLoaded&&!this.playerErrored&&!this.isErrorOccured},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"isReplaceVideoEnabled",{get:function(){return this.featureFlagsService.Values.ReplaceVideo},enumerable:!0,configurable:!0}),v.prototype.trackIngestStateChanges=function(e){this.ingestTelemetryProperties.previousIngestState=this.ingestTelemetryProperties.newIngestState,this.ingestTelemetryProperties.newIngestState=e,this.featureTelemetryTracker.setResourceId(this.videoId),this.featureTelemetryTracker.trackEvent(d.TelemetryEventNames.producerIngestStateChanged,this.ingestTelemetryProperties)},v.prototype.setupAttendeeView=function(){this.video.state===u.Constants.VideoStatus.Completed||this.videoEditStateInfo&&this.videoEditStateInfo.videoState===u.Constants.VideoStatus.Completed?this.setMediaPlayerOptions():this.video.state===u.Constants.VideoStatus.Live||this.videoEditStateInfo&&this.videoEditStateInfo.videoState===u.Constants.VideoStatus.Live?this.startOfLiveActions():(this.isReplacing&&this.setMediaPlayerOptions(),this.scheduleNextPollMedia())},v.prototype.setupProducerView=function(){var e,t=this;this.video.id!==u.Constants.preCreationVideoId?(this.video.state!==u.Constants.VideoStatus.Completed&&!this.isReplacing||(this.hideControlBar=!0),this.featureTelemetryTracker.setResourceId(this.videoId),this.video.state!==u.Constants.VideoStatus.Completed&&!this.isReplacing||this.setMediaPlayerOptions(),this.pollMedia()):e=this.$scope.$watch((function(){return t.video.id}),(function(n,i){n!==i&&i===u.Constants.preCreationVideoId&&n!==u.Constants.preCreationVideoId&&(t.pollMedia(),t.additionalTelemetryProperties.resourceId===u.Constants.preCreationVideoId&&(t.additionalTelemetryProperties.resourceId=t.video.id),t.ingestTelemetryProperties.videoId=t.video.id,t.ingestTelemetryProperties.creatorApp=t.getCreationApplication(),t.videoId=t.video.id,t.featureTelemetryTracker.setResourceId(t.videoId),t.additionalTelemetryProperties.creatorApp=t.getCreationApplication(),e())}))},v.prototype.checkManifestUrls=function(e){var t,n=this.$q.defer(),i=_.find(e,(function(e){return e.mimeType===u.Constants.VideoMimeTypes.smooth}));return i?(t={method:"GET",url:i.playbackUrl},this.$http(t).then((function(){n.resolve()}),(function(){n.reject()}))):n.reject(),n.promise},v.prototype.updatePlayerViewBasedOnIngest=function(){var e=this;this.isVideoPlayerShown||(this.videoEditStateInfo.videoState===u.Constants.VideoStatus.Created||this.videoEditStateInfo.videoState===u.Constants.VideoStatus.Live)&&this.videoIngest&&this.videoIngest.previewUrls&&this.videoIngest.previewUrls.length&&this.checkManifestUrls(this.videoIngest.previewUrls).then((function(){var t;e.videoEditStateInfo.ingestState===u.Constants.VideoIngestState.idle?(e.isOverrideIngestIdleToProcessing=!0,t=u.Constants.VideoIngestState.processing,e.videoEditStateInfo.ingestState=t,e.ingestTelemetryProperties.previousIngestState=e.ingestTelemetryProperties.newIngestState,e.ingestTelemetryProperties.newIngestState=t,e.featureTelemetryTracker.trackEvent(d.TelemetryEventNames.producerIngestStateChanged,e.ingestTelemetryProperties)):e.setMediaPlayerOptions()}))},v.prototype.getSdnTelemetryProperties=function(){return{sdnName:this.sdnUtilService.sdnSettings.provider,sdnVersion:this.sdnUtilService.getPluginVersion(),sdnCdnUrl:this.sdnUtilService.getSdnScriptUrl()}},v.prototype.setMediaPlayerOptions=function(e){var t=this;void 0===e&&(e=!1);var n,i,r,o=[],s=!1,c=!1;!1===this.preload&&!1===this.autoPlay?(this.showFakePlayButton=!0,this.setUpPlayerFunctionsPostMessaging()):(this.isCompletedOnLoad&&(this.textTrackDataService=this.textTrackDataFactory(this.video.id,this.isInAdminMode),n=this.textTrackDataService.query().then((function(e){t.textTracks=e.data.value}),(function(e){t.featureTelemetryTracker.warn(d.FeatureName.LoadVideoPlayer,d.SubFeatureName.TextTrackDataService_Query,e)})),o.push(n)),this.tenantHasSdn?(i=this.sdnUtilService.loadSdnPlugin().then((function(){t.featureTelemetryTracker.succeed(d.FeatureName.LoadSdnPlugin),s=!0}),(function(e){t.featureTelemetryTracker.fail(d.FeatureName.LoadSdnPlugin,d.SubFeatureName.SDN_Plugin_File,e,t.getSdnTelemetryProperties(),!0)})),o.push(i)):this.isSdnEnabled&&(i=this.sdnPluginService.loadPluginScript().then((function(){c=!0}),(function(){})),o.push(i)),this.videoUserDataToken&&!this.isVideoTokenExpiring||(r=this.getVideoTokens(),o.push(r)),this.$q.all(o).finally((function(){var n,i;(i=(n=a.mapToPlayerOptions(t.video,t.textTracks,t.textTrackLanguageService,t.resources,t.isProducerView&&!t.isCompleted&&t.videoIngest?t.videoIngest.previewUrls:t.videoPlaybackUrls||null)).options).previewPlayer=t.isProducerView&&!t.isCompleted&&!t.isReplacing,e?i.autoplay=!1:_.isNil(t.autoPlay)||(i.autoplay=t.autoPlay),t.isProducerView&&t.videoEditStateInfo.videoState!==u.Constants.VideoStatus.Completed&&t.video.state!==u.Constants.VideoStatus.Completed&&!t.isReplacing&&(i.muted=!0),t.playerOptions=s?_.assign(i,t.sdnUtilService.getMediaPlayerOptions(i,t.video.id,t.networkCachingToken)):c?_.assign(i,t.sdnPluginService.getPlayerOptions(i,t.video.id,t.networkCachingToken)):i,t.playerOptions.isLiveContent=t.isContentSourceLiveStream&&!t.isCompleted,t.playerOptions.isContentSourceLiveStream=t.isContentSourceLiveStream,t.playerOptions.isTeamsQSEvent=t.video.liveEvent&&"teams"===t.video.liveEvent.encoderSource,t.playerOptions.ie11AudioDisabled={message:t.resources.IE11AudioDisabled,url:"https://go.microsoft.com/fwlink/?linkid=2093280"},t.playerOptions.audioOnlyMode=!t.featureFlagsService.Values.AudioOnlyModeKillSwitch,t.playerOptions.audioOnlyTimeThreshold=t.featureFlagsService.Values.AudioOnlyTimeThreshold,t.playerOptions.audioOnlyRebufferThreshold=t.featureFlagsService.Values.AudioOnlyRebufferThreshold,t.playerOptions.encodingProfile=t.video.encodingProfile,_.forEach(n.invalidTextTracks,(function(e){t.featureTelemetryTracker.warn(d.FeatureName.LoadVideoPlayer,d.SubFeatureName.TextTrackDataService_Query,"Unknown Language "+e.language+" returned by Backend",{textTrackId:e.id})})),t.showVideoPlayer(),t.setUpPlayerFunctionsPostMessaging(),t.setupLiveHeartBeat(),t.featureFlagsService.Values.SendVideoAnalytics&&t.setupVideoAnalytics()})))},v.prototype.scheduleNextPollMedia=function(e){var t=this;void 0===e&&(e=!0);var n=this.isProducerView?u.Constants.VideoStatusNotificationTimeout:1e3*_.random(u.Constants.AttendeeStatusTimeoutStartInSec,u.Constants.AttendeeStatusTimeoutEndInSec,!1);this.refreshVideoStatusAndIngestPromise=this.$interval((function(){t.pollMedia(e)}),n,1)},v.prototype.pollMedia=function(e,t){var n=this;function i(){return n.videoEditStateInfo.videoState!==u.Constants.VideoStatus.Completed&&(!e||n.videoEditStateInfo.videoState!==u.Constants.VideoStatus.Live)&&n.videoEditStateInfo.videoState!==u.Constants.VideoStatus.Error}void 0===e&&(e=!0),void 0===t&&(t=!1);var r,o,s,a=[];return t||(i()&&(_.some(this.video.playbackUrls)&&this.videoEditStateInfo.videoState===u.Constants.VideoStatus.Created?(r=this.checkManifestUrls(this.video.playbackUrls).then((function(){var e=u.Constants.VideoStatus.Live;n.videoEditStateInfo.videoState=e,n.additionalTelemetryProperties.state=e,n.ingestTelemetryProperties.state=e,n.featureTelemetryTracker.trackEvent(d.TelemetryEventNames.manifestAvailable,n.ingestTelemetryProperties)})),a.push(r)):(o=this.videoService.getVideoStatus(this.video.id).then((function(e){var t=_.get(e,"data.state");t&&(n.videoEditStateInfo.videoState=t,n.additionalTelemetryProperties.state=t,n.ingestTelemetryProperties.state=t)}),(function(e){n.featureTelemetryTracker.warn(d.FeatureName.GetVideo,d.SubFeatureName.VideoService_GetVideoStatus,e)})),a.push(o))),!this.isProducerView||this.videoEditStateInfo.ingestState&&!i()||(s=this.videoService.getIngest(this.video.id).then((function(e){var t=_.get(e,"data");t&&(n.videoIngest=t,n.additionalTelemetryProperties.newIngestState!==t.state&&(n.additionalTelemetryProperties.previousIngestState=n.additionalTelemetryProperties.newIngestState,n.additionalTelemetryProperties.newIngestState=t.state,n.featureTelemetryTracker.trackEvent(d.TelemetryEventNames.producerIngestStateChanged,n.additionalTelemetryProperties)),n.videoEditStateInfo.ingestState=t.state,n.videoEditStateInfo.isVideoHealthy=n.videoIngest.encoderStatus&&n.videoIngest.encoderStatus.isHealthy&&n.videoIngest.encoderStatus.connectionState===u.Constants.EncoderConnectionState.connected,n.videoEditStateInfo.encoderConnectionState=n.videoIngest.encoderStatus&&n.videoIngest.encoderStatus.connectionState,n.videoEditStateInfo.ingestState===u.Constants.VideoIngestState.idle&&n.isOverrideIngestIdleToProcessing?n.videoEditStateInfo.ingestState=u.Constants.VideoIngestState.processing:n.videoEditStateInfo.ingestState===u.Constants.VideoIngestState.processing&&(n.isOverrideIngestIdleToProcessing=!1),n.updatePlayerViewBasedOnIngest())}),(function(e){n.featureTelemetryTracker.warn(d.FeatureName.GetVideo,d.SubFeatureName.VideoService_GetIngest,e)})),a.push(s))),this.$q.all(a).finally((function(){n.refreshVideoStatusAndIngestPromise&&n.$interval.cancel(n.refreshVideoStatusAndIngestPromise),i()&&n.scheduleNextPollMedia(e)}))},Object.defineProperty(v.prototype,"videoUserDataToken",{get:function(){return _.find(this.videoTokens,(function(e){return e.type===u.Constants.VideoTokenTypes.videoUserData}))},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"isVideoTokenExpiring",{get:function(){return moment(p.getLocalDateFromISODateTime(this.videoUserDataToken.expirationDate)).isBefore(moment().add(15,"m"))},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"networkCachingToken",{get:function(){var e=_.find(this.videoTokens,(function(e){return e.type===u.Constants.VideoTokenTypes.networkCaching}));return e&&e.payload?e.payload:null},enumerable:!0,configurable:!0}),v.prototype.getVideoTokens=function(){var e=this;return this.videoService.getTokens(this.video.id).then((function(t){e.videoTokens=_.get(t,"data.value"),e.featureTelemetryTracker.succeed(d.FeatureName.GetVideo)}),(function(t){e.featureTelemetryTracker.fail(d.FeatureName.GetVideo,d.SubFeatureName.VideoService_GetTokens,t)}))},v.prototype.getCreationApplication=function(){return this.video.creatorApplication?this.video.creatorApplication.applicationId:u.Constants.noCreatorApp},v.prototype.startOfLiveActions=function(){this.isProducerView||this.reloadPlaybackUrls()},v.prototype.endOfLiveActions=function(){var e=this;this.isProducerView||this.setMediaPlayerOptions(),setTimeout((function(){p.alertScreenReader(e.resources.LiveEventEndedAlert)}))},v.prototype.isLiveEventStopped=function(){var e=this,t=this.$q.defer();return this.pollMedia(!1,!1).finally((function(){t.resolve(e.videoEditStateInfo.ingestState==u.Constants.VideoIngestState.stopped||e.videoEditStateInfo.ingestState===u.Constants.VideoIngestState.stopping)})),t.promise},v.prototype.refreshVideoMetadata=function(){var e=this,t=this.$q.defer();return this.videoService.get(this.video.id,this.isInAdminMode).then((function(n){var i=_.get(n,"data");e.featureTelemetryTracker.succeed(d.FeatureName.GetVideo),t.resolve(i)}),(function(n){e.featureTelemetryTracker.fail(d.FeatureName.GetVideo,d.SubFeatureName.General_ErrorState,n),t.reject(n.status)})),t.promise},v.prototype.reloadPlaybackUrls=function(e){var t=this;_.some(this.video.playbackUrls)?(this.videoPlaybackUrls=this.video.playbackUrls,this.setMediaPlayerOptions(e)):this.videoService.get(this.video.id,this.isInAdminMode).then((function(n){t.videoPlaybackUrls=_.get(n,"data.playbackUrls"),t.setMediaPlayerOptions(e),t.featureTelemetryTracker.succeed(d.FeatureName.GetVideo)}),(function(e){t.featureTelemetryTracker.fail(d.FeatureName.GetVideo,d.SubFeatureName.General_ErrorState,e)}))},v.prototype.hideVideoPlayer=function(){this.isVideoPlayerShown=!1,this.playerLoaded=!1},v.prototype.showVideoPlayer=function(){this.isVideoPlayerShown=!0},v.prototype.onVideoViewed=function(){this.reportPlayerFeatureSuccess(),_.isFunction(this.onViewed)&&this.onViewed()},v.prototype.stopLiveEvent=function(){this.scheduleNextPollMedia(!1)},v.prototype.onPlayEvent=function(){var e=this;this.sendLiveHeartBeat(),this.onPlay(),this.$scope.$evalAsync((function(){e.isProducerView&&e.isCompleted&&!e.hideControlBar&&(e.hideControlBar=!0)}))},v.prototype.onCanplaythrough=function(){var e=this;this.$scope.$evalAsync((function(){e.playerLoaded=!0,0===e.additionalTelemetryProperties.loadTimeSinceStartInMs&&(e.additionalTelemetryProperties.loadTimeSinceStartInMs=performance.now()-e.dataShareService.videoPlaybackLoadStartInMs||0)}))},v.prototype.onPlayerError=function(e,t){this.playerErrored=!0,this.playerLoaded=!1,this.notifyEmbed(),this.onError(e,t)},v.prototype.onPosterImagePlay=function(){this.showFakePlayButton=!1,this.preload=!0,this.autoPlay=!0,this.setMediaPlayerOptions(),this.featureTelemetryTracker.trackEvent(d.TelemetryEventNames.embedVideoPosterClicked),this.dataShareService.videoPlaybackLoadStartInMs=performance.now()},v.prototype.onSdnInitSuccess=function(e){this.sdnInitSuccess({details:e}),this.featureTelemetryTracker.succeed(d.FeatureName.SetUpSDN,e)},v.prototype.onSdnInitFailure=function(e){this.sdnInitFailure({details:e}),this.featureTelemetryTracker.fail(d.FeatureName.SetUpSDN,d.SubFeatureName.SDNInitFailure,"Init failure",e)},v.prototype.onPlayerCaptionDetected=function(){var e=this;this.$scope.$evalAsync((function(){e.embeddedCaptionButtonShown=!0}))},v.prototype.onSdnFatalError=function(e){this.sdnFatalError({details:e}),this.featureTelemetryTracker.fail(d.FeatureName.SetUpSDN,d.SubFeatureName.SDNFatalError,"Fatal error",e)},v.prototype.onReportIssue=function(){var e=this;this.$scope.$evalAsync((function(){e.reportIssuePageState=o.Form}))},v.prototype.resetAndCloseReportIssue=function(){this.reportIssuePageState=o.Closed,this.reportPlayerIssueCustomMessage="";var e=document.querySelector("[data-return-focus='settingsPanel']");e&&e.focus()},Object.defineProperty(v.prototype,"isReportIssueOpen",{get:function(){return this.reportIssuePageState!=o.Closed},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"isReportIssueFormVisible",{get:function(){return this.reportIssuePageState===o.Form},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"isReportIssueConfirmVisible",{get:function(){return this.reportIssuePageState===o.Confirm},enumerable:!0,configurable:!0}),v.prototype.onTimeUpdateEvent=function(e){this.playerTime=e,this.onTimeUpdate({currentTime:e})},v.prototype.submitButtonClicked=function(){var e=this,t=this.isProducerView?d.TelemetryEventNames.manualProducerFeedback:d.TelemetryEventNames.manualVideoFeedback,n=this.tracePlayerLogsAndReturnTraceId(t),i={videoId:this.video.id,traceId:n,playbackSession_Id:this.playbackSessionId,contentSource:this.contentSource,contentType:this.contentType};this.isProducerView&&(i.producerSession_Id=this.producerSessionId);var r={errorCode:this.lastAMPError&&null!=this.lastAMPError.code?this.lastAMPError.code.toString(16):void 0};this.oneCustomerVoiceDataService.postUIF(A.UserInitiatedFeedbackType.Bug,this.reportPlayerIssueCustomMessage,this.consentToEmail?this.reportPlayerIssueContactEmail:void 0,r,i).then((function(t){return e.featureTelemetryTracker.trackEvent(d.TelemetryEventNames.PetrolSucceeded,{clientFeedbackId:t})}),(function(t){e.featureTelemetryTracker.trackEvent(d.TelemetryEventNames.PetrolFailed,t)})),this.tracePlayerLogs(t,n),this.reportIssuePageState=o.Confirm},Object.defineProperty(v.prototype,"feedbackDialogSubtitle",{get:function(){return m.formatString(this.resources.VideoFeedbackSubTitle,this.video.name)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"feedbackReportedDialogSubtitle",{get:function(){return m.formatString(this.resources.VideoFeedbackReportedSubTitle,this.video.name)},enumerable:!0,configurable:!0}),v.prototype.onLastAmpErrorChange=function(e){this.lastAMPError=e},v.prototype.setupVideoAnalytics=function(){var e,t,n=this;this.featureFlagsService.Values.SendVideoAnalytics&&this.videoUserDataToken&&(!(e=this.videoUserDataToken.properties)||0<(t=1e3*p.formatISODurationToSeconds(e.reportingInterval))&&(this.analyticsHeartBeatPromise=this.$interval((function(){n.sendVideoAnalyticsHeartBeat()}),t)))},v.prototype.sendVideoAnalyticsHeartBeat=function(){var e,t,n,i=this;this.isVideoTokenExpiring?(this.analyticsHeartBeatPromise&&this.$interval.cancel(this.analyticsHeartBeatPromise),this.getVideoTokens().then((function(){i.setupVideoAnalytics()}))):(e=this.videoUserDataToken.properties,t=new h.UAParser(navigator.userAgent).getOS(),(n={contentSignature:this.videoUserDataToken.payload,version:"1.0",type:"videoAnalytics"}).videoId=this.video.id,n.sessionId=sessionInfo.SessionId,n.clientSessionId=sessionInfo.ClientSessionId,n.tenantId=sessionInfo.UserClaim.TenantId,n.userId=sessionInfo.UserClaim.UserInfo.UniqueId,n.clientTs=(new Date).getTime(),n.isLive=this.isLive,n.osType=t.name,n.osVersion=t.version,n.hostApp=this.app||"portal",Object.keys(this.playbackSummaryData).forEach((function(e){n[e]=i.playbackSummaryData[e]})),this.videoService.sendLiveHeartBeat(e.reportingUrl,e.reportingUrlSignature,n))},v.prototype.setupLiveHeartBeat=function(){var e,t,n=this;!this.isProducerView&&this.videoEditStateInfo.videoState===u.Constants.VideoStatus.Live&&this.videoUserDataToken&&(!(e=this.videoUserDataToken.properties)||0<(t=1e3*p.formatISODurationToSeconds(e.reportingInterval))&&(this.liveHeartBeatPromise=this.$interval((function(){n.sendLiveHeartBeat()}),t)))},v.prototype.sendLiveHeartBeat=function(){var e,t,n=this;this.isContentSourceLiveStream&&!this.isLive||!this.isContentSourceLiveStream&&!this.featureFlagsService.Values.ResumePlayback?this.liveHeartBeatPromise&&this.$interval.cancel(this.liveHeartBeatPromise):this.isVideoTokenExpiring?(this.liveHeartBeatPromise&&this.$interval.cancel(this.liveHeartBeatPromise),this.getVideoTokens().then((function(){n.setupLiveHeartBeat()}))):(e=this.videoUserDataToken.properties,t={contentSignature:this.videoUserDataToken.payload,version:"1.0",type:"viewing"},this.featureFlagsService.Values.ResumePlayback&&!this.isContentSourceLiveStream&&(t.lastViewPosition=p.convertTimeInMilliSecondsToTimeSpan(1e3*this.playerTime)),this.videoService.sendLiveHeartBeat(e.reportingUrl,e.reportingUrlSignature,t))},v.prototype.setUpPlayerFunctionsPostMessaging=function(){"undefined"==typeof MicrosoftStream||this.readyMessagePosted||(this.readyMessagePosted=!0,MicrosoftStream.addHostMessageHandlers(u.Constants.PostMessages.playerFunction,this.playerPostMessageFunctionHandler.bind(this)),MicrosoftStream.sendMessageToParent(u.Constants.PostMessages.playerEvent,{eventname:u.Constants.PostMessageSubEventNames.ready}))},v.prototype.playerPostMessageFunctionHandler=function(e){if(e&&e.methodname){var t,n=$("#"+this.videoEditStateInfo.mediaPlayerId+" "+u.Constants.MediaPlayerPostLoadSelector);switch(n&&0<n.length&&(t=amp(n[0])),e.methodname){case u.Constants.PostMessagePlayerMethodNames.play:this.featureTelemetryTracker.trackEvent(d.TelemetryEventNames.PlayThroughPostMessaging,null,null),t?t.play():this.showFakePlayButton&&this.onPosterImagePlay();break;case u.Constants.PostMessagePlayerMethodNames.pause:this.featureTelemetryTracker.trackEvent(d.TelemetryEventNames.PauseThroughPostMessaging,null,null),t&&t.pause();break;default:this.featureTelemetryTracker.trackEvent(d.TelemetryEventNames.UnknownPlayerFunction,{functionName:e.methodname},null)}}},v.$inject=["$scope","$rootScope","$q","$http","$interval","resources","videoService","sdnPluginService","telemetryService","featureFlagsService","textTrackDataFactory","textTrackLanguageService","tenantService","sdnUtilService","notificationService","navigationService","$window","$location","videoEventService","oneCustomerVoiceDataService","dataShareService","thumbnailService","$sce"],v);function v(e,t,n,i,r,s,a,l,A,m,h,g,v,y,S,b,C,E,w,T,P,B,I){var D=f.call(this,A,m,y,P)||this;function k(){D.checkAndSendTelemetry("unload"),D.unload()}function F(e){D.videoEventService.markFormViewed(e.detail.videoId,e.detail.videoEvent)}function M(e){if(D.pageLeaveAlertCondition()){var t=D.resources.ProducerLiveIngestExitMessage;return(e||window.event).returnValue=t}}return D.$scope=e,D.$rootScope=t,D.$q=n,D.$http=i,D.$interval=r,D.resources=s,D.videoService=a,D.sdnPluginService=l,D.telemetryService=A,D.featureFlagsService=m,D.textTrackDataFactory=h,D.textTrackLanguageService=g,D.tenantService=v,D.sdnUtilService=y,D.notificationService=S,D.navigationService=b,D.$window=C,D.$location=E,D.videoEventService=w,D.oneCustomerVoiceDataService=T,D.dataShareService=P,D.thumbnailService=B,D.$sce=I,D.isVideoPlayerShown=!1,D.hideControlBar=!1,D.playerErrored=!1,D.showFakePlayButton=!1,D.playerLoaded=!1,D.reportIssuePageState=o.Closed,D.consentToEmail=!1,D.embeddedCaptionButtonShown=!1,D.onFormsTokenPostMessage=void 0,D.fakePlayButonPointerEvents="auto",D.shouldShowEndEventMessage=!1,D.isReplacing=!1,D.isSdnEnabled=!1,D.isOverrideIngestIdleToProcessing=!1,D.tenantHasSdn=!1,D.exited=!1,D.isErrorOccured=!1,D.isVideoDeleted=!1,D.readyMessagePosted=!1,D.getFormsAuthToken=D.onFormsTokenPostMessage,D.screen&&D.setScreenName(D.screen),D.featureTelemetryTracker=D.telemetryService.getTracker(d.ScreenName.Auto,d.ResourceType.Video,D.video.id),D.isSdnEnabled=D.sdnPluginService.checkIfSdnEnabled(),D.videoId=D.video.id,D.featureTelemetryTracker.setResourceId(D.videoId),D.isContentSourceLiveStream=c.isVideoLiveContent(D.video),D.isCompleted=c.isCompleted(D.video,D.videoEditStateInfo),D.isStopping=c.isStopping(D.videoEditStateInfo),D.isLive=c.isVideoCurrentlyLive(D.video),D.sessionID=sessionInfo.ClientSessionId,D.contentSource=D.video.contentSource,D.contentType=D.video.contentType,D.ingestTelemetryProperties={previousIngestState:null,newIngestState:null,videoId:D.videoId,producerSessionId:D.producerSessionId,encoderStatus:null,resourceId:D.videoId,state:D.video.state,creatorApp:D.getCreationApplication()},D.reportPlayerIssuePrivacyUrl=T.privacyUrl,D.reportPlayerIssueMaxLength=T.maxCommentLength,D.reportPlayerIssueContactEmail=sessionInfo.UserClaim.UserInfo.DisplayableId,D.additionalTelemetryProperties={isLive:D.isLive,contentType:D.video.contentType,contentSource:D.video.contentSource,creatorApp:D.getCreationApplication(),yammerConnected:!!D.isYammerAvailable,yammerLoaded:!!D.isYammerLoaded,yammerEvents:D.yammerEvents,viewerPage:D.isProducerView?"producer":"audience",state:D.video.state,resourceId:D.video.id,app:D.app,encoderSource:D.video.liveEvent?D.video.liveEvent.encoderSource:null,loadTimeSinceStartInMs:0,encodingProfile:D.video.encodingProfile},D.video.posterImage&&D.video.posterImage.large&&D.video.posterImage.large.url&&D.thumbnailService.getThumbnailBase64Data(D.video.posterImage.large.url).then((function(e){D.videoThumbnailDataUrl=I.trustAsResourceUrl(e)})),D.$scope.$watch((function(){return D.videoTokens}),(function(e){var t;!e||D.video.contentSource!==u.Constants.VideoContentSource.liveStream||D.videoEditStateInfo.videoState===u.Constants.VideoStatus.Completed||(t=D.videoUserDataToken)&&D.featureFlagsService.Values.NewNotifications&&S.addOrUpdateJoinVideoGroupList(D.video.id,t.payload)})),D.$scope.$watch((function(){return D.isYammerLoaded}),(function(e){D.additionalTelemetryProperties.yammerLoaded=e})),D.$scope.$watch((function(){return D.yammerEvents}),(function(e){D.additionalTelemetryProperties.yammerEvents=e})),D.$scope.$watch((function(){return D.isReplacing}),(function(e,t){!0===D.isReplacing&&(D.hideControlBar=!0,D.setMediaPlayerOptions())})),D.$scope.$on(u.Constants.Events.Notification_VideoStateChange,(function(e,t){var n;t&&t.videoId===D.video.id&&(n=t.videoState,D.videoEditStateInfo.videoState=n,D.additionalTelemetryProperties.state=n)})),e.$on(u.Constants.Events.videoDeleted,(function(e,t){D.video.id===t.id&&(D.isVideoDeleted=!0)})),e.$on(u.Constants.Events.Notification_JoinVideoGroupFailed,(function(e,t){D.video.id===t.videoId&&D.videoService.getTokens(D.video.id)})),setTimeout((function(){D.isProducerView&&D.$scope.$on(u.Constants.Events.Notification_IngestStateChange,(function(e,t){t&&t.videoId===D.video.id&&(D.videoEditStateInfo.ingestState=t.ingestState,t.ingestState===u.Constants.VideoIngestState.idle&&(D.isOverrideIngestIdleToProcessing=!1),D.pollMedia(!0,t.ingestState!==u.Constants.VideoIngestState.idle),D.trackIngestStateChanges(t.ingestState),D.videoEditStateInfo.isVideoHealthy=t.encoderStatus&&t.encoderStatus.isHealthy&&t.encoderStatus.connectionState===u.Constants.EncoderConnectionState.connected,D.videoEditStateInfo.encoderConnectionState=t.encoderStatus&&t.encoderStatus.connectionState)})),D.videoEditStateInfo||(D.videoEditStateInfo={videoState:D.video.id===u.Constants.preCreationVideoId?u.Constants.VideoState.creating:D.video.state,collapseAccordion:!1,newlyUploadedItem:D.video.id===u.Constants.preCreationVideoId}),D.additionalTelemetryProperties.state=D.videoEditStateInfo.videoState,D.videoEditStateInfo.mediaPlayerId=p.generateSmallId(),!D.videoTokens&&D.video.tokens&&(D.videoTokens=D.video.tokens),D.isProducerView?D.setupProducerView():D.featureFlagsService.Values.NetworkCaching&&!D.sdnUtilService.disableSdn?D.tenantService.getSettings().then((function(e){D.featureTelemetryTracker.succeed(d.FeatureName.GetTenantSettings),_.get(e.data,"system.networkCaching.provider","")&&_.get(e.data,"system.networkCaching.licenseId","")?(D.tenantHasSdn=!0,D.sdnUtilService.sdnSettings=e.data.system.networkCaching):D.isSdnEnabled=D.sdnPluginService.checkIfSdnEnabled()}),(function(e){D.featureTelemetryTracker.fail(d.FeatureName.GetTenantSettings,d.SubFeatureName.TenantService_GetTenantSettings,e),D.isSdnEnabled=D.sdnPluginService.checkIfSdnEnabled()})).finally((function(){D.setupAttendeeView()})):(D.isSdnEnabled=D.sdnPluginService.checkIfSdnEnabled(),D.setupAttendeeView()),D.$scope.$watchGroup([function(){return D.videoEditStateInfo.videoState},function(){return D.videoEditStateInfo.ingestState}],(function(e,t){var n=t[0],i=t[1],r=e[0],o=e[1];if(n!==r||i!==o){switch(r){case u.Constants.VideoStatus.Created:D.isProducerView&&i!==o&&(o===u.Constants.VideoIngestState.idle?(D.updatePlayerViewBasedOnIngest(),"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(u.Constants.PostMessages.producerEvent,{eventname:u.Constants.PostMessageSubEventNames.setupStarted})):o!==u.Constants.VideoIngestState.processing||i?o===u.Constants.VideoIngestState.processing&&i===u.Constants.VideoIngestState.idle?D.isVideoPlayerShown||(D.playerDelayTimer&&D.$interval.cancel(D.playerDelayTimer),D.playerDelayTimer=D.$interval((function(){D.dataShareService.videoPlaybackLoadStartInMs=performance.now(),D.setMediaPlayerOptions()}),portalConfiguration.PlayerLiveInitTimeInMS,1)):o===u.Constants.VideoIngestState.unhealthy||(D.videoEditStateInfo.ingestState==u.Constants.VideoIngestState.stopping?(D.hideVideoPlayer(),D.isOverrideIngestIdleToProcessing=!1):D.videoEditStateInfo.ingestState==u.Constants.VideoIngestState.stopped&&(D.hideVideoPlayer(),D.isOverrideIngestIdleToProcessing=!1,"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(u.Constants.PostMessages.producerEvent,{eventname:u.Constants.PostMessageSubEventNames.setupDisconnected}))):D.isVideoPlayerShown||D.setMediaPlayerOptions());break;case u.Constants.VideoStatus.Live:n===u.Constants.VideoStatus.Created&&(D.startOfLiveActions(),D.isProducerView&&"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(u.Constants.PostMessages.producerEvent,{eventname:u.Constants.PostMessageSubEventNames.eventStarted}),D.trackLiveEventStarted(),setTimeout((function(){p.alertScreenReader(D.resources.LiveEventStartedAlert)}))),i===o||o!==u.Constants.VideoIngestState.stopping&&o!==u.Constants.VideoIngestState.stopped&&o!==u.Constants.VideoIngestState.completed?D.isVideoPlayerShown||D.setMediaPlayerOptions(!1):D.hideVideoPlayer();break;case u.Constants.VideoStatus.Completed:n===u.Constants.VideoStatus.Live&&(D.endOfLiveActions(),D.trackLiveEventEnded()),i===o||o!==u.Constants.VideoIngestState.stopped&&o!==u.Constants.VideoIngestState.completed||(D.reloadPlaybackUrls(!0),"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(u.Constants.PostMessages.producerEvent,{eventname:u.Constants.PostMessageSubEventNames.eventEnded}));break;case u.Constants.VideoStatus.Error:}i!==o&&D.trackIngestStateChanges(o)}D.isCompleted=c.isCompleted(D.video,D.videoEditStateInfo),D.isStopping=c.isStopping(D.videoEditStateInfo)}))}),0),D.$window.addEventListener("beforeunload",M),D.$window.addEventListener("beforeunload",k),D.$window.addEventListener(u.Constants.CustomEvents.Interactive.Viewed,F),D.$scope.$on("$destroy",(function(){D.$rootScope.ProducerPageLeaveAlertCondition=null,D.$window.removeEventListener("beforeunload",k),D.$window.removeEventListener("beforeunload",M),D.$window.removeEventListener(u.Constants.CustomEvents.Interactive.Viewed,F),D.isSummaryTelemetrySent||D.checkAndSendTelemetry("destroy"),D.playerDelayTimer&&D.$interval.cancel(D.playerDelayTimer),D.refreshVideoStatusAndIngestPromise&&D.$interval.cancel(D.refreshVideoStatusAndIngestPromise),D.liveHeartBeatPromise&&D.$interval.cancel(D.liveHeartBeatPromise),S.leaveVideoGroup(D.video.id)})),D.$rootScope.ProducerPageLeaveAlertCondition=D.pageLeaveAlertCondition.bind(D),D.disableFakePlayButtonPointerEvents&&(D.fakePlayButonPointerEvents="none"),D}t.VideoPlayerViewController=g},"./app/components/Poster/PosterController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/string.ts"),o=n("./app/models/TelemetryEventModels.ts"),s=(a.prototype.refreshThumbnails=function(){var e=this;return this.thumbnailService.query(this.resourceName,this.resourceId,this.isInAdminMode).then((function(t){return e.thumbnails=t.data.value,e.selectedThumbnail=_.find(e.thumbnails,(function(e){return e.isPosterImage})),e.thumbnails}),(function(t){return e.featureTelemetryTracker.fail(e.featureName,o.SubFeatureName.ThumbnailService_Query,t),e.$q.reject()}))},a.prototype.getImageSize=function(e){var t=this.$q.defer(),n=new Image;return n.onload=function(){t.resolve({width:n.width,height:n.height})},n.onerror=function(e){t.reject(e)},n.src=window.URL.createObjectURL(e),t.promise},a.prototype.computePosterSize=function(e,t){return e.width<=0||e.height<=0?{width:0,height:0}:e.width/e.height>t.width/t.height?{width:t.width,height:t.width/e.width*e.height}:{width:t.height/e.height*e.width,height:t.height}},a.prototype.getPosterFileNames=function(e){var t=e.name.split(".").pop();return{extraSmall:[i.Constants.PosterFileName.ExtraSmall,t].join("."),small:[i.Constants.PosterFileName.Small,t].join("."),medium:[i.Constants.PosterFileName.Medium,t].join("."),large:[i.Constants.PosterFileName.Large,t].join(".")}},a.prototype.getPosterUploadUrls=function(e,t){var n={extraSmall:"",small:"",medium:"",large:""};if(_.forEach(e.files,(function(i){switch(i.fileName.trim()){case t.extraSmall:n.extraSmall=i.uploadUrl;break;case t.small:n.small=i.uploadUrl;break;case t.medium:n.medium=i.uploadUrl;break;case t.large:n.large=i.uploadUrl;break;default:throw new Error("Unrecognized filename: "+i.fileName+" from: "+e.toString())}})),""===n.extraSmall)throw new Error("Missing extra small poster's uploadUrl with fileName '"+t.extraSmall+"'");if(""===n.small)throw new Error("Missing small poster's uploadUrl with fileName '"+t.small+"'");if(""===n.medium)throw new Error("Missing medium poster's uploadUrl with fileName '"+t.medium+"'");if(""===n.large)throw new Error("Missing large poster's uploadUrl with fileName '"+t.large+"'");return n},a.prototype.startUpload=function(e){var t,n,s=this;return n=s.$q.defer(),s.createImages(e).then((function(e){t=e,n.resolve()}),(function(e){s.featureTelemetryTracker.fail(s.featureName,o.SubFeatureName.General_BrowserCreateImages,e),n.reject()})),n.promise.then((function(){var e=s.$q.defer();return s.thumbnailService.create(s.resourceName,s.resourceId,s.isInAdminMode).then((function(t){e.resolve(t.data.id)}),(function(t){s.featureTelemetryTracker.fail(s.featureName,o.SubFeatureName.ThumbnailService_Create,t),e.reject()})),e.promise})).then((function(e){var n=s.$q.defer();return s.uploadService=s.mediaUploadFactory(r.formatString(i.Constants.ResourceIdStrings.Thumbnail,s.resourceName,s.resourceId,e)),s.uploadService.startUpload([t.extraSmall.name,t.small.name,t.medium.name,t.large.name],s.isInAdminMode).then((function(e){n.resolve(e.data)}),(function(e){s.featureTelemetryTracker.fail(s.featureName,o.SubFeatureName.UploadService_StartUpload,e),n.reject()})),n.promise})).then((function(e){var n=null;try{n=s.getPosterUploadUrls(e,{extraSmall:t.extraSmall.name,small:t.small.name,medium:t.medium.name,large:t.large.name})}catch(n){s.featureTelemetryTracker.fail(s.featureName,o.SubFeatureName.UploadService_StartUpload,e),s.$q.reject(n)}var i=[{sasUrl:n.extraSmall,file:t.extraSmall},{sasUrl:n.small,file:t.small},{sasUrl:n.medium,file:t.medium},{sasUrl:n.large,file:t.large}],r=s.$q.defer();return s.uploadService.uploadFiles(s.$scope,i,s.isInAdminMode).then((function(){r.resolve()}),(function(e){s.featureTelemetryTracker.fail(s.featureName,o.SubFeatureName.UploadService_UploadFiles,e),r.reject()})),r.promise})).then((function(){return s.customPosterUploaded(),s.featureTelemetryTracker.succeed(s.featureName),s.refreshThumbnails()}))},a.prototype.createImages=function(e){var t=this;if(!this.upload.isResizeSupported)throw new Error("Cannot resize image to png format; canvas not supported");return this.getImageSize(e).then((function(n){return t.$q.all([t.resizeUploadImage(e,n,i.Constants.PosterSize.ExtraSmall),t.resizeUploadImage(e,n,i.Constants.PosterSize.Small),t.resizeUploadImage(e,n,i.Constants.PosterSize.Medium),t.resizeUploadImage(e,n,i.Constants.PosterSize.Large)])})).then((function(e){var n={extraSmall:e[0],small:e[1],medium:e[2],large:e[3]};return n.extraSmall.name=i.Constants.PosterFileName.ExtraSmall+t.fileExtension,n.small.name=i.Constants.PosterFileName.Small+t.fileExtension,n.medium.name=i.Constants.PosterFileName.Medium+t.fileExtension,n.large.name=i.Constants.PosterFileName.Large+t.fileExtension,n}))},a.prototype.resizeUploadImage=function(e,t,n){var i=this.computePosterSize(t,n);return this.upload.resize(e,i.width,i.height,.8)},Object.defineProperty(a.prototype,"customThumbnail",{get:function(){return _.find(this.thumbnails,(function(e){return e.isCustom}))},enumerable:!0,configurable:!0}),a.prototype.isSelected=function(e){return!(!this.selectedThumbnail||!e)&&this.selectedThumbnail.id===e.id},a.prototype.doUpload=function(e){var t=this;if(!e)return null;this.uploadStarted=!0;var n=this.startUpload(e);return n.then((function(){t.uploadStarted=!1})),n},a);function a(e,t,n,i,r,o,s,a,c,l,u){this.$q=e,this.$scope=t,this.upload=n,this.resources=i,this.thumbnailService=r,this.mediaUploadFactory=o,this.telemetryService=s,this.navigationService=a,this.resourceName=c,this.resourceType=l,this.featureName=u,this.fileExtension=".png",this.uploadStarted=!1,this.featureTelemetryTracker=this.telemetryService.getTracker(this.navigationService.getPageName(),this.resourceType,this.resourceId)}t.PosterController=s},"./app/components/PrincipalGroup/PrincipalGroupController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.onRemove=function(e){_.remove(this.principals,(function(t){return t&&e&&t.id===e.id})),this.principalsRemoved&&this.principalsRemoved({$principal:e})},i.$inject=["$scope","resources"],i);function i(e,t){this.resources=t}t.PrincipalGroupController=n},"./app/components/PrincipalGroupCompact/PrincipalGroupCompact.html":function(e,t){e.exports='<div class="profile-container row" ng-repeat="suggestion in $ctrl.principals track by suggestion.id"> <div class="column delete-col-compact"> <button type=button class="c-glyph c-action-trigger remove-button" ng-click=$ctrl.onRemove(suggestion) aria-label="{{::$ctrl.resources.Delete}} {{suggestion.name || suggestion.mail}}"> </button> </div> <div class="column profile-compact-image-col"> <img class=profile-compact-image alt="{{suggestion.name? suggestion.name : suggestion.mail}}" ng-src={{::suggestion.profileImageUrl}} ng-if=suggestion.profileImageUrl onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\'/> <img class=profile-compact-image alt="{{suggestion.name? suggestion.name : suggestion.mail}}" ng-if=!suggestion.profileImageUrl src=/bundles/app/generated/user-placeholder.svg /> </div> <div dir=ltr class="column name-line-compact large-10"> {{suggestion.name? suggestion.name : suggestion.mail}} &nbsp; {{suggestion.mail? "("+suggestion.mail+")":""}} </div> </div>'},"./app/components/PrincipalGroupCompact/PrincipalGroupCompact.less":function(e,t){},"./app/components/PrincipalGroupCompact/PrincipalGroupCompact.ts":function(e,t,n){function i(){this.controller=o.PrincipalGroupController,this.template=n("./app/components/PrincipalGroupCompact/PrincipalGroupCompact.html"),this.bindings={principals:"=",principalsRemoved:"&",isInAdminMode:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/PrincipalGroupCompact/PrincipalGroupCompact.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/PrincipalGroup/PrincipalGroupController.ts");t.PrincipalGroupCompact=i,r.registerComponent("principalGroupCompact",i,angular.module("jumper"))},"./app/components/PrincipalList/PrincipalList.html":function(e,t){e.exports="<div class=search-box> <auto-complete id=principalInput search-min-input={{$ctrl.searchMinInput}} search-provider=$ctrl.principalSearch last-selected-item=$ctrl.lastSelectedPrincipal principals-searched=$ctrl.principalsSearched() principals-added=$ctrl.principalsAdded() hide-label=true get-reference=$ctrl.getAutoCompleteReference(obj) custom-disabled=$ctrl.customDisabled> </auto-complete> </div> "},"./app/components/PrincipalList/PrincipalList.less":function(e,t){},"./app/components/PrincipalList/PrincipalList.ts":function(e,t,n){function i(){this.controller=o.PrincipalListController,this.template=n("./app/components/PrincipalList/PrincipalList.html"),this.bindings={principals:"=",searchTerm:"=",principalsSearched:"&",principalsAdded:"&",principalsRemoved:"&",getReference:"&",customDisabled:"<",telemetryTracker:"<",onError:"&",emailNeeded:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/PrincipalList/PrincipalList.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/PrincipalList/PrincipalListController.ts");t.PrincipalList=i,r.registerComponent("principalList",i,angular.module("jumper"))},"./app/components/PrincipalList/PrincipalListController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/models/TelemetryEventModels.ts"),o=(s.prototype.selectPrincipal=function(e){_.isArray(this.principals)&&!_.find(this.principals,(function(t){return t.mail.toLowerCase()===e.mail.toLowerCase()}))&&this.principals.push(e)},s.prototype.getAutoCompleteReference=function(e){this.autoCompleteController=e},s.$inject=["$q","$scope","resources","principalService","telemetryService","navigationService"],s);function s(e,t,n,o,s,a){var c=this;this.$q=e,this.$scope=t,this.resources=n,this.principalService=o,this.telemetryService=s,this.navigationService=a,this.searchMinInput=1,this.emailNeeded=!1;var l=this,u=this;this.principalSearch={search:function(t){u.searchTerm=t;var n=e.defer();return l.principalService.searchPrincipals(t,i.Constants.MaxLengths.PrincipleSearchOutput).then((function(e){var o;l.telemetryTracker.succeed(r.FeatureName.SearchPrincipals),0<e.data.value.length?n.resolve(e.data.value):(o=t+"@"+_.split(sessionInfo.UserClaim.UserInfo.DisplayableId,"@")[1],i.Constants.EmailRegExp.test(o)?n.resolve([{mail:o}]):n.resolve(e.data.value))}),(function(e){l.telemetryTracker.fail(r.FeatureName.SearchPrincipals,r.SubFeatureName.PrincipalService_SearchPrincipals,e),n.reject(e)})),n.promise}},t.$watch((function(){return c.lastSelectedPrincipal}),(function(e,t){if(e){if(c.emailNeeded&&!e.mail)return void c.onError({errorMessage:c.resources.PrincipalSelector.EmailMissing});c.principals||(c.principals=[]),_.find(c.principals,(function(t){return t.id&&e.id?t.id===e.id:!!c.emailNeeded&&t.mail.toLowerCase()===e.mail.toLowerCase()}))?c.onError&&c.onError({errorMessage:c.resources.PrincipalSelector.SelectedAlready}):c.principals.push(e)}})),this.getReference&&this.getReference({obj:this})}t.PrincipalListController=o},"./app/components/PrincipalSelector/PrincipalSelector.html":function(e,t){e.exports='<div class=principal-selector> <div class="row row-size0 column"> <span role=alert ng-if=$ctrl.showError class=error-message>{{$ctrl.errorMessage}}</span> <span ng-show="$ctrl.principals.length===$ctrl.maxRecordCount" class=limit-info><svg-src svg-name=icon_library class=tool-tip-icon></svg-src><span class=limit-info-message>{{::$ctrl.resources.FormValidation.MaxEmailCount}}</span></span> </div> <div class=email-form-container> <div class="row row-size0"> <div class="column xsmall-8 small-9 large-10"> <principal-list principals=$ctrl.principals search-term=$ctrl.emailToAdd get-reference=$ctrl.setPrincipalListReference(obj) custom-disabled="$ctrl.principals.length===$ctrl.maxRecordCount" telemetry-tracker=$ctrl.telemetryTracker on-error=$ctrl.onError(errorMessage) email-needed=$ctrl.emailNeeded></principal-list> </div> <div class="column xsmall-4 small-3 search-col large-2"> <button role=submit class="stream-btn btn-primary add-button" ng-click=$ctrl.addEmail() ng-disabled="$ctrl.principals.length===$ctrl.maxRecordCount">{{::$ctrl.resources.Add}}</button> </div> </div> </div> <div class="list-area column"> <div class=element-invisible aria-live=polite>{{$ctrl.operationAriaLabel}}</div> <div ng-repeat="suggestion in $ctrl.principals track by suggestion.id" class="row row-size1"> <div class="column search-col delete-col"> <button type=button class="c-glyph c-action-trigger remove-button" ng-click=$ctrl.onRemove($index) aria-label="{{::$ctrl.resources.Delete}} {{suggestion.name? suggestion.name : suggestion.mail}}"></button> </div> <div class="column profile-col"> <div class=profile-image-col> <img class=profile-image ng-src={{::suggestion.profileImageUrl}} ng-if=suggestion.profileImageUrl onerror=\'this.src="/bundles/app/generated/user-placeholder.svg"\'/> <img class=profile-image ng-if=!suggestion.profileImageUrl src=/bundles/app/generated/user-placeholder.svg /> </div> <div class=name-col> <div class="row column row-size0 name-line"> {{suggestion.name? suggestion.name : suggestion.mail}} </div> <div class="row column row-size0 email-line" ng-if=suggestion.mail> {{suggestion.mail}} </div> </div> </div> </div> </div> </div>'},"./app/components/PrincipalSelector/PrincipalSelector.less":function(e,t){},"./app/components/PrincipalSelector/PrincipalSelector.ts":function(e,t,n){function i(){this.controller=o.PrincipalSelectorController,this.template=n("./app/components/PrincipalSelector/PrincipalSelector.html"),this.bindings={principals:"=",telemetryTracker:"<",emailNeeded:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/PrincipalSelector/PrincipalSelector.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/PrincipalSelector/PrincipalSelectorController.ts");t.PrincipalSelector=i,r.registerComponent("principalSelector",i,angular.module("jumper"))},"./app/components/PrincipalSelector/PrincipalSelectorController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/string.ts"),o=n("./app/models/TelemetryEventModels.ts"),s=n("./app/utility/string.ts"),a=(c.prototype.addEmail=function(){var e=this;this.isEmailFormatValid(this.emailToAdd)?this.tenantService.getDomains().then((function(t){var n=t.data,i=e.emailToAdd.replace(/.*@/,"");-1<r.indexOfIgnoreCase(n.values,i)?(_.find(e.principals,(function(t){return!!t.mail&&t.mail.toLowerCase()===e.emailToAdd.toLowerCase()}))?e.onError(e.resources.PrincipalSelector.SelectedAlready):e.principals.push({mail:e.emailToAdd.toLowerCase(),name:""}),e.emailToAdd="",e.principalListReference.autoCompleteController.clear()):e.onError(e.resources.FormValidation.EmailNotInSameOrg)}),(function(t){e.telemetryTracker.fail(o.FeatureName.EmailShare,o.SubFeatureName.TenantService_GetTenantDomains,t),e.onError(e.resources.FormValidation.TenantDomainCallFailed)})):this.onError(this.resources.FormValidation.Email)},c.prototype.isEmailFormatValid=function(e){return this.emailRegex.test(e)},c.prototype.onRemove=function(e){var t=""===this.principals[e].name?this.principals[e].mail:this.principals[e].name;this.principals.splice(e,1),this.operationAriaLabel=s.formatString(this.resources.Principal.Delete.AccessibilityMessage,t)},c.prototype.onError=function(e){this.showError=!0,this.errorMessage=e},c.prototype.setPrincipalListReference=function(e){var t=this;this.principalListReference=e,this.$scope.$watch((function(){return t.principalListReference.autoCompleteController.searchParams}),(function(e,n){t.showError=!1}))},c.$inject=["$scope","resources","tenantService","$element"],c);function c(e,t,n,r){var o=this;this.$scope=e,this.resources=t,this.tenantService=n,this.$element=r,this.showError=!1,this.maxRecordCount=i.Constants.MaxLengths.PrincipalSelect,this.principals=[],this.emailRegex=i.Constants.EmailRegExp,this.emailNeeded=!1,this.$scope.$watch((function(){return o.principals}),(function(e,t){var n;o.$element.find("input").focus(),e.length>t.length&&(n=""===o.principals[o.principals.length-1].name?o.principals[o.principals.length-1].mail:o.principals[o.principals.length-1].name,o.operationAriaLabel=s.formatString(o.resources.Principal.Add.AccessibilityMessage,n))}),!0)}t.PrincipalSelectorController=a},"./app/components/PrivacyModeSelector/PrivacyModeSelectorController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/models/TelemetryEventModels.ts"),o=(Object.defineProperty(s.prototype,"showChannelSelector",{get:function(){return this.video.privacyMode===i.Constants.privacyMode.organization||this.video.privacyMode===i.Constants.privacyMode.public},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showUserSearch",{get:function(){return this.video.privacyMode===i.Constants.privacyMode.custom},enumerable:!0,configurable:!0}),s.prototype.onPrincipalsRemoved=function(){this.principalsRemoved&&this.principalsRemoved(),this.checkIfSearchNeedToBeDisabled()},s.prototype.updatePrivacyMode=function(e){this.privacyModeChanged&&this.privacyModeChanged();var t=this;if(!(this.video&&this.video.channels&&this.video.channels.length)||this.previousPrivacyMode!==i.Constants.privacyMode.public&&this.previousPrivacyMode!==i.Constants.privacyMode.organization||e!==i.Constants.privacyMode.private&&e!==i.Constants.privacyMode.custom)return t.video.privacyMode=e,t.previousPrivacyMode=e,this.$q((function(e,t){e()}));var n={title:this.resources.VideoUpdate.videoWillbeDeletedFromChannels,message:this.resources.VideoUpdate.confirmationToExcludeFromChannels,confirmButtonLabel:this.resources.Yes,cancelButtonLabel:this.resources.No};return this.confirmationDialogService.show(n).then((function(){t.video.channels=[],t.video.privacyMode=e,t.previousPrivacyMode=e}))},s.prototype.checkIfSearchNeedToBeDisabled=function(){this.searchDisabled=this.principals.length>=i.Constants.MaxLengths.PrincipleAssignmentsLimit},s.$inject=["$q","$scope","resources","confirmationDialogService","principalService","telemetryService","navigationService"],s);function s(e,t,n,o,s,a,c){var l=this;this.$q=e,this.$scope=t,this.resources=n,this.confirmationDialogService=o,this.principalService=s,this.telemetryService=a,this.navigationService=c,this.minPrincipalSearch=3,this.lastSelectedPrinciple=null,this.searchDisabled=!1,this.featureTelemetryTracker=this.telemetryService.getTracker(this.navigationService.getPageName());var u=this;this.principalSearch={search:function(t){var n=e.defer();return u.principalService.searchPrincipals(t,i.Constants.MaxLengths.PrincipleSearchOutput,0,u.isInAdminMode).then((function(e){u.featureTelemetryTracker.succeed(r.FeatureName.SearchPrincipals),n.resolve(e.data.value)}),(function(e){u.featureTelemetryTracker.fail(r.FeatureName.SearchPrincipals,r.SubFeatureName.PrincipalService_SearchPrincipals,e),n.reject(e)})),n.promise}},t.$watch((function(){return l.video}),(function(e,t){e&&(l.previousPrivacyMode=e.privacyMode)})),t.$watch((function(){return l.lastSelectedPrinciple}),(function(e,t){e&&(l.principals||(l.principals=[]),0===l.principals.filter((function(t,n,i){return t.id===e.id})).length&&(l.principals.push(e),l.checkIfSearchNeedToBeDisabled()))}))}t.PrivacyModeSelectorController=o},"./app/components/ReadLessReadMore/ReadLessReadMore.html":function(e,t){e.exports="<div class=readlessreadmore custom-title=\"{{$ctrl.enableCustomTitle ? $ctrl.textContent : ''}}\" light-style=true ng-style=\"{'visibility': $ctrl.showContent ? 'visible' : 'hidden'}\"> <div class=contentwrapper ng-class=\"{'show-ellipsis': $ctrl.useEllipsis && ($ctrl.isFolded && $ctrl.isOverflowed)}\"> <tagged-description ng-hide=$ctrl.withoutHashTag text-contents=$ctrl.textContent class=textcontent on-time-tag-clicked=$ctrl.onTimeTagClicked() is-time-tag-startup=$ctrl.isTimeTagStartup telemetry-tracker=$ctrl.telemetryTracker tag-clicked-telemetry-properties=$ctrl.tagClickedTelemetryProperties></tagged-description> <div ng-show=$ctrl.withoutHashTag class=textcontent> <p class=\"untagged-description c-caption-1\" ng-bind-html=$ctrl.textContent></p> </div> </div> <div ng-if=!$ctrl.useEllipsis> <button class=c-hyperlink ng-class=\"$ctrl.isOverflowed ? '' : 'hide'\" ng-click=$ctrl.doToggle()>{{$ctrl.toggleText}}</button> </div> <div class=ellipsis-label ng-if=\"$ctrl.useEllipsis && ($ctrl.isFolded && $ctrl.isOverflowed)\"> ... </div> </div>"},"./app/components/ReadLessReadMore/ReadLessReadMore.less":function(e,t){},"./app/components/ReadLessReadMore/ReadLessReadMore.ts":function(e,t,n){function i(){this.restrict="E",this.controller=r.ReadLessReadMoreController,this.template=n("./app/components/ReadLessReadMore/ReadLessReadMore.html"),this.scope={textContent:"<",defaultMaxLines:"=",withoutHashTag:"<",isTimeTagStartup:"<",onTimeTagClicked:"&",telemetryTracker:"<",tagClickedTelemetryProperties:"<",useEllipsis:"<",onRender:"&",enableCustomTitle:"<",toggleEvent:"<"},this.controllerAs="$ctrl",this.bindToController=!0,this.link=function(e,t,n,i){i.setHeight()}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/ReadLessReadMore/ReadLessReadMore.less");var r=n("./app/components/ReadLessReadMore/ReadLessReadMoreController.ts"),o=n("./app/utility/appUtil.ts");t.ReadLessReadMore=i,o.registerDirective("readLessReadMore",i,angular.module("jumper"))},"./app/components/ReadLessReadMore/ReadLessReadMoreController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.doToggle=function(){this.isFolded=!this.isFolded,this.isFolded?this.doFold():this.doUnfold()},i.prototype.doFold=function(){this.toggleText=this.resources.Components.ReadLessReadMore.ReadMore,this.element.find(".contentwrapper").css("max-height",this.defaultMaxHeight+"px"),this.onRender({actualLines:this.actualLines,isFolded:!0})},i.prototype.doUnfold=function(){this.toggleText=this.resources.Components.ReadLessReadMore.ReadLess,this.element.find(".contentwrapper").css("max-height",""),this.onRender({actualLines:this.actualLines,isFolded:!1})},i.prototype.setHeight=function(){this.textContentElement=this.element.find(".textcontent");var e=this.textContentElement.css("line-height");this.lineHeight=+e.substring(0,e.length-2),this.defaultMaxHeight=this.lineHeight*this.defaultMaxLines},i.prototype.setEllipsis=function(){var e=this;this.$timeout((function(){var t,n,i=e.textContentElement.children(".item-description"),r=e.textContentElement.children(".untagged-description"),o=e.withoutHashTag?r:i;e.actualLines=Math.ceil(o.height()/e.lineHeight),0===o.height()&&(n=(t=o.closest("read-less-read-more")).attr("style"),t.css({position:"absolute",visibility:"hidden"}),t.attr("style","display: block !important")),o.height()>e.defaultMaxHeight?(e.isOverflowed=!0,e.isFolded=!0,e.doFold()):(e.isOverflowed=!1,e.onRender({actualLines:e.actualLines,isFolded:!0})),t&&t.attr("style",n||""),e.showContent=!0}),0)},i.prototype.$postLink=function(){this.setEllipsis()},i.$inject=["$element","resources","$timeout","$scope"],i);function i(e,t,n,i){var r=this;this.element=e,this.resources=t,this.$timeout=n,this.$scope=i,this.isFolded=!0,this.isOverflowed=!1,this.toggleText="Read More",this.waitFlag=!1,this.$scope.$watch((function(){return r.toggleEvent}),(function(e,t){e!==t&&r.doToggle()})),this.$scope.$watch((function(){return r.textContent}),(function(e,t){e!==t&&(r.setHeight(),r.setEllipsis())}))}t.ReadLessReadMoreController=n},"./app/components/StreamLoading/StreamLoading.html":function(e,t){e.exports="<div class=stream-loading ng-class=\"$ctrl.embedApp ? 'embed-loading' : 'absolute-center'\"> <div class=loading-spinner> </div> <div class=loading-message> {{::$ctrl.loadingMessage}} </div> </div>"},"./app/components/StreamLoading/StreamLoading.less":function(e,t){},"./app/components/StreamLoading/StreamLoading.ts":function(e,t,n){function i(){this.controller=r.StreamLoadingController,this.template=n("./app/components/StreamLoading/StreamLoading.html"),this.bindings={embedApp:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/StreamLoading/StreamLoading.less");var r=n("./app/components/StreamLoading/StreamLoadingController.ts"),o=n("./app/utility/appUtil.ts");t.StreamLoading=i,o.registerComponent("streamLoading",i,angular.module("jumper"))},"./app/components/StreamLoading/StreamLoadingController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/string.ts"),r=n("./app/utility/Constants.ts"),o=(Object.defineProperty(s.prototype,"loadingMessage",{get:function(){return i.formatString(this.resources.LoadingStream,r.Constants.ProductName)},enumerable:!0,configurable:!0}),s.$inject=["resources"],s);function s(e){this.resources=e}t.StreamLoadingController=o},"./app/components/TaggedDescription/TaggedDescription.html":function(e,t){e.exports="<div class=item-description> <div ng-if=$ctrl.textContents.length ng-bind-html=$ctrl.finalBindingText class=item-description-content role=presentation></div> </div>"},"./app/components/TaggedDescription/TaggedDescription.less":function(e,t){},"./app/components/TaggedDescription/TaggedDescription.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/components/TaggedDescription/TaggedDescriptionController.ts"),o=n("./app/utility/Constants.ts");function s(){this.controller=r.TaggedDescriptionController,this.template=n("./app/components/TaggedDescription/TaggedDescription.html"),this.scope={textContents:"<",onHashTagClicked:"&",onTimeTagClicked:"&",isTimeTagStartup:"<",telemetryTracker:"<",tagClickedTelemetryProperties:"<"},this.restrict="E",this.controllerAs="$ctrl",this.bindToController=!0,this.link=function(e,t,n,i){setTimeout((function(){$(".hash-tags").click((function(t){t.stopImmediatePropagation(),i.onHashTagClickInternal($(t.currentTarget).text()),e.$apply()})),$(".url-in-description").click((function(t){t.stopImmediatePropagation(),e.$apply()})),$(".time-stamp-tag",t).click((function(t){t.stopImmediatePropagation(),i.onTimeStampTagClickedInternal(t.target.textContent),e.$apply()})),$(".time-stamp-tag",t).keypress((function(t){t.which===o.Constants.KeyCodes.Enter&&(t.stopImmediatePropagation(),i.onTimeStampTagClickedInternal(t.target.textContent),e.$apply())}))}),0)}}n("./app/components/TaggedDescription/TaggedDescription.less"),t.TaggedDescription=s,i.registerDirective("taggedDescription",s,angular.module("jumper"))},"./app/components/TaggedDescription/TaggedDescriptionController.ts":function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/string.ts"),o=n("./app/utility/Constants.ts"),s=n("./app/utility/string.ts"),a=n("./app/utility/appUtil.ts"),c=n("./app/models/TelemetryEventModels.ts"),l=(u.prototype.processDescription=function(e){var t=this;return(e=(e=(e=this.$filter("linkIt")(e,"_blank",{class:"c-hyperlink url-in-description"})).replace(o.Constants.encodedNewLineRegEx,o.Constants.LineBreakHTML)).replace(o.Constants.HashTagsRegExp,(function(e,t,n){var i=sessionInfo.IsEmbed?"/embed/browse":"/browse";return"<span>"+t+"<a dir="+(s.isRTLScript(r.htmlDecode(n))?"rtl":"ltr")+' class="c-hyperlink hash-tags" href="'+i+"?"+o.Constants.QueryStringKeys.SearchTerm+"="+encodeURIComponent("#"+r.htmlDecode(n))+'">#'+n+"</a></span>"}))).replace(o.Constants.TimeStampTagsRegExp,(function(e,n,i){return n+'<span class="c-hyperlink time-stamp-tag" tabindex="0" aria-label="'+t.getTimeStampTagAriaLabel(i)+'">'+i+"</span>"}))},u.prototype.onTimeStampTagClickedInternal=function(e){var t=a.taggedTimeStringToSeconds(e);this.$scope.$emit(o.Constants.Events.TimeStampTagClicked,{timeInSeconds:t}),this.logTagClicked(c.TagClickedType.Time,{timeInSecondsFromStart:t}),this.onTimeTagClicked()},u.prototype.onHashTagClickInternal=function(e){this.logTagClicked(c.TagClickedType.Hash,{hashTagLength:e.length}),this.onHashTagClicked({message:e})},u.prototype.logTagClicked=function(e,t){var n=this.telemetryTracker?this.telemetryTracker:this.telemetryService.getTracker(),r=i({},t),o=this.tagClickedTelemetryProperties,s=o.id,a=void 0===s?"":s,l=o.source,u=void 0===l?"":l;r.tagSource=u,r.elementId=a,r.tagType=e,n.trackEvent(c.TelemetryEventNames.tagClickedEventName,r)},u.prototype.getTimeStampTagAriaLabel=function(e){var t=a.taggedTimeStringToSeconds(e);return null!==t?this.isTimeTagStartup?s.formatString(this.resources.TimeTagStartAtArialLabel,t.toString()):s.formatString(this.resources.TimeTagSeekArialLabel,t.toString()):""},u.$inject=["$filter","$scope","resources","telemetryService"],u);function u(e,t,n,i){var r=this;this.$filter=e,this.$scope=t,this.resources=n,this.telemetryService=i,this.finalBindingText="",this.$scope.$watch((function(){return r.textContents}),(function(e){r.finalBindingText=r.processDescription(e)}))}t.TaggedDescriptionController=l},"./app/components/Upload/CaptionsAndSubtitles/CaptionsAndSubtitlesController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r,o,s,a=n("./app/utility/Constants.ts"),c=n("./app/models/TelemetryEventModels.ts"),l=n("./app/utility/string.ts"),u=n("./app/utility/LiveEventUtils.ts");(r=i=t.DisableAutoGeneratedCaptionStatus||(t.DisableAutoGeneratedCaptionStatus={}))[r.saved=0]="saved",r[r.saving=1]="saving",r[r.failed=2]="failed",(s=o=t.CaptionsAndSubtitlesDisableReason||(t.CaptionsAndSubtitlesDisableReason={}))[s.notCompleteLive=0]="notCompleteLive",s[s.endedNonViewableLive=1]="endedNonViewableLive",s[s.endedNonRecordedLive=2]="endedNonRecordedLive";var d=(p.prototype.refreshUI=function(){this.video.options&&this.video.options.autoGeneratedCaption?(this.gutterClass="gutter-caption-auto-generate",this.disableAutoGeneratedCaptionCheckbox=!1):this.captionTextTrack?(this.gutterClass="gutter-caption-file-uploaded",this.disableAutoGeneratedCaptionCheckbox=!0):(this.gutterClass="gutter-no-caption-file",-1<this.supportedLanguages.indexOf(this.video.language)?this.disableAutoGeneratedCaptionCheckbox=!1:this.disableAutoGeneratedCaptionCheckbox=!0),this.languageMatch({$match:!0}),this.refreshCaptionVisibilityToggle()},p.prototype.getTextTracks=function(e){var t=this;this.textTrackDataService.query().then((function(n){t.textTracks=n.data.value,t.getCaptionTextTrack(e),t.getSubtitleTextTracks(),1===t.subtitleTextTracks.length?t.subtitlesLabel=t.textTrackLanguageService.getLanguage(t.subtitleTextTracks[0].track.language).name:2===t.subtitleTextTracks.length?t.subtitlesLabel=t.textTrackLanguageService.getLanguage(t.subtitleTextTracks[0].track.language).name+", "+t.textTrackLanguageService.getLanguage(t.subtitleTextTracks[1].track.language).name:2<t.subtitleTextTracks.length&&(t.subtitlesLabel=l.formatString(t.resources.Components.CaptionsAndSubtitles.SubtitlesLabel,t.textTrackLanguageService.getLanguage(t.subtitleTextTracks[0].track.language).name+", "+t.textTrackLanguageService.getLanguage(t.subtitleTextTracks[1].track.language).name,(t.subtitleTextTracks.length-2).toString())),t.refreshUI()}))},p.prototype.getCaptionTextTrack=function(e){var t=_.find(this.textTracks,(function(e){return e.type===a.Constants.TextTrackType.Caption}));t?(this.showCaptionDownloadLink=!0,this.captionUrl=t.url,t.autoGenerated?this.captionFileName=this.video.name+this.resources.AutoGeneratedCaptionFileNameSuffix:(t.language=e,this.captionTextTrack={videoId:this.video.id,track:t,type:a.Constants.TextTrackType.Caption},this.captionFileName=t.name)):this.captionTextTrack=null},p.prototype.getSubtitleTextTracks=function(){var e=this;this.subtitleTextTracks=_.map(_.filter(this.textTracks,(function(e){return e.type===a.Constants.TextTrackType.Subtitle})),(function(t){return{track:t,type:a.Constants.TextTrackType.Subtitle,videoId:e.video.id}}))},p.prototype.onDelete=function(e){var t=this;return this.textTrackDataService.delete(e.track.id).then((function(){t.featureTelemetryTracker.succeed(c.FeatureName.DeleteTextTrack),e.type===a.Constants.TextTrackType.Caption&&e.track.id===t.captionTextTrack.track.id?(t.captionTextTrack=null,t.languageMatch({$match:!0})):e.type===a.Constants.TextTrackType.Subtitle&&_.remove(t.subtitleTextTracks,(function(t){return t.track&&t.track.id===e.track.id}))}),(function(n){e.errorMessage=l.formatString(t.resources.TextTrackDeleteFailed,""),t.featureTelemetryTracker.setResourceId(e.track.id),t.featureTelemetryTracker.fail(c.FeatureName.DeleteTextTrack,c.SubFeatureName.TextTrackDataService_Delete,n)})).finally((function(){t.refreshUI()}))},p.prototype.launchUploadCaption=function(e){var t=this;this.accessibilityOptionsOpened(),this.uploadCaptionDialog.open(this.video.id,this.isInAdminMode,e,this.video.language).closePromise.then((function(e){e.value&&(e.value.trackUploaded&&t.textTrackUploaded(),e.value.trackDeleted&&t.textTrackDeleted(),!e.value.videoLanguage||t.video.language&&t.video.language==e.value.videoLanguage||(t.captionTextTrack||(t.captionTextTrack={type:a.Constants.TextTrackType.Caption,videoId:t.video.id,track:{name:"",language:e.value.videoLanguage,type:a.Constants.TextTrackType.Caption}}),t.video.language=e.value.videoLanguage)),t.getTextTracks(t.video.language)})).finally((function(){t.telemetryService.getTracker(t.navigation.getPageName()).tagScreen()}))},p.prototype.autoGenereateCaptionChanged=function(){var e;this.video.options.autoGeneratedCaption||(e=this.videoEditStateInfo.unsavedChanges||!1,this.autoGeneratedCaptionSyncedWithBE=!1,this.video.id!==a.Constants.preCreationVideoId&&(this.captionStatus=i.saving,this.$scope.$emit(a.Constants.Events.SaveVideoImmediately,{video:{id:this.video.id,options:{autoGeneratedCaption:!1}},type:a.Constants.EventData.DisableAutoGeneratedCaption,unsavedChanges:e}))),this.refreshCaptionVisibilityToggle()},p.prototype.onToggleVisibilityClicked=function(){this.video.options.allowTranscript=!this.video.options.allowTranscript,this.telemetryService.getTracker().trackEvent(c.TelemetryEventNames.toggleStateChanged,{videoId:this.video.id,contentSource:this.video.contentSource,currentState:this.video.options.allowTranscript,toggleType:"visibilityToggle"})},p.prototype.downloadCaption=function(){this.captionTextTrack,this.mediaDownloaderService.downloadFileWithRename(this.captionUrl,this.captionFileName)},Object.defineProperty(p.prototype,"isDisabledForLive",{get:function(){return this.lastDisableReason=void 0,!!u.isVideoLiveContent(this.video)&&(u.isVideoCompleted(this.video)?u.isNonRecordedLiveEvent(this.video)?this.lastDisableReason=o.endedNonRecordedLive:u.isVodlessLiveEvent(this.video)&&(this.lastDisableReason=o.endedNonViewableLive):this.lastDisableReason=o.notCompleteLive,void 0!==this.lastDisableReason)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"captionDisabledNoteString",{get:function(){switch(this.lastDisableReason){case o.endedNonRecordedLive:return this.resources.LiveCaptionsUploadDisabledNoteNonRecorded;case o.endedNonViewableLive:return this.resources.LiveCaptionsUploadDisabledNoteNonViewable;case o.notCompleteLive:default:return this.resources.LiveCaptionsUploadDisabledNoteNotComplete}},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"subtitleDisabledNoteString",{get:function(){switch(this.lastDisableReason){case o.endedNonRecordedLive:return this.resources.LiveSubtitlesUploadDisabledNoteNonRecorded;case o.endedNonViewableLive:return this.resources.LiveSubtitlesUploadDisabledNoteNonViewable;case o.notCompleteLive:default:return this.resources.LiveSubtitlesUploadDisabledNoteNotComplete}},enumerable:!0,configurable:!0}),p.prototype.isCaptionVisibilityEnabled=function(){return angular.isDefined(this.video.options.allowTranscript)&&this.featureFlagsService.Values.EnableCaptionVisibilityToggle},p.prototype.refreshCaptionVisibilityToggle=function(){this.enableVisibilityToggle=this.video.options&&this.video.options.autoGeneratedCaption||this.subtitleTextTracks&&0!==this.subtitleTextTracks.length||null!=this.captionTextTrack},p.$inject=["$scope","resources","ngDialog","textTrackDataFactory","telemetryService","featureFlagsService","navigationService","textTrackLanguageService","videoService","mediaDownloaderService","uploadCaptionDialog"],p);function p(e,t,n,r,o,s,a,c,l,u,d){var p=this;this.$scope=e,this.resources=t,this.ngDialog=n,this.textTrackDataFactory=r,this.telemetryService=o,this.featureFlagsService=s,this.navigation=a,this.textTrackLanguageService=c,this.videoService=l,this.mediaDownloaderService=u,this.uploadCaptionDialog=d,this.cpationStatus={AutoGenerate:"AutoGenerate",NoCaptionUploaded:"NoCaptionUploaded",CaptionUploaded:"CaptionUploaded"},this.disableAutoGeneratedCaptionCheckbox=!0,this.enableVisibilityToggle=!1,this.autoGeneratedCaptionSyncedWithBE=!0,this.featureTelemetryTracker=this.telemetryService.getTracker(),this.textTrackDataService=this.textTrackDataFactory(this.video.id,this.isInAdminMode),this.videoService.getSupportedAutoTranscriptLanguages().then((function(e){p.supportedLanguages=e.data.languages})).finally((function(){-1<p.supportedLanguages.indexOf(p.video.language)&&(p.disableAutoGeneratedCaptionCheckbox=!1),e.$watch((function(){return p.video.language}),(function(e,t){e!==t&&(p.captionTextTrack?p.captionTextTrack.track.language!==p.video.language?p.languageMatch({$match:!1}):p.languageMatch({$match:!0}):(p.languageMatch({$match:!0}),-1<p.supportedLanguages.indexOf(p.video.language)?(p.disableAutoGeneratedCaptionCheckbox=!1,p.video.options.autoGeneratedCaption=!0,p.video.options.allowTranscript=!0):(p.disableAutoGeneratedCaptionCheckbox=!0,p.video.options.autoGeneratedCaption=!1),p.refreshUI()))}),!1),p.videoEditStateInfo.newlyUploadedItem||p.getTextTracks(p.video.language),e.$watch((function(){return p.captionStatus}),(function(e,t){e!==t&&t===i.saving&&e===i.saved&&(p.autoGeneratedCaptionSyncedWithBE=!0)}),!1),p.refreshCaptionVisibilityToggle()}))}t.CaptionsAndSubtitlesController=d},"./app/components/Upload/PrincipalGroupSearch/PrincipalGroupSearchController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r,o=n("./app/utility/appUtil.ts"),s=n("./app/utility/Constants.ts"),a=n("./app/utility/string.ts");(r=i=t.PrincipalSearchType||(t.PrincipalSearchType={}))[r.AllPrincipals=0]="AllPrincipals",r[r.MyGroupsWithChannels=1]="MyGroupsWithChannels",r[r.MyGroups=2]="MyGroups",r[r.Channels=3]="Channels",r[r.PrincipalUsers=4]="PrincipalUsers";var c=(l.prototype.infiniteScroll=function(e){var t=this,n=[s.Constants.PrincipalType.User];switch(void 0!==this.includeSecurityGroup&&!this.includeSecurityGroup||n.push(s.Constants.PrincipalType.SecurityGroup),this.selectedSearchType){case i.AllPrincipals:return this.principalSearched(),this.principalService.searchPrincipals(this.searchParams,s.Constants.MaxLengths.PrincipleSearchOutput).then((function(e){return t.selectedSearchType!==i.AllPrincipals||t.searchParams!==t.getSearchStringFromUrl(e.config.url)||(t.principalSuggestions=e.data.value,t.infoMessage=t.principalSuggestions.length<=0?t.resources.PrincipalGroupSearchNoUersOrGroups:"",t.principalSuggestions.length&&t.alertSuggestionsStringWithNumber(t.principalSuggestions.length),t.loading=!1),t.$q.resolve(-1)}),(function(e){return t.errorMessage=t.resources.PrincipalGroupSearchFailedSearch,t.defaultErrorAction(i.AllPrincipals,e)}));case i.PrincipalUsers:return this.principalSearched(),this.principalService.searchPrincipals(this.searchParams,s.Constants.MaxLengths.PrincipleSearchOutput,0,!1,n).then((function(e){return t.selectedSearchType!==i.PrincipalUsers||t.searchParams!==t.getSearchStringFromUrl(e.config.url)||(t.principalSuggestions=e.data.value,t.infoMessage=t.principalSuggestions.length<=0?a.formatString(t.resources.PrincipalGroupSearchNoData,t.resources.Person):"",t.principalSuggestions.length&&t.alertSuggestionsStringWithNumber(t.principalSuggestions.length),t.loading=!1),t.$q.resolve(-1)}),(function(e){return t.errorMessage=t.resources.PrincipalGroupSearchFailedSearch,t.defaultErrorAction(i.PrincipalUsers,e)}));case i.MyGroupsWithChannels:if(this.groupSearched(),this.isGroupSearchDisabled())return this.errorMessage=this.resources.PrincipalGroupSearchFailedSearch,this.defaultErrorAction(i.MyGroups,this.errorMessage);var r=this.isFetchMoreGroupsEnabled?s.Constants.MaxLengths.GroupSearchOutput:e.top;return this.groupService.query(this.searchParams,s.Constants.ChannelsSortOptions.Relevance,s.Constants.SortDirection.Descending,e.skip,r,!0,!0).then((function(n){if(t.selectedSearchType!==i.MyGroupsWithChannels||t.searchParams!==t.getSearchStringFromUrl(n.config.url))return t.$q.resolve(-1);var r=n.data.value.length;return t.groupSuggestions=t.groupSuggestions.concat(n.data.value),t.infoMessage=t.groupSuggestions.length<=0?a.formatString(t.resources.PrincipalGroupSearchNoData,t.resources.ResourceType.Group.LowerSingular):"",t.groupSuggestions.length&&t.alertSuggestionsStringWithNumber(t.groupSuggestions.length),t.loading=!1,r<e.top?t.$q.resolve(-1):t.$q.resolve(r)}),(function(e){return t.errorMessage=t.resources.PrincipalGroupSearchFailedSearch,t.defaultErrorAction(i.MyGroupsWithChannels,e)}));case i.Channels:return this.channelSearched(),this.channelService.query(e.top,e.skip,s.Constants.ChannelsSortOptions.Relevance,s.Constants.SortDirection.Ascending,this.searchParams,!0,this.isPrivateVideo,!0).then((function(n){if(t.selectedSearchType!==i.Channels||t.searchParams!==t.getSearchStringFromUrl(n.config.url))return t.$q.resolve(-1);var r=n.data.value.length;return t.channelSuggestions=t.channelSuggestions.concat(n.data.value),t.infoMessage=t.channelSuggestions.length<=0?a.formatString(t.resources.PrincipalGroupSearchNoData,t.resources.ResourceType.Channel.LowerSingular):"",t.channelSuggestions.length&&t.alertSuggestionsStringWithNumber(t.channelSuggestions.length),t.loading=!1,r<e.top?t.$q.resolve(-1):t.$q.resolve(r)}),(function(e){return t.errorMessage=t.resources.PrincipalGroupSearchFailedSearch,t.defaultErrorAction(i.Channels,e)}));case i.MyGroups:return this.groupSearched(),this.isGroupSearchDisabled()?(this.errorMessage=this.resources.PrincipalGroupSearchFailedSearch,this.defaultErrorAction(i.MyGroups,this.errorMessage)):(r=this.isFetchMoreGroupsEnabled?s.Constants.MaxLengths.GroupSearchOutput:e.top,this.groupService.query(this.searchParams,s.Constants.ChannelsSortOptions.Relevance,s.Constants.SortDirection.Descending,e.skip,r,!0,!1).then((function(n){if(t.selectedSearchType!==i.MyGroups||t.searchParams!==t.getSearchStringFromUrl(n.config.url))return t.$q.resolve(-1);var r=n.data.value.length;return t.groupSuggestions=t.groupSuggestions.concat(n.data.value),t.infoMessage=t.groupSuggestions.length<=0?a.formatString(t.resources.PrincipalGroupSearchNoData,t.resources.ResourceType.Group.LowerSingular):"",t.groupSuggestions.length&&t.alertSuggestionsStringWithNumber(t.groupSuggestions.length),t.loading=!1,r<e.top?t.$q.resolve(-1):t.$q.resolve(r)}),(function(e){return t.errorMessage=t.resources.PrincipalGroupSearchFailedSearch,t.defaultErrorAction(i.MyGroups,e)})))}return this.$q.reject()},l.prototype.defaultErrorAction=function(e,t){return this.selectedSearchType!==e||this.searchParams!==this.getSearchStringFromUrl(t.config.url)?this.$q.reject():(this.loading=!1,this.$q.reject(t))},l.prototype.checkFocus=function(e){var t=this,n=e&&e.relatedTarget;n&&!this.searchBoxElement.is(n)&&1!==this.searchResultsWrapperElement.find(n).length&&this.$scope.$applyAsync((function(){t.clear(!1)}))},l.prototype.selectChannel=function(e,t){var n=this;this.clear(),this.channelSelected({channel:e||{id:t.id,isDefault:!0},group:t}),setTimeout((function(){return n.$element.find(".search-row input").focus()}))},l.prototype.selectPrincipal=function(e){var t=this;this.currentlySelected=e,this.clear(this.clearSearch),this.principalSelected({principal:e}),setTimeout((function(){return t.$element.find(".search-row input").focus()}))},Object.defineProperty(l.prototype,"allSuggestionsLength",{get:function(){return $(".search-results",this.$element).children().length},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"placeHolderText",{get:function(){if(!_.isEmpty(this.placeHolderTextOverride))return this.placeHolderTextOverride;switch(this.selectedSearchType){case i.MyGroupsWithChannels:case i.MyGroups:return this.resources.GroupSearchPlaceHolderText;case i.Channels:return a.formatString(this.resources.PrincipalGroupSearchPlaceHolderText,this.resources.ChannelsLowerCase);case i.PrincipalUsers:return a.formatString(this.resources.PrincipalGroupSearchPlaceHolderText,this.resources.Users);case i.AllPrincipals:return a.formatString(this.resources.PrincipalGroupSearchPlaceHolderText,this.resources.PrincipalGroupSearchSearchTypeUsers);default:return""}},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"dropDownAriaLabel",{get:function(){return this.labelId?this.resources.PrincipalGroupSearchDropdownAriaLabel+this.labelId:this.resources.PrincipalGroupSearchDropdownAriaLabel},enumerable:!0,configurable:!0}),l.prototype.createGroup=function(){var e=this;this.groupCreateDialog.open(null,this.searchParams).closePromise.then((function(t){var n;t&&t.value&&t.value.group&&(n=t.value.group,e.channelSelected({channel:{id:n.id,isDefault:!0},group:n}))}))},l.prototype.createChannel=function(e){var t=this;this.createChannelDialog.open(this.searchParams,e).closePromise.then((function(e){e&&e.value&&e.value.channel&&t.channelSelected({channel:e.value.channel,group:e.value.channel.group})}))},l.prototype.displayedName=function(e){return e.name?e.name:e.mail},l.prototype.clear=function(e){void 0===e&&(e=!0),e&&(this.searchParams=""),this.loading=!1,this.showList=!1,this.errorMessage="",this.infoMessage="",this.principalSuggestions=[],this.groupSuggestions=[],this.channelSuggestions=[]},Object.defineProperty(l.prototype,"inputTimeInterval",{get:function(){return this.featureFlagsService.Values.IncreaseGroupSearchInputTimeInterval?1e3:s.Constants.DropdownList.InputTimeInterval},enumerable:!0,configurable:!0}),l.prototype.isPrivateGroup=function(e){return e.privacyMode===s.Constants.privacyMode.private},l.prototype.canCreateGroup=function(){return!this.hideCreate&&this.me&&this.me.permissions.canCreateGroup},l.prototype.canCreateChannel=function(e){return!this.hideCreate&&this.me&&this.me.permissions.canCreateChannel&&(!e||e.userData.permissions.canManageChannels)},Object.defineProperty(l.prototype,"isGroupSelected",{get:function(){return this.selectedSearchType===i.MyGroups||this.selectedSearchType===i.MyGroupsWithChannels},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isChannelSelected",{get:function(){return this.selectedSearchType===i.Channels},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isPrincipalSelected",{get:function(){return this.selectedSearchType===i.PrincipalUsers||this.selectedSearchType===i.AllPrincipals},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"showResultList",{get:function(){var e=!0;return this.isGroupSelected&&void 0!==this.me&&void 0!==this.me.permissions?e=!e||void 0===this.me.permissions.canCreateGroup||this.me.permissions.canCreateGroup:this.isChannelSelected&&void 0!==this.me&&void 0!==this.me.permissions&&(e=!e||void 0===this.me.permissions.canCreateChannel||this.me.permissions.canCreateChannel),(this.showList&&e||this.loading||""!==this.infoMessage||0<this.groupSuggestions.length||0<this.channelSuggestions.length||0<this.principalSuggestions.length)&&""===this.errorMessage},enumerable:!0,configurable:!0}),l.prototype.showResults=function(){null!=this.$element.attr("label-id")&&$("input",this.$element).attr("aria-labelledby",this.$element.attr("label-id")+" principalGroupSearchPlaceholderText"),this.selectedSearchType!==i.MyGroups&&this.selectedSearchType!==i.MyGroupsWithChannels&&this.selectedSearchType!==i.Channels||this.hideCreate||(this.showList=!0)},Object.defineProperty(l.prototype,"loadingMessage",{get:function(){switch(this.selectedSearchType){case i.MyGroupsWithChannels:case i.MyGroups:return a.formatString(this.resources.LoadingSearchResults,this.resources.ResourceType.Group.LowerPlural);case i.Channels:return a.formatString(this.resources.LoadingSearchResults,this.resources.ResourceType.Channel.LowerPlural);case i.PrincipalUsers:case i.AllPrincipals:return a.formatString(this.resources.LoadingSearchResults,this.resources.Users);default:return""}},enumerable:!0,configurable:!0}),l.prototype.getGroupSuggestionAriaLabel=function(e){return a.formatString(this.resources.PrincipalGroupSearchGroupSuggestionAriaLabel,e)},l.prototype.getChannelSuggestionAriaLabel=function(e){return a.formatString(this.resources.PrincipalGroupSearchChannelSuggestionAriaLabel,e)},l.prototype.getUserSuggestionAriaLabel=function(e){return a.formatString(this.resources.PrincipalGroupSearchUserSuggestionAriaLabel,this.displayedName(e))},l.prototype.getSearchStringFromUrl=function(e){var t=/.*startswith\(name,[',"]([^'"]*)[',"]\).*/i.exec(e);return t&&2<=t.length?decodeURIComponent(t[1]):""},l.prototype.alertSuggestionsStringWithNumber=function(e){o.alertScreenReader(a.formatString(this.resources.SuggestionsReminderLabelWithNumber,e.toString()))},l.prototype.isGroupSearchDisabled=function(){return this.featureFlagsService.Values.DisableGroupSearch},Object.defineProperty(l.prototype,"isFetchMoreGroupsEnabled",{get:function(){return this.featureFlagsService.Values.FetchMoreGroups},enumerable:!0,configurable:!0}),l.prototype.doSearch=function(e){this.clear(!1),e&&e.length>=this.searchMinInput&&(this.infiniteScrollRefresh=!0,this.loading=!0),this.onSearchChanges&&this.onSearchChanges()},Object.defineProperty(l.prototype,"isAutoSearchDisabled",{get:function(){return this.featureFlagsService.Values.DisableAutoSearchForGroups},enumerable:!0,configurable:!0}),l.$inject=["$scope","resources","$window","$q","principalService","groupService","channelService","featureFlagsService","groupCreateDialog","createChannelDialog","$element"],l);function l(e,t,n,r,a,c,l,u,d,p,A){var m=this;this.$scope=e,this.resources=t,this.$window=n,this.$q=r,this.principalService=a,this.groupService=c,this.channelService=l,this.featureFlagsService=u,this.groupCreateDialog=d,this.createChannelDialog=p,this.$element=A,this.searchTypes=[],this.searchMinInput=1,this.principalSuggestions=[],this.groupSuggestions=[],this.channelSuggestions=[],this.pickerInputMaxLength=s.Constants.MaxLengths.PickerSearch,this.hideSearchType=!1,this.id="principal-group-search-"+o.generateGuid(),this.loading=!1,this.showList=!1,this.clearSearch=!0,this.featureFlagsService.Values.DefaultShareWithVideoDropDownOptionPeople?(this.searchTypes=[{value:i.AllPrincipals,text:this.resources.PrincipalGroupSearchSearchTypeUsers},{value:i.Channels,text:this.resources.PrincipalGroupSearchSearchTypeChannels},{value:i.MyGroupsWithChannels,text:this.resources.PrincipalGroupSearchSearchTypeGroups}],this.selectedSearchType=i.AllPrincipals):(this.searchTypes=[{value:i.MyGroupsWithChannels,text:this.resources.PrincipalGroupSearchSearchTypeGroups},{value:i.Channels,text:this.resources.PrincipalGroupSearchSearchTypeChannels},{value:i.AllPrincipals,text:this.resources.PrincipalGroupSearchSearchTypeUsers}],this.selectedSearchType=i.MyGroupsWithChannels);var h=function(e){e.target&&e.target.className&&"string"==typeof e.target.className&&-1===e.target.className.indexOf("principal-group-search-textbox")&&-1===e.target.className.indexOf("principal-group-search-button")&&-1===e.target.className.indexOf("principal-group-search-field")&&m.showResultList&&(m.clear(!1),m.$scope.$apply())}.bind(this),f=function(e){e.keyCode===s.Constants.KeyCodes.Esc&&m.searchParams.length&&(e.preventDefault(),m.clear(),m.$scope.$apply(),$(".principal-group-search-textbox",m.$element).first().focus())}.bind(this);n.document.body.addEventListener("click",h),A.on("keydown",f),e.$on("$destroy",(function(){n.document.body.removeEventListener("click",h),A.off("keydown",f),m.searchBoxElement.off("focusout"),m.searchResultsWrapperElement.off("focusout")})),e.$watch((function(){return m.searchTypeList}),(function(){m.searchTypeList&&m.searchTypeList.length&&(m.searchTypes=_.map(m.searchTypeList,(function(e){var t={value:e,text:""};switch(e){case i.AllPrincipals:t.text=m.resources.PrincipalGroupSearchSearchTypeUsers;break;case i.Channels:t.text=m.resources.PrincipalGroupSearchSearchTypeChannels;break;case i.MyGroupsWithChannels:t.text=m.resources.PrincipalGroupSearchSearchTypeGroups}return t})),1===m.searchTypes.length&&(m.hideSearchType=!0),m.selectedSearchType=m.searchTypes[0].value)})),this.featureFlagsService.Values.DisableAutoSearchForGroups||e.$watch((function(){return m.searchParams}),(function(e){m.doSearch(e)})),e.$watch((function(){return m.selectedSearchType}),(function(){m.clearSearch||(m.searchParams=m.currentlySelected?m.currentlySelected.name:m.searchParams),m.clear(m.clearSearch)})),this.onInit&&this.onInit({principalGroupSearchControllerClear:this.clear}),setTimeout((function(){m.hideLabel&&m.idOverride&&(m.id=m.idOverride)}),0),this.searchResultsWrapperElement=this.$element.find(".search-results-wrapper").first(),this.searchResultsWrapperElement.focusout((function(e){m.checkFocus(e)})),this.featureFlagsService.Values.DisableAutoSearchForGroups?(this.searchFieldElement=this.$element.find(".principal-group-search-field").first(),this.searchFieldElement.focusout((function(e){m.checkFocus(e)}))):(this.searchBoxElement=this.$element.find(".principal-group-search-textbox").first(),this.searchBoxElement.focusout((function(e){m.checkFocus(e)})))}t.PrincipalGroupSearchController=c},"./app/components/Upload/UploadDetail/UploadDetailController.ts":function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),s=n("./app/utility/Constants.ts"),a=n("./app/services/VideoBgUploaderService.ts"),c=n("./app/utility/string.ts"),l=n("./app/utility/appUtil.ts"),u=n("./app/utility/ServicePlanUtils.ts"),d=n("./app/utility/UserNotificationUtils.ts"),p=n("./app/utility/ComponentBase.ts"),A=n("./app/models/TelemetryEventModels.ts");t.uploadSummaryProperties={source:s.Constants.videoUploadSource.browser,titleChanged:!1,descriptionChanged:!1,privacyChanged:!1,accessibilityOptionsOpened:!1,textTrackUploaded:!1,customPosterUploaded:!1,thumbnailSelected:!1,published:!1,textTrackDeleted:!1,privacyMode:"",fileExtension:"",error:!1,videoDownloaded:!1,permissionsIsViewerMode:!1,permissionsChannelAdded:!1,permissionsChannelSearched:!1,permissionsGroupAdded:!1,permissionsGroupSearched:!1,permissionsPrincipalAdded:!1,permissionsUserMadeOwner:!1,permissionsPrincipalSearched:!1,permissionsSecurityGroupMadeOwner:!1,permissionsStreamGroupMadeOwner:!1,permissionsVideoAddedCheckboxUnchecked:!1,contentSource:this.video?this.video.contentSource:null,uploadSessionId:""},t.uploadSummaryMetrics={msUntilThumbnailGenerated:0,msUntilUploadComplete:0,fileSize:0,permissionsTotalPermission:0,permissionsTotalPrivateChannels:0,permissionsTotalPublicChannels:0,permissionsChannelsAdded:0,permissionsGroupsAdded:0,permissionsPrincipalsAdded:0};var m,h=(r(f,m=p.ComponentBase),Object.defineProperty(f.prototype,"isUploadNotStarted",{get:function(){return this.fileInfo.editStateInfo.videoState===s.Constants.VideoState.creating||this.fileInfo.editStateInfo.videoState===s.Constants.VideoState.created},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isUploading",{get:function(){return this.fileInfo.editStateInfo.videoState===s.Constants.VideoState.uploading},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isProcessing",{get:function(){return this.fileInfo.editStateInfo.videoState===s.Constants.VideoState.processing},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isFailed",{get:function(){return this.fileInfo.editStateInfo.videoState===s.Constants.VideoState.failedUpload||this.fileInfo.editStateInfo.videoState===s.Constants.VideoState.failedProcessing||this.fileInfo.editStateInfo.videoState===s.Constants.VideoState.unSupportedType||this.fileInfo.editStateInfo.videoState===s.Constants.VideoState.exceededFileSize||this.storageLimitExceeded},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isNotSupported",{get:function(){return this.fileInfo.editStateInfo.videoState===s.Constants.VideoState.unSupportedType},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isFileSizeExceeded",{get:function(){return this.fileInfo.editStateInfo.videoState===s.Constants.VideoState.exceededFileSize},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isCompleted",{get:function(){return this.fileInfo.editStateInfo.videoState===s.Constants.VideoState.completed},enumerable:!0,configurable:!0}),f.prototype.openShare=function(){this.videoShareDialog.open(this.video)},f.prototype.gotoVideo=function(){this.navigationService.navigate(c.formatString(s.Constants.Routes.Video,this.video.id),{list:s.Constants.lists.Studio})},f.prototype.goToSupportedFormats=function(){this.$window.open(l.generateFwLink(s.Constants.ExternalLinkIds.SupportedFormats))},Object.defineProperty(f.prototype,"isDeleteButtonEnabled",{get:function(){return!this.isUploading&&(!this.isFailed||this.isFailed&&!this.isNotSupported&&!this.isFileSizeExceeded)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isCancelButtonEnabled",{get:function(){return this.isUploading||this.isNotSupported||this.isFileSizeExceeded},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"uploadProgressMessage",{get:function(){return this.isUploadNotStarted?this.resources.ProgressDetail2UploadQueued:this.isUploading?this.resources.ProgressDetail2Uploading+" "+this.progressPercentage:this.isProcessing?this.resources.ProgressDetail2Processing+" "+this.progressPercentage:c.formatString(this.resources.ProgressDetail2ProcessingComplete,this.fileInfo.file.name)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"publishedMessage",{get:function(){return this.isProcessing?this.resources.ProgressDetail2Processing:this.resources.ProgressDetail2PublishedProcessed},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"failedMessageShort",{get:function(){return c.formatString(this.resources.ProgressDetail2UploadFailed,this.fileInfo.file.name)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"progressPercentage",{get:function(){return this.isUploading&&!isNaN(this.fileInfo.editStateInfo.uploadProgress)?this.fileInfo.editStateInfo.uploadProgress+"%":this.isProcessing&&!isNaN(this.fileInfo.editStateInfo.processProgress)?this.fileInfo.editStateInfo.processProgress+"%":""},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"uploadDetailSectionAriaLabel",{get:function(){return c.formatString(this.resources.UploadDetailSectionAriaLabel,this.fileInfo.file.name)},enumerable:!0,configurable:!0}),f.prototype.cancelUpload=function(){var e=this;return this.video?this.cancelUploadDialogShow().then((function(){e.videoBgUploaderService.cancelBgUpload(e.video.id),e.videoService.delete(e.video.id).then((function(){e.featureTelemetryTracker.succeed(A.FeatureName.DeleteVideo)}),(function(t){e.handleAndDisplayError(A.SubFeatureName.VideoService_DeleteVideo,t)}))})):(this.onRemove(),this.$q.resolve())},f.prototype.cancelUploadDialogShow=function(){var e={title:this.resources.UploadCancelTitle,message:c.formatString(this.resources.UploadCancelMessage,this.fileInfo.file.name),confirmButtonLabel:this.resources.Yes,cancelButtonLabel:this.resources.No};return this.confirmationDialogService.show(e)},f.prototype.deleteVideo=function(){var e=this;return this.deleteConfirmationDialogService.show(this.resources.ResourceType.Video.LowerSingular,this.fileInfo.file.name,!1,this.video.id,!1).then((function(){e.videoService.delete(e.video.id).then((function(){e.featureTelemetryTracker.succeed(A.FeatureName.DeleteVideo)}),(function(t){e.handleAndDisplayError(A.SubFeatureName.VideoService_DeleteVideo,t)}))}),(function(){}))},f.prototype.onPublishSuccess=function(){this.uploadSummaryProperties.published=!0,this.fileInfo.editStateInfo.published=!0,this.fileInfo.editStateInfo.collapseAccordion=!0},f.prototype.startUploadProcess=function(){var e=this;if(!this.fileInfo.file.name)return this.failedMessage=this.resources.ProgressDetailBlobNotSupported,this.fileInfo.editStateInfo.videoState=s.Constants.VideoState.unSupportedType,this.fileInfo.editStateInfo.collapseAccordion=!0,this.$q.reject(this.failedMessage);var t=u.ServicePlanUtils.isUserOnTrialPlan(this.me,!0);if(this.featureFlagsService.Values.DataUsageNotifications&&_.isArray(this.dataShareService.notifications)&&!t&&(this.storageLimitExceeded=!_.isNull(d.getNotificationByType(this.dataShareService.notifications,d.UserNotificationType.StorageUsageOverLimit)),this.storageLimitExceeded))return this.failedMessage=this.resources.UploadStorageLimitExceededMessage,this.fileInfo.editStateInfo.collapseAccordion=!0,this.fileInfo.editStateInfo.videoState=s.Constants.VideoState.failedUpload,this.$q.reject(this.failedMessage);var n=this.fileInfo.file.name.split(".").pop();return this.uploadSummaryProperties.fileExtension=n,this.uploadSummaryMetrics.fileSize=this.fileInfo.file.size,this.uploadSummaryProperties.uploadSessionId=o.createGuid(),this.getSupportedTypes().finally((function(){var i=_.find(e.supportedTypes||[],(function(e){return e.toLocaleLowerCase()==="."+n.toLocaleLowerCase()}));if(e.supportedTypes&&!i)return e.failedMessage=c.formatString(e.resources.ProgressDetailTypeNotSupported,e.fileInfo.file.name),e.fileInfo.editStateInfo.videoState=s.Constants.VideoState.unSupportedType,e.fileInfo.editStateInfo.collapseAccordion=!0,e.$q.reject(e.failedMessage);if(e.featureFlagsService.Values.TrialExperience&&(t&&e.fileInfo.file.size>s.Constants.VideoSizeLimits.trail||!t&&e.fileInfo.file.size>s.Constants.VideoSizeLimits.other))return e.failedMessage=t?e.resources.ProgressDetailFileSizeExceededTrialPlan:e.resources.ProgressDetailFileSizeExceededNonTrialPlan,e.fileInfo.editStateInfo.videoState=s.Constants.VideoState.exceededFileSize,e.fileInfo.editStateInfo.collapseAccordion=!0,e.$q.reject(e.failedMessage);e.fileInfo.editStateInfo.videoState=s.Constants.VideoState.creating;var r={name:e.fileInfo.file.name.replace(/.[^.]+$/,"").substring(0,s.Constants.MaxLengths.VideoTitle-1),privacyMode:e.fileInfo.group?e.fileInfo.group.isDefault?s.Constants.privacyMode.organization:s.Constants.privacyMode.private:e.featureFlagsService.Values.DefaultPrivacyModeTenantSetting&&e.defaultPrivacy||s.Constants.privacyMode.organization},o=e.$location.search();o&&o[s.Constants.QueryStringKeys.OverrideContentType]&&(r.contentType=o[s.Constants.QueryStringKeys.OverrideContentType]);var a={};return e.fileInfo.language?(r.language=e.fileInfo.language,e.featureFlagsService.Values.GenerateNonEnglishAutoTranscript?e.videoService.getSupportedAutoTranscriptLanguages().then((function(t){-1<t.data.languages.indexOf(e.fileInfo.language)&&(a.autoGeneratedCaption=e.setOptionToTrueSpyon())})).finally((function(){return e.videoServiceCreation(r,a)})):(-1<["en","es"].indexOf(e.fileInfo.language)&&(a.autoGeneratedCaption=e.setOptionToTrueSpyon()),e.videoServiceCreation(r,a))):e.videoServiceCreation(r,a)}))},f.prototype.setOptionToTrueSpyon=function(){return!0},f.prototype.videoServiceCreation=function(e,t){var n=this;return"{}"!==JSON.stringify(t)&&(e.options=t),this.videoService.create(e).then((function(e){return n.fileInfo.editStateInfo.videoState=s.Constants.VideoState.created,n.video=e.data,n.formName="form"+n.video.id.replace(/-/g,""),n.uploadSummaryProperties.videoId=n.video.id,n.featureTelemetryTracker.setResourceId(n.video?n.video.id:null),n.savedVideo=angular.copy(e.data),n.fileInfo.channel&&(n.permissionList=n.permissionList||[],n.permissionList.push({id:n.fileInfo.group.id,name:n.fileInfo.group.isDefault?n.resources.VideoPermissionsGroupNameForMyOrgChannels:n.fileInfo.group.name,isPrivate:n.fileInfo.group.privacyMode===s.Constants.privacyMode.private,isSystemGroup:n.fileInfo.group.isDefault,isOwner:!0,showRole:!n.fileInfo.group.isDefault,showVideoAdded:!n.fileInfo.group.isDefault,videoAdded:!0,userType:s.Constants.PrincipalType.StreamGroup,channels:[{id:n.fileInfo.channel.id,name:n.fileInfo.channel.name}]}),n.$timeout((function(){n.$scope.$broadcast(s.Constants.Events.SaveVideoImmediately)}),0)),n.upload()})).catch((function(e){n.handleAndDisplayError(A.SubFeatureName.VideoService_Create,e)}))},f.prototype.upload=function(){var e=this;return this.videoBgUploaderService.startBgUpload(this.video.id,this.fileInfo.file,this.fileInfo.uploadPriority,void 0,void 0,void 0,void 0,this.uploadSummaryProperties).then((function(){e.isDestroyed||(e.fileInfo.editStateInfo.uploadProgress=100,e.fileInfo.editStateInfo.processProgress=0,l.alertScreenReader(c.formatString(e.resources.UploadCompleteAlertMessage,e.fileInfo.file.name)),e.$scope.$emit(s.Constants.Events.UploadProgress,e.fileInfo.editStateInfo.uploadProgress),e.fileInfo.editStateInfo.videoState=s.Constants.VideoState.processing,e.uploadSummaryMetrics.msUntilUploadComplete=Date.now()-e.startTime,e.refreshStatusAfterNotificationIntervalPromise=e.$interval((function(){e.pollMedia()}),s.Constants.VideoStatusNotificationTimeout,1))}),(function(t){var n;e.isDestroyed||(n=A.SubFeatureName.MediaUploaderService_Upload,t.api===s.Constants.VideoActions.CompleteUpload?n=A.SubFeatureName.VideoService_CompleteUpload:t.api===s.Constants.VideoActions.StartUpload&&(n=A.SubFeatureName.VideoService_StartUpload),e.handleAndDisplayError(n,t,!1),e.$q.reject(t))}),(function(t){e.isDestroyed||(t.type===a.UploadNotificationType.UploadStarted?e.fileInfo.editStateInfo.videoState=s.Constants.VideoState.uploading:t.type===a.UploadNotificationType.UploadProgress&&(e.fileInfo.editStateInfo.uploadProgress=Number(t.progress),e.$scope.$emit(s.Constants.Events.UploadProgress,e.fileInfo.editStateInfo.uploadProgress)))}))},f.prototype.pollMedia=function(e){var t=this;void 0===e&&(e=!1),this.featureTelemetryTracker.trackEvent(e?A.TelemetryEventNames.StatusCalledBecauseOfNotification:A.TelemetryEventNames.StatusCalledBecauseOfTimer,{id:this.video.id}),this.videoService.getVideoStatus(this.video.id).then((function(e){var n=e.data;_.forEach(n.processingStatus,(function(e){e&&(e.type.trim().toLowerCase()===s.Constants.VideoProcessingStatusType.thumbnail.toLowerCase()?e.state.trim().toLowerCase()===s.Constants.VideoStatus.Completed.toLowerCase()&&(t.fileInfo.editStateInfo.thumbnailsReady||(l.alertScreenReader(c.formatString(t.resources.ThumbnailsReadyAlertMessage,t.fileInfo.file.name)),t.fileInfo.editStateInfo.thumbnailsReady=!0)):e.type.trim().toLowerCase()===s.Constants.VideoProcessingStatusType.encoding.toLowerCase()&&(t.fileInfo.editStateInfo.processProgress=e.progress,e.state.trim().toLowerCase()===s.Constants.VideoStatus.Completed.toLowerCase()?(t.fileInfo.editStateInfo.videoState=s.Constants.VideoState.completed,clearInterval(t.refreshTimerId)):e.state.trim().toLowerCase()===s.Constants.VideoStatus.Error.toLowerCase()&&(t.handleAndDisplayError(A.SubFeatureName.ProcessingVideo,e.error.message,!1),clearInterval(t.refreshTimerId))))})),t.fileInfo.editStateInfo.thumbnailsReady&&!t.uploadSummaryMetrics.msUntilThumbnailGenerated&&(t.uploadSummaryMetrics.msUntilThumbnailGenerated=Date.now()-t.startTime)}),(function(e){t.sendFeatureEvent(A.SubFeatureName.VideoService_GetVideoStatus,e)})).finally((function(){t.refreshStatusAfterNotificationIntervalPromise&&(t.$interval.cancel(t.refreshStatusAfterNotificationIntervalPromise),t.fileInfo.editStateInfo.videoState.toLowerCase()===s.Constants.VideoStatus.Processing.toLowerCase()&&(t.refreshStatusAfterNotificationIntervalPromise=t.$interval((function(){t.pollMedia()}),s.Constants.VideoStatusNotificationTimeout,1)))}))},f.prototype.getSupportedTypes=function(){var e=this,t=this.$q.defer();return this.supportedTypes?(t.resolve(),t.promise):this.videoService.getSupportedExtensions().then((function(t){e.supportedTypes=t.data.extensions}),(function(t){e.sendFeatureEvent(A.SubFeatureName.VideoService_GetSupportedExtensions,t)})).finally((function(){t.resolve()}))},f.prototype.sendTelemetryEvents=function(){this.telemetrySummarySent||(this.featureTelemetryTracker.trackEvent(A.TelemetryEventNames.uploadSummaryEventName,this.uploadSummaryProperties,this.uploadSummaryMetrics),this.telemetrySummarySent=!0)},f.prototype.sendFeatureEvent=function(e,t){var n,i=!1;switch(e){case A.SubFeatureName.VideoService_Create:t&&t.data&&t.data.error&&(i=t.data.error.code.toLowerCase()===s.Constants.ApiErrorCodes.QuotaExceeded.toLowerCase());case A.SubFeatureName.VideoService_StartUpload:case A.SubFeatureName.MediaUploaderService_Upload:case A.SubFeatureName.VideoService_CompleteUpload:n=A.FeatureName.UploadVideo;break;case A.SubFeatureName.VideoService_DeleteVideo:n=A.FeatureName.DeleteVideo;break;case A.SubFeatureName.VideoService_GetSupportedExtensions:n=A.FeatureName.GetSupportedExtensions;break;case A.SubFeatureName.VideoService_GetVideoStatus:n=A.FeatureName.GetVideoStatus;break;default:n=A.FeatureName.NotApplicable}this.featureTelemetryTracker.setResourceId(this.video?this.video.id:null),i?this.featureTelemetryTracker.warn(n,e,t):this.featureTelemetryTracker.fail(n,e,t)},f.prototype.handleAndDisplayError=function(e,t,n,i){void 0===n&&(n=!0),void 0===i&&(i=!0);var r="";switch(e){case A.SubFeatureName.VideoService_DeleteVideo:r=this.resources.VideoDeleteFailed,this.fileInfo.editStateInfo.videoState=s.Constants.VideoState.failedProcessing,this.fileInfo.editStateInfo.collapseAccordion=!0;break;case A.SubFeatureName.VideoService_Create:case A.SubFeatureName.VideoService_CompleteUpload:case A.SubFeatureName.MediaUploaderService_Upload:case A.SubFeatureName.VideoService_StartUpload:r=c.formatString(this.resources.ProgressDetailUploadFailed,this.fileInfo.file.name),this.fileInfo.editStateInfo.videoState=s.Constants.VideoState.failedUpload,this.fileInfo.editStateInfo.collapseAccordion=!0;break;case A.SubFeatureName.ProcessingVideo:r=t,this.fileInfo.editStateInfo.videoState=s.Constants.VideoState.failedProcessing,this.fileInfo.editStateInfo.collapseAccordion=!0;break;default:r=this.resources.UploadMetadataSaveFailed}var o=this.handleBackendErrorMessage(e,t);this.failedMessage=i&&o?r+". "+o:r+". "+this.resources.DeleteAndTryLater+".",n&&this.sendFeatureEvent(e,t)},f.prototype.handleBackendErrorMessage=function(e,t){var n="";return t&&t.status&&!isNaN(t.status)&&t.status<500&&t.data&&t.data.error&&t.data.error.message&&(n=t.data.error.message),n},Object.defineProperty(f.prototype,"uploadProgessBarAriaLabel",{get:function(){return c.formatString(this.resources.UploadProgressAriaLabel,this.fileInfo.file.name,this.progressPercentage)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"processProgessBarAriaLabel",{get:function(){return c.formatString(this.resources.VideoProcessingProgressAriaLabel,this.fileInfo.file.name,this.progressPercentage)},enumerable:!0,configurable:!0}),f.$inject=["$scope","$q","resources","videoService","videoBgUploaderService","confirmationDialogService","deleteConfirmationDialogService","telemetryService","featureFlagsService","videoShareDialog","navigationService","dataShareService","$window","$timeout","$interval","$location"],f.Events={UploadDetailsPublishAndSave:"uploadDetailsPublishAndSave"},f);function f(e,n,i,r,o,a,c,l,u,d,p,h,g,v,y,S){var b=m.call(this,f)||this;b.$scope=e,b.$q=n,b.resources=i,b.videoService=r,b.videoBgUploaderService=o,b.confirmationDialogService=a,b.deleteConfirmationDialogService=c,b.telemetryService=l,b.featureFlagsService=u,b.videoShareDialog=d,b.navigationService=p,b.dataShareService=h,b.$window=g,b.$timeout=v,b.$interval=y,b.$location=S,b.debounceOptions={debounce:300},b.videoTitleMaxLength=s.Constants.MaxLengths.VideoTitle,b.videoDescriptionMaxLength=s.Constants.MaxLengths.VideoDescription,b.refreshTimerId=-1,b.uploadSummaryProperties=angular.copy(t.uploadSummaryProperties),b.uploadSummaryMetrics=angular.copy(t.uploadSummaryMetrics),b.telemetrySummarySent=!1,b.isDestroyed=!1,b.storageLimitExceeded=!1,b.startTime=Date.now(),b.fileInfo&&b.startUploadProcess();var C=b.sendTelemetryEvents.bind(b);return b.$window.addEventListener("beforeunload",C),e.$on("$destroy",(function(){-1!==b.refreshTimerId&&clearInterval(b.refreshTimerId),b.refreshStatusAfterNotificationIntervalPromise&&b.$interval.cancel(b.refreshStatusAfterNotificationIntervalPromise),b.isDestroyed=!0,b.sendTelemetryEvents(),b.$window.removeEventListener("beforeunload",C)})),e.$on(s.Constants.Events.videoDeleted,(function(e,t){e.preventDefault(),b.isDestroyed||b.video.id!==t.id||b.onRemove()})),e.$on(s.Constants.Events.Notification_VideoStatus,(function(e,t){b.video&&t.id===b.video.id&&b.pollMedia(!0)})),b.featureTelemetryTracker=b.telemetryService.getTracker(A.ScreenName.Upload),b}t.UploadDetailController=h},"./app/components/Upload/UploadVideo/UploadVideoController.ts":function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/appUtil.ts"),a=n("./app/components/Upload/UploadDetail/UploadDetailController.ts"),c=n("./app/utility/string.ts"),l=n("./app/utility/Constants.ts"),u=n("./app/utility/ComponentBase.ts"),d=n("./app/models/TelemetryEventModels.ts"),p=(r(A,o=u.ComponentBase),Object.defineProperty(A.prototype,"publishButtonDisabled",{get:function(){return this.publishingFiles||this.anyFilesInUpload||this.allVideosPublished},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"shouldLowerPageForBanner",{get:function(){return this.notificationsPresent&&!this.isReactBannerEnabled},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"isCopyrightBannerVisible",{get:function(){return!this.filesToUpload||this.filesToUpload.length<1},enumerable:!0,configurable:!0}),A.prototype.onBrowseFileClicked=function(){this.fileSelectedToUpload=!0},A.prototype.onLoadCompanyPolicy=function(e){this.companyPolicyAddress=e},A.prototype.publishAll=function(){var e=this;function t(){e.allVideosPublished&&(e.$interval.cancel(n),e.publishingFiles=!1)}this.uploadSessionProperties.publishAllClicked=!0;var n=null;this.publishingFiles=!0,0<this.filesToUpload.length&&this.$scope.$broadcast(a.UploadDetailController.Events.UploadDetailsPublishAndSave),t.bind(this)(),this.publishingFiles&&(n=this.$interval(t.bind(this),100))},Object.defineProperty(A.prototype,"overAllUploadSummary",{get:function(){return 1===this.filesCurrentlyInUploadingstate.length?this.resources.UploadOverAllUploadingSummarySingular:1<this.filesCurrentlyInUploadingstate.length?c.formatString(this.resources.UploadOverAllUploadingSummaryPlural,this.filesCurrentlyInUploadingstate.length.toString()):1===this.filesNotFailed.length?this.resources.UploadOverAllUploadSummarySingular:c.formatString(this.resources.UploadOverAllUploadSummaryPlural,this.filesNotFailed.length.toString())},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"anyFilesInUpload",{get:function(){return _.some(this.filesToUpload,(function(e){return e.editStateInfo.videoState===l.Constants.VideoState.creating||e.editStateInfo.videoState===l.Constants.VideoState.created||e.editStateInfo.videoState===l.Constants.VideoState.uploading}))},enumerable:!0,configurable:!0}),A.prototype.goToMyVideos=function(){this.navigationService.navigate(l.Constants.Routes.Studio)},A.prototype.startObserveFocusArea=function(){var e=document.querySelector(".upload-container");e&&this.observer.observe(e,{subtree:!0,childList:!0})},Object.defineProperty(A.prototype,"filesCurrentlyInUploadingstate",{get:function(){return _.filter(this.filesToUpload,(function(e){return e.editStateInfo.videoState===l.Constants.VideoState.uploading||e.editStateInfo.videoState===l.Constants.VideoState.creating||e.editStateInfo.videoState===l.Constants.VideoState.created}))},enumerable:!0,configurable:!0}),A.prototype.uploadFiles=function(e){var t=this;e.forEach((function(e){var n={file:e,editStateInfo:{videoState:l.Constants.VideoState.creating,uploadProgress:0,newlyUploadedItem:!0},language:t.defaultLanguage,uploadPriority:t.currentUploadWeight};t.currentUploadWeight++,t.defaultChannel&&(n.channel=t.defaultChannel,n.group=t.defaultGroup),t.filesToUpload.push(n)}))},Object.defineProperty(A.prototype,"filesNotFailed",{get:function(){return _.filter(this.filesToUpload,(function(e){return e.editStateInfo.videoState!==l.Constants.VideoState.failedUpload&&e.editStateInfo.videoState!==l.Constants.VideoState.failedProcessing&&e.editStateInfo.videoState!==l.Constants.VideoState.error&&e.editStateInfo.videoState!==l.Constants.VideoState.unSupportedType&&e.editStateInfo.videoState!==l.Constants.VideoState.exceededFileSize}))},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"allVideosPublished",{get:function(){return _.every(this.filesNotFailed,(function(e){return!e.editStateInfo.unsavedChanges&&e.editStateInfo.published}))},enumerable:!0,configurable:!0}),A.prototype.sendTelemetryEvents=function(){this.uploadSessionProperties&&this.uploadSessionMetrics&&(this.telemetryService.getTracker(d.ScreenName.Upload).trackEvent(d.TelemetryEventNames.uploadSessionEventName,this.uploadSessionProperties,this.uploadSessionMetrics),this.uploadSessionProperties=null,this.uploadSessionMetrics=null)},Object.defineProperty(A.prototype,"uploadMoreMessage",{get:function(){return this.defaultChannel?this.defaultGroup&&this.defaultGroup.id===this.defaultChannel.id?c.formatString(this.resources.UploadMoreToGroupOrChannel,this.defaultGroup.name):c.formatString(this.resources.UploadMoreToGroupOrChannel,this.defaultChannel.name):this.resources.UploadMoreMessage},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"isReactBannerEnabled",{get:function(){return this.featureFlagsService.Values.ReactBanner},enumerable:!0,configurable:!0}),A.$inject=["$q","$scope","resources","$window","$interval","navigationService","telemetryService","featureFlagsService","dataShareService","videoService","principalService","defaultVideoLanguageDialog","$element"],A);function A(e,t,n,i,r,a,u,p,m,h,f,g,v){var y=o.call(this,A)||this;function S(e){y.sendTelemetryEvents()}function b(e){y.sendTelemetryEvents()}return y.$q=e,y.$scope=t,y.resources=n,y.$window=i,y.$interval=r,y.navigationService=a,y.telemetryService=u,y.featureFlagsService=p,y.dataShareService=m,y.videoService=h,y.principalService=f,y.defaultVideoLanguageDialog=g,y.$element=v,y.publishingFiles=!1,y.supportedFormatsLink=s.generateFwLink(l.Constants.ExternalLinkIds.SupportedFormats),y.uploadDisabled=!0,y.policyAcknowledgedNeeded=!0,y.notificationsPresent=!1,y.companyPolicyAddress="",y.uploadSessionProperties={publishAllClicked:!1},y.uploadSessionMetrics={maxUploadsInSession:0},y.currentUploadWeight=0,y.fileSelectedToUpload=!1,y.defaultPrivacy=l.Constants.privacyMode.organization,y.filesToUpload=[],m.files&&(y.files=m.files.splice(0),m.files=null),m.channel&&(y.defaultChannel=m.channel,y.defaultGroup=m.group,m.group=null,m.channel=null),y.$scope.$watchGroup([function(){return y.files},function(){return y.policyAcknowledgedNeeded}],(function(e){function t(){y.uploadFiles(y.files),y.files=[],y.uploadSessionMetrics.maxUploadsInSession=Math.max(y.uploadSessionMetrics.maxUploadsInSession,y.filesToUpload.length)}!y.policyAcknowledgedNeeded&&y.files&&0<y.files.length&&y.principalService.getMyPrincipalInfo().then((function(e){y.me=e.data,y.me.settings.general.hideDefaultVideoLanguageDialog?(y.defaultLanguage=y.me.settings.general.defaultVideoLanguage,t()):y.defaultVideoLanguageDialog.open().closePromise.then((function(e){y.defaultLanguage=e.value&&e.value.lang?e.value.lang:null,t()}))}))})),y.$window.addEventListener("beforeunload",S),y.$window.addEventListener("unload",b),$("body").css("overflowY","auto"),y.$scope.$on("$destroy",(function(e){$("body").css("overflowY",""),y.filesToUpload=[],y.sendTelemetryEvents(),y.$window.removeEventListener("beforeunload",S),y.$window.removeEventListener("unload",b)})),y.featureFlagsService.Values.DataUsageNotifications&&y.$scope.$watch((function(){return y.dataShareService.notifications}),(function(){y.notificationsPresent=_.isArray(y.dataShareService.notifications)&&0<y.dataShareService.notifications.length})),y.$scope.$watch((function(){return y.defaultPrivacy}),(function(e){y.uploadSessionProperties.defaultPrivacy=e})),y.$window.document.title=c.formatString(y.resources.BrowserTitle.UploadVideo,l.Constants.ProductName),y.videoService.getSupportedExtensions().then((function(e){y.supportedTypes=e.data.extensions}),(function(e){y.telemetryService.getTracker(d.ScreenName.Upload).fail(d.FeatureName.GetSupportedExtensions,d.SubFeatureName.VideoService_GetSupportedExtensions,e)})),y.observer=new MutationObserver((function(){y.selectMoreUploadVideoBtn=y.$element.find(".upload-more-btn"),0<y.selectMoreUploadVideoBtn.length&&y.fileSelectedToUpload&&(y.selectMoreUploadVideoBtn.focus(),y.fileSelectedToUpload=!1),y.browseFileBtn=y.$element.find(".browse-file-to-upload-btn"),0<y.selectMoreUploadVideoBtn.length&&0===y.filesToUpload.length&&y.browseFileBtn.focus()})),y.startObserveFocusArea(),t.$on("$destroy",(function(){y.observer.disconnect()})),y}t.UploadVideoController=p},"./app/components/Upload/VideoEdit/VideoEditController.ts":function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s,a,c,l=n("./app/utility/Constants.ts"),u=n("./app/utility/string.ts"),d=n("./app/utility/ComponentBase.ts"),p=n("./app/models/TelemetryEventModels.ts"),A=n("./app/components/Upload/VideoPermissions/VideoPermissionsController.ts"),m=n("./app/components/Upload/CaptionsAndSubtitles/CaptionsAndSubtitlesController.ts"),h=n("./app/utility/appUtil.ts"),f=n("./app/utility/LiveEventUtils.ts");(s=o=t.AutosaveStatus||(t.AutosaveStatus={}))[s.saved=0]="saved",s[s.saving=1]="saving",s[s.unsaved=2]="unsaved",s[s.failed=3]="failed",s[s.manualSaving=4]="manualSaving",s[s.enteringPage=5]="enteringPage",(c=a=t.ManualSaveStatus||(t.ManualSaveStatus={}))[c.succeeded=0]="succeeded",c[c.failed=1]="failed";var g,v=(r(y,g=d.ComponentBase),Object.defineProperty(y.prototype,"publishText",{get:function(){return this.isPublishing?this.resources.VideoPublishingButtonLabel:this.video.published?this.resources.VideoPublishedButtonLabel:this.resources.PublishButton},enumerable:!0,configurable:!0}),y.prototype.videoUploadTabToggled=function(e){this.telemetryService.getTracker(p.ScreenName.Upload).trackEvent(p.TelemetryEventNames.videoUploadTabToggled,{videoId:this.video?this.video.id:null,contentSource:this.video?this.video.contentSource:null,tabName:e})},y.prototype.thumbnailSelect=function(){this.thumbnailSelectionChanged=!0,this.doAutoSaveIfEnabled()},Object.defineProperty(y.prototype,"videoEditSectionAriaLabel",{get:function(){return u.formatString(this.resources.UploadVideoEditDetailSectionAriaLabel,this.video.name)},enumerable:!0,configurable:!0}),y.prototype.openShare=function(){this.videoShareDialog.open(this.video)},y.prototype.permissionsChanged=function(){this.videoPermissionsChanged=!0,this.doAutoSaveIfEnabled()},y.prototype.publish=function(){var e=this,t=this.telemetryService.getTracker();return t.setResourceId(this.video?this.video.id:null),this.isPublishing=!0,this.videoService.patch(this.video.id,{published:!0},this.isInAdminMode).then((function(n){e.video.published=n.data.published,e.isPublishing=!1,e.onPublish(),e.summaryProperties.published=!0,e.$scope.$emit(l.Constants.Events.videoPublished,{id:e.video.id}),e.$scope.$broadcast(l.Constants.Events.videoPublished,{id:e.video.id}),t.succeed(e.getFeatureName())}),(function(n){e.isPublishing=!1,t.fail(e.getFeatureName(),p.SubFeatureName.VideoService_PatchVideo,n)}))},y.prototype.cancelAutoSavedNotification=function(){this.saveOrPublishClickCount++},Object.defineProperty(y.prototype,"shouldDisplayAutosaveNotification",{get:function(){return this.video.id!==l.Constants.preCreationVideoId&&1===this.saveOrPublishClickCount},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"isFailed",{get:function(){return this.videoEditStateInfo.videoState===l.Constants.VideoState.failedProcessing||this.videoEditStateInfo.videoState===l.Constants.VideoState.failedUpload||this.videoEditStateInfo.videoState===l.Constants.VideoState.unSupportedType||this.videoEditStateInfo.videoState===l.Constants.VideoState.exceededFileSize},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"isUploading",{get:function(){return this.videoEditStateInfo.videoState===l.Constants.VideoState.uploading},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"isLiveContent",{get:function(){return f.isVideoLiveContent(this.video)},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"isLiveEventValid",{get:function(){return!this.isLiveContent||this.video.liveEvent&&this.video.liveEvent.startTime&&this.video.liveEvent.endTime&&moment(this.video.liveEvent.startTime).isBefore(this.video.liveEvent.endTime)},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"cancelButtonEnabled",{get:function(){return this.video.name&&(this.videoChanged||this.videoPermissionsChanged||this.hasPosterToUpload||this.hasLiveEventUpdate)&&!this.isSaving},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"saveButtonEnabled",{get:function(){return this.video.name&&this.isLiveEventValid&&(this.videoChanged||this.videoPermissionsChanged||this.hasPosterToUpload||this.hasLiveEventUpdate||this.thumbnailSelectionChanged)&&!this.isSaving},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"publishButtonEnabled",{get:function(){return this.video.name&&this.isLiveEventValid&&this.video.liveEvent&&this.video.liveEvent.startTime&&this.video.liveEvent.endTime&&!this.isUploading&&!this.isFailed&&!this.isPublishing},enumerable:!0,configurable:!0}),y.prototype.createOrSave=function(e){this.saveOrPublishClickCount++,this.video.id===l.Constants.preCreationVideoId?this.createLiveEvent(e):(this.autosaveStatus=o.manualSaving,this.saveVideo(e))},y.prototype.cancel=function(){var e=this;this.video.id===l.Constants.preCreationVideoId?this.navigationService.navigate(l.Constants.Routes.StudioVideos):(this.videoWatchCancelFunction&&this.videoWatchCancelFunction(),this.video=angular.copy(this.savedVideo),this.enableVideoWatch(),this.reloadPermissions=!0,this.videoChanged=!1,this.videoPermissionsChanged=!1,this.hasLiveEventUpdate=!1,this.resetPosterFunc&&this.hasPosterToUpload&&this.resetPosterFunc().finally((function(){e.hasPosterToUpload=!1})))},y.prototype.onInit=function(e){e.doUploadFunction&&(this.uploadPosterFunc=e.doUploadFunction),e.resetPoster&&(this.resetPosterFunc=e.resetPoster)},y.prototype.livePosterSelectionChanged=function(){this.hasPosterToUpload=!0},y.prototype.liveEventChanged=function(){this.hasLiveEventUpdate=!0},y.prototype.enableVideoWatch=function(){var e=this;this.videoWatchCancelFunction=this.$scope.$watch((function(){return e.video}),(function(t,n){var i;n&&t&&n!==t&&(i=!0,_.isEqual(n,_.omit(t,["liveEvent"]))&&!n.liveEvent&&(i=!1),t.liveEvent&&t.liveEvent.startTime&&t.liveEvent.endTime&&""!==t.liveEvent.startTime&&""!==t.liveEvent.endTime&&(i=!0),i&&(n.name!=t.name&&e.videoTitleChanged(),n.description!=t.description&&e.videoDescriptionChanged(),n.privacyMode!=t.privacyMode&&e.videoPrivacyModeChanged(t.privacyMode),n.id!=t.id&&e.videoIdChanged(t.id),n.published!=t.published&&e.videoPublishStateChanged(t.published),t.liveEvent&&t.liveEvent.startTime&&t.liveEvent.startTime!=n.liveEvent.startTime&&e.videoIsLiveStartNowChanged(),t.options&&!_.isEqual(n.options,t.options)&&((e.isPublicAnonymousLiveEnabled()||e.isPublicAnonymousVODEnabled())&&(void 0===t.options.allowPublicPlayback||n.options.allowPublicPlayback!==t.options.allowPublicPlayback)&&n.options.allowComments===t.options.allowComments&&_.isEqual(n.options.audioEnhancementOptions,t.options.audioEnhancementOptions)&&n.options.autoGeneratedCaption===t.options.autoGeneratedCaption&&n.options.enableAudioEnhancement===t.options.enableAudioEnhancement&&n.options.faceDetection===t.options.faceDetection||e.videoOptionsChanged())))}),!0)},Object.defineProperty(y.prototype,"isLiveScheduledToStartNow",{get:function(){if(!this.video.liveEvent||!this.video.liveEvent.startTime)return!1;var e=h.formatISODateTime(moment().seconds(0).milliseconds(0).toDate()),t=this.video.liveEvent.startTime;return moment(t).isBefore(e)||e===t},enumerable:!0,configurable:!0}),y.prototype.doAutoSaveIfEnabled=function(){var e=this;this.videoEditStateInfo.unsavedChanges=!0,this.autosaveStatus=o.unsaved,this.autoSave&&(this.deboundedAutosave||(this.deboundedAutosave=_.debounce((function(){e.autosaveStatus=o.saving,e.saveVideo().then((function(){e.autosaveStatus=o.saved}))}),l.Constants.AutoSaveTimeout)),this.deboundedAutosave())},y.prototype.createLiveEvent=function(e){var t=this;this.isSaving=!0;var n=_.cloneDeep(this.video);return delete n.id,e&&(n.published=!0),this.videoService.create(n,this.isInAdminMode).then((function(n){t.videoWatchCancelFunction&&t.videoWatchCancelFunction(),t.video=_.extend(t.video,n.data),t.formName="form"+t.video.id.replace(/-/g,""),t.savedVideo=angular.copy(t.video),t.videoChanged=!1,t.hasLiveEventUpdate=!1,t.summaryProperties.videoId=t.video.id,t.summaryProperties.liveEventStartTime=t.video.liveEvent.startTime,t.summaryProperties.liveEventEndTime=t.video.liveEvent.endTime,t.videoCreated({id:t.video.id}),t.videoSaved({video:angular.copy(t.video)});var i,r=[];return t.videoPermissionsChanged&&(i=t.saveVideoPermissions(),r.push(i)),t.uploadPosterFunc&&t.hasPosterToUpload&&r.push(t.savePoster()),t.$q.all(r).then((function(){t.autosaveStatus=o.saved,t.videoEditStateInfo.unsavedChanges=!1,e&&t.$scope.$broadcast(l.Constants.Events.videoPublished,{id:t.video.id}),t.featureTelemetryTracker.setResourceId(t.video?t.video.id:null),t.featureTelemetryTracker.succeed(p.FeatureName.LiveProducerCreate,t.summaryProperties)}))}),(function(e){t.handleAndDisplaySaveError(p.SubFeatureName.VideoService_Create,e)})).finally((function(){t.isSaving=!1,t.enableVideoWatch()}))},y.prototype.saveVideo=function(e,t){var n=this;void 0===e&&(e=!1),void 0===t&&(t=null),null==t&&(t=this.video);var i,r,s,a=[],c={isVideoChanged:!(this.isSaving=!0),isPermissionChanged:!1,isPosterChanged:!1,isLiveEventChanged:!1,isSaveFailed:!1,error:""};return this.thumbnailSelectionChanged&&(this.summaryProperties.thumbnailSelected=!0,i=this.$q.defer(),this.thumbnailService.setAsPosterImage(l.Constants.ResourceNames.Videos,t.id,this.selectedThumbnail.id,this.isInAdminMode).then((function(){n.thumbnailSelectionChanged=!1,i.resolve()}),(function(e){n.handleAndDisplaySaveError(p.SubFeatureName.ThumbnailService_SetAsPosterImage,e),i.reject(e)})),a.push(i.promise)),this.videoChanged?(r=this.$q.defer(),c.isVideoChanged=!0,this.videoService.patchFromDiff(this.savedVideo,t,!1,this.isInAdminMode).then((function(e){n.savedVideo=e,n.videoSaved({video:angular.copy(t)}),n.savedVideo.published&&!t.published&&(t.published=n.savedVideo.published),n.videoEditStateInfo.published||(n.videoEditStateInfo.published=n.savedVideo.published),n.videoChanged=!1,n.videoPermissionsChanged?(c.isPermissionChanged=!0,n.saveVideoPermissions(r)):r.resolve()}),(function(e){n.handleAndDisplaySaveError(p.SubFeatureName.VideoService_PatchVideo,e),r.reject(e)})),a.push(r.promise)):this.videoPermissionsChanged&&(c.isPermissionChanged=!0,s=this.saveVideoPermissions(),a.push(s)),this.uploadPosterFunc&&this.hasPosterToUpload&&(c.isPosterChanged=!0,a.push(this.savePoster())),this.hasLiveEventUpdate&&(c.isLiveEventChanged=!0,a.push(this.updateLiveEvent())),e&&a.push(this.publish()),this.$q.all(a).then((function(){n.featureTelemetryTracker.setResourceId(t?t.id:null),n.videoEditStateInfo.unsavedChanges=!1,n.autosaveStatus=o.saved,n.isLiveContent&&n.featureTelemetryTracker.trackEvent(p.TelemetryEventNames.producerEventStateChanged,c),n.featureTelemetryTracker.succeed(n.getFeatureName(),{descriptionTimeTagsCount:n.descriptionTimeTagsCount})}),(function(e){n.isLiveContent&&(c.isSaveFailed=!0,c.error=e,n.featureTelemetryTracker.trackEvent(p.TelemetryEventNames.producerEventStateChangedSaveFailed,c))})).finally((function(){n.isSaving=!1,n.enableVideoWatch()}))},y.prototype.savePublicAnonymousPermissions=function(e){var t=this;return this.videoService.patchPublicAnonymous(this.video.id,e,this.isInAdminMode).then((function(n){t.featureTelemetryTracker.succeed(t.getFeatureName(),{resourceId:t.video.id}),t.featureTelemetryTracker.trackEvent(p.TelemetryEventNames.PublicAnonymousChanged,{action:"PublicAnonymousPermissionsSaved",publicAnonymousStatus:e})}),(function(e){t.handleAndDisplaySaveError(p.SubFeatureName.VideoService_PatchPublicAnonymous,e)}))},y.prototype.saveVideoPermissions=function(e){var t=this,n=e||this.$q.defer();return A.flatPermissionToSetLinks(this.$q,this.roleService,this.permissionList).then((function(e){t.videoService.setLinks(t.video.id,e,t.isInAdminMode).then((function(){t.videoPermissionsChanged=!1,n.resolve()}),(function(e){t.handleAndDisplaySaveError(p.SubFeatureName.VideoService_SetLinks,e),n.reject(e)}),(function(e){n.resolve(e)}))})),n.promise},y.prototype.savePoster=function(e){var t=this,n=e||this.$q.defer();return this.uploadPosterFunc().then((function(){t.hasPosterToUpload=!1,n.resolve()}),(function(e){n.reject(e)})),n.promise},y.prototype.updateLiveEvent=function(){var e=this,t=this.$q.defer();return this.video.liveEvent&&this.video.liveEvent.liveEventOptions&&this.video.liveEvent.liveEventOptions.onDemandOptions&&!f.isVodlessLiveEvent(this.video)&&(this.video.liveEvent.liveEventOptions.onDemandOptions.enablePlayback=!0,this.video.liveEvent.liveEventOptions.onDemandOptions.enableDownload=!0),this.videoService.setLiveEvent(this.video.id,this.video.liveEvent).then((function(n){e.savedVideo.liveEvent=n.data,e.hasLiveEventUpdate=!1,t.resolve()}),(function(n){e.handleAndDisplaySaveError(p.SubFeatureName.VideoService_SetLiveEvent,n),t.reject(n)})),t.promise},y.prototype.getTenantSettings=function(){var e=this;return this.tenantService.getSettings().then((function(t){e.tenantSettings=t.data}),(function(t){e.handleAndDisplaySaveError(p.SubFeatureName.TenantService_GetTenantSettings,t)}))},y.prototype.getPrincipalSettings=function(){var e=this;return this.principalService.getMyPrincipalInfo().then((function(t){e.me=t.data,void 0===t.data.settings.general.showVideoLanguageNote?e.showVideoLanguageNote=!0:e.showVideoLanguageNote=t.data.settings.general.showVideoLanguageNote,e.isInAdminMode=e.principalService.getAdminModeStatus()}),(function(t){e.handleAndDisplaySaveError(p.SubFeatureName.PrincipalService_GetMyPrincipalInfo,t)}))},y.prototype.sendFeatureEvent=function(e,t,n){this.featureTelemetryTracker.setResourceId(this.video?this.video.id:null),this.featureTelemetryTracker.fail(e,t,n),this.isLiveContent&&this.featureTelemetryTracker.trackEvent(p.TelemetryEventNames.producerError,{error:n})},y.prototype.handleAndDisplaySaveError=function(e,t){var n="",i=this.getFeatureName();switch(e){case p.SubFeatureName.ThumbnailService_SetAsPosterImage:n=this.resources.ThumbnailSelectionFailed;break;case p.SubFeatureName.RoleAssignmentService_SetVideoAssignment:n=this.resources.LoadRolesFailed;break;case p.SubFeatureName.RoleService_GetViewerRoleId:case p.SubFeatureName.RoleAssignmentService_GetVideoAssignment:case p.SubFeatureName.VideoService_GetVideoChannels:i=p.FeatureName.LoadVideoUpdatePage,n=this.resources.LoadVideoMetadataFailed;break;default:n=this.resources.UploadMetadataSaveFailed}this.autosaveStatus=o.failed,this.autoSaveFailedMessage=n+". "+this.handleBackendErrorMessage(e,t)+".",this.sendFeatureEvent(i,e,t)},y.prototype.handleBackendErrorMessage=function(e,t){var n="";return t&&t.status&&!isNaN(t.status)&&t.status<500&&t.data&&t.data.error&&t.data.error.message&&(n=t.data.error.message),n},y.prototype.getFeatureName=function(){return this.video&&this.video.id&&this.video.id!=l.Constants.preCreationVideoId?this.isLiveContent?p.FeatureName.LiveProducerUpdate:p.FeatureName.UpdateVideo:p.FeatureName.LiveProducerCreate},y.prototype.videoIsLiveStartNowChanged=function(){this.summaryProperties.isLiveStartNow=this.isLiveScheduledToStartNow,this.videoChanged=!0,this.doAutoSaveIfEnabled()},y.prototype.videoIdChanged=function(e){this.summaryProperties.videoId=e,this.videoChanged=!0,this.doAutoSaveIfEnabled()},y.prototype.videoPublishStateChanged=function(e){this.summaryProperties.published=e,this.videoChanged=!0,this.doAutoSaveIfEnabled()},y.prototype.videoPrivacyModeChanged=function(e){this.summaryProperties.privacyChanged=!0,this.summaryProperties.privacyMode=e,this.videoChanged=!0,this.doAutoSaveIfEnabled()},y.prototype.videoOptionsChanged=function(){this.videoChanged=!0,this.doAutoSaveIfEnabled()},y.prototype.videoTitleChanged=function(){this.summaryProperties.titleChanged=!0,this.videoChanged=!0,this.doAutoSaveIfEnabled()},y.prototype.videoDescriptionChanged=function(){this.summaryProperties.descriptionChanged=!0;var e=this.video.description.match(l.Constants.TimeStampTagsRegExp);this.descriptionTimeTagsCount=null!==e?e.length:0,this.videoChanged=!0,this.doAutoSaveIfEnabled()},y.prototype.languageMatch=function(e){this.languageNotMatch=!e},y.prototype.hideVideoLanguageNote=function(){var e=this;this.principalService.patchMySettings({general:{showVideoLanguageNote:!1}}).then((function(t){t.data,e.showVideoLanguageNote=!1}),(function(t){e.telemetryService.getTracker(p.ScreenName.Hub).fail(p.FeatureName.UpdatePrincipalSettings,p.SubFeatureName.General_ShowVideoLanguageNote,t)}))},y.prototype.isPublicAnonymousLiveEnabled=function(){return this.featureFlagsService.Values.PublicAnonymousLive},y.prototype.isPublicAnonymousVODEnabled=function(){return this.featureFlagsService.Values.PublicAnonymousVOD},y.$inject=["$scope","$q","resources","videoService","thumbnailService","roleService","roleAssignmentService","telemetryService","featureFlagsService","tenantService","videoShareDialog","textTrackLanguageService","principalService","navigationService"],y.Events={UploadDetailsPublishAndSave:"uploadDetailsPublishAndSave"},y);function y(e,t,n,i,r,s,c,u,d,p,A,h,f,v){var S=g.call(this,y)||this;return S.$scope=e,S.$q=t,S.resources=n,S.videoService=i,S.thumbnailService=r,S.roleService=s,S.roleAssignmentService=c,S.telemetryService=u,S.featureFlagsService=d,S.tenantService=p,S.videoShareDialog=A,S.textTrackLanguageService=h,S.principalService=f,S.navigationService=v,S.debounceOptions={debounce:300},S.autosaveStatus=o.enteringPage,S.isPublishing=!1,S.isSaving=!1,S.isAccordionDisabled=!1,S.captionStatus=m.DisableAutoGeneratedCaptionStatus.saved,S.detailsTabName="Details",S.optionsTabName="Options",S.permissionsTabName="Permissions",S.videoChanged=!1,S.hasPosterToUpload=!1,S.hasLiveEventUpdate=!1,S.principalsChanged=!1,S.thumbnailSelectionChanged=!1,S.videoPermissionsChanged=!1,S.telemetrySummarySent=!1,S.descriptionTimeTagsCount=0,S.savedVideo=angular.copy(S.video),S.isStreamAdmin=S.principalService.getIsStreamAdmin(),S.languageMappings=h.getAllLanguages(),S.video.id===l.Constants.preCreationVideoId?S.saveOrPublishClickCount=0:S.saveOrPublishClickCount=2,S.getTenantSettings(),S.getPrincipalSettings(),S.$scope.$watch((function(){return S.videoEditStateInfo.collapseAccordion}),(function(e){e&&setTimeout((function(){angular.element("#"+S.video.id+"-details").scope().$accordion.collapseAll(),S.isAccordionDisabled=!0,S.$scope.$apply()}),0)})),S.enableVideoWatch(),e.$watch((function(){return S.principals}),(function(e,t){e&&e!==t&&(S.principalsChanged=!0,S.doAutoSaveIfEnabled())}),!0),e.$watch((function(){return S.failedMessage}),(function(e,t){e&&(S.autosaveStatus=o.failed,S.autoSaveFailedMessage=S.failedMessage,S.failedMessage="")})),e.$on(y.Events.UploadDetailsPublishAndSave,(function(){S.videoEditStateInfo.published||(S.video.published=!0,S.videoChanged=!0,S.saveVideo(!0))})),e.$on(l.Constants.Events.SaveVideoImmediately,(function(e,t){var n=S.video,i=!1,r=t&&t.video&&t.type&&t.type===l.Constants.EventData.DisableAutoGeneratedCaption;r&&(S.deboundedAutosave&&S.deboundedAutosave.cancel(),n=t.video,i=t.unsavedChanges),S.videoChanged=!0,S.videoPermissionsChanged=!0,S.autosaveStatus=o.manualSaving;var s=S.video.privacyMode===l.Constants.privacyMode.private?[S.saveVideoPermissions()]:[S.$q.when()];S.$q.all(s).then((function(){S.saveVideo(!1,n).then((function(){S.autosaveStatus=o.saved,S.captionStatus===m.DisableAutoGeneratedCaptionStatus.saving&&(S.captionStatus=m.DisableAutoGeneratedCaptionStatus.saved),r?S.videoEditStateInfo.unsavedChanges=i:S.manualSaveFinished({result:a.succeeded})}),(function(){S.manualSaveFinished({result:a.failed})}))}),(function(){S.manualSaveFinished({result:a.failed})}))})),e.$on(l.Constants.Events.MakeVideoPrivate,(function(){S.video.id===l.Constants.preCreationVideoId||S.video.published||(S.autosaveStatus=o.manualSaving,S.saveVideoPermissions().then((function(){S.saveVideo().then((function(){S.autosaveStatus=o.saved,S.reloadPermissions=!0}))})))})),e.$on(l.Constants.Events.ChangeVideoPublicAnonymous,(function(e,t){S.video.id!==l.Constants.preCreationVideoId&&S.savePublicAnonymousPermissions(t)})),S.$scope.$on(l.Constants.Events.videoPublished,(function(e,t){t&&t.id===S.video.id&&(S.videoWatchCancelFunction&&S.videoWatchCancelFunction(),S.video.published=!0,S.savedVideo.published=!0,S.enableVideoWatch())})),S.featureTelemetryTracker=S.telemetryService.getTracker(),S.featureTelemetryTracker.setResourceId(S.video?S.video.id:null),S}t.VideoEditController=v},"./app/components/Upload/VideoPermissions/VideoPermissionsController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/string.ts"),o=n("./app/utility/appUtil.ts"),s=n("./app/utility/string.ts"),a=n("./app/components/Upload/PrincipalGroupSearch/PrincipalGroupSearchController.ts");t.flatPermissionToSetLinks=function(e,t,n){var i=[],r=[],o=[],s=e.defer();return e.all([t.getOwnerRoleId(),t.getViewerRoleId()]).then((function(e){_.forEach(n,(function(e){var t;e.fakedUser||(e.showRole&&(e.isOwner?r.push({principalId:e.id,principalType:e.userType}):i.push({principalId:e.id,principalType:e.userType})),(e.isSystemGroup||e.showVideoAdded&&e.videoAdded)&&(t={groupId:e.id,channels:null},e.channels.length?t.channels=_.map(e.channels,(function(e){return{id:e.id}})):t.channels=[{id:e.id}],o.push(t)))}));var t={roleAssignments:[{roleId:e[0],principals:r},{roleId:e[1],principals:i}],groupLinks:o};s.resolve(t)}),(function(e){s.reject(e)})),s.promise};var c=(Object.defineProperty(l.prototype,"isPrivateVideo",{get:function(){return this.video.privacyMode===i.Constants.privacyMode.private},enumerable:!0,configurable:!0}),l.prototype.addToGroupCheckBoxAriaLabel=function(e){return s.formatString(this.resources.VideoPermissionsVideoToGroupCheckboxAriaLabel,e.name?e.name:e.mail)},l.prototype.isOwnerCheckBoxAriaLabel=function(e){return s.formatString(this.resources.VideoPermissionsIsOwnerCheckboxAriaLabel,e.name?e.name:e.mail)},l.prototype.isVideoAdded=function(e){return e.videoAdded},l.prototype.changeVideoAdded=function(e,t){var n,i=this;t.videoAdded&&t.channels.length?(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),n={title:this.resources.VideoPermissionsRemoveVideoFromGroupConfirmationTitle,message:s.formatString(this.resources.VideoPermissionsRemoveVideoFromGroupConfirmationMessage,this.video.name,t.name),confirmButtonLabel:this.resources.Yes,cancelButtonLabel:this.resources.No},this.confirmationDialogService.show(n).then((function(){t.channels=[],t.videoAdded=!1,i.summaryProperties.permissionsVideoAddedCheckboxUnchecked=!0}))):t.videoAdded=!0},l.prototype.ownershipChanged=function(e){!0===e.isOwner&&(e.userType===i.Constants.PrincipalType.User?this.summaryProperties.permissionsUserMadeOwner=!0:e.userType===i.Constants.PrincipalType.SecurityGroup?this.summaryProperties.permissionsSecurityGroupMadeOwner=!0:e.userType===i.Constants.PrincipalType.StreamGroup&&(this.summaryProperties.permissionsStreamGroupMadeOwner=!0))},l.prototype.deletePermissionAriaLabel=function(e){return e.channels&&e.channels.length?e.isSystemGroup?this.resources.VideoPermissionsRemoveFromSystemGroup:s.formatString(this.resources.VideoPermissionsDeleteGroupIncludingChannelsAriaLabel,e.name?e.name:e.mail):s.formatString(this.resources.VideoPermissionsDeleteUserAriaLabel,e.name?e.name:e.mail)},l.prototype.deleteChannelAriaLabel=function(e){return s.formatString(this.resources.VideoPermissionsDeleteChannelArialLabel,e)},l.prototype.loadPermissions=function(e){var t=this;void 0===e&&(e=!1);var n,o,s,a=[],c=[];return this.$q.all([this.videoService.getLinks(this.video.id,this.isInAdminMode),this.videoService.getChannels(this.video.id,this.isInAdminMode,!0),this.principalService.getMyPrincipalInfo(),this.videoService.getRoleAssignments(this.video.id,this.isInAdminMode),this.roleService.getOwnerRoleId()]).then((function(l){t.videoLinks=l[0].data,o=l[1],t.me=l[2].data,n=l[3],t.creator&&a.push({id:t.creator.id,name:t.creator.name,mail:r.removeDomainNameFromEmail(t.creator.mail),profileImageUrl:t.creator.profileImageUrl,isOwner:!0,showRole:!0,showVideoAdded:!1,fakedUser:!0}),_.forEach(o,(function(e){var n,r=e.group,o=r&&r.isDefault?s:_.find(c,(function(e){return e.id===r.id}));o?o.channels.push({id:e.id,name:e.isDefault?"":e.name}):((n={id:r.id,name:r.isDefault?t.resources.VideoPermissionsGroupNameForMyOrgChannels:r.name,isSystemGroup:r.isDefault,isPrivate:r.privacyMode===i.Constants.privacyMode.private,showRole:!1,showVideoAdded:!r.isDefault,videoAdded:!0,videoAddedDisabled:!r.userData.permissions.canManageMediaItems,userType:i.Constants.PrincipalType.StreamGroup}).channels=[{id:e.id,name:e.isDefault?"":e.name}],r.isDefault?s=n:c.push(n))})),_.forEach(t.videoLinks.roleAssignments,(function(e){_.forEach(e.principals,(function(o){var s=_.find(n,(function(e){return o.principalId===e.principal.id}));if(o.principalType===i.Constants.PrincipalType.StreamGroup){var l=_.find(c,(function(e){return e.id===o.principalId}));if(l)return l.showRole=!0,void(l.isOwner=t.roleService.isOwner(e.roleId))}s&&a.push({name:s.principal.name,id:s.principal.id,mail:r.removeDomainNameFromEmail(s.principal.mail),isOwner:t.roleService.isOwner(e.roleId),showRole:!0,showVideoAdded:!1,userType:s.principal.type,profileImageUrl:s.principal.profileImageUrl})}))}));var u=_.concat(a,s?[s]:[],c);_.forEach(t.videoLinks.groupLinks,(function(e){var t,n=_.find(u,(function(t){return t.id===e.groupId}));n?!n.showVideoAdded&&s&&s.id!==n.id&&(n.showVideoAdded=!0,n.videoAdded=!0,n.channels=e.channels):((t={id:e.groupId,showRole:!1,name:null,userType:i.Constants.PrincipalType.StreamGroup,videoAdded:!0,showVideoAdded:!0,videoAddedDisabled:!0,isPrivate:void 0}).channels=e.channels,u.push(t))})),t.permissionList=!e&&t.permissionList||[],t.permissionList=_.concat(t.permissionList,u)}),(function(e){t.showErrorMessage(t.resources.VideoPermissionsLoadFailed),t.searchDisabled=!0})).finally((function(){t.permissionsLoading=!1}))},l.prototype.selectChannel=function(e,t){var n,r=_.findIndex(this.permissionList,(function(e){return e.id===t.id&&!e.fakedUser}));-1===r?(this.permissionList.push({id:t.id,name:t.isDefault?this.resources.VideoPermissionsGroupNameForMyOrgChannels:t.name,showRole:!this.viewerMode&&!t.isDefault,isOwner:!1,showVideoAdded:!t.isDefault,videoAdded:!0,isSystemGroup:t.isDefault,isPrivate:t.isDefault?void 0:t.privacyMode===i.Constants.privacyMode.private,userType:i.Constants.PrincipalType.StreamGroup,channels:[{id:e.id,name:e.isDefault?"":e.name}]}),this.alertPermissionAdded(t.id===e.id?t.name:e.name),t.isDefault?this.summaryMetrics.permissionsTotalPublicChannels++:this.summaryMetrics.permissionsTotalPermission++,e.isDefault?(this.summaryProperties.permissionsGroupAdded=!0,this.summaryMetrics.permissionsGroupsAdded++):(this.summaryProperties.permissionsChannelAdded=!0,this.summaryMetrics.permissionsChannelsAdded++,t.isDefault||this.summaryMetrics.permissionsTotalPrivateChannels++)):(n=this.permissionList[r]).channels&&n.channels.length?_.find(n.channels,(function(t){return t.id===e.id}))?this.showErrorMessage(s.formatString(this.resources.VideoPermissionsDuplicateItem,this.resources.Channel,e.name),!0):(n.channels.push({id:e.id,name:e.isDefault?"":e.name}),this.alertPermissionAdded(e.name)):(this.permissionList.splice(r,1),n.showVideoAdded=!0,n.videoAdded=!0,n.channels=[{id:e.id,name:e.isDefault?"":e.name}],this.permissionList.push(n),this.alertPermissionAdded(t.id===e.id?t.name:e.name))},l.prototype.selectPrincipal=function(e){var t,n=_.findIndex(this.permissionList,(function(t){return t.id===e.id}));-1===n?(this.permissionList.push({id:e.id,name:e.name,mail:r.removeDomainNameFromEmail(e.mail),showRole:!0,isOwner:!1,showVideoAdded:!1,userType:e.type,profileImageUrl:e.profileImageUrl,channels:[]}),o.alertScreenReader(s.formatString(this.resources.VideoPermissionsAddedPermissionAlert,e.name||e.mail)),this.summaryProperties.permissionsPrincipalAdded=!0,this.summaryMetrics.permissionsPrincipalsAdded++,this.summaryMetrics.permissionsTotalPermission++):(t=this.permissionList[n]).showRole?this.showErrorMessage(s.formatString(this.resources.VideoPermissionsDuplicateItem,e.type,e.name||e.mail),!0):(this.permissionList.splice(n,1),t.showRole=!0,this.permissionList.push(t),o.alertScreenReader(s.formatString(this.resources.VideoPermissionsAddedPermissionAlert,e.name||e.mail)))},l.prototype.deleteChannel=function(e,t){_.remove(e.channels,(function(e){return e.id===t.id})),0===e.channels.length&&e.isSystemGroup&&_.remove(this.permissionList,(function(t){return t.id===e.id})),o.alertScreenReader(s.formatString(this.resources.VideoPermissionsRemovedPermissionAlert,t.name))},l.prototype.deletePermission=function(e){this.deletionId=_.findIndex(this.permissionList,e),_.remove(this.permissionList,(function(t){return t.id===e.id})),o.alertScreenReader(s.formatString(this.resources.VideoPermissionsRemovedPermissionAlert,e.name||e.mail))},Object.defineProperty(l.prototype,"videoPermissionAddGroupLinkToolTip",{get:function(){return s.formatString(this.resources.VideoPermissionAddGroupLinkToolTip,i.Constants.ProductName)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"videoPermissionMakeOwnerToolTip",{get:function(){return s.formatString(this.resources.VideoPermissionMakeOwnerToolTip,i.Constants.ProductName)},enumerable:!0,configurable:!0}),l.prototype.thumbnailAltTag=function(e){return s.formatString(this.resources.Components.Upload.Permissions.Viewers.altText,e)},l.prototype.showErrorMessage=function(e,t){var n=this;void 0===t&&(t=!1),this.isWarning=t,this.errorMessage=e,this.showError=!0,t&&this.$timeout((function(){n.showError=!1}),i.Constants.WarningMessageTimeout)},l.prototype.alertPermissionAdded=function(e){o.alertScreenReader(s.formatString(this.resources.VideoPermissionsAddedPermissionAlert,e)),this.$element.find("input.search-box").focus()},l.prototype.loadTelemetryMetrics=function(){var e=this;this.summaryMetrics.permissionsTotalPermission=_.filter(this.permissionList,(function(e){return e&&!e.fakedUser&&(e.userType!==i.Constants.PrincipalType.StreamGroup||!1===e.isSystemGroup)})).length,this.summaryMetrics.permissionsTotalPrivateChannels=0,_.forEach(this.permissionList,(function(t){t&&(t.isSystemGroup?e.summaryMetrics.permissionsTotalPublicChannels=t.channels.length:e.summaryMetrics.permissionsTotalPrivateChannels+=_.filter(t.channels,(function(e){return e.id!==t.id&&e.name})).length)}))},l.$inject=["$scope","resources","$q","$timeout","videoService","roleAssignmentService","$element","roleService","principalService","confirmationDialogService"],l);function l(e,t,n,o,s,c,l,u,d,p){var A=this;function m(){A.permissionWatchCancelHandler=A.$scope.$watch((function(){return A.permissionList}),(function(e,t){e&&e!==t&&A.permissionsChanged()}),!0)}this.$scope=e,this.resources=t,this.$q=n,this.$timeout=o,this.videoService=s,this.roleAssignmentService=c,this.$element=l,this.roleService=u,this.principalService=d,this.confirmationDialogService=p,this.showError=!1,this.permissionsLoading=!0,this.permissionListLength=0,this.deletionId=0,this.addObserver=function(){var e=$(".video-permissions-list",A.$element)[0];e?A.observer.observe(e,{subtree:!0,childList:!0}):setTimeout(A.addObserver,100)},this.disconnectObserverOnDestroy=function(){A.$scope.$on("$destroy",(function(){A.observer.disconnect()}))},this.permissionList||(this.permissionList=[]),this.video.id===i.Constants.preCreationVideoId?(this.permissionList=_.concat(this.permissionList,[{id:this.creator.id,name:this.creator.name,mail:r.removeDomainNameFromEmail(this.creator.mail),profileImageUrl:this.creator.profileImageUrl,isOwner:!0,showRole:!0,showVideoAdded:!1,fakedUser:!0}]),this.me=this.creator,this.permissionsLoading=!1,m()):this.viewerMode?(this.searchTypeList=[a.PrincipalSearchType.MyGroupsWithChannels,a.PrincipalSearchType.Channels],this.permissionsLoading=!1,this.loadTelemetryMetrics(),m()):!this.preloadData||this.permissionList&&this.permissionList.length?(this.creator&&!_.find(this.permissionList,(function(e){return e.fakedUser}))&&(this.permissionList=_.concat(this.permissionList,[{id:this.creator.id,name:this.creator.name,mail:r.removeDomainNameFromEmail(this.creator.mail),profileImageUrl:this.creator.profileImageUrl,isOwner:!0,showRole:!0,showVideoAdded:!1,fakedUser:!0}]),this.me=this.creator),this.permissionsLoading=!1,this.loadTelemetryMetrics(),m()):this.loadPermissions().then((function(){A.loadTelemetryMetrics(),m()})),this.$scope.$watch((function(){return A.reload}),(function(e){e&&(A.permissionWatchCancelHandler(),A.permissionsLoading=!0,A.loadPermissions(!0).then((function(){A.reload=!1,m()})))})),this.observer=new MutationObserver((function(){var e=$(".pgc-row.video-permissions-column").length;e<A.permissionListLength&&(0===e||e===A.deletionId?$("div.dialog-footer button").first().focus():$("div.pgc-row.video-permissions-column:eq("+A.deletionId+") button").first().focus()),A.permissionListLength=e})),this.addObserver(),this.disconnectObserverOnDestroy(),this.summaryProperties.permissionsIsViewerMode=this.viewerMode}t.VideoPermissionsController=c},"./app/components/Upload/VideoPoster/VideoPosterController.ts":function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/Constants.ts"),a=n("./app/models/TelemetryEventModels.ts"),c=n("./app/components/Poster/PosterController.ts"),l=(r(u,o=c.PosterController),Object.defineProperty(u.prototype,"imageAlt",{get:function(){return[this.resources.VideoThumbnails.ImageAlt.First,this.resources.VideoThumbnails.ImageAlt.Second,this.resources.VideoThumbnails.ImageAlt.Third]},enumerable:!0,configurable:!0}),u.prototype.getThumbnailAriaLabel=function(e){var t=0<=e?this.imageAlt[e]:this.resources.VideoThumbnails.AriaLabel.Custom;return(this.selectedThumbnail&&0<=e&&this.generatedThumbnails&&this.selectedThumbnail.id===this.generatedThumbnails[e].id||-1===e&&this.selectedThumbnail.id===this.customThumbnail.id)&&(t+=". "+this.resources.SelectedVideoThumbnail),t},Object.defineProperty(u.prototype,"generatedThumbnails",{get:function(){var e=_.filter(this.thumbnails,(function(e){return!e.isCustom}));return _.sortBy(e,(function(e){return e.index}))},enumerable:!0,configurable:!0}),u.prototype.save=function(){var e=this;return this.selectedThumbnail&&this.selectedThumbnail.id!==_.find(this.thumbnails,(function(e){return e.isPosterImage})).id?this.thumbnailService.setAsPosterImage(this.resourceName,this.resourceId,this.selectedThumbnail.id).then((function(){e.featureTelemetryTracker.succeed(a.FeatureName.SaveVideoCustomThumbnail),e.refreshThumbnails()}),(function(t){e.featureTelemetryTracker.fail(a.FeatureName.SaveVideoCustomThumbnail,a.SubFeatureName.ThumbnailService_SetAsPosterImage,t)})):null},u.prototype.selectThumbnail=function(e,t){var n,i,r;void 0===t&&(t=-1),e&&(this.selectedThumbnail&&(i=n=null,this.customThumbnail&&e.id===this.customThumbnail.id?(n=$($(".custom-thumbnail-clickable",this.$element)).first(),i=this.resources.VideoThumbnails.ImageAlt.Custom):0<=(r=_.findIndex(this.generatedThumbnails,(function(t){return e.id===t.id})))&&(n=$($(".thumbnail-clickable",this.$element)[r]),i=this.imageAlt[r]),n&&n.attr("aria-label",i)),this.selectedThumbnail=e,(this.customThumbnail&&this.customThumbnail.id===e.id?$($(".custom-thumbnail-clickable",this.$element)).first():$($(".thumbnail-clickable",this.$element)[t])).attr("aria-label",this.getThumbnailAriaLabel(t)),this.userSelectionChanged())},u.prototype.doUpload=function(e){var t=o.prototype.doUpload.call(this,e);return this.handleUploadResult({$result:t}),t},u.$inject=["$q","$scope","Upload","resources","thumbnailService","mediaUploaderFactory","telemetryService","navigationService","$element"],u);function u(e,t,n,i,r,c,l,u,d){var p=o.call(this,e,t,n,i,r,c,l,u,s.Constants.ResourceNames.Videos,a.ResourceType.Video,a.FeatureName.UploadVideoCustomThumbnail)||this;return p.$element=d,t.$watch((function(){return p.thumbnailsReady}),(function(e,t,n){e&&p.refreshThumbnails()})),t.$on(s.Constants.Events.SavePoster,(function(){p.save()})),setTimeout((function(){p.loadInitialThumbnails&&p.refreshThumbnails()}),0),p}t.VideoPosterController=l},"./app/components/Video/Forms/FormPanel/FormPanelController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/models/TelemetryEventModels.ts"),o=n("./app/utility/string.ts"),s=n("./app/utility/Constants.ts"),a=(Object.defineProperty(c.prototype,"expanded",{get:function(){return this.formEvent&&this.formEvent.expanded},enumerable:!0,configurable:!0}),c.prototype.openFormsLink=function(){window.open(this.formEvent.isNew?s.Constants.MicrosoftFormsPrefix:this.url,"_blank")},Object.defineProperty(c.prototype,"formsButtonAriaLabel",{get:function(){return this.formEvent.isNew?this.resources.InteractivityFormButtonAriaLabelNew:this.resources.InteractivityFormButtonAriaLabelEdit},enumerable:!0,configurable:!0}),c.prototype.expand=function(){var e=this;this.initialFormEvent=angular.copy(this.formEvent),this.setExpandedState(!0),this.$timeout&&this.$timeout((function(){var t=e.$element.find("[name=url]");t&&t.focus()}))},c.prototype.expandClicked=function(){this.expanded?this.cancel():this.expand()},c.prototype.add=function(){var e=this;this.validate()?(this.formEvent.endTime=this.timeCode,this.formEvent.startTime=this.timeCode,this.formEvent.eventData.formId=this.parseUrlIfNecessary(this.url),this.trackEventForCurrentMediaItem(r.FormsEventType.PanelFormAddedClicked),this.onAddForm&&this.onAddForm({formEvent:this.formEvent}).then((function(){e.setExpandedState(!1),setTimeout((function(){return e.$element.find(".form-title-link").focus()}))}),(function(t){return e.showError(t)}))):this.isUrlValid?this.isTitleValid||this.$element.find("input[name=title]").focus():this.$element.find("input[name=url]").focus()},c.prototype.cancel=function(){this.formEvent=angular.copy(this.initialFormEvent),this.trackEventForCurrentMediaItem(r.FormsEventType.PanelAddCanceledClicked),this.onCancel&&this.onCancel({formEvent:this.formEvent}),this.setExpandedState(!1)},c.prototype.delete=function(){var e=this,t=_.get(this.initialFormEvent||this.formEvent,"eventData.title",this.resources.This),n={title:o.formatString(this.resources.DeleteConfirmTitle,t),message:o.formatString(this.resources.DeleteConfirmMessage,t),confirmButtonLabel:this.resources.Delete,cancelButtonLabel:this.resources.Cancel,useFlex:!0};this.confirmationDialogService.show(n).then((function(){e.trackEventForCurrentMediaItem(r.FormsEventType.PanelDeleteClicked),e.onDelete&&e.onDelete({formEvent:e.formEvent}).then((function(){e.setExpandedState(!1)}),(function(t){return e.showError(t)}))}))},c.prototype.showError=function(e){var t={title:o.formatString(this.resources.Error),message:e,confirmButtonLabel:this.resources.OK,hideCancelButton:!0};this.confirmationDialogService.show(t)},c.prototype.jumpTo=function(){this.onJumpTo&&this.onJumpTo({formEvent:this.formEvent})},c.prototype.timeString=function(e){return i.convertTimeInSecondsToTimeString(e).match(/0?(\d+:[0-9:]*).*/)[1]},Object.defineProperty(c.prototype,"formTitleOrId",{get:function(){return this.formEvent.eventData.title||this.formEvent.eventData.formId},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"friendlyTimeCode",{get:function(){return this.timeString(-1===this.formEvent.endTime?this.timeCode:this.formEvent.endTime)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"narratorTimeCode",{get:function(){return i.getNarratorFriendlyTime(this.friendlyTimeCode,this.resources.Units.Time)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"viewedLabel",{get:function(){return this.formEvent.eventData.hasBeenShown?this.resources.Viewed:""},enumerable:!0,configurable:!0}),c.prototype.validateUrl=function(e){void 0===e&&(e=!0),!this.formEvent.isNew||!this.url&&e||(this.urlRegex.test(this.url)?(this.formEvent.eventData.formId=this.parseUrlIfNecessary(this.url),this.isUrlValid=!0):(this.formEvent.eventData.formId=null,this.isUrlValid=!1))},c.prototype.validateTitle=function(e){void 0===e&&(e=!0),this.isTitleValid||(e=!1),this.isTitleValid=e||!!this.formEvent&&!!this.formEvent.eventData&&!!this.formEvent.eventData.title},c.prototype.validate=function(){return this.validateUrl(!1),this.validateTitle(!1),this.isValid},Object.defineProperty(c.prototype,"isTimeValid",{get:function(){return!this.formEvent.isNew||this.canAddAtTimeCode},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isDirty",{get:function(){return!!this.initialFormEvent&&(this.formEvent.eventData.title!==this.initialFormEvent.eventData.title||this.formEvent.eventData.formId!==this.initialFormEvent.eventData.formId||this.formEvent.endTime!==this.initialFormEvent.endTime)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isValid",{get:function(){return this.isUrlValid&&this.isTimeValid&&this.isTitleValid},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isAddEnabled",{get:function(){return this.isValid&&this.isDirty},enumerable:!0,configurable:!0}),c.prototype.setExpandedState=function(e){this.formEvent.expanded!==e&&(this.formEvent.expanded=e,this.onExpandChanged&&this.onExpandChanged({formEvent:this.formEvent,isExpanded:e}))},c.prototype.parseUrlIfNecessary=function(e){return e&&this.isUrlValid&&(e.match(this.urlRegex)||[null]).pop()},c.prototype.trackEventForCurrentMediaItem=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=void 0);var i=this.formEvent&&this.formEvent.eventData&&this.formEvent.eventData.formId||null,o=this.formEvent&&this.formEvent.id||null;if(this.telemetryTracker){var s=angular.extend({formEventType:e,videoId:this.videoId,formId:i,videoEventId:o},t);return this.telemetryTracker.trackEvent.apply(this.telemetryTracker,[r.TelemetryEventNames.InteractiveForm,s,n].filter((function(e){return!!e}))),!0}return!1},c.$inject=["$scope","resources","telemetryService","$timeout","confirmationDialogService","$element"],c);function c(e,t,n,o,a,c){var l=this;this.$scope=e,this.resources=t,this.$timeout=o,this.confirmationDialogService=a,this.$element=c,this.isUrlValid=!0,this.isTitleValid=!0,this.uniqueId=i.generateGuid(),this.urlRegex=new RegExp("^("+s.Constants.OfficeFormsPrefix+"|"+s.Constants.MicrosoftFormsPrefix+")[^#?]*?(?:[^=&]*id)=([^=&]*)","i"),this.telemetryTracker=n.getTracker(r.ScreenName.Auto,r.ResourceType.Video,this.videoId),e.$watch((function(){return l.formEvent}),(function(){l.formEvent&&(l.formEvent.isNew?(l.expand(),l.$element.parent().scrollTop(l.$element.position().top),l.trackEventForCurrentMediaItem(r.FormsEventType.PanelAddNewFormClicked)):l.url=""+s.Constants.MicrosoftFormsRootUrl+l.formEvent.eventData.formId)}))}t.FormPanelController=a},"./app/components/Video/RelatedVideos/RelatedVideosController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/models/TelemetryEventModels.ts"),r=n("./app/utility/string.ts"),o=n("./app/utility/Constants.ts"),s=(a.prototype.showAutoPlayToggle=function(){return this.featureFlagsService.Values.AutoPlay&&this.$location.search().channelId},a.prototype.updateRelatedVideos=function(){var e=this;return this.getRelatedVideos().then((function(t){e.relatedVideos=t,e.relatedVideosList({value:e.relatedVideos}),e.featureFlagsService.Values.AutoPlay||_.remove(e.relatedVideos,(function(t){return t.id===e.video.id}));var n=Math.ceil(e.relatedVideos.length/e.numberOfColumns);return!e.isRelatedFromTrending&&n<e.numberOfColumns?(e.secondaryVideoCount=(e.numberOfColumns-n)*e.itemsPerRow+1,e.getTrendingVideos(e.secondaryVideoCount).then((function(t){e.secondaryRelatedVideoLabel=e.resources.RelatedVideosLabel.FromTrending,_.remove(t,(function(t){return t.id===e.video.id})),e.secondaryRelatedVideos=t,e.updateListForView()}))):(e.updateListForView(),null)}),(function(){}))},a.prototype.getRelatedVideos=function(){var e=this;if(this.queryStrings.channelId){if(this.featureFlagsService.Values.AutoPlay){var t,n=[];return this.defaultOrder=o.Constants.VideoSortOptions.Trending,this.channelService.get(this.queryStrings.channelId).then((function(n){return n.data.settings&&n.data.settings.defaultSortOption&&(e.defaultOrder=n.data.settings.defaultSortOption,e.userSelectedSortOrder=e.$location.search().sort,e.userSelectedSortOrder&&e.defaultOrder!=e.userSelectedSortOrder&&(e.defaultOrder=e.userSelectedSortOrder)),t=n.data.name,e.channelService.getVideos(e.queryStrings.channelId,e.relatedVideosCount,Number(e.queryStrings.skip),e.defaultOrder,o.Constants.VideoSortOptionToSortDirection[e.defaultOrder],void 0,!1).then((function(n){return e.relatedVideoLabel=r.formatString(e.resources.RelatedVideosLabel.FromChannel,t),e.sendFeatureSuccess(i.FeatureName.ChannelVideos),n.data.value}),(function(t){return e.sendFeatureError(i.FeatureName.ChannelVideos,i.SubFeatureName.ChannelService_GetVideos,t),[]}))}),(function(t){return e.sendFeatureError(i.FeatureName.ChannelVideos,i.SubFeatureName.ChannelService_GetChannel,t),[]}))}n=[];var s=this.channelService.get(this.queryStrings.channelId);n.push(s);var a=this.channelService.getVideos(this.queryStrings.channelId,this.relatedVideosCount,0,o.Constants.VideoSortOptions.PublishDate,o.Constants.SortDirection.Descending,void 0,!1);return n.push(a),this.$q.all(n).then((function(t){return e.relatedVideoLabel=r.formatString(e.resources.RelatedVideosLabel.FromChannel,t[0].data.name),e.sendFeatureSuccess(i.FeatureName.ChannelVideos),t[1].data.value}),(function(t){e.sendFeatureError(i.FeatureName.ChannelVideos,i.SubFeatureName.ChannelService_GetVideos,t)}))}if(this.queryStrings.search)return this.relatedVideoLabel=r.formatString(this.resources.RelatedVideosLabel.FromSearch,this.queryStrings.search),this.videoService.search(this.queryStrings.search,o.Constants.VideoSortOptions.PublishDate,o.Constants.SortDirection.Descending,0,this.relatedVideosCount).then((function(t){return e.sendFeatureSuccess(i.FeatureName.SearchVideos),t.data.value}),(function(t){e.sendFeatureError(i.FeatureName.SearchVideos,i.SubFeatureName.VideoService_Search,t)}));if(this.queryStrings.list){if(this.queryStrings.list!==o.Constants.lists.User)return this.queryStrings.list===o.Constants.lists.Studio?(this.relatedVideoLabel=this.resources.RelatedVideosLabel.FromStudio,this.videoService.getMyVideos(o.Constants.VideoSortOptions.PublishDate,o.Constants.SortDirection.Descending,0,this.relatedVideosCount,"",o.Constants.VideoStateOptions.All,this.queryStrings.videoPrivacy||o.Constants.VideoPrivacyOptions.All,o.Constants.VideoStatus.Completed).then((function(t){return e.sendFeatureSuccess(i.FeatureName.SearchVideos),t.data.value}),(function(t){e.sendFeatureError(i.FeatureName.SearchVideos,i.SubFeatureName.VideoService_GetRecentlyViewedVideos,t)}))):this.queryStrings.list===o.Constants.lists.RecentlyViewed?(this.relatedVideoLabel=this.resources.RelatedVideosLabel.FromRecentlyViewed,this.videoService.getRecentlyViewedVideos(o.Constants.VideoSortOptions.LastViewDate,o.Constants.SortDirection.Descending,0,this.relatedVideosCount,"",!1).then((function(t){return e.sendFeatureSuccess(i.FeatureName.RecentlyViewedVideos),t.data.value}),(function(t){e.sendFeatureError(i.FeatureName.RecentlyViewedVideos,i.SubFeatureName.VideoService_Search,t)}))):(this.isRelatedFromTrending=!0,this.relatedVideoLabel=this.resources.RelatedVideosLabel.FromTrending,this.getTrendingVideos(this.relatedVideosCount));n=[];var c=this.principalService.getPrincipalById(this.queryStrings.userId);n.push(c);var l=this.videoService.getUserVideos(this.queryStrings.userId,"",o.Constants.VideoSortOptions.PublishDate,o.Constants.SortDirection.Descending,0,this.relatedVideosCount);return n.push(l),this.$q.all(n).then((function(t){return e.relatedVideoLabel=r.formatString(e.resources.RelatedVideosLabel.FromUser,t[0].data.name),e.sendFeatureSuccess(i.FeatureName.SearchVideos),t[1].data.value}),(function(t){e.sendFeatureError(i.FeatureName.SearchVideos,i.SubFeatureName.VideoService_Search,t)}))}return this.isRelatedFromTrending=!0,this.relatedVideoLabel=this.resources.RelatedVideosLabel.FromTrending,this.getTrendingVideos(this.relatedVideosCount)},a.prototype.updateListForView=function(){this.relatedVideos=this.relatedVideos.slice(0,this.relatedVideosCount-1),this.relatedVideos&&this.relatedVideos.length&&(this.relatedVideos=this.relatedVideos.slice(0,this.relatedVideosCount-1)),this.secondaryRelatedVideos&&this.secondaryRelatedVideos.length&&(this.secondaryRelatedVideos=this.secondaryRelatedVideos.slice(0,this.secondaryVideoCount-1))},a.prototype.getTrendingVideos=function(e){var t=this,n=this.featureFlagsService.Values.LiveEventOptions?o.Constants.DataQueryDefaultFilter:o.Constants.VideosBesidesEndedNonRecordedLiveFilter;return this.videoService.getTrendingVideos(e,0,void 0,n).then((function(e){return t.sendFeatureSuccess(i.FeatureName.TrendingVideos,{featureQueryType:t.getRelatedVideoSource()}),e.data.value}),(function(e){t.sendFeatureError(i.FeatureName.TrendingVideos,i.SubFeatureName.VideoService_GetTrendingVideos,e)}))},a.prototype.sendFeatureSuccess=function(e,t){this.featureTelemetryTracker.succeed(e,t)},a.prototype.sendFeatureError=function(e,t,n){this.featureTelemetryTracker.fail(e,t,n)},a.prototype.onAutoPlayResponsiveToggleClick=function(){this.autoPlayDefault=!this.autoPlayDefault,this.autoPlayToggleStatus({status:this.autoPlayDefault})},a.prototype.videoItemClicked=function(){this.relatedVideoClicked({value:this.getRelatedVideoSource()})},a.prototype.hideRelatedVideoDiv=function(){return!("channelId"in this.queryStrings)||1<this.relatedVideos.length},a.prototype.getRelatedVideoSource=function(){return i.FeatureName[i.FeatureName.TrendingVideos],this.queryStrings.channelId?i.FeatureName[i.FeatureName.ChannelVideos]:this.queryStrings.search?i.FeatureName[i.FeatureName.SearchVideos]:this.queryStrings.list?this.queryStrings.list===o.Constants.lists.User?o.Constants.lists.User.toString():this.queryStrings.list===o.Constants.lists.Studio?o.Constants.lists.Studio.toString():this.queryStrings.list===o.Constants.lists.RecentlyViewed?o.Constants.lists.RecentlyViewed.toString():i.FeatureName[i.FeatureName.TrendingVideos]:i.FeatureName[i.FeatureName.TrendingVideos]},a.$inject=["$scope","$q","resources","$location","videoService","channelService","principalService","featureFlagsService","telemetryService"],a);function a(e,t,n,r,o,s,a,c,l){this.$scope=e,this.$q=t,this.resources=n,this.$location=r,this.videoService=o,this.channelService=s,this.principalService=a,this.featureFlagsService=c,this.telemetryService=l,this.autoPlayDefault=!1,this.numberOfColumns=4,this.itemsPerRow=6,this.relatedVideosCount=this.numberOfColumns*this.itemsPerRow+1,this.secondaryVideoCount=0,this.isRelatedFromTrending=!1,this.queryStrings=r.search(),this.autoPlayDefault=this.$location.search().autoplay&&"true"===this.$location.search().autoplay.toLowerCase(),this.autoPlayCustomOnLabelText=this.featureFlagsService.Values.AutoPlay&&this.$location.search().channelId?this.resources.AutoPlayOnMessage:null,this.autoPlayCustomOffLabelText=this.featureFlagsService.Values.AutoPlay&&this.$location.search().channelId?this.resources.AutoPlayOffMessage:null,this.updateRelatedVideos(),this.featureTelemetryTracker=this.telemetryService.getTracker(i.ScreenName.Video)}t.RelatedVideosController=s},"./app/components/Video/SearchEvent/SearchEvent.html":function(e,t){e.exports='<div class=search-event> <div class=search-event-wrapper> <form class="c-search search-event-form"> <input aria-label={{::$ctrl.resources.Components.SearchEvent.SearchInputAriaLabel}} type=search role=search name=search-field class="search-event-input search-field" ng-model=$ctrl.searchString autocomplete=off placeholder={{::$ctrl.resources.Components.SearchEvent.SearchInputPlaceholder}} ng-change=$ctrl.onSearchInputChange($ctrl.searchString) ng-keydown=$ctrl.onSearchInputKeyDown($event) maxlength={{::$ctrl.searchStringMaxLength}}> <button class="c-glyph search-magnifier" name=search-button type=button aria-label={{::$ctrl.resources.Components.SearchEvent.SearchButtonAriaLabel}} ng-click=$ctrl.onSearchButtonClick() custom-title={{::$ctrl.resources.Components.SearchEvent.SearchButtonAriaLabel}} z-index-override=11></button> <button ng-show=$ctrl.showClearButton() class="c-glyph clear-button" name=clear-button type=button ng-click=$ctrl.onClearButtonClick() aria-label={{::$ctrl.resources.Components.SearchBar.ClearButtonAriaLabel}} custom-title={{::$ctrl.resources.Components.SearchEvent.ClearButtonAriaLabel}} z-index-override=11></button> </form> <button ng-show="$ctrl.canEdit && $ctrl.onEditClick" class="edit-event-button c-glyph c-action-trigger {{$ctrl.activeClassName}}" aria-label={{$ctrl.activeAriaLabel}} ng-click=$ctrl.onEditClicked() custom-title={{$ctrl.activeCustomTitle}} z-index-override=11> <svg-src svg-name={{$ctrl.activeSvgName}} inline-with-text=true></svg-src> </button> </div> <div class=content> <div class=search-error ng-if=$ctrl.state.isError> <custom-error-message error-message=$ctrl.resources.Components.SearchEvent.SearchFailureMessage is-compact=true></custom-error-message> </div> <div class=searching ng-show=$ctrl.state.isSearching> <div class=searching-inner> <div class="c-progress f-indeterminate-local f-progress-small" role=progressbar aria-valuetext={{$ctrl.resources.Searching}}> <span></span> <span></span> <span></span> <span></span> <span></span> </div> <h6 class=c-heading-6>{{::$ctrl.resources.Searching + \'...\'}}</h6> </div> </div> <div class=no-search-result ng-show=$ctrl.state.isNoResults> <h6 class=c-heading-6 role=note tabindex=0> {{$ctrl.resources.Components.SearchEvent.NoResultsFound}} </h6> </div> <virtual-list class=search-result ng-show=$ctrl.state.isResultsDisplayed items=$ctrl.events ng-if=$ctrl.events.length list-id=search-result-listbox-{{::$ctrl.searchResultListBoxId}} min-items-for-vlist=20 force-scroll-to-item=$ctrl.forceScrollToItem video-id=$ctrl.video.id scrollable-content-aria-label=$ctrl.eventListAriaLabel> <ul> <li class=search-result-item ng-repeat="e in $vs_renderItems" role=listitem ng-click=$ctrl.onResultItemClick(e) ng-keydown=$ctrl.onResultItemKeyDown($event) vlist-index={{e.index}} aria-posinset="{{e.index + 1}}" aria-setsize={{$ctrl.events.length}} aria-label={{$ctrl.lineAriaLabel(e)}} ng-focus=$ctrl.onSearchLineFocused(e)> <div class=transcript-cell ng-if=$ctrl.isTranscriptCaption(e)> <div class=transcript-icon> <div class=icon-container> <svg-src svg-name=icon-transcript></svg-src> </div> </div> <div class="transcript-text c-caption-1"> <span class=transcript-text-time>{{$ctrl.timeStamp(e)}}</span> "{{e.eventData.text}}" </div> </div> </li> </ul> </virtual-list> <div class=transclude-content ng-show=$ctrl.state.isCollapsed> <ng-transclude></ng-transclude> </div> </div> </div> '},"./app/components/Video/SearchEvent/SearchEvent.less":function(e,t){},"./app/components/Video/SearchEvent/SearchEvent.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/components/Video/SearchEvent/SearchEventController.ts");function o(){this.transclude=!0,this.controller=r.SearchEventController,this.template=n("./app/components/Video/SearchEvent/SearchEvent.html"),this.bindings={video:"<",onSearchClear:"&",isAdmin:"<",canEdit:"<",onEditClick:"&",isEditable:"<",editEventButtonAriaLabel:"<",viewEventButtonAriaLabel:"<",eventListAriaLabel:"<"}}n("./app/components/Video/SearchEvent/SearchEvent.less"),t.SearchEvent=o,i.registerComponent("searchEvent",o,angular.module("jumper"))},"./app/components/Video/SearchEvent/SearchEventController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/appUtil.ts"),o=n("./app/models/TelemetryEventModels.ts"),s=n("./app/utility/string.ts"),a=(Object.defineProperty(c.prototype,"isCollapsed",{get:function(){return this.state===this.collapsed},enumerable:!0,configurable:!0}),c.prototype.setCollapsed=function(){this.state=this.collapsed},Object.defineProperty(c.prototype,"isSearching",{get:function(){return this.state===this.searching},enumerable:!0,configurable:!0}),c.prototype.setSearching=function(){this.state=this.searching},Object.defineProperty(c.prototype,"isResultsDisplayed",{get:function(){return this.state===this.resultsDisplayed},enumerable:!0,configurable:!0}),c.prototype.setResultsDisplayed=function(){this.state=this.resultsDisplayed},Object.defineProperty(c.prototype,"isNoResults",{get:function(){return this.state===this.noResults},enumerable:!0,configurable:!0}),c.prototype.setNoResults=function(){this.state=this.noResults},Object.defineProperty(c.prototype,"isError",{get:function(){return this.state===this.error},enumerable:!0,configurable:!0}),c.prototype.setError=function(){this.state=this.error},c);function c(){this.collapsed="collpased",this.searching="searching",this.resultsDisplayed="resultsDisplayed",this.noResults="noResults",this.error="error",this.state=this.collapsed}var l=(u.prototype.toggleEditingDisabled=function(){var e=this.isEditable&&this.state.isCollapsed;this.activeSvgName=this.editSvgName,this.activeAriaLabel=this.editEventAriaLabel,this.activeCustomTitle=this.editEventAriaLabel,e?(this.activeClassName=this.startEditClassName,$(".edit-event-button",this.$element).removeAttr("disabled")):(this.activeClassName=this.editDisabledClassName,$(".edit-event-button",this.$element).attr("disabled","disabled"))},u.prototype.doSearch=function(){var e=this;this.searchString&&(this.state.setSearching(),this.isInEditMode&&this.onEditClicked(),this.toggleEditingDisabled(),this.videoEventService.search(this.video.id,this.searchString,i.Constants.VideoEventType.transcript,this.isAdmin).then((function(t){e.events=_.filter(t.data.value,(function(t){return e.isTranscriptCaption(t)})),e.featureTelemetryTracker.succeed(o.FeatureName.SearchVideoTranscriptEvent,{searchQueryLength:e.searchString.length,searchResultCount:e.events.length}),e.events.length?(e.state.setResultsDisplayed(),r.alertScreenReader(e.resources.Components.SearchEvent.ResultsFound)):(e.state.setNoResults(),r.alertScreenReader(e.resources.Components.SearchEvent.NoResultsFound))}),(function(t){return r.alertScreenReader(e.resources.Components.SearchEvent.SearchFailureMessage),e.featureTelemetryTracker.fail(o.FeatureName.SearchVideoTranscriptEvent,o.SubFeatureName.VideoEvent_Search,t),e.state.setError(),e.$q.reject(t)})))},u.prototype.onSearchButtonClick=function(){this.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.ClickSearchTranscriptButton),this.doSearch()},u.prototype.onSearchInputChange=function(e){(this.state.isError||this.state.isNoResults||this.state.isResultsDisplayed&&!e)&&this.state.setCollapsed()},u.prototype.onEditClicked=function(){var e=this;this.onEditClick&&(this.onEditClick(),this.isInEditMode=!this.isInEditMode,this.activeSvgName=this.isInEditMode?this.checknameSvgName:this.editSvgName,this.activeCustomTitle=this.isInEditMode?this.resources.ViewTranscriptTooltip:this.editEventAriaLabel,this.activeAriaLabel=this.isInEditMode?this.viewEventAriaLabel:this.editEventAriaLabel,this.activeClassName=this.isInEditMode?this.finishEditClassName:this.startEditClassName,this.$timeout((function(){$("."+e.activeClassName,e.$element).focus()}),0))},u.prototype.onSearchInputKeyDown=function(e){var t,n=this,i=e.keyCode;13===i?this.doSearch():27===i?(this.state.setCollapsed(),this.toggleEditingDisabled(),this.onSearchClear()):40===i&&(t=this.$element.find(".search-result-item").first(),(this.state.isNoResults||this.state.isResultsDisplayed)&&t&&t.length&&t.focus()),this.$timeout((function(){var e=$(".search-magnifier",n.$element);n.searchString&&0<n.searchString.length?e.removeAttr("disabled"):(e.attr("disabled","true"),n.toggleEditingDisabled())}),0)},u.prototype.onSearchLineFocused=function(e){this.forceScrollToItem=e},u.prototype.onClearButtonClick=function(){this.searchString="",this.state.setCollapsed(),this.toggleEditingDisabled(),this.$element.find(".search-field").first().focus(),this.onSearchClear()},u.prototype.showClearButton=function(){return this.searchString&&0<this.searchString.length},u.prototype.isTranscriptCaption=function(e){return e.type===i.Constants.VideoEventType.transcript&&e.eventData&&e.eventData.type.toLowerCase()===i.Constants.TextTrackType.Caption.toLowerCase()},u.prototype.isFace=function(e){return e.type===i.Constants.VideoEventType.face},u.prototype.onResultItemClick=function(e){this.state.setCollapsed(),this.onSearchClear(),this.toggleEditingDisabled();var t=r.formatISODurationToSeconds(e.start);this.$scope.$emit(i.Constants.Events.TimeStampTagClicked,{timeInSeconds:t}),this.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.timeTagClickedEventName,{source:i.Constants.TagClickSource.SearchEvent,id:this.video.id})},u.prototype.onResultItemKeyDown=function(e){var t,n,i=e.keyCode,r=$(e.target);38===i?((t=r.prev(".search-result-item"))&&t.length?t.focus():this.$element.find(".search-event-input").first().focus(),e.stopPropagation()):40===i&&((n=r.next(".search-result-item"))&&n.length&&n.focus(),e.stopPropagation())},u.prototype.timeStamp=function(e){return"@"+r.formatISODuration(e.start)},u.prototype.lineAriaLabel=function(e){return s.formatString(this.resources.Components.TranscriptSearch.AriaLabel,r.formatISODurationToSeconds(e.start).toString())},Object.defineProperty(u.prototype,"viewEventAriaLabel",{get:function(){return this.viewEventButtonAriaLabel||this.resources.Done},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"editEventAriaLabel",{get:function(){return this.isEditable&&this.state&&this.state.isCollapsed?this.editEventButtonAriaLabel||this.resources.Edit:this.resources.Components.SearchEvent.EditTranscriptDisabledAriaLabel},enumerable:!0,configurable:!0}),u.$inject=["$scope","$element","$q","resources","telemetryService","videoEventService","$timeout"],u);function u(e,t,n,s,c,l,u){var d=this;this.$scope=e,this.$element=t,this.$q=n,this.resources=s,this.telemetryService=c,this.videoEventService=l,this.$timeout=u,this.isInEditMode=!1,this.isEditable=!0,this.activeSvgName="",this.activeAriaLabel="",this.activeCustomTitle=this.editEventAriaLabel,this.activeClassName="",this.editSvgName="icon_edit",this.checknameSvgName="icon_checkmark",this.editDisabledClassName="edit-disabled",this.startEditClassName="start-edit-button",this.finishEditClassName="finish-edit-button",this.searchStringMaxLength=i.Constants.MaxLengths.SearchInput,this.events=[],this.state=new a,this.searchResultListBoxId=r.generateGuid(),this.featureTelemetryTracker=this.telemetryService.getTracker(o.ScreenName.Video,o.ResourceType.VideoEvent,this.video.id,!1),this.$scope.$on(i.Constants.Events.TranscriptEditingDisabled,(function(){d.isEditable=!1,d.toggleEditingDisabled(),d.isInEditMode=!1})),this.$timeout((function(){d.toggleEditingDisabled(),$(".search-magnifier",d.$element).attr("disabled","true")}),0)}t.SearchEventController=l},"./app/components/Video/Transcript/TranscriptController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r,o,s,a=n("./app/utility/appUtil.ts"),c=n("./app/models/TelemetryEventModels.ts"),l=n("./app/utility/Constants.ts"),u=n("./app/utility/string.ts"),d=n("./app/utility/KeyCodes.ts"),p=n("./common/Directives/Drawer/Drawer.ts");(r=i=t.TranscriptState||(t.TranscriptState={}))[r.Loading=0]="Loading",r[r.Error=1]="Error",r[r.AutoScrolling=2]="AutoScrolling",r[r.UserInteraction=3]="UserInteraction",r[r.SeekingVideo=4]="SeekingVideo",(s=o=o||{})[s.Saving=0]="Saving",s[s.Saved=1]="Saved",s[s.Failed=2]="Failed",s[s.StaleAssetFailure=3]="StaleAssetFailure",s[s.None=4]="None";var A=(Object.defineProperty(m.prototype,"actionLabel",{get:function(){return this.isTranscriptEditMode?this.resources.Done:this.resources.Edit},enumerable:!0,configurable:!0}),m.prototype.actionHandler=function(e){var t=this;e&&!this.isTranscriptEditMode||(this.isTranscriptEditMode=!this.isTranscriptEditMode,this.transcriptSavingStatus=o.None,this.isTranscriptEditMode?(this.displayAutoScroll=!1,this.wasAutoScrollOn=!this.isUserInteractionState,this.enterUserInteractionMode(),this.activeTranscript&&(this.currentEditIndex=this.activeTranscript.index,this.forceUpdateToIndex=this.currentEditIndex,setTimeout((function(){return t.transcriptEditHandler(null,!0)}),0)),$(".transcript-timestamp",this.$element).attr({tabindex:0,role:"button"}),$(".transcript-text",this.$element).attr({tabindex:0,role:"textbox"}),$(".transcript-line",this.$element).attr("tabindex",null),this.logTranscriptUserAction(c.TranscriptUserActionNames.EnterEditModeClicked)):this.exitEditMode(),this.initDrawer())},m.prototype.exitEditMode=function(){this.isTranscriptEditMode=!1,this.transcriptDomUnderEditing=null,this.transcriptDomIdUnderEditing="",this.transcriptDomIdUnderPreviousEditing="",this.transcriptSavingStatus!=o.StaleAssetFailure&&(this.transcriptSavingStatus=o.None),this.wasAutoScrollOn&&this.enableAutoScroll();var e={tabindex:-1,role:null};$(".transcript-timestamp",this.$element).attr(e),$(".transcript-text",this.$element).attr(e),$(".transcript-line",this.$element).attr("tabindex",0),this.logTranscriptUserAction(c.TranscriptUserActionNames.ExitEditModeClicked)},m.prototype.discard=function(e){void 0===e&&(e=!1),this.transcriptDomUnderEditing&&this.previousTranscript&&this.transcriptDomUnderEditing.text(this.previousTranscript.eventData.text),this.isTranscriptModified=!1;var t=$(this.transcriptDomIdUnderEditing);this.updateActionButtonState(t),e||this.setFocusToEditableBox(),this.logTranscriptUserAction(c.TranscriptUserActionNames.DiscardLineEditClicked)},m.prototype.saveAndResume=function(e){var t,n=this;this.isTranscriptEditMode&&this.transcriptDomUnderEditing&&this.transcriptUnderEditingContent&&(this.displayAutoScroll=!1,0===this.transcriptDomUnderEditing.length&&(this.transcriptDomUnderEditing=$(this.transcriptDomIdUnderEditing+"  .transcript-text")),t=this.transcriptDomUnderEditing.text(),this.previousTranscript&&_.trim(t)!==_.trim(this.previousTranscript.eventData.text)?(this.previousTranscript.eventData.text=_.trim(t),this.transcriptSavingStatus=o.Saving,a.alertScreenReader(this.resources.Saving),this.videoEventService.updateTranscript(this.video.id,e.id,t,this.isAdmin).then((function(){n.featureTelemetryTracker.succeed(c.FeatureName.SaveTranscript),n.transcriptSavingStatus=o.Saved,a.alertScreenReader(n.resources.ChangesSaved)}),(function(e){404==e.status?(n.$scope.$emit(l.Constants.Events.TranscriptEditingDisabled),n.failedIndex=n.currentEditIndex,n.transcriptSavingStatus=o.StaleAssetFailure,n.exitEditMode(),n.transcriptDomUnderEditing.attr("contentEditable","false"),n.transcriptUnderEditingContent.id="",n.transcriptUnderEditingContent.value="",n.currentEditIndex=-1):n.transcriptSavingStatus=o.Failed,n.featureTelemetryTracker.fail(c.FeatureName.SaveTranscript,e,c.SubFeatureName.VideoEvent_SaveTranscript),a.alertScreenReader(n.resources.SaveFailed)})).finally((function(){n.runFromTest||setTimeout((function(){n.displayAutoScroll=!0,n.areTranscriptNewEditButtonsEnabled&&(n.transcriptSavingStatus==o.StaleAssetFailure?o.StaleAssetFailure:o.None,n.isTranscriptModified=!1)}),n.saveMsgStayTime)})),this.$scope.$emit(l.Constants.Events.ResumePlayer)):this.displayAutoScroll=!0)},m.prototype.onTimeKeyDown=function(e,t){this.isTranscriptEditMode&&t.keyCode===d.KeyCodes.Enter&&this.onTranscriptClicked(e)},m.prototype.onTextKeyDown=function(e){var t=this,n=e.keyCode,i=[d.KeyCodes.Tab,d.KeyCodes.Shift,d.KeyCodes.Ctrl,d.KeyCodes.Alt,d.KeyCodes.Break,d.KeyCodes.CapsLock,d.KeyCodes.Escape,d.KeyCodes.PageUp,d.KeyCodes.PageDown,d.KeyCodes.End,d.KeyCodes.Home,d.KeyCodes.ArrowLeft,d.KeyCodes.ArrowUp,d.KeyCodes.ArrowRight,d.KeyCodes.ArrowDown,d.KeyCodes.Print,d.KeyCodes.Insert,d.KeyCodes.Colon2,d.KeyCodes.Equals2,d.KeyCodes.Equals3,d.KeyCodes.Minus2,d.KeyCodes.WindowsLeft,d.KeyCodes.WindowsRight,d.KeyCodes.WindowsOpera,d.KeyCodes.Menu,d.KeyCodes.NumLock,d.KeyCodes.ScrollLock];_.includes(i,n)||(this.playerPausedByKeyDown||(this.$scope.$emit(l.Constants.Events.PausePlayer),this.playerPausedByKeyDown=!0),this.transcriptDomIdUnderEditing&&this.$timeout((function(){var e=$(t.transcriptDomIdUnderEditing),n=(n=_.trim($(".transcript-text",e).text()))&&n.replace(/(\r\n|\n|\r)/gm," ");t.isTranscriptModified=n!==_.trim(_.get(t.previousTranscript,"eventData.text")),t.updateActionButtonState(e)}),0))},m.prototype.replay=function(e,t){e.stopPropagation();var n=a.formatISODurationToSeconds(t.start);this.$scope.$emit(l.Constants.Events.TimeStampTagClicked,{timeInSeconds:n}),this.setFocusToEditableBox(),this.featureTelemetryTracker.trackEvent(c.TranscriptUserActionNames.ReplayLineClicked)},m.prototype.save=function(e,t){e.stopPropagation(),this.saveAndResume(t);var n=$(this.transcriptDomIdUnderEditing);this.updateActionButtonState(n),this.logTranscriptUserAction(c.TranscriptUserActionNames.SaveLineEditClicked),$(".transcript-timestamp",n).focus()},m.prototype.resume=function(e,t){e.stopPropagation(),this.saveAndResume(t),this.makeCurrentEditableTranscriptNonEditable()},Object.defineProperty(m.prototype,"isTranscriptEditV3Enabled",{get:function(){return this.featureFlagsService.Values.TranscriptEditV3},enumerable:!0,configurable:!0}),m.prototype.initDrawer=function(){var e;this.isTranscriptEditV3Enabled&&(this[e=(this.showRightDrawer?"right":"bottom")+"DrawerItems"]=[],(this.isUserCanEdit||this.isAdmin)&&(this.state===i.AutoScrolling?this[e].push(new p.DrawerItem("disable-autoscroll-button",this.resources.Components.Transcript.DisableAutoScroll,this.disableAutoScroll.bind(this),"icon_auto_scroll")):this[e].push(new p.DrawerItem("enable-autoscroll-button",this.resources.Components.Transcript.EnableAutoScroll,this.enableAutoScroll.bind(this),"icon_auto_scroll"))))},m.prototype.onTranscriptFocused=function(e,t){var n=this;e.stopPropagation(),t&&(0<=this.currentEditIndex&&this.currentEditIndex!==t.index&&this.discard(!0),this.isTranscriptEditMode&&(this.currentEditIndex=t.index),t.id!==this.transcriptUnderEditingContent.id&&(""===this.transcriptUnderEditingContent.id||this.areTranscriptNewEditButtonsEnabled||this.saveAndResume(this.previousTranscript),this.transcriptUnderEditingContent={id:t.id,value:t.eventData.text},this.isTranscriptEditMode&&(this.isTranscriptModified=!1,setTimeout((function(){return n.transcriptEditHandler(t,!0)}),0)),this.autoFocus=!1))},m.prototype.onTranscriptBlur=function(){this.playerPausedByKeyDown=!1},m.prototype.isActiveEdit=function(e){return this.isTranscriptEditMode&&e.index===this.currentEditIndex},m.prototype.shouldShowActionBar=function(e){var t=this.transcriptSavingStatus==o.StaleAssetFailure&&e.index===this.failedIndex;return this.isActiveEdit(e)||t},Object.defineProperty(m.prototype,"isTranscriptEditFlagEnabled",{get:function(){return this.featureFlagsService.Values.TranscriptEdit},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isLoadingState",{get:function(){return this.state===i.Loading},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isErrorState",{get:function(){return this.state===i.Error},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isAutoScrollingState",{get:function(){return this.state===i.AutoScrolling},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isUserInteractionState",{get:function(){return this.state===i.UserInteraction},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isSeekingVideoState",{get:function(){return this.state===i.SeekingVideo},enumerable:!0,configurable:!0}),m.prototype.updateActionButtonState=function(e){var t=$(".save-btn",e)[0];t&&(t.disabled=!this.isTranscriptModified);var n=$(".discard-btn",e)[0];n&&(n.disabled=!this.isTranscriptModified)},m.prototype.monitorPlayerProgress=function(){var e=this;this.$scope.$watch((function(){return e.playerTime}),(function(t){t&&e.scrollToGivenTime(t)}))},m.prototype.scrollToGivenTime=function(e,t){var n=this;void 0===t&&(t=!1),e=e||0;for(var i=this.transcriptLines.length?this.transcriptLines[0]:void 0,r=0,o=0;o<this.transcriptLines.length&&!(e<this.transcriptLines[o].startSeconds);o++)i=this.transcriptLines[o],r=o;this.isAutoScrollingState?i&&(this.activeTranscript!==i||t)&&(this.forceUpdateToIndex=r,this.$timeout((function(){n.forceScrollToItem=i}),0)):this.isSeekingVideoState&&this.seekingTranscript&&e>=this.seekingTranscript.startSeconds&&e<=this.seekingTranscript.endSeconds&&(this.isTranscriptEditMode||(this.seekingTranscript=null)),i&&(this.activeTranscript=i)},m.prototype.enterUserInteractionMode=function(){this.isUserInteractionState||(this.state=i.UserInteraction,this.initDrawer())},m.prototype.mapTranscriptToUIModel=function(e){var t=_.get(e,"eventData.text");return t&&(t=_.trim(t).replace(/(\r\n|\n|\r)/gm," "),e.eventData.text=t),{id:e.id,type:e.type,start:e.start,end:e.end,eventData:e.eventData,startSeconds:a.formatISODurationToSeconds(e.start),endSeconds:a.formatISODurationToSeconds(e.end)}},m.prototype.loadTranscriptCaption=function(){var e=this;return this.videoEventService.getTranscript(this.video.id,this.isAdmin).then((function(t){var n=_.filter(t.data.value,(function(e){return e.eventData.type.toLowerCase()===l.Constants.VideoEventTranscriptType.caption.toLowerCase()}));e.transcriptLines=_.map(n,(function(t){return e.mapTranscriptToUIModel(t)}))}))},m.prototype.onTranscriptClicked=function(e){var t,n;void 0!==this.transcriptDomIdUnderPreviousEditing&&-1<this.transcriptDomIdUnderPreviousEditing.indexOf(e.id)||(this.isTranscriptEditMode?this.transcriptDomIdUnderPreviousEditing=this.transcriptDomIdUnderEditing:this.state=i.SeekingVideo,this.seekingTranscript=e,this.activeTranscript=e,t=a.formatISODurationToSeconds(e.start),n=!this.isTranscriptEditMode,this.$scope.$emit(l.Constants.Events.TimeStampTagClicked,{timeInSeconds:t,seekAndPlay:n}),this.featureTelemetryTracker.trackEvent(c.TelemetryEventNames.timeTagClickedEventName,{source:l.Constants.TagClickSource.Transcript,id:this.video.id}))},m.prototype.onTranscriptLineFocused=function(e){this.forceScrollToItem=e},m.prototype.getTimeStamp=function(e){return a.formatISODuration(e)},m.prototype.shouldHighlight=function(e){return this.isSeekingVideoState?this.seekingTranscript&&e.startSeconds<=this.seekingTranscript.startSeconds:e.startSeconds<=this.playerTime},m.prototype.lineAriaLabel=function(e){return u.formatString(this.resources.Components.Transcript.AriaLabel,e.startSeconds.toString())},m.prototype.enableAutoScroll=function(){this.state=i.AutoScrolling,this.initDrawer(),this.scrollToGivenTime(this.playerTime,!0),this.focusOnTabDrawerButton(),this.logTranscriptUserAction(c.TranscriptUserActionNames.EnableAutoscrollClicked)},m.prototype.disableAutoScroll=function(){this.enterUserInteractionMode(),this.initDrawer(),this.focusOnTabDrawerButton(),this.logTranscriptUserAction(c.TranscriptUserActionNames.DisableAutoscrollClicked)},Object.defineProperty(m.prototype,"shouldDisplayAutoScrollButton",{get:function(){return!0},enumerable:!0,configurable:!0}),m.prototype.applyActiveStyleToReplayButton=function(){$(".replay-btn",$(this.transcriptDomIdUnderEditing)).addClass("btn-primary")},m.prototype.applyInactiveStyleToReplayButton=function(){$(".replay-btn",$(this.transcriptDomIdUnderEditing)).removeClass("btn-primary")},Object.defineProperty(m.prototype,"areTranscriptNewEditButtonsEnabled",{get:function(){return this.featureFlagsService.Values.TranscriptEditNewButtons},enumerable:!0,configurable:!0}),m.prototype.focusOnTabDrawerButton=function(){setTimeout((function(){$(".drawer-button.drawer-button-stream",$(".tab-actions-drawer")).focus()}),0)},m.prototype.transcriptEditHandler=function(e,t){void 0===e&&(e=null),void 0===t&&(t=!1),this.transcriptSavingStatus=o.None,this.transcriptDomIdUnderPreviousEditing=this.transcriptDomIdUnderEditing;var n=e||this.activeTranscript;this.transcriptDomIdUnderEditing="#transcript-"+n.id,this.transcriptDomUnderEditing=$(this.transcriptDomIdUnderEditing+"  .transcript-text"),this.previousTranscript=n,this.transcriptDomUnderEditing.attr("contentEditable","true"),this.transcriptDomUnderEditing.addClass("editable");var i=$(".transcript-text-action-bar",$(this.transcriptDomIdUnderEditing));this.updateActionButtonState($(this.transcriptDomIdUnderEditing)),i.addClass("visible"),t&&this.transcriptDomUnderEditing&&0<this.transcriptDomUnderEditing.length&&this.setFocusToEditableBox()},m.prototype.setFocusToEditableBox=function(){this.autoFocus=!0,this.transcriptDomUnderEditing.focus(),this.moveCursorToEnd(this.transcriptDomUnderEditing.get(0))},m.prototype.makeCurrentEditableTranscriptNonEditable=function(){this.transcriptDomUnderEditing&&(this.transcriptDomUnderEditing.attr("contentEditable","false"),this.transcriptDomUnderEditing.removeClass("editable"),this.areTranscriptNewEditButtonsEnabled&&$(".transcript-text-action-bar",$(this.transcriptDomIdUnderEditing)).removeClass("visible")),this.transcriptUnderEditingContent.id="",this.transcriptUnderEditingContent.value="",this.currentEditIndex=-1},m.prototype.moveCursorToEnd=function(e){var t,n;document.createRange&&((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(t))},m.prototype.logTranscriptUserAction=function(e){this.featureTelemetryTracker.trackEvent(c.TelemetryEventNames.TranscriptUserAction,{transcriptAction:e})},m.$inject=["$scope","$element","$timeout","$q","resources","telemetryService","featureFlagsService","videoEventService","$location"],m);function m(e,t,n,r,s,a,l,u,d){var p=this;this.$scope=e,this.$element=t,this.$timeout=n,this.$q=r,this.resources=s,this.telemetryService=a,this.featureFlagsService=l,this.videoEventService=u,this.isTranscriptEditMode=!1,this.isUserCanEdit=!1,this.displayAutoScroll=!0,this.showRightDrawer=!0,this.transcriptLines=[],this.forceUpdateToIndex=-1,this.isTranscriptModified=!1,this.transcriptSavingStatus=o.None,this.saveMsgStayTime=3e3,this.transcriptUnderEditingContent={id:"",value:""},this.wasAutoScrollOn=!1,this.currentEditIndex=-1,this.failedIndex=-1,this.autoFocus=!1,this.runFromTest=d.search().runFromTest,this.state=i.Loading,this.container=t.find(".transcript-list"),this.featureTelemetryTracker=this.telemetryService.getTracker(c.ScreenName.Video,c.ResourceType.VideoEvent,this.video.id,!1),this.monitorPlayerProgress(),this.loadTranscriptCaption().then((function(){p.state=i.AutoScrolling,p.initDrawer(),p.featureTelemetryTracker.succeed(c.FeatureName.LoadVideoTranscriptEvent)}),(function(e){p.state=i.Error,p.featureTelemetryTracker.fail(c.FeatureName.LoadVideoTranscriptEvent,c.SubFeatureName.VideoEvent_GetTranscriptCaption,e)})),this.onInit&&this.onInit({transcriptController:this}),this.isUserCanEdit=this.video.userData.permissions.canEdit,$(document).mouseup((function(e){var t=$(p.transcriptDomIdUnderEditing);t.is(e.target)||0!==t.has(e.target).length||(p.areTranscriptNewEditButtonsEnabled?p.discard(!0):p.saveAndResume(p.previousTranscript),p.makeCurrentEditableTranscriptNonEditable())}))}t.TranscriptController=A},"./app/components/Video/VideoPage/VideoPageController.ts":function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n=n||Promise)((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=0<(r=o.trys).length&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o,s,a=n("./app/models/TelemetryEventModels.ts"),c=n("./common/components/MediaPlayer/MediaPlayerController.ts"),l=n("./app/utility/string.ts"),u=n("./app/utility/Constants.ts"),d=n("./app/utility/KeyCodes.ts"),p=n("./common/Directives/Drawer/Drawer.ts"),A=n("./app/services/NavigationService.ts"),m=n("./app/services/VideoBgUploaderService.ts"),h=n("./Embed/Utility/appUtil.ts"),f=n("./app/components/Video/Transcript/TranscriptController.ts"),g=n("./common/components/TabNavigation/TabNavigationController.ts"),v=n("./app/utility/appUtil.ts"),y=n("./app/utility/videoEventUtils.ts"),S=n("./app/utility/LiveEventUtils.ts"),b=n("./app/vNextBridges/components/VideoEditorBridge/VideoEditorBridge.precheck.ts"),C="processing",E="completed";(s=o=o||{})[s.Details=0]="Details",s[s.Transcript=1]="Transcript",s[s.People=2]="People",s[s.Yammer=3]="Yammer",s[s.Analytics=4]="Analytics",s[s.Interactivity=5]="Interactivity";var w=(T.prototype.jumpToForm=function(e,t){void 0===t&&(t=!0),this.player&&this.player.jumpToEvent&&(this.player.jumpToEvent(e),t&&this.player.pause())},Object.defineProperty(T.prototype,"isTranscriptEditV3Enabled",{get:function(){return this.featureFlagsService.Values.TranscriptEditV3},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"isFaceDetectionEnabled",{get:function(){return!this.featureFlagsService.Values.DisableFaceDetection},enumerable:!0,configurable:!0}),T.prototype.setEvents=function(e){var t=this.player;t&&t.setEvents&&t.setEvents(e),this.video.timedEvents=e},Object.defineProperty(T.prototype,"player",{get:function(){return this.ampPlayer||(this.ampPlayer=c.getAMPPlayer()),this.ampPlayer},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"formTabEnabled",{get:function(){return this.routingCase===u.Constants.RoutingCase.Normal&&!this.isLiveNow&&y.isFormTabEnabled(this.featureFlagsService)&&0<this.videoDurationSeconds&&(0<this.timedEvents.length||this.isEditorOrInAdminMode)&&(!this.featureFlagsService.Values.LiveEventOptions||!this.video.liveEvent||this.video.liveEvent.liveEventOptions&&this.video.liveEvent.liveEventOptions.onDemandOptions.enablePlayback)},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"videoDurationSeconds",{get:function(){return this.video&&this.video.media?v.formatISODurationToSeconds(this.video.media.duration):0},enumerable:!0,configurable:!0}),T.prototype.resetLayout=function(){$("#transcript-container, #forms-container").appendTo($("#under-player-container")),this.setViewSettingsDrawerItems()},T.prototype.initTabOptions=function(){this.playerBottomTabOptions={options:[{value:o.Details,text:this.resources.Details,className:"details-bottom-tab"},{hide:this.hideBottomTranscript||!this.showTranscriptOrNotReadyMessage,value:o.Transcript,text:this.resources.VideoPage.ViewSettings.TranscriptMode,className:"transcript-bottom-tab"},{hide:!this.showPeopleOrNotReadyMessage||!_.get(this.tenantSettings,"system.contentManagement.allowFaceDetection")||this.featureFlagsService.Values.DisableFaceDetection,value:o.People,text:this.resources.FaceChart.Title,className:"faces-bottom-tab"},{hide:!this.isYammerAvailable||this.hideBottomYammer,value:o.Yammer,text:l.formatString(this.resources.LiveYammerConversation,u.Constants.ExternalProviders.Yammer.name),className:"yammer-bottom-tab"},{hide:!this.showAnalytics,value:o.Analytics,text:this.resources.Analytics,className:"analytics-bottom-tab"}]},this.setDefaultRightTab(),this.playerRightTabOptions={options:[{hide:!this.isYammerAvailable,value:o.Yammer,text:l.formatString(this.resources.LiveYammerConversation,u.Constants.ExternalProviders.Yammer.name),className:"yammer-right-tab"},{hide:!this.hideBottomTranscript||!this.showTranscriptOrNotReadyMessage,value:o.Transcript,text:this.resources.VideoPage.ViewSettings.TranscriptMode,className:"transcript-right-tab"}]},this.showInteractiveTab()&&(this.playerBottomTabOptions.options.push({hide:this.hideBottomForms,value:o.Interactivity,text:this.resources.Interactivity,className:"forms-bottom-tab"}),this.playerRightTabOptions.options.push({hide:!this.hideBottomForms,value:o.Interactivity,text:this.resources.Interactivity,className:"forms-right-tab"}))},Object.defineProperty(T.prototype,"showMessageBar",{get:function(){return!!this.video&&!!this.video.userData&&this.video.userData.permissions.canEdit&&(this.showReplaceBar||this.showTrimBar)},enumerable:!0,configurable:!0}),T.prototype.showInteractiveTab=function(){return!!this.formTabEnabled&&(this.isEditorOrInAdminMode||0<this.timedEvents.length)},T.prototype.setDefaultRightTab=function(){this.showInteractiveTab()&&this.featureFlagsService.Values.FormsDefaultTab?this.currentRightTab=o.Interactivity:this.isYammerAvailable?this.currentRightTab=o.Yammer:this.showTranscript?this.currentRightTab=o.Transcript:this.formTabEnabled?this.currentRightTab=o.Interactivity:this.currentRightTab=-1},T.prototype.resetRightTab=function(){this.currentRightTab=-1},T.prototype.setDefaultBottomTab=function(){this.currentBottomTab!==o.Details&&this.currentBottomTab!==o.People&&this.currentBottomTab!==o.Analytics&&this.hideBottomTranscript&&this.hideBottomYammer&&(this.currentBottomTab=o.Details)},T.prototype.registerConfirmationDialogEvents=function(e){var t=".ngdialog .confirmation-dialog";this.$scope.$watch((function(){return $(t).length}),(function(n){1<=n&&(e.onOpen(),angular.element($(t)).scope().$on("$destroy",(function(){return e.onClose()})))}))},T.prototype.onTranscriptClick=function(){var e,t=this;this.featureTelemetryTracker.setResourceId(this.video?this.video.id:null),this.featureTelemetryTracker.trackEvent(a.TelemetryEventNames.ShowHideTranscriptToggle,{videoId:this.videoId}),this.showTranscript?(e=this.viewSettings.indexOf(this.hideTranscriptButton),this.viewSettings[e]=this.showTranscriptButton):(e=this.viewSettings.indexOf(this.showTranscriptButton),this.viewSettings[e]=this.hideTranscriptButton),this.showTranscript=!this.showTranscript,this.userHideTranscript=!this.showTranscript,this.playerBottomTabOptions.options.forEach((function(e){e.value===o.Transcript&&(e.hide=t.hideBottomTranscript||!t.showTranscript)})),this.playerRightTabOptions.options.forEach((function(e){e.value===o.Transcript&&(e.hide=!t.hideBottomTranscript||!t.showTranscript)})),this.transcriptHandler(),this.clearTabFocusHandlers(),this.setRightTabDefaultFocusHandlers(),this.setBottomTabDefaultFocusHandlers()},T.prototype.onVideoCompleted=function(){this.isLiveContent&&!this.isLiveToVODTransitionHappened&&(this.videoEditStateInfo&&(this.videoEditStateInfo.videoState=u.Constants.VideoStatus.Completed),this.isLiveToVODTransitionHappened=!0),this.autoPlayStatus&&this.featureFlagsService.Values.AutoPlay&&this.autoPlayInit()},T.prototype.getListOfChannelVideos=function(e){this.relatedVideos=e},T.prototype.getAutoPlayToggleStatus=function(e){this.autoPlayStatus=e},T.prototype.autoPlayInit=function(){var e,t,n=this.video.id,i=this.relatedVideos.findIndex((function(e){return e.id===n}))+1;i<this.relatedVideos.length&&this.relatedVideos[i]&&(e=this.relatedVideos[i].id,this.videoSource.channelId=this.$location.search().channelId,this.videoSource.sort=this.$location.search().sort,this.videoSource.autoplay=this.autoPlayStatus?"true":"false",this.videoSource.skip=Number(this.$location.search().skip)+1,t=A.generatePathWithQueryStrings(u.Constants.Routes.Video,e,this.videoSource),this.navigationService.navigate(t))},T.prototype.retry=function(){this.$window.location.reload()},Object.defineProperty(T.prototype,"tabHeaderDirection",{get:function(){return g.ITabDirection.horizontal},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"isLiveNow",{get:function(){return this.videoEditStateInfo&&this.videoEditStateInfo.videoState.toLowerCase()===u.Constants.VideoStatus.Live&&!this.isReplacing},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"isCompletedOnLoad",{get:function(){return!this.isLiveContent||this.isLiveContent&&this.originalState===u.Constants.VideoStatus.Completed},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"isCreated",{get:function(){return this.videoEditStateInfo&&this.videoEditStateInfo.videoState.toLowerCase()===u.Constants.VideoStatus.Created},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"isCompleted",{get:function(){return this.videoEditStateInfo&&this.videoEditStateInfo.videoState.toLowerCase()===u.Constants.VideoStatus.Completed},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"isLiveContent",{get:function(){return this.video&&this.video.contentSource&&this.video.contentSource.toLowerCase()===u.Constants.VideoContentSource.liveStream.toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"isLiveContentCreatedState",{get:function(){return this.isLiveContent&&this.isCreated},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"isReplacing",{get:function(){return this.video.state&&(l.isStringEqual(this.video.state,u.Constants.VideoStatus.Processing)||l.isStringEqual(this.video.state,u.Constants.VideoStatus.Uploading))&&this.video.status&&this.video.status.processingStatus&&(this.videoEditStateInfo.isReplacingVideo=_.some(this.video.status.processingStatus,{type:u.Constants.VideoProcessingStatusType.replacing.toLowerCase(),state:u.Constants.VideoStatus.Processing.toLowerCase()})),this.replaceVideoService.isReplacing(this.videoEditStateInfo)},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"isTrimming",{get:function(){var e=!1;return this.video.status&&_.forEach(this.video.status.processingStatus,(function(t){t&&t.type.trim().toLowerCase()===u.Constants.VideoProcessingStatusType.trimming.toLowerCase()&&(e=t.state.trim().toLowerCase()===u.Constants.VideoStatus.Processing.toLowerCase())})),e},enumerable:!0,configurable:!0}),T.prototype.isBottomTabSet=function(e){return this.currentBottomTab===e},T.prototype.isRightTabSet=function(e){return this.currentRightTab===e},Object.defineProperty(T.prototype,"display12Column",{get:function(){return!this.showRightContainer&&(this.isLiveNow||this.isLiveContentCreatedState)||this.theaterMode&&this.isLiveNow},enumerable:!0,configurable:!0}),T.prototype.transcriptHandler=function(){var e=this;$("#player-right-container").removeClass("vertical-space"),$("#related-videos").removeClass("vertical-space"),this.theaterMode?(this.moveRightTabsToBottom(),this.moveRelatedVideoDown(),this.screenWidth<=u.Constants.ScreenBreakpoints.Large&&$("#related-videos").addClass("vertical-space")):(this.showTranscript||this.formTabEnabled?this.screenWidth>=u.Constants.ScreenBreakpoints.Large?(this.theaterMode||(this.moveYammerAndTranscriptToRight(),this.moveRelatedVideoDown(),this.$timeout((function(){e.setRightContainerHeight()}))),this.isLiveNow&&($("#player-wrapper").removeClass("medium-12 large-12"),$("#player-wrapper").addClass("medium-8 large-8"))):$("#related-videos").addClass("vertical-space"):this.screenWidth>=u.Constants.ScreenBreakpoints.Small&&this.screenWidth<u.Constants.ScreenBreakpoints.Medium?$("#related-videos").addClass("vertical-space"):this.screenWidth>=u.Constants.ScreenBreakpoints.Medium&&void 0!==this.showTranscript?this.isYammerAvailable?(this.moveRelatedVideoDown(),this.moveYammerToRight()):this.showTranscript||this.formTabEnabled||(this.screenWidth>=u.Constants.ScreenBreakpoints.Large?this.moveRelatedVideoUp():$("#related-videos").addClass("vertical-space")):this.screenWidth<=u.Constants.ScreenBreakpoints.Large&&$("#related-videos").addClass("vertical-space"),this.isLiveContent&&!this.showTranscript&&this.screenWidth>=u.Constants.ScreenBreakpoints.Medium&&this.$timeout((function(){e.setRightContainerHeight()})))},T.prototype.moveRelatedVideoUp=function(){setTimeout((function(){var e=null===$("div.related-videos .related-video-label").outerHeight()?35:$("div.related-videos .related-video-label").outerHeight(),t=$("#player-wrapper").height()+e;$("#related-videos-container-for-big-screen").css("margin-top","-"+t+"px")}))},T.prototype.moveRelatedVideoDown=function(){$("#related-videos-container-for-big-screen").css("margin-top","0")},T.prototype.onFaceClick=function(){var e,t=this;this.showFaces?(e=this.viewSettings.indexOf(this.hideFacesButton),this.viewSettings[e]=this.showFacesButton):(e=this.viewSettings.indexOf(this.showFacesButton),this.viewSettings[e]=this.hideFacesButton),this.showFaces=!this.showFaces,this.userHidePeople=!this.showFaces,this.playerBottomTabOptions.options.forEach((function(e){e.value===o.People&&(e.hide=!t.showFaces)})),this.setBottomTabDefaultFocusHandlers()},T.prototype.onTheaterModeClick=function(){this.theaterMode=!this.theaterMode,this.theaterModeHandler()},T.prototype.EnableTheaterMode=function(e){var t=this;this.$scope.$evalAsync((function(){t.theaterMode=e,t.theaterModeHandler()}))},T.prototype.showRightInteractiveDrawer=function(){return this.showRightContainer&&!_.isEmpty(this.rightTabDrawerItems)},T.prototype.showBottomInteractiveDrawer=function(){return!this.showRightContainer&&!_.isEmpty(this.bottomTabDrawerItems)},T.prototype.toggleTranscriptEditMode=function(){return i(this,void 0,Promise,(function(){return r(this,(function(e){switch(e.label){case 0:return this.transcriptController?this.transcriptController.isTranscriptEditMode?[3,2]:[4,this.getVideoStatus()]:[3,3];case 1:e.sent(),e.label=2;case 2:this.transcriptController.actionHandler(this.showTrimBar||this.showReplaceBar),e.label=3;case 3:return[2]}}))}))},T.prototype.theaterModeHandler=function(){var e=this;this.changeTheaterModeButton(),this.theaterMode?($(".video-player-container").addClass("video-player-background"),$(".video-player-container").css("padding-top","0px"),this.screenWidth>=u.Constants.ScreenBreakpoints.Medium?this.screenWidth>=u.Constants.ScreenBreakpoints.Large?$("#player-wrapper").hasClass("large-8")&&($("#player-wrapper").removeClass("large-8"),$("#player-wrapper").addClass("large-12"),this.transcriptHandler()):this.screenWidth>=u.Constants.ScreenBreakpoints.Medium&&$("#player-wrapper").hasClass("medium-8")&&($("#player-wrapper").removeClass("medium-8"),$("#player-wrapper").addClass("medium-12")):$("#player-wrapper").hasClass("small-6")&&($("#player-wrapper").removeClass("small-6"),$("#player-wrapper").addClass("small-12"),$("#under-player-container").addClass("vertical-space")),this.moveRightTabsToBottom(),this.moveFormsToBottom(),this.resetRightContainerHeight(),this.setBottomTabDefaultFocusHandlers()):($(".video-player-container").css("padding-top","20px"),$(".video-player-container").removeClass("video-player-background"),this.screenWidth>=u.Constants.ScreenBreakpoints.Large&&this.routingCase===u.Constants.RoutingCase.Normal?(this.$timeout((function(){e.showTranscript||e.isYammerAvailable||e.formTabEnabled||e.moveRelatedVideoUp()})),(this.showRightContainer||this.isCompleted)&&$("#player-wrapper").hasClass("large-12")&&($("#player-wrapper").removeClass("large-12"),$("#player-wrapper").addClass("large-8")),$("#player-wrapper").hasClass("small-12")&&this.showTranscript&&($("#player-wrapper").removeClass("small-12"),$("#player-wrapper").addClass("small-6"),$("#under-player-container").removeClass("vertical-space")),this.moveFormsToRight(),this.moveYammerAndTranscriptToRight(),this.setRightTabDefaultFocusHandlers()):$("#player-wrapper").hasClass("small-12")&&!this.showTranscript&&$("#under-player-container").removeClass("vertical-space"),this.$timeout((function(){e.setRightContainerHeight()})))},T.prototype.moveYammerAndTranscriptToRight=function(){!this.showTranscript&&!this.isYammerAvailable||$("#player-right-container-content #transcript-right-tab-page #transcript-container").length||($("#transcript-container").appendTo("#player-right-container-content #transcript-right-tab-page"),this.switchTranscriptTab(!1)),this.moveYammerToRight(),this.setDefaultRightTab(),this.setDefaultBottomTab()},T.prototype.moveYammerToRight=function(){$("#player-right-container-content #yammer-right-tab-page #yammer-container").length||($("#yammer-container").appendTo("#player-right-container-content #yammer-right-tab-page"),this.switchYammerTab(!1)),this.setDefaultRightTab()},T.prototype.moveFormsToBottom=function(e){void 0===e&&(e=!0),$("#forms-container","#under-player-container #forms-bottom-tab").length||($("#forms-container").appendTo("#under-player-container #forms-bottom-tab"),this.switchFormsTab(!0)),e&&(this.setDefaultBottomTab(),this.setDefaultRightTab())},T.prototype.moveFormsToRight=function(e){void 0===e&&(e=!0),$("#forms-container","#player-right-container-content #forms-right-tab-page").length||($("#forms-container").appendTo("#player-right-container-content #forms-right-tab-page"),this.switchFormsTab(!1)),e&&(this.setDefaultBottomTab(),this.setDefaultRightTab())},T.prototype.moveRightTabsToBottom=function(){$("#transcript-container","#under-player-container #transcript-bottom-tab").length||($("#transcript-container").appendTo("#under-player-container #transcript-bottom-tab"),this.switchTranscriptTab(!0)),$("#yammer-container","#under-player-container #yammer-bottom-tab").length||($("#yammer-container").appendTo("#under-player-container #yammer-bottom-tab"),this.switchYammerTab(!0)),this.moveFormsToBottom(!1),this.setDefaultBottomTab(),this.resetRightTab()},T.prototype.switchTranscriptTab=function(e){var t=this;void 0===e&&(e=!1),this.hideBottomTranscript=!e,this.playerBottomTabOptions.options.forEach((function(e){e.value===o.Transcript&&(e.hide=t.hideBottomTranscript||!t.showTranscriptOrNotReadyMessage)})),this.playerRightTabOptions.options.forEach((function(n){n.value===o.Transcript&&(n.hide=e||!t.showTranscriptOrNotReadyMessage)}))},T.prototype.switchFormsTab=function(e){var t=this;void 0===e&&(e=!1),this.hideBottomForms=!e,this.playerBottomTabOptions.options.filter((function(e){return e.value===o.Interactivity})).forEach((function(e){return e.hide=!t.formFeatureEnabled||t.hideBottomForms})),this.playerRightTabOptions.options.filter((function(e){return e.value===o.Interactivity})).forEach((function(n){return n.hide=e||!t.formFeatureEnabled}))},T.prototype.switchYammerTab=function(e){var t=this;void 0===e&&(e=!1),this.hideBottomYammer=!e,this.playerBottomTabOptions.options.forEach((function(e){e.value===o.Yammer&&(e.hide=!t.isYammerAvailable||t.hideBottomYammer)})),this.playerRightTabOptions.options.forEach((function(n){n.value===o.Yammer&&(n.hide=e||!t.isYammerAvailable)}))},T.prototype.setRightContainerHeight=function(){this.showRightContainer?this.adjustRightContainerHeight(this.currentRightTab):($("#player-right-container-content").height("auto"),$(".video-detail-container").css("margin-top","0"))},T.prototype.adjustRightContainerHeight=function(e){var t,n,i=$(".video-detail-container"),r=$(".sub-header",$("#player-right-container-wrapper")).height(),s=$("#playerContent").height();this.videoMetadataHeight||(this.videoMetadataHeight=$(".video-meta-container").height()||0),this.isYammerAvailable&&e==o.Yammer?(n=s+(t=$(".bottom-navigation .tab-navigation").height()+this.videoMetadataHeight),t-=10,i.css("margin-top","-"+t+"px")):(n=s,i.css("margin-top","0")),$("#player-right-container-content").height(n-r)},T.prototype.resetRightContainerHeight=function(){$("#player-right-container").height("auto"),$(".video-detail-container").css("margin-top","0")},T.prototype.onInit=function(e){this.playerSeekFunction=e.seekFunction,this.getCurrentTime=e.getCurrentTime,this.playerPlayFunction=e.play,this.playerPauseFunction=e.pause,this.toggleTheaterMode=e.toggleTheaterMode,this.ampPlayer=this.player,this.$location.search(u.Constants.QueryStringKeys.st,null)},Object.defineProperty(T.prototype,"playbackTime",{get:function(){return this.player.currentTime()},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"isVODLess",{get:function(){return S.isVodlessLiveEvent(this.video)},enumerable:!0,configurable:!0}),T.prototype.onTimeUpdate=function(e){this.playerTime=e,this.$scope.$evalAsync()},T.prototype.onAudienceDidReachEndOfVodlessPlayback=function(){this.audienceDidReachEndOfVodlessPlayback=!0},T.prototype.onAdminModeClick=function(){this.isInAdminMode=!this.isInAdminMode,this.drawerItems=[],this.dataInitialize(this.videoId),this.resetLayout(),this.isInAdminMode?(this.video=null,this.ampPlayer=null):(this.showMetadata=!1,this.video=null,this.ampPlayer=null,this.navigationService.clearQueryParams(),this.$window.location.reload())},Object.defineProperty(T.prototype,"isEditorOrInAdminMode",{get:function(){return _.get(this.video,"userData.permissions.canEdit",!1)||this.isInAdminMode},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"shouldShowEndEventMessage",{get:function(){if(!this.isCompleted||this.isLiveNow)return!1;if(S.isVodlessLiveEvent(this.video)){if(this.video.liveEvent.liveEventOptions.onDemandOptions&&!this.video.liveEvent.liveEventOptions.onDemandOptions.enableDownload)return!0;if(this.video.userData&&this.video.userData.permissions&&this.video.userData.permissions.canEdit)return!1;if(S.isEndedVodlessLiveEvent(this.video)||this.audienceDidReachEndOfVodlessPlayback)return!0}return!1},enumerable:!0,configurable:!0}),T.prototype.getVideoStatus=function(){var e=this;return this.videoService.getVideoStatus(this.video.id,this.isInAdminMode).then((function(t){var n=t.data;_.forEach(n.processingStatus,(function(t){var n,i;t&&t.type&&(n=t.type.trim().toLowerCase(),i=t.state.trim().toLocaleLowerCase(),n===u.Constants.VideoProcessingStatusType.replacing.toLowerCase()?i===u.Constants.VideoStatus.Processing.toLowerCase()&&(e.showReplaceBar=!0,e.$scope.$broadcast(u.Constants.Events.TranscriptEditingDisabled)):n===u.Constants.VideoProcessingStatusType.trimming.toLowerCase()&&i===u.Constants.VideoStatus.Processing.toLowerCase()&&e.isTrimVideoEnabled&&(e.showTrimBar=!0,e.$scope.$broadcast(u.Constants.Events.TranscriptEditingDisabled),e.routingCase=u.Constants.RoutingCase.Normal))}))}),(function(t){e.featureTelemetryTracker.fail(a.FeatureName.GetVideoStatus,a.SubFeatureName.VideoService_GetVideoStatus,t)}))},T.prototype.dataInitialize=function(e){var t=this;e&&this.videoService.get(e,this.isInAdminMode,!0).then((function(n){var i;n.data.timedEvents=n.data.timedEvents||[],n.data.state===u.Constants.VideoStatus.Error?t.routingCase=u.Constants.RoutingCase.VideoError:(t.video=n.data,t.isCaptionSupported=!_.isEmpty(_.get(t.video,"language")),t.forms.canView&&y.canVideoHaveForms(t.video)&&t.videoEventService.getForms(e).then((function(e){var i,r=y.normalizeFormData(e.data.value,t.featureFlagsService,t.video);(i=n.data.timedEvents).push.apply(i,r),t.featureTelemetryTracker.succeed(a.FeatureName.Forms,{videoId:t.videoId})})).catch((function(e){t.featureTelemetryTracker.fail(a.FeatureName.Forms,a.SubFeatureName.Forms_Get,e,{videoId:t.videoId})})).finally((function(){t.setEvents(n.data.timedEvents),t.initTabOptions(),-1===t.currentRightTab&&t.setDefaultRightTab(),t.setRightContainerHeight(),t.transcriptHandler()})),t.originalState=t.video.state,t.videoEditStateInfo={videoState:t.video.state},setTimeout((function(){return t.instantiateYammerEmbed()})),t.videoPageSessionProperties.videoId=t.videoId,t.videoPageSessionProperties.published=t.video.published,t.$window.document.title=l.formatString(t.resources.BrowserTitle.WatchVideo.Loaded,u.Constants.ProductName,t.video.name),t.showMetadata=!0,t.initTabOptions(),n.data.state===u.Constants.VideoStatus.Completed||t.video.contentSource===u.Constants.VideoContentSource.liveStream&&(n.data.state===u.Constants.VideoStatus.Live||n.data.state===u.Constants.VideoStatus.Created)?(t.videoPageSessionProperties.VideoState="Completed",t.routingCase=u.Constants.RoutingCase.Normal,n.data.state===u.Constants.VideoStatus.Completed&&t.onVideoCompleted()):n.data.state===u.Constants.VideoStatus.Uploading?((i=_.find(t.videoBgUploaderService.mediaUploadList,(function(e){return e.resourceId===t.videoId})))?(t.videoEditStateInfo.isReplacingVideo=i.isReplacing,i.status===m.UploadStatus.failed&&(t.UploadingStatusBoxTitle=t.resources.Controllers.Video.Error.Title,t.UploadingStatusBoxMessage=t.resources.Controllers.Video.Error.Message)):!t.isLiveContent&&new Date(t.video.created).getTime()+u.Constants.UploadingStateThreshold<Date.now()&&(t.UploadingStatusBoxTitle=t.resources.Controllers.Video.UploadingStateUnknown.Title,t.UploadingStatusBoxMessage=t.resources.Controllers.Video.UploadingStateUnknown.Message),t.videoPageSessionProperties.VideoState="Uploading",t.isReplacing?(t.videoEditStateInfo.isReplacingVideo=!0,t.showReplaceBar=!0,t.routingCase=u.Constants.RoutingCase.Normal):t.routingCase=u.Constants.RoutingCase.Uploading):(t.videoPageSessionProperties.VideoState="Processing",t.isReplacing?(t.videoEditStateInfo.isReplacingVideo=!0,t.showReplaceBar=!0,t.routingCase=u.Constants.RoutingCase.Normal):t.routingCase=u.Constants.RoutingCase.NotReady),t.featureTelemetryTracker.trackEvent(a.TelemetryEventNames.dataLoaded,{videoId:t.videoId,status:"success"}),t.showFormControls=t.featureFlagsService.Values.Forms&&(t.video.userData.permissions.canEdit||t.isInAdminMode)&&t.forms.canManage),t.isCompleted&&t.video.status&&_.forEach(t.video.status.processingStatus,(function(e){var n,i,r=e.type.trim().toLowerCase(),o=e.state.trim().toLocaleLowerCase();t.servicePlans&&t.servicePlans.capabilities.transcriptEvent&&r===u.Constants.VideoProcessingStatusType.caption.toLowerCase()?(t.captionReady=o===E&&t.isCaptionSupported,t.captionProcessing=o===C,t.captionProcessing&&(n=t.video.liveEvent?1e3*v.formatISODurationToSeconds(t.video.media.duration)+9e5:1e3*v.formatISODurationToSeconds(t.video.media.duration),i=new Date(t.video.modified).getTime(),t.captionProcessingPastSLA=0!=n&&i+n<Date.now()),t.captionError="error"===o):r===u.Constants.VideoProcessingStatusType.trimming.toLowerCase()&&o===u.Constants.VideoStatus.Processing.toLowerCase()&&t.isTrimVideoEnabled?(t.showTrimBar=!0,t.routingCase=u.Constants.RoutingCase.Normal):t.servicePlans&&t.servicePlans.capabilities.faceEvent&&r===u.Constants.VideoProcessingStatusType.faceDetection.toLowerCase()&&(t.faceReady=o===E,t.faceProcessing=o===C)})),t.setViewSettingsDrawerItems()}),(function(e){e.status==u.Constants.HttpStatusCode.NotFound?(t.routingCase=u.Constants.RoutingCase.NotFound,t.featureTelemetryTracker.warn(a.FeatureName.LoadVideoPage,a.SubFeatureName.VideoService_GetVideo,e)):e.status==u.Constants.HttpStatusCode.Forbidden?(t.routingCase=u.Constants.RoutingCase.Forbidden,t.featureTelemetryTracker.warn(a.FeatureName.LoadVideoPage,a.SubFeatureName.VideoService_GetVideo,e)):(t.routingCase=u.Constants.RoutingCase.ServerError,t.featureTelemetryTracker.fail(a.FeatureName.LoadVideoPage,a.SubFeatureName.General_ErrorState,e),t.navigationService.navigate("fallback"));var n=v.errorMessage(e);t.featureTelemetryTracker.trackEvent(a.TelemetryEventNames.dataLoaded,{videoId:t.videoId,status:"failed",statusCode:e.status,message:n})})).finally((function(){var e=t;t.$timeout((function(){var t;"function"==typeof Event?t=new Event("resize"):(t=document.createEvent("Event")).initEvent("resize",!0,!0),e.$window.dispatchEvent(t)}))}))},T.prototype.setCaptionSupportedToTrueSpyon=function(){return!0},Object.defineProperty(T.prototype,"isYammerAvailable",{get:function(){if(this.yammerEmbedData)return!0;if(!this.video||!_.some(this.video.extensions))return!1;var e=this.video.extensions.filter((function(e){return e.provider.toLowerCase()===u.Constants.ExternalProviders.Yammer.name.toLowerCase()&&e.type.toLowerCase()===u.Constants.ExternalProviders.Yammer.type.toLowerCase()&&e.data&&void 0!==e.data.broadcastId&&e.data.broadcastId}));return!!(_.some(e)&&e[0].data&&e[0].data.broadcastId)&&(this.yammerEmbedData=e[0].data,!0)},enumerable:!0,configurable:!0}),T.prototype.instantiateYammerEmbed=function(){var e,t=this;this.isYammerAvailable&&(this.yammerArtificialError?this.yammerHasError=!0:(e=u.Constants.ExternalProviders.Yammer.url,$.ajax({url:e,dataType:"script",async:!0,cache:!0}).done((function(n,i,r){200==r.status?(t.featureTelemetryTracker.succeed(a.FeatureName.LoadExternalProviderScript),t.yammerConnect()):(t.yammerHasError=!0,t.featureTelemetryTracker.fail(a.FeatureName.LoadVideoPage,a.SubFeatureName.ExternalProvider_Yammer,"Loading yammer script "+e+" returns "+r.status))})).fail((function(n,i,r){t.yammerHasError=!0,t.featureTelemetryTracker.fail(a.FeatureName.LoadVideoPage,a.SubFeatureName.ExternalProvider_Yammer,"Loading yammer script "+e+" returns "+n.status)}))))},T.prototype.logYammerEvents=function(e){var t=e.split("/"),n=t[t.length-1];this.yammerEvents.push(n)},T.prototype.yammerConnect=function(){var e=window.yam,t=e&&e.connect&&e.connect.embedFeed?e.connect.embedFeed:null;if(this.boundYammerEventCallback=this.logYammerEvents.bind(this),e&&e.on&&e.on("all",this.boundYammerEventCallback),t)try{t({config:{use_sso:!1,header:!1,footer:!1,showOpenGraphPreview:!1,defaultToCanonical:!1,hideNetworkName:!1,theme:"light"},broadcastId:this.yammerEmbedData.broadcastId,container:this.yammerEmbedHtmlId}),this.isYammerLoaded=!0}catch(e){this.yammerHasError=!0,this.featureTelemetryTracker.fail(a.FeatureName.LoadExternalProviderScript,a.SubFeatureName.ExternalProvider_Yammer,"Instantiating yammer script "+u.Constants.ExternalProviders.Yammer.url+" failed.")}else this.yammerHasError=!0},T.prototype.sendTelemetryEvents=function(){this.videoPageSessionMetrics&&this.videoPageSessionProperties&&(this.featureTelemetryTracker.trackEvent(a.TelemetryEventNames.videoPageSessionEventname,this.videoPageSessionProperties,this.videoPageSessionMetrics),this.videoPageSessionMetrics=void 0,this.videoPageSessionProperties=void 0),this.isInAdminMode&&!this.ignoreAdminModeLogging&&(this.elevatedVideoSessionProperties.adminEntryComponent=a.ElevatedItemEntryPoint.AdminAccessOnlyBar,this.elevatedVideoSessionProperties.userViewedVideoAsAdmin=!0,this.elevatedVideoSessionProperties.entryScreen=a.ScreenName.Video,this.featureTelemetryTracker.trackEvent(a.TelemetryEventNames.elevatedVideoSession,this.elevatedVideoSessionProperties,{}))},Object.defineProperty(T.prototype,"isNoTranscriptData",{get:function(){return this.isLiveNow||this.isLiveContentCreatedState||!this.showTranscript},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"isLiveContentButFaceDetectionNotReady",{get:function(){return(!this.isCompleted||!this.showFaces)&&this.isLiveContent},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"showTranscriptOrNotReadyMessage",{get:function(){return!!this.showTranscriptInLive||this.showTranscript},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"showPeopleOrNotReadyMessage",{get:function(){return!!this.showPeopleInLive||this.showFaces},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"showTranscriptInLive",{get:function(){return this.isCaptionSupported&&this.isLiveContent&&!this.userHideTranscript},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"showPeopleInLive",{get:function(){return this.video&&this.video.options&&this.video.options.faceDetection&&this.isLiveContent&&!this.userHidePeople},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"showRightContainer",{get:function(){return!this.theaterMode&&(this.showTranscript||this.isYammerAvailable||this.formTabEnabled)},enumerable:!0,configurable:!0}),T.prototype.onVideoViewed=function(){var e=this;return this.videoService.viewed(this.videoId,this.isInAdminMode).then((function(){e.video.metrics.views+=1,e.isInAdminMode&&(e.elevatedVideoSessionProperties.userViewedVideoAsAdmin=!0)}))},T.prototype.relatedVideosClicked=function(e){this.videoPageSessionProperties.ExitBy=u.Constants.ExitBy.relatedVideosClicked,this.videoPageSessionProperties.relatedVideoSource=e},T.prototype.secondaryRelatedVideosClicked=function(){this.videoPageSessionProperties.ExitBy=u.Constants.ExitBy.trendingVideosClicked},Object.defineProperty(T.prototype,"showMIFacesButton",{get:function(){return this.faceReady||this.faceProcessing},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"showMITranscriptButton",{get:function(){return this.captionProcessing||this.captionReady||this.captionError},enumerable:!0,configurable:!0}),T.prototype.onTranscriptInit=function(e){this.transcriptController=e},T.prototype.setViewSettingsDrawerItems=function(){var e=this;this.viewSettings=[],this.showTranscriptButton=new p.DrawerItem("show-transcript",this.resources.VideoPage.ViewSettings.ShowTranscript,this.onTranscriptClick.bind(this),"icon_show"),this.hideTranscriptButton=new p.DrawerItem("hide-transcript",this.resources.VideoPage.ViewSettings.HideTranscript,this.onTranscriptClick.bind(this),"icon_hide"),this.showFacesButton=new p.DrawerItem("show-faces",this.resources.VideoPage.ViewSettings.ShowFaces,this.onFaceClick.bind(this),"icon_show"),this.hideFacesButton=new p.DrawerItem("hide-faces",this.resources.VideoPage.ViewSettings.HideFaces,this.onFaceClick.bind(this),"icon_hide"),this.theaterModeOnButton=new p.DrawerItem("theater-mode-on",this.resources.VideoPage.ViewSettings.TheaterModeOn,this.handleTheaterModeClick.bind(this),"icon_theater_on"),this.theaterModeOffButton=new p.DrawerItem("theater-mode-off",this.resources.VideoPage.ViewSettings.TheaterModeOff,this.handleTheaterModeClick.bind(this),"icon_theater_off"),this.screenWidth=this.$window.innerWidth,this.screenWidth<u.Constants.ScreenBreakpoints.Medium&&(this.hideBottomTranscript=!1,this.hideBottomYammer=!1),this.hideBottomYammer?this.switchYammerTab(!1):this.switchYammerTab(!0),this.showMITranscriptButton&&((this.captionReady||this.captionProcessing||this.captionError)&&(this.showTranscript=!0,this.viewSettings.push(this.hideTranscriptButton)),this.screenWidth>=u.Constants.ScreenBreakpoints.Medium&&this.moveRelatedVideoDown(),setTimeout((function(){e.transcriptHandler()}))),this.showMIFacesButton&&this.video.options.faceDetection&&_.get(this.tenantSettings,"system.contentManagement.allowFaceDetection")&&this.isFaceDetectionEnabled&&(this.faceReady?(this.showFaces=!0,this.viewSettings.push(this.hideFacesButton)):(this.showFaces=!1,this.viewSettings.push(this.showFacesButton)),this.playerBottomTabOptions.options.forEach((function(t){t.value===o.People&&(t.hide=!e.showPeopleOrNotReadyMessage)}))),this.video&&!this.shouldShowEndEventMessage&&(this.theaterMode?this.viewSettings.push(this.theaterModeOffButton):this.viewSettings.push(this.theaterModeOnButton)),this.hideBottomTranscript?this.switchTranscriptTab(!1):this.switchTranscriptTab(!0)},Object.defineProperty(T.prototype,"timedEvents",{get:function(){return _.get(this.video,"timedEvents",[])},enumerable:!0,configurable:!0}),T.prototype.handleTheaterModeClick=function(){this.toggleTheaterMode()},T.prototype.changeTheaterModeButton=function(){var e;this.theaterMode?(e=this.viewSettings.indexOf(this.theaterModeOnButton),this.viewSettings[e]=this.theaterModeOffButton):(e=this.viewSettings.indexOf(this.theaterModeOffButton),this.viewSettings[e]=this.theaterModeOnButton)},T.prototype.handleActionError=function(e,t){this.showErrorMessage=!0,this.errorMessage=e,t.status<500&&(this.errorMessage=l.formatString("{0} {1}",this.errorMessage,t.data.error))},T.prototype.initTabFocusHandlers=function(){this.clearTabFocusHandlers(),this.setRightTabDefaultFocusHandlers(),this.setBottomTabDefaultFocusHandlers()},T.prototype.clearTabFocusHandlers=function(){var e=this;[this.playerRightTabOptions,this.playerBottomTabOptions].forEach((function(t){t.options.forEach((function(t){$("button",$("."+t.className)).off("keydown",e.setTabFocusHandler)}))}))},T.prototype.setRightTabDefaultFocusHandlers=function(){var e=this;this.$timeout((function(){e.playerRightTabOptions.options.forEach((function(t){e.setTabFocusHandler(t,"#player-right-container-content","Right")}))}),0)},T.prototype.setBottomTabDefaultFocusHandlers=function(){var e=this;this.$timeout((function(){e.playerBottomTabOptions.options.forEach((function(t){e.setTabFocusHandler(t,"#under-player-container","Bottom")}))}),0)},T.prototype.tabFocusHandler=function(e){e.data.controller.$timeout((function(){e.which===d.KeyCodes.Enter&&e.data.option&&e.data.direction&&e.data.parentContainer&&(e.data.controller["current"+e.data.direction+"Tab"]=e.data.option.value,e.data.controller.$timeout((function(){$("a[href]:visible, area[href]:visible, input:not([disabled]):visible, select:not([disabled]):visible, textarea:not([disabled]):visible, button:not([disabled]):visible, iframe:visible, object:visible, embed:visible, *[tabindex]:visible, *[contenteditable]:visible",$(e.data.parentContainer)).first().focus()}),0))}),0)},Object.defineProperty(T.prototype,"isReadOnlyVideo",{get:function(){return this.video&&this.video.readOnlyMigratedContent},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"showAnalytics",{get:function(){return!(!this.sdnEnabled&&!this.isDownloadAnalyticsEnabled||!this.video.userData.permissions.canEdit&&!this.isInAdminMode)},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"isVideoVod",{get:function(){return!this.isLiveNow&&!this.isLiveContentCreatedState},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"isLiveGAEnabled",{get:function(){return this.featureFlagsService.Values.LiveGA},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"isDownloadAnalyticsEnabled",{get:function(){return this.featureFlagsService.Values.DownloadAnalytics},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"isReplaceVideoEnabled",{get:function(){return this.featureFlagsService.Values.ReplaceVideo},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"isTrimVideoEnabled",{get:function(){return this.featureFlagsService.Values.VideoEditor&&!b.isBrowserBlacklisted(navigator&&navigator.userAgent||"")},enumerable:!0,configurable:!0}),T.prototype.addForm=function(e){var t=this,n=this.$q.defer();return this.videoEventService.addForm(this.video.id,e).then((function(i){t.featureTelemetryTracker.succeed(a.FeatureName.Forms,{subFeature:a.SubFeatureName.Forms_Add,videoId:t.video.id,formId:e.eventData.formId,timeCode:e.endTime});var r=i&&i.data;e.id=r.id||e.id,delete e.isNew,t.video.timedEvents=(t.video.timedEvents||[]).filter((function(t){return t.id!==e.id})).concat([e]),n.resolve(e),v.alertScreenReader(l.formatString(t.resources.FormAdded,e.eventData.title,v.getNarratorFriendlyTime(v.convertTimeInSecondsToTimeString(e.endTime),t.resources.Units.Time)))})).catch((function(e){t.featureTelemetryTracker.fail(a.FeatureName.Forms,a.SubFeatureName.Forms_Add,e),n.reject(t.resources.FormAddFailure),v.alertScreenReader(t.resources.FormAddFailure)})).finally((function(){t.video.timedEvents=t.video.timedEvents.sort((function(e,t){return e.endTime-t.endTime})),t.setEvents(t.video.timedEvents)})),n.promise},T.prototype.deleteForm=function(e){var t=this,n=this.$q.defer();return this.videoEventService.deleteForm(this.video.id,e).then((function(){t.featureTelemetryTracker.succeed(a.FeatureName.Forms,{subFeature:a.SubFeatureName.Forms_Delete,videoId:t.video.id,formId:_.get(e,"eventData.formId")}),t.video.timedEvents=(t.video.timedEvents||[]).filter((function(t){return t.id!==e.id})),n.resolve(e),v.alertScreenReader(l.formatString(t.resources.FormDeleted,e.eventData.title))})).catch((function(e){t.featureTelemetryTracker.fail(a.FeatureName.Forms,a.SubFeatureName.Forms_Delete,e),n.reject(t.resources.FormDeleteFailure),v.alertScreenReader(t.resources.FormDeleteFailure)})).finally((function(){t.video.timedEvents=t.video.timedEvents.sort((function(e,t){return e.endTime-t.endTime})),t.setEvents(t.video.timedEvents)})),n.promise},T.prototype.sendRequest=function(){var e=this;this.videoService.createAccessRequest(this.videoId).then((function(t){e.forbiddenDivTitle=e.resources.Controllers.Video.AccessRequestReceived.Title,e.forbiddenDivMsg=e.resources.Controllers.Video.AccessRequestReceived.Message,e.doesAccessRequestSent=!0,e.doesRequestSucceed=!0}),(function(t){"NotFound"==t.data.error.code?(e.forbiddenDivTitle=e.resources.VideoPlayerErrorCode200194Manifest,e.forbiddenDivMsg=e.resources.Controllers.Video.AccessRequestFailed.VideoNotFoundMessage,e.doesRequestedVideoExist=!1):400==t.status||412==t.status?(e.forbiddenDivTitle=e.resources.Controllers.Video.AccessRequestFailed.Title,e.forbiddenDivMsg=e.resources.Controllers.Video.AccessRequestFailed.PermissionExistedMessage,e.doesPermissionExist=!0):e.forbiddenDivMsg=null,e.doesAccessRequestSent=!0}))},T.prototype.requestAccessEnabled=function(){return this.featureFlagsService.Values.RequestAccess},T.$inject=["$scope","videoService","resources","telemetryService","featureFlagsService","textTrackDataFactory","textTrackLanguageService","navigationService","$window","$location","deleteConfirmationDialogService","principalService","videoBgUploaderService","dataShareService","$timeout","mediaDownloaderService","$rootScope","$element","$q","inAdminModeService","tenantService","videoEventService","replaceVideoService"],T);function T(e,t,n,i,r,s,c,d,p,A,m,g,v,S,b,C,E,w,T,P,B,I,D){var k=this;function F(e){k.sendTelemetryEvents()}this.$scope=e,this.videoService=t,this.resources=n,this.telemetryService=i,this.featureFlagsService=r,this.textTrackDataFactory=s,this.textTrackLanguageService=c,this.navigationService=d,this.$window=p,this.$location=A,this.deleteConfirmationDialogService=m,this.principalService=g,this.videoBgUploaderService=v,this.dataShareService=S,this.$timeout=b,this.mediaDownloaderService=C,this.$rootScope=E,this.$element=w,this.$q=T,this.inAdminModeService=P,this.tenantService=B,this.videoEventService=I,this.replaceVideoService=D,this.videoSource={},this.autoPlayStatus=!1,this.playerOptions={playbackUrls:null},this.showMetadata=!1,this.showErrorMessage=!1,this.videoEditorInactive=!0,this.errorMessage="",this.isYammerLoaded=!1,this.showFormControls=!1,this.showReplaceBar=!1,this.showTrimBar=!1,this.rightTabDrawerItems=[],this.bottomTabDrawerItems=[],this.isTranscriptEditMode=!1,this.doesAccessRequestSent=!1,this.doesRequestSucceed=!1,this.doesRequestedVideoExist=!0,this.doesPermissionExist=!1,this.userHideTranscript=!1,this.userHidePeople=!1,this.isLiveToVODTransitionHappened=!1,this.forbiddenDivTitle=this.resources.Controllers.Video.Forbidden.Title,this.playerBottomTabOptions={options:[]},this.playerRightTabOptions={options:[]},this.yammerHasError=!1,this.audienceDidReachEndOfVodlessPlayback=!1,this.currentBottomTab=o.Details,this.currentRightTab=o.Yammer,this.yammerEmbedHtmlId="#yammer-embed",this.hideBottomTranscript=!1,this.hideBottomYammer=!0,this.hideBottomForms=!1,this.yammerArtificialError=!1,this.sdnEnabled=!1,this.boundYammerEventCallback=null,this.forms={},this.formFeatureEnabled=!1,this.isCaptionSupported=!1,this.transcriptState=f.TranscriptState.Loading,this.formId="",this.videoPageSessionMetrics={ChannelsAdded:0,SeeMoreClicked:0,SeeLessClicked:0},this.videoPageSessionProperties={ExitBy:u.Constants.ExitBy.other,ShareClicked:!1,LikeClicked:!1,AddToChannelClicked:!1,AddToWatchlist:!1,deleteClicked:!1,RemoveFromWatchlist:!1},this.elevatedVideoSessionProperties={titleChanged:!1,descriptionChanged:!1,privacyChanged:!1,accessibilityOptionsOpened:!1,textTrackUploaded:!1,customPosterUploaded:!1,thumbnailSelected:!1,published:!1,textTrackDeleted:!1,privacyMode:"",error:!1,userViewedVideoAsAdmin:!1,userLikedVideoAsAdmin:!1,userUnlikedVideoAsAdmin:!1,userPinnedVideoAsAdmin:!1,userUnpinnedVideoAsAdmin:!1,videoDownloaded:!1,permissionsIsViewerMode:!1,permissionsChannelAdded:!1,permissionsChannelSearched:!1,permissionsGroupAdded:!1,permissionsGroupSearched:!1,permissionsPrincipalAdded:!1,permissionsUserMadeOwner:!1,permissionsPrincipalSearched:!1,permissionsSecurityGroupMadeOwner:!1,permissionsStreamGroupMadeOwner:!1,permissionsVideoAddedCheckboxUnchecked:!1},this.dialogInterruptionHandler={wasPaused:!1,recover:function(){k.player&&!k.dialogInterruptionHandler.wasPaused&&k.player.play()},pauseVideoAndSaveContext:function(){k.player&&(k.dialogInterruptionHandler.wasPaused=k.player.paused(),k.player.paused()||k.player.pause())},suppressAutoplay:function(){k.player&&k.player.addEventListener(amp.eventName.loadeddata,k.player.pause,{once:!0})}},this.isWatchList=!1,this.refreshPageLayout=function(){k.screenWidth=k.$window.innerWidth,k.screenWidth<u.Constants.ScreenBreakpoints.Large&&(k.moveRightTabsToBottom(),0==$("#related-videos","#related-videos-container-for-small-screen").length&&$("#related-videos").appendTo($("#related-videos-container-for-small-screen")),k.theaterMode||($("#player-wrapper").removeClass("small-6"),$("#player-wrapper").addClass("small-12")),$("#player-right-container-wrapper").hide()),k.screenWidth>=u.Constants.ScreenBreakpoints.Large&&(k.theaterMode?k.moveRightTabsToBottom():k.moveYammerAndTranscriptToRight(),0==$("#related-videos","#related-videos-container-for-big-screen").length&&$("#related-videos").appendTo($("#related-videos-container-for-big-screen")),$("#player-right-container-wrapper").show(),k.setDefaultBottomTab()),k.transcriptHandler(),k.theaterModeHandler(),k.initTabFocusHandlers(),k.transcriptController&&(k.transcriptController.showRightDrawer=k.showRightContainer)},this.setTabFocusHandler=function(e,t,n){$("button",$("."+e.className)).on("keydown",{controller:k,option:e,parentContainer:t,direction:n},k.tabFocusHandler)},this.featureTelemetryTracker=this.telemetryService.getTracker(a.ScreenName.Video,a.ResourceType.Video,this.videoId),this.featureTelemetryTracker.tagScreen(),this.yammerEvents=[],this.drawerItems=[],this.viewSettings=[],this.UploadingStatusBoxTitle=this.resources.Controllers.Video.Uploading.Title,this.UploadingStatusBoxMessage=this.resources.Controllers.Video.Uploading.Message,this.formFeatureEnabled=y.isFormFeatureEnabled(this.featureFlagsService),A.search().list==u.Constants.lists.WatchList&&(this.isWatchList=!0),this.yammerArtificialError=A.search().yammerArtificialError,this.principalService.getMyPrincipalInfo().then((function(e){k.isStreamAdmin=k.principalService.getIsStreamAdmin(),k.servicePlans=e.data.servicePlans,k.transcriptSearchEnabled=e.data.servicePlans.capabilities.transcriptSearch,k.forms.canView=y.canViewForms(e.data,k.featureFlagsService),k.forms.canManage=y.canAddForm(e.data,k.featureFlagsService),k.isInAdminMode=k.isStreamAdmin&&k.principalService.getAdminModeStatus(),k.$scope.$watch(k.principalService.getAdminModeStatus,(function(e,t){e!=t&&k.onAdminModeClick()}))})).finally((function(){k.isInAdminMode?k.inAdminModeService.videoId=k.videoId:k.inAdminModeService.videoId=null,k.dataInitialize(k.videoId)})),this.$scope.$on(u.Constants.Events.videoEditorLoaded,(function(){k.videoEditorInactive=!1})),this.$scope.$on(u.Constants.Events.videoEditorClosed,(function(){k.videoEditorInactive=!0})),this.$scope.$on(u.Constants.Events.TimeStampTagClicked,(function(e,t){e.stopPropagation(),_.isNumber(t.timeInSeconds)&&0<=t.timeInSeconds&&k.playerSeekFunction(t.timeInSeconds,t.seekAndPlay)})),this.$scope.$on(u.Constants.Events.ResumePlayer,(function(e,t){e.stopPropagation(),k.player&&k.player.paused()&&k.playerPlayFunction()})),this.$scope.$on(u.Constants.Events.PausePlayer,(function(e){e.stopPropagation(),k.player&&!k.player.paused()&&k.playerPauseFunction()})),this.$window.addEventListener("beforeunload",F),this.$window.addEventListener("resize",this.refreshPageLayout),this.$scope.$on("$destroy",(function(e){k.isInAdminMode&&(k.inAdminModeService.videoId=null),k.sendTelemetryEvents(),k.$window.removeEventListener("beforeunload",F),k.$window.removeEventListener("resize",k.refreshPageLayout);var t=window.yam;t&&t.off&&t.off("all",k.boundYammerEventCallback),k.clearTabFocusHandlers(),h.removeAllThemes()})),this.$window.document.title=l.formatString(this.resources.BrowserTitle.WatchVideo.Default,u.Constants.ProductName),h.setTheme("theme-for-videopage"),this.registerConfirmationDialogEvents({onOpen:function(){return k.dialogInterruptionHandler.pauseVideoAndSaveContext()},onClose:function(){return k.dialogInterruptionHandler.recover()}}),this.featureFlagsService.Values.NetworkCaching&&this.tenantService.getSettings().then((function(e){_.get(e.data,"system.networkCaching.provider",null)&&_.get(e.data,"system.networkCaching.providerVideoUrl",null)&&(k.sdnEnabled=!0),k.tenantSettings=e.data})),this.$scope.$watch((function(){return k.currentRightTab}),(function(e,t){-1!==e&&e!==t&&(k.adjustRightContainerHeight(e),k.currentRightTab===o.Transcript&&k.transcriptController?(k.transcriptController.showRightDrawer=!0,k.transcriptController.initDrawer()):k.rightTabDrawerItems=[])})),this.$scope.$watch((function(){return k.currentBottomTab}),(function(e,t){-1!==e&&e!==t&&(k.currentBottomTab===o.Transcript&&k.transcriptController?(k.transcriptController.showRightDrawer=!1,k.transcriptController.initDrawer()):k.bottomTabDrawerItems=[])})),this.autoPlayStatus=this.$location.search().autoplay&&"true"===this.$location.search().autoplay.toLowerCase(),this.initTabFocusHandlers(),this.dataShareService.videoPlaybackLoadStartInMs=performance.now()}t.VideoPageController=w},"./app/components/Video/VideoStatistics/VideoStatistics.html":function(e,t){e.exports='<span class=video-statistics ng-if=!$ctrl.showIcons> <span class=view-count> {{$ctrl.views | localNumber | videoViews}} </span> <span class=like-count ng-if=!$ctrl.hideLikes> {{$ctrl.likes | localNumber | videoLikes}} </span> <span class=comment-count ng-if=$ctrl.showComments> {{$ctrl.comments | localNumber | videoComments}} </span> </span> <span class=video-statistics ng-if=$ctrl.showIcons> <span role=img class="view-count metric-inline-flex" custom-title="{{$ctrl.views | localNumber | videoViews}}" light-style=$ctrl.lightCustomTitle aria-label="{{$ctrl.views | localNumber | videoViews}}"> <span aria-hidden=true>{{$ctrl.formattedNumber($ctrl.views)}}</span> <svg-src svg-name=icon_views_new class=metric-icon> </svg-src> </span> <span role=img class="like-count metric-inline-flex" ng-if=!$ctrl.hideLikes custom-title="{{$ctrl.likes | localNumber | videoLikes}}" light-style=$ctrl.lightCustomTitle aria-label="{{$ctrl.likes | localNumber | videoLikes}}"> <span aria-hidden=true>{{$ctrl.formattedNumber($ctrl.likes)}}</span> <svg-src svg-name=icon_likes class=metric-icon> </svg-src> </span> <span role=img class="comment-count metric-inline-flex" ng-if=$ctrl.showComments custom-title="{{$ctrl.comments | localNumber | videoComments}}" light-style=$ctrl.lightCustomTitle aria-label="{{$ctrl.comments | localNumber | videoComments}}"> <span aria-hidden=true>{{$ctrl.formattedNumber($ctrl.comments)}}</span> <svg-src svg-name=icon_comments class=metric-icon></svg-src> </span> </span>'},"./app/components/Video/VideoStatistics/VideoStatistics.less":function(e,t){},"./app/components/Video/VideoStatistics/VideoStatistics.ts":function(e,t,n){function i(){this.controller=r.VideoStatisticsController,this.template=n("./app/components/Video/VideoStatistics/VideoStatistics.html"),this.bindings={videoStatisticsData:"<",showComments:"<",hideLikes:"<",showIcons:"<",lightCustomTitle:"<",useShortNumbers:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/Video/VideoStatistics/VideoStatistics.less");var r=n("./app/components/Video/VideoStatistics/VideoStatisticsController.ts"),o=n("./app/utility/appUtil.ts");t.VideoStatistics=i,o.registerComponent("videoStatistics",i,angular.module("jumper"))},"./app/components/Video/VideoStatistics/VideoStatisticsController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(Object.defineProperty(i.prototype,"likes",{get:function(){return this.videoStatisticsData.likes},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"views",{get:function(){return this.videoStatisticsData.views},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"comments",{get:function(){return this.videoStatisticsData.comments},enumerable:!0,configurable:!0}),i.prototype.formattedNumber=function(e){var t=this.useShortNumbers?"shortNumber":"localNumber";return this.$filter(t)(e)},i.$inject=["$filter"],i);function i(e){this.$filter=e}t.VideoStatisticsController=n},"./app/components/VideoChannelSearch/VideoChannelSearch.html":function(e,t){e.exports='<div class=video-search dropdown-action-list ng-blur=$ctrl.clear()> <div class="search-bar-container search-row"> <input type=text id={{::$ctrl.id}} placeholder={{$ctrl.placeHolderText}} ng-model=$ctrl.searchParams ng-model-options="{ debounce: $ctrl.inputTimeInterval}" ng-focus=$ctrl.onTextFocus($event) ng-init=$ctrl.setFocus() class="ct-textbox-compact search-box action-list-item video-search-textbox" ng-class="{ \'error-border\': $ctrl.noPrincipalsFound }" autocomplete=off ng-readonly=$ctrl.enableReadOnly /> <custom-error-message ng-if=$ctrl.errorMessage error-message=$ctrl.errorMessage is-compact=true></custom-error-message> </div> <div ng-if=$ctrl.showResultList class=search-results ng-class="{\'scroll-results\': !$ctrl.suggestions.length, \'embed-max-height\': $ctrl.isEmbed, \'normal-max-height\': !$ctrl.isEmbed}" infinite-scroll="$ctrl.infiniteScroll({skip: skip, top: top})" infinite-scroll-refresh=$ctrl.infiniteScrollRefresh> <div role=alert class=loading-row ng-if=$ctrl.loading> <div class="loading-icon spin"> <svg-src svg-name=icon_processing_status></svg-src> </div> <span class=loading-message>{{$ctrl.loadingMessage}}</span> </div> <div ng-repeat="suggestion in $ctrl.suggestions" class="result-line principal-result-line" ng-if=$ctrl.isVideoSearch> <div id={{suggestion.id}} class=action-list-item ng-click=$ctrl.selectItem(suggestion) aria-label={{$ctrl.getUserSuggestionAriaLabel(suggestion)}}> <div class=profile-image-col> <img class=profile-image-video ng-src={{::suggestion.posterImage.medium.url}} ng-if=suggestion.posterImage.medium.url onerror=\'this.src="/bundles/app/generated/icon_broken_camera.svg"\'/> <svg-src class=profile-image-default svg-name=live_video_poster_default ng-if=$ctrl.displayDefaultLivePoster(suggestion)></svg-src> <svg-src class=profile-image-default svg-name=icon_broken_camera ng-if=$ctrl.displayDefaultVODPoster(suggestion)></svg-src> </div> <div class=video-details> <span class=video-name> {{$ctrl.displayedName(suggestion)}} </span> </div> </div> </div> <div ng-if="!$ctrl.isVideoSearch && !$ctrl.loading && $ctrl.suggestions.length" class=item-list> <list-row class=channel-item-row-header tabindex=-1 role=presentation enable-hover=true> <list-cell fill-size=true> <span class=channel-label>Channel</span> </list-cell> <list-cell fill-size=true> <span class=channel-label>Stream group</span> </list-cell> </list-row> <div ng-repeat="suggestion in $ctrl.suggestions"> <list-row class=channel-item-row-body id={{suggestion.id}} tabindex=0 role=presentation ng-click=$ctrl.selectItem(suggestion) enable-hover=true> <list-cell fill-size=true> <div class=name-column> <span> <img class=profile-image-channel ng-if=suggestion.posterImage.extraSmall.url ng-src={{suggestion.posterImage.large.url}} alt={{::$ctrl.resources.Thumbnail}} /> <div class="channel-poster channel-poster-default inline-default-icon" ng-if=!suggestion.posterImage.extraSmall.url> <svg-src svg-name=icon_channel_poster class=channel-poster-default-svg aria-label={{$ctrl.resources.ChannelPosterImageAlt}}></svg-src> </div> </span> <span class=channel-title ng-bind-html=suggestion.name></span> </div> </list-cell> <list-cell fill-size=true> <div class=privacy-container> <div class=privacy-icon> <svg-src svg-name=icon_group_public ng-if="suggestion.group.privacyMode === $ctrl.privacyModes.public || suggestion.group.privacyMode === $ctrl.privacyModes.custom"></svg-src> <svg-src svg-name=icon_group_private ng-if="suggestion.group.privacyMode === $ctrl.privacyModes.private"></svg-src> <svg-src svg-name=icon_group_public ng-if="$ctrl.organizationCheck(suggestion.group.privacyMode) && suggestion.group.name"></svg-src> <svg-src svg-name=icon_group_org ng-if="$ctrl.organizationCheck(suggestion.group.privacyMode) && !suggestion.group.name"></svg-src> </div> <div class=privacy-text ng-if=suggestion.group.name ng-bind-html=suggestion.group.name></div> <div class=privacy-text ng-if=!suggestion.group.name ng-bind-html=$ctrl.resources.CompanyWideGroup></div> </div> </list-cell> </list-row> </div> </div> <div role=alert class=error-row ng-if="$ctrl.infoMessage && !$ctrl.loading"> <span class=error-message>{{$ctrl.infoMessage}}</span> </div> </div> </div>'},"./app/components/VideoChannelSearch/VideoChannelSearch.less":function(e,t){},"./app/components/VideoChannelSearch/VideoChannelSearch.ts":function(e,t,n){function i(){this.controller=o.VideoChannelSearchController,this.template=n("./app/components/VideoChannelSearch/VideoChannelSearch.html"),this.bindings={itemSelected:"&",isAlreadyAdded:"&",isVideoSearch:"<",placeHolderText:"<",changeTabName:"&",groupId:"<",enableSearch:"<?",enableReadOnly:"<?",isEmbed:"<?",isAdminMode:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/VideoChannelSearch/VideoChannelSearch.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/VideoChannelSearch/VideoChannelSearchController.ts");t.VideoChannelSearch=i,r.registerComponent("videoChannelSearch",i,angular.module("jumper"))},"./app/components/VideoChannelSearch/VideoChannelSearchController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/Constants.ts"),o=n("./app/utility/string.ts"),s=n("./app/models/TelemetryEventModels.ts"),a=(c.prototype.$onChanges=function(e){"isVideoSearch"in e?this.searchParams&&this.searchParams.length>=this.searchMinInput&&(this.infiniteScrollRefresh=!0,this.loading=!0):"enableReadOnly"in e&&e.enableReadOnly.currentValue&&this.$element.find("input[readonly]").focus((function(){this.select()}))},c.prototype.setFocus=function(){var e=this;setTimeout((function(){document.getElementById(e.id).focus()}))},c.prototype.onTextFocus=function(e){this.clear(!1)},Object.defineProperty(c.prototype,"showResultList",{get:function(){return(this.loading||""!==this.infoMessage||0<this.suggestions.length)&&""===this.errorMessage},enumerable:!0,configurable:!0}),c.prototype.infiniteScroll=function(e){var t=this;return this.isUrlInput?this.$q.resolve(-1):this.isVideoSearch?this.groupId?this.groupService.getVideos(this.groupId,r.Constants.MaxLengths.VideoSearchOutput,0,r.Constants.VideoSortOptions.Relevance,r.Constants.SortDirection.Ascending,this.searchParams).then((function(e){return t.dataFetchSuccessCallBack(e,s.FeatureName.SearchGroupVideos)}),(function(e){t.dataFetchFailureCallback(e,s.FeatureName.SearchGroupVideos,s.SubFeatureName.VideoService_GetVideo)})):this.videoService.search(this.searchParams,r.Constants.VideoSortOptions.Relevance,r.Constants.SortDirection.Ascending,0,r.Constants.MaxLengths.VideoSearchOutput).then((function(e){return t.dataFetchSuccessCallBack(e,s.FeatureName.SearchVideos)}),(function(e){return t.dataFetchFailureCallback(e,s.FeatureName.SearchVideos,s.SubFeatureName.VideoService_GetVideo)})):this.channelService.search(this.searchParams,r.Constants.ChannelsSortOptions.Relevance,r.Constants.SortDirection.Ascending,0,r.Constants.MaxLengths.ChannelSearchOutput,!0,this.isAdminMode).then((function(e){return t.dataFetchSuccessCallBack(e,s.FeatureName.SearchChannels,t.resources.ChannelSearchByNameNoResult)}),(function(e){return t.featureTelemetryTracker.fail(s.FeatureName.SearchChannels,s.SubFeatureName.ChannelService_Search,e),t.majorErrorHappened(t.resources.SpotlightVideoGetVideoErrorMessage),t.dataFetchFailureCallback(e,s.FeatureName.SearchChannels,s.SubFeatureName.ChannelService_Search)}))},c.prototype.dataFetchSuccessCallBack=function(e,t,n){return void 0===n&&(n=this.resources.VideoSearchByNameNoResult),this.suggestions=e.data.value,this.infoMessage=this.suggestions.length<=0?n:"",this.suggestions.length&&i.alertScreenReader(this.resources.SuggestionsReminderLabel),this.loading=!1,this.featureTelemetryTracker.succeed(t),this.$q.resolve(-1)},c.prototype.dataFetchFailureCallback=function(e,t,n){return this.majorErrorHappened(this.resources.SpotlightVideoGetVideoErrorMessage),this.featureTelemetryTracker.fail(t,n,e),this.$q.reject(e)},c.prototype.selectItem=function(e){var t=this;this.clear(),this.isAlreadyAdded({videoId:e.id})?this.majorErrorHappened(this.resources.SpotlightVideoDuplicateErrorMessage):(this.itemSelected({video:e}),setTimeout((function(){return t.$element.find(".search-row input").focus()})))},Object.defineProperty(c.prototype,"allSuggestionsLength",{get:function(){return $(".search-results",this.$element).children().length},enumerable:!0,configurable:!0}),c.prototype.displayedName=function(e){return e.name?e.name:e.description},c.prototype.clear=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),e&&(this.searchParams=""),this.loading=!1,t&&(this.errorMessage=""),this.infoMessage="",this.suggestions=[]},Object.defineProperty(c.prototype,"inputTimeInterval",{get:function(){return r.Constants.DropdownList.InputTimeInterval},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"loadingMessage",{get:function(){return this.isVideoSearch?o.formatString(this.resources.LoadingSearchResults,this.resources.ResourceType.Video.LowerPlural):o.formatString(this.resources.LoadingSearchResults,this.resources.ResourceType.Channel.LowerPlural)},enumerable:!0,configurable:!0}),c.prototype.getUserSuggestionAriaLabel=function(e){return o.formatString(this.resources.VideoSearchUserSuggestionAriaLabel,this.displayedName(e))},c.prototype.organizationCheck=function(e){return e===this.privacyModes.organization||e===this.privacyModes.organizationContributor||e===this.privacyModes.organizationViewer},c.prototype.displayDefaultLivePoster=function(e){return!_.get(e,"posterImage.medium.url")&&e.contentSource===r.Constants.VideoContentSource.liveStream},c.prototype.displayDefaultVODPoster=function(e){return!_.get(e,"posterImage.medium.url")&&(e.contentSource===r.Constants.VideoContentSource.file||e.contentSource===r.Constants.VideoContentSource.screenRecording)},c.prototype.validateUrl=function(e){return new RegExp(r.Constants.urlRegEx.source).test(e)},c.prototype.isStartAsAUrl=function(e){return new RegExp(r.Constants.startAsUrlRegEx.source).test(e)},c.prototype.majorErrorHappened=function(e){this.errorMessage=e,this.infoMessage="",this.loading=!1},c.prototype.getVideo=function(e){var t=this;return this.loading=!0,this.videoService.get(e,this.isAdminMode).then((function(e){t.itemSuccessHandler(e)}),(function(e){return t.featureTelemetryTracker.fail(s.FeatureName.GetVideo,s.SubFeatureName.VideoService_GetVideo,e),t.majorErrorHappened(i.errorMessage(e)||t.resources.SpotlightVideoGetVideoErrorMessage),t.$q.reject(e)}))},c.prototype.getChannel=function(e){var t=this;return this.loading=!0,this.channelService.get(e,this.isAdminMode).then((function(e){t.itemSuccessHandler(e)}),(function(e){return t.featureTelemetryTracker.fail(s.FeatureName.GetChannelByName,s.SubFeatureName.ChannelService_GetChannel,e),t.majorErrorHappened(t.resources.SpotlightVideoGetVideoErrorMessage),t.$q.reject(e)}))},c.prototype.itemSuccessHandler=function(e){return this.suggestions=[],this.suggestions.push(e.data),this.loading=!1,this.$q.resolve()},c.$inject=["$scope","resources","$window","$q","$element","videoService","channelService","telemetryService","groupService"],c);function c(e,t,n,o,a,c,l,u,d){var p=this;this.$scope=e,this.resources=t,this.$window=n,this.$q=o,this.$element=a,this.videoService=c,this.channelService=l,this.telemetryService=u,this.groupService=d,this.searchTypes=[],this.searchMinInput=1,this.suggestions=[],this.id="video-search-"+i.generateGuid(),this.loading=!1,this.privacyModes=r.Constants.privacyMode,this.isUrlInput=!1,void 0===this.enableSearch&&(this.enableSearch=!0),this.featureTelemetryTracker=this.telemetryService.getTracker(s.ScreenName.EmbedVideoChannelSearch),this.featureTelemetryTracker.tagScreen();var A=function(e){e.target&&e.target.className&&"string"==typeof e.target.className&&-1===e.target.className.indexOf("video-search-textbox")&&p.showResultList&&(p.clear(!1),p.$scope.$apply())}.bind(this),m=function(e){e.keyCode===r.Constants.KeyCodes.Esc&&p.searchParams.length&&(e.preventDefault(),p.clear(),p.$scope.$apply())}.bind(this);n.document.body.addEventListener("click",A),a.on("keydown",m),e.$on("$destroy",(function(){n.document.body.removeEventListener("click",A),a.off("keydown",m)})),e.$watch((function(){return p.searchParams}),(function(e){if(p.enableSearch){if(p.isStartAsAUrl(p.searchParams)){p.isUrlInput=!0;var t,n=new RegExp(r.Constants.videoGuidRegEx.source).exec(p.searchParams);if(!p.validateUrl(p.searchParams)||!n||0===n.length)return p.majorErrorHappened(p.resources.SpotlightVideoUrlErrorMessage),void p.clear(!1,!1);p.clear(!1),t=n[0].toString();var i=0<p.searchParams.indexOf("/video");p.isVideoSearch!=i&&p.changeTabName({isVideoTabName:i}),i?p.getVideo(t).then((function(){p.isUrlInput=!1})):p.getChannel(t).then((function(){p.isUrlInput=!1}))}else p.isUrlInput=!1,p.errorMessage!==p.resources.SpotlightVideoDuplicateErrorMessage&&(p.errorMessage="");e&&e.length>=p.searchMinInput?(p.infiniteScrollRefresh=!0,p.loading=!0):p.clear(!1,!1)}}))}t.VideoChannelSearchController=a},"./app/components/VideoItemWithOverlay/VideoMetaOverlay/VideoMetaOverlay.html":function(e,t){e.exports='<div class=video-meta-overlay> <div class=pointer-events-auto> <p class=video-title ng-if=!$ctrl.videoLink> <span class=inner-background custom-title="{{ $ctrl.videoItem.name }}" light-style=true on-ellipsis-only=true> {{$ctrl.videoItem.name}} </span> </p> <p class=video-title ng-if=$ctrl.videoLink> <a ng-href={{$ctrl.videoLink}} target=_blank ng-click=$ctrl.videoTitleClicked()> <span class=inner-background custom-title="{{ $ctrl.videoItem.name }}" light-style=true on-ellipsis-only=true> {{$ctrl.videoItem.name}} </span> </a> </p> <video-statistics ng-if="$ctrl.videoItem.metrics && !$ctrl.isLiveNow" video-statistics-data=$ctrl.videoItem.metrics show-comments=!$ctrl.hideComments class=statistics-container show-icons=true></video-statistics> <video-analytics ng-if=$ctrl.isLiveNow video=$ctrl.videoItem is-producer=false is-small-size=true></video-analytics> <div class=actions-container> <button ng-if=!$ctrl.hideShareButton ng-click=$ctrl.onShareClick($event) class="action-button {{::$ctrl.buttonClasses.share}}" aria-label={{::$ctrl.resources.Share}} custom-title={{::$ctrl.resources.Share}}> <svg-src svg-name=icon_share></svg-src> <span class=button-text>{{::$ctrl.resources.Share}}</span> </button> <button ng-if=!$ctrl.hideAddToWatchListButton ng-click=$ctrl.onPinButtonClick($event) class="action-button {{::$ctrl.buttonClasses.watchlist}}" ng-class=$ctrl.addToWatchListClasses() ng-disabled=$ctrl.pinButtonDisabled aria-label="{{$ctrl.videoItem.userData.isPinned ? $ctrl.resources.RemoveFromWatchList : $ctrl.resources.AddToWatchList}}" ng-attr-custom-title={{$ctrl.addToWatchListCustomTitle}}> <svg-src svg-name=icon-remove-from-watchlist ng-if=$ctrl.videoItem.userData.isPinned inline-with-text=true></svg-src> <svg-src svg-name=icon-add-to-watchlist ng-if=!$ctrl.videoItem.userData.isPinned inline-with-text=true></svg-src> <span class=button-text>{{$ctrl.videoItem.userData.isPinned ? $ctrl.resources.RemoveFromWatchList : $ctrl.resources.AddToWatchList}}</span> </button> <button ng-if=!$ctrl.hideLikeButton ng-click=$ctrl.onLikeClick($event) class="action-button {{::$ctrl.buttonClasses.like}}" ng-disabled=$ctrl.likeButtonDisabled aria-label="{{$ctrl.videoItem.userData.isLiked ? $ctrl.resources.UnLikeButtonAriaLabel : $ctrl.resources.LikeButtonAriaLabel}}" custom-title="{{$ctrl.videoItem.userData.isLiked ? $ctrl.resources.UnLikeButtonAriaLabel : $ctrl.resources.LikeButtonAriaLabel}}" ng-class="$ctrl.videoItem.userData.isLiked ? \'unlike\' : \'like\'"> <svg-src svg-name=icon_liked_likes ng-if=$ctrl.videoItem.userData.isLiked></svg-src> <svg-src svg-name=icon_likes ng-if=!$ctrl.videoItem.userData.isLiked></svg-src> <span class=button-text>{{$ctrl.videoItem.userData.isLiked ? $ctrl.resources.UnLikeButtonAriaLabel : $ctrl.resources.LikeButtonAriaLabel}}</span> </button> </div> </div> </div> '},"./app/components/VideoItemWithOverlay/VideoMetaOverlay/VideoMetaOverlay.less":function(e,t){},"./app/components/VideoItemWithOverlay/VideoMetaOverlay/VideoMetaOverlay.ts":function(e,t,n){function i(){this.controller=o.VideoMetaOverlayController,this.template=n("./app/components/VideoItemWithOverlay/VideoMetaOverlay/VideoMetaOverlay.html"),this.bindings={videoItem:"=",shareMetrics:"=",likeUnlikeMetrics:"=",addRemoveWatchlistMetrics:"=",onUpdate:"&",screenName:"<",hideShareButton:"<",hideLikeButton:"<",hideAddToWatchListButton:"<",enableHover:"<",hideComments:"<",videoLink:"<",videoTitleClickMetrics:"="},this.bindToController=!0}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/VideoItemWithOverlay/VideoMetaOverlay/VideoMetaOverlay.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/VideoItemWithOverlay/VideoMetaOverlay/VideoMetaOverlayController.ts");t.VideoMetaOverlay=i,r.registerComponent("videoMetaOverlay",i,angular.module("jumper"))},"./app/components/VideoItemWithOverlay/VideoMetaOverlay/VideoMetaOverlayController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/models/TelemetryEventModels.ts"),r=n("./app/utility/Constants.ts"),o=(s.prototype.onShareClick=function(e){var t=this;e.preventDefault(),e.stopPropagation(),isFinite(this.shareMetrics)&&(this.shareMetrics+=1),this.videoShareDialog.open(this.videoItem).closePromise.then((function(e){t.featureTelemetryTracker.tagScreen()}),(function(e){})).finally((function(){t.focusOnButton(t.buttonClasses.share)}))},s.prototype.onPinButtonClick=function(e){var t=this;e.preventDefault(),e.stopPropagation(),isFinite(this.addRemoveWatchlistMetrics)&&(this.addRemoveWatchlistMetrics+=1),this.pinButtonDisabled=!0,(this.videoItem.userData.isPinned?this.videoService.unPinVideo(this.videoItem.id).then((function(e){t.videoItem.userData.isPinned=!1,t.featureTelemetryTracker.succeed(i.FeatureName.UnpinVideo),t.onUpdate&&t.onUpdate()}),(function(e){t.featureTelemetryTracker.fail(i.FeatureName.UnpinVideo,i.SubFeatureName.VideoService_UnpinVideo,e)})):this.videoService.pinVideo(this.videoItem.id).then((function(e){t.videoItem.userData.isPinned=!0,t.featureTelemetryTracker.succeed(i.FeatureName.PinVideo),t.onUpdate&&t.onUpdate()}),(function(e){t.featureTelemetryTracker.fail(i.FeatureName.PinVideo,i.SubFeatureName.VideoService_PinVideo,e)}))).finally((function(){t.focusOnButton(t.buttonClasses.watchlist)})),this.pinButtonDisabled=!1},s.prototype.onLikeClick=function(e){var t=this;e.preventDefault(),e.stopPropagation(),isFinite(this.likeUnlikeMetrics)&&(this.likeUnlikeMetrics+=1),this.likeButtonDisabled=!0,(this.videoItem.userData.isLiked?this.videoService.unLike(this.videoItem.id).then((function(e){t.videoItem.userData.isLiked=!1,--t.videoItem.metrics.likes,t.featureTelemetryTracker.succeed(i.FeatureName.UnlikeVideo),t.likeButtonDisabled=!1}),(function(e){t.featureTelemetryTracker.fail(i.FeatureName.UnlikeVideo,i.SubFeatureName.VideoService_Unlike,e),t.likeButtonDisabled=!1})):this.videoService.like(this.videoItem.id).then((function(e){t.videoItem.userData.isLiked=!0,t.videoItem.metrics.likes+=1,t.featureTelemetryTracker.succeed(i.FeatureName.LikeVideo),t.likeButtonDisabled=!1}),(function(e){t.featureTelemetryTracker.fail(i.FeatureName.LikeVideo,i.SubFeatureName.VideoService_Like,e),t.likeButtonDisabled=!1}))).finally((function(){t.focusOnButton(t.buttonClasses.like)}))},s.prototype.videoTitleClicked=function(){isFinite(this.videoTitleClickMetrics)&&(this.videoTitleClickMetrics+=1)},Object.defineProperty(s.prototype,"isLiveNow",{get:function(){return this.videoItem&&this.videoItem.state&&this.videoItem.state.toLowerCase()===r.Constants.VideoStatus.Live},enumerable:!0,configurable:!0}),s.prototype.addToWatchListClasses=function(){var e=this.videoItem&&this.videoItem.userData.isPinned?["unpin"]:["pin"];return this.enableHover&&e.push("animate-button","hidden"),e},Object.defineProperty(s.prototype,"addToWatchListCustomTitle",{get:function(){return this.hideLikeButton&&this.hideShareButton?"":this.videoItem.userData.isPinned?this.resources.RemoveFromWatchList:this.resources.AddToWatchList},enumerable:!0,configurable:!0}),s.prototype.focusOnButton=function(e){setTimeout((function(){$(".action-button."+e).focus()}),0)},s.$inject=["videoShareDialog","videoService","telemetryService","resources"],s);function s(e,t,n,r){this.videoShareDialog=e,this.videoService=t,this.telemetryService=n,this.resources=r,this.pinButtonDisabled=!1,this.likeButtonDisabled=!1,this.buttonClasses={like:"like-button",share:"share-button",watchlist:"watchlist-button"},this.screenName||(this.screenName=i.ScreenName.Auto),this.featureTelemetryTracker=this.telemetryService.getTracker(this.screenName)}t.VideoMetaOverlayController=o},"./app/components/VideoUpdate/VideoUpdateController.ts":function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/appUtil.ts"),a=n("./app/utility/string.ts"),c=n("./app/utility/Constants.ts"),l=n("./app/components/Upload/VideoEdit/VideoEditController.ts"),u=n("./app/utility/ComponentBase.ts"),d=n("./app/models/TelemetryEventModels.ts"),p=n("./app/components/VideoUpdate/VideoUpdateErrorHandler.ts"),A=n("./app/models/TelemetryEventModels.ts"),m=n("./app/services/VideoBgUploaderService.ts"),h="Other",f="Delete",g="Discard",v="Apply",y=(r(S,o=u.ComponentBase),Object.defineProperty(S.prototype,"showAdminOnlyErrorMessage",{get:function(){return this.isLoaded&&!this.video&&this.isStreamAdmin&&!this.isInAdminMode},enumerable:!0,configurable:!0}),S.prototype.onLoadEvents=function(){var e=this;function t(){var t=$(".update-card");t&&(e.isVideoCardExpanded=1e3<e.$window.outerWidth,e.$window.outerWidth<=1e3?t.addClass("update-card-accordion"):t.removeClass("update-card-accordion"))}this.saveButtonText=this.resources.ApplyChanges,this.productName=c.Constants.ProductName,this.principalService.getMyPrincipalInfo().then((function(t){e.isStreamAdmin=e.principalService.getIsStreamAdmin(),e.isInAdminMode=e.isStreamAdmin&&e.principalService.getAdminModeStatus(),e.$scope.$watch(e.principalService.getAdminModeStatus,(function(t,n){t!==e.isInAdminMode&&(e.isInAdminMode=t,e.loadAdminMode(e.isInAdminMode,A.FeatureName.LoadVideoUpdatePage))}))}),(function(t){e.isStreamAdmin=!1,e.featureTelemetryTracker.fail(A.FeatureName.GetPrincipalSettings,A.SubFeatureName.PrincipalService_GetMyPrincipalInfo,t)})).finally((function(){var t=e.$location.search();e.isInAdminMode&&(e.dataShareService.cache[c.Constants.CacheKey.ElevatedVideoIdKey+e.videoId]&&(e.elevatedVideoSessionProperties=e.dataShareService.cache[c.Constants.CacheKey.ElevatedVideoIdKey+e.videoId],delete e.dataShareService.cache[c.Constants.CacheKey.ElevatedVideoIdKey+e.videoId]),e.elevatedVideoSessionProperties.adminEntryComponent=t.entryPoint||d.ElevatedItemEntryPoint.AdminAccessOnlyBar,e.elevatedVideoSessionProperties.entryScreen=t.srcScreen||A.ScreenName.VideoUpdate,e.elevatedVideoSessionProperties.userViewedVideoAsAdmin=t.hasPlayed||!1,e.adminMessage=e.resources.AdminMode.Video.InAdminModeMessage),e.fetchVideo(A.FeatureName.LoadVideoUpdatePage).then((function(){e.updateProperties.videoId=e.videoId,t.open==c.Constants.Events.ReplaceVideo&&e.replace()})).finally((function(){e.isLoaded=!0}))})),setTimeout((function(){t()}),0),this.$window.addEventListener("resize",t);var n=this.sendTelemetryEvents.bind(this);$("body").css("overflowY","auto"),this.$scope.$on("$destroy",(function(){$("body").css("overflowY",""),-1!==e.refreshTimerId&&clearInterval(e.refreshTimerId),e.refreshStatusAfterNotificationIntervalPromise&&e.$interval.cancel(e.refreshStatusAfterNotificationIntervalPromise),e.sendTelemetryEvents(),e.$window.removeEventListener("resize",t),e.$window.removeEventListener("beforeunload",n)})),this.$window.addEventListener("beforeunload",n),this.$scope.$on(c.Constants.Events.Notification_VideoStatus,(function(t,n){e.video&&n.id===e.video.id&&e.pollMedia(!0)}))},S.prototype.handleVideoUploadedFromRecorder=function(){var e=this,t=this.videoRecorderService.getUploadStatus();t===c.Constants.RecorderVideoUploadStatus.Success?this.videoRecorderService.updateUploadedVideo(this.videoId,this.isInAdminMode).then((function(){e.onLoadEvents()}),(function(t){403===t.status&&e.isStreamAdmin?e.showAdminAccessOnlyMode():500<=t.status?e.navigationService.redirect(c.Constants.Routes.Error):e.videoLoadFailedMessage=e.errorHandler.report(t,A.FeatureName.LoadVideoUpdatePage,A.SubFeatureName.VideoService_CompleteUpload)})):t===c.Constants.RecorderVideoUploadStatus.Fail&&(this.recorderUploadStatusFailed=!0,this.errorHandler.report("recorder_upload_failed",A.FeatureName.UploadVideo,A.SubFeatureName.VideoService_CompleteUpload),this.videoRecorderService.deleteUploadedVideo(this.videoId).then((function(){e.updateProperties.exit=f}),(function(t){e.handleFailedUserFeature(t,A.FeatureName.DeleteVideo,A.SubFeatureName.VideoService_DeleteVideo)})))},S.prototype.sendTelemetryEvents=function(){this.isTelemetrySent||(this.featureTelemetryTracker.trackEvent(d.TelemetryEventNames.videoUpdateSummaryEventName,this.updateProperties,this.updateMetrics),this.isInAdminMode&&(this.elevatedVideoSessionProperties=_.merge(this.elevatedVideoSessionProperties,this.updateProperties),this.featureTelemetryTracker.trackEvent(d.TelemetryEventNames.elevatedVideoSession,this.elevatedVideoSessionProperties,this.updateMetrics)),this.isTelemetrySent=!0)},S.prototype.checkState=function(e){this.videoEditStateInfo.videoState=e,(a.isStringEqual(e,c.Constants.VideoStatus.Completed)||a.isStringEqual(e,c.Constants.VideoStatus.Error))&&(!0===this.videoEditStateInfo.isReplacingVideo&&(s.alertScreenReader(a.formatString(this.resources.ReplaceCompleteAlertMessage,this.video.name)),this.videoEditStateInfo.isReplacingVideo=!1,this.replaceVideoService.replaceCompletedRefresh(e,this.video.id)),clearInterval(this.refreshTimerId))},S.prototype.startPollingVideo=function(e){var t=this;this.pollMedia().then((function(){t.checkState(t.video.state)}))},S.prototype.fetchVideo=function(e){var t=this;return this.videoService.get(this.videoId,this.isInAdminMode).then((function(e){return e.data.userData&&e.data.userData.permissions&&e.data.userData.permissions.canEdit?(t.video=e.data,t.videoEditStateInfo={videoState:t.video.state,published:t.video.published,newlyUploadedItem:!1},t.originalVideo=angular.copy(e.data),e.data):(t.video=null,t.showAdminAccessOnlyMode(),null)}),(function(n){403===n.status&&t.isStreamAdmin?t.showAdminAccessOnlyMode():500<=n.status?t.navigationService.redirect(c.Constants.Routes.Error):t.videoLoadFailedMessage=t.errorHandler.report(n,e,A.SubFeatureName.VideoService_GetVideo)})).then((function(n){return t.video&&(t.videoEditStateInfo.videoState=n.state,e===A.FeatureName.LoadVideoUpdatePage&&t.refreshTitle(),n.id&&t.video.state===c.Constants.VideoStatus.Uploading.toLowerCase()&&(t.uploadItem=_.find(t.videoBgUploaderService.mediaUploadList,(function(e){return e.resourceId===n.id})),t.uploadItem?t.uploadWatchCancelHandler=t.$scope.$watchGroup([function(){return t.uploadItem.status},function(){return t.uploadItem.uploadProgress}],(function(e,i){if(!_.isEqual(e,i)){switch(t.uploadItem.status){case m.UploadStatus.uploading:t.videoEditStateInfo.videoState=c.Constants.VideoState.uploading,t.videoEditStateInfo.uploadProgress=t.uploadItem.uploadProgress,t.videoEditStateInfo.isReplacingVideo=t.uploadItem.isReplacing,t.replacementFileName=t.uploadItem.fileName;break;case m.UploadStatus.failed:t.videoEditStateInfo.videoState=c.Constants.VideoState.failedUpload,t.videoEditStateInfo.isReplacingVideo=!1,t.uploadWatchCancelHandler();break;default:t.uploadWatchCancelHandler(),t.startPollingVideo(n.id)}t.refreshTitle()}})):t.startPollingVideo(n.id)),n.id&&n.state===c.Constants.VideoStatus.Processing.toLowerCase()&&t.startPollingVideo(n.id),n.id&&n.state===c.Constants.VideoStatus.Completed.toLowerCase()&&(t.videoEditStateInfo.thumbnailsReady=!0),t.video.contentType===c.Constants.VideoContentType.presentation&&t.video.userData.permissions.canDownload&&t.videoService.getFiles(t.video.id,t.isInAdminMode).then((function(e){var n=e.data.value,i=_.find(n,(function(e){return e.type===c.Constants.VideoFileType.presentation}));i&&i.downloadUrl?(t.canDownloadPPT=!0,t.pptFileUrl=i.downloadUrl):t.featureTelemetryTracker.trackEvent(d.TelemetryEventNames.presentationFileMissing)}))),t.refreshTitle(),n}))},S.prototype.confirmReload=function(e){this.updateProperties.exit=g,this.navigateToVideoViewPage()},S.prototype.navigateToStudioPage=function(){this.navigationService.navigate(c.Constants.Routes.Studio)},S.prototype.navigateToVideoViewPage=function(){this.navigationService.navigate(a.formatString(c.Constants.Routes.Video,this.video.id))},S.prototype.download=function(){this.mediaDownloaderService.downloadAssetFile(this.video.id,c.Constants.VideoFileType.video,this.featureTelemetryTracker,this.isInAdminMode)},S.prototype.downloadPPT=function(){this.pptFileUrl&&this.mediaDownloaderService.downloadFile(this.pptFileUrl)},Object.defineProperty(S.prototype,"canDownload",{get:function(){return this.video.userData.permissions.canDownload&&this.videoEditStateInfo.videoState===c.Constants.VideoState.completed},enumerable:!0,configurable:!0}),S.prototype.replace=function(){var e=this;this.replaceVideoService.handleReplaceVideoDialog(this.video,this.videoEditStateInfo,!1,this.isInAdminMode,this.companyPolicyAddress).then((function(t){t&&(e.videoEditStateInfo.isReplacingVideo=t.isReplacingVideo,e.isInAdminMode&&e.loadAdminMode(e.isInAdminMode,A.FeatureName.ReplaceVideo))}))},Object.defineProperty(S.prototype,"canReplace",{get:function(){return this.video&&this.replaceVideoService.canReplace(this.video)},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"isReplacing",{get:function(){return this.videoEditStateInfo&&this.replaceVideoService.isReplacing(this.videoEditStateInfo)},enumerable:!0,configurable:!0}),S.prototype.confirmDelete=function(e){var t=this;return this.deleteConfirmationDialogService.show(c.Constants.ResourceNames.Video,this.video.name,!1,this.video.id,this.isInAdminMode).then((function(){t.videoService.delete(t.videoId,t.isInAdminMode).then((function(){t.updateProperties.exit=f,t.navigateToStudioPage(),t.featureTelemetryTracker.setResourceId(t.video.id),t.featureTelemetryTracker.succeed(A.FeatureName.DeleteVideo)}),(function(e){t.handleFailedUserFeature(e,A.FeatureName.DeleteVideo,A.SubFeatureName.VideoService_DeleteVideo)}))})),!1},S.prototype.save=function(e){return e.$valid&&(this.saveButtonText=this.resources.VideoUpdate.savingProgress,this.applyChangesDisabled=!0,this.$scope.$broadcast(c.Constants.Events.SaveVideoImmediately)),null},S.prototype.saveFinished=function(e){this.saveButtonText=this.resources.ApplyChanges,this.applyChangesDisabled=!1,e===l.ManualSaveStatus.succeeded&&(this.updateProperties.exit=v,this.navigateToVideoViewPage())},S.prototype.onPublishSuccess=function(){this.updateProperties.published=!0,this.videoEditStateInfo.published=!0},S.prototype.privacyModeChanged=function(){this.updateProperties.privacyChanged=!0},S.prototype.loadAdminMode=function(e,t){var n;this.isInAdminMode=e,this.isInAdminMode&&(this.adminMessage=this.resources.AdminMode.Video.InAdminModeMessage,n=this.$location.search(),this.elevatedVideoSessionProperties.adminEntryComponent=n.entryPoint||d.ElevatedItemEntryPoint.AdminAccessOnlyBar,this.elevatedVideoSessionProperties.entryScreen=n.srcScreen||A.ScreenName.VideoUpdate,this.elevatedVideoSessionProperties.userViewedVideoAsAdmin=n.hasPlayed||!1),this.fetchVideo(t)},Object.defineProperty(S.prototype,"isReplaceVideoEnabled",{get:function(){return this.featureFlagsService.Values.ReplaceVideo},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"isReadOnlyVideo",{get:function(){return this.video&&this.video.readOnlyMigratedContent},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"processProgress",{get:function(){return this.videoEditStateInfo.processProgress||0},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"uploadProgress",{get:function(){return this.videoEditStateInfo.uploadProgress||0},enumerable:!0,configurable:!0}),S.prototype.pollMedia=function(e){var t=this;return void 0===e&&(e=!1),this.featureTelemetryTracker.trackEvent(e?d.TelemetryEventNames.StatusCalledBecauseOfNotification:d.TelemetryEventNames.StatusCalledBecauseOfTimer,{id:this.video.id}),this.videoService.getVideoStatus(this.video.id,this.isInAdminMode).then((function(e){t.processingState=e.data,_.forEach(t.processingState.processingStatus,(function(e){e&&e.type&&(e.type.trim().toLowerCase()===c.Constants.VideoStatus.Uploading.toLowerCase()&&e.state.trim().toLowerCase()===c.Constants.VideoStatus.Processing.toLowerCase()?t.fetchVideo(A.FeatureName.ReplaceVideo):e.type.trim().toLowerCase()===c.Constants.VideoProcessingStatusType.thumbnail.toLowerCase()&&e.state.trim().toLowerCase()===c.Constants.VideoStatus.Completed.toLowerCase()?t.videoEditStateInfo.thumbnailsReady||(s.alertScreenReader(a.formatString(t.resources.ThumbnailsReadyAlertMessage,t.video.name)),t.videoEditStateInfo.thumbnailsReady=!0):e.type.trim().toLowerCase()===c.Constants.VideoProcessingStatusType.replacing.toLowerCase()?e.state.trim().toLowerCase()===c.Constants.VideoStatus.Processing.toLowerCase()?(t.videoEditStateInfo.isReplacingVideo=!0,t.videoEditStateInfo.processProgress=e.progress):e.state.trim().toLowerCase()===c.Constants.VideoStatus.Error.toLowerCase()&&(t.isReplacingFailed=!0,t.videoEditStateInfo.isReplacingVideo=!1,t.featureTelemetryTracker.fail(A.FeatureName.ReplaceVideo,A.SubFeatureName.VideoEvent_ReplaceVideo,e.error?e.error:"")):e.type.trim().toLowerCase()===c.Constants.VideoProcessingStatusType.encoding.toLowerCase()&&(t.isReplacing||(t.videoEditStateInfo.processProgress=e.progress)))})),t.checkState(t.processingState.state)}),(function(e){t.handleFailedUserFeature(e,A.FeatureName.GetVideoStatus,A.SubFeatureName.VideoService_GetVideoStatus)})).finally((function(){t.refreshStatusAfterNotificationIntervalPromise&&t.$interval.cancel(t.refreshStatusAfterNotificationIntervalPromise),t.videoEditStateInfo.videoState.toLowerCase()===c.Constants.VideoStatus.Processing.toLowerCase()&&(t.refreshStatusAfterNotificationIntervalPromise=t.$interval((function(){t.pollMedia()}),c.Constants.VideoStatusNotificationTimeout,1),t.refreshTitle())}))},S.prototype.refreshTitle=function(){this.$window.document.title=a.formatString(this.resources.BrowserTitle.UpdateVideo,c.Constants.ProductName,this.video.name);var e,t=a.truncateStringAddEllipses(this.video.name,c.Constants.MaxLengths.VideoTitle);this.isReplacing?this.isReplacingFailed?this.title=a.formatString(this.resources.ReplaceVideo.Failed):(e=void 0,this.videoEditStateInfo.videoState===c.Constants.VideoState.uploading?(e=a.formatString(this.resources.ReplaceVideo.FileNameProgressPercentage,this.replacementFileName?a.truncateStringAddEllipses(this.replacementFileName,c.Constants.MaxLengths.VideoTitle):a.truncateStringAddEllipses(this.video.name,c.Constants.MaxLengths.VideoTitle),this.uploadProgress.toString()),this.title=a.formatString(this.resources.ReplaceVideo.Uploading,e)):this.videoEditStateInfo.videoState===c.Constants.VideoState.processing&&(e=a.formatString(this.resources.ReplaceVideo.FileNameProgressPercentage,t,this.processProgress.toString()),this.title=a.formatString(this.resources.ReplaceVideo.Replacing,e))):this.title=a.formatString(this.resources.VideoUpdate.editTitle,t)},S.prototype.handleFailedUserFeature=function(e,t,n){this.lastErrorMessage=this.errorHandler.report(e,t,n),this.updateProperties.error=!0},S.prototype.showAdminAccessOnlyMode=function(){this.isStreamAdmin&&!this.isInAdminMode?this.adminMessage=this.resources.AdminMode.Video.EditOnlyInAdminModeMessage:this.isInAdminMode?this.adminCannotEditMessage=this.isInAdminMode&&!this.video:this.navigationService.redirect(c.Constants.Routes.Error)},S.$inject=["$scope","videoService","resources","telemetryService","featureFlagsService","deleteConfirmationDialogService","$q","navigationService","$window","videoBgUploaderService","$location","$interval","principalService","dataShareService","videoRecorderService","mediaDownloaderService","replaceVideoService","tenantService"],S);function S(e,t,n,i,r,s,a,c,l,u,d,m,f,g,v,y,b,C){var E=o.call(this,S)||this;return E.$scope=e,E.videoService=t,E.resources=n,E.telemetryService=i,E.featureFlagsService=r,E.deleteConfirmationDialogService=s,E.$q=a,E.navigationService=c,E.$window=l,E.videoBgUploaderService=u,E.$location=d,E.$interval=m,E.principalService=f,E.dataShareService=g,E.videoRecorderService=v,E.mediaDownloaderService=y,E.replaceVideoService=b,E.tenantService=C,E.video=null,E.originalVideo=null,E.debounceOptions={debounce:300},E.refreshTimerId=-1,E.isReplacingFailed=!1,E.applyChangesDisabled=!1,E.isTelemetrySent=!1,E.recorderUploadStatusFailed=!1,E.isStreamAdmin=!1,E.companyPolicyAddress="",E.adminCannotEditMessage=!1,E.isInAdminMode=!1,E.isLoaded=!1,E.updateProperties={titleChanged:!1,descriptionChanged:!1,privacyChanged:!1,accessibilityOptionsOpened:!1,textTrackUploaded:!1,customPosterUploaded:!1,thumbnailSelected:!1,published:!1,textTrackDeleted:!1,privacyMode:"",exit:h,error:!1,videoDownloaded:!1,permissionsIsViewerMode:!1,permissionsChannelAdded:!1,permissionsChannelSearched:!1,permissionsGroupAdded:!1,permissionsGroupSearched:!1,permissionsPrincipalAdded:!1,permissionsUserMadeOwner:!1,permissionsPrincipalSearched:!1,permissionsSecurityGroupMadeOwner:!1,permissionsStreamGroupMadeOwner:!1,permissionsVideoAddedCheckboxUnchecked:!1},E.elevatedVideoSessionProperties=E.updateProperties,E.updateMetrics={permissionsTotalPermission:0,permissionsTotalPrivateChannels:0,permissionsTotalPublicChannels:0,permissionsChannelsAdded:0,permissionsGroupsAdded:0,permissionsPrincipalsAdded:0},E.title="",E.lastErrorMessage=null,E.videoLoadFailedMessage=null,E.errorHandler=null,E.errorHandler=new p.VideoUpdateErrorHandler(E.resources,E.telemetryService),E.featureTelemetryTracker=E.telemetryService.getTracker(A.ScreenName.VideoUpdate),E.isInAdminMode=E.principalService.getAdminModeStatus(),E.videoRecorderService.checkURLForVideoUploadSource()?E.handleVideoUploadedFromRecorder():E.onLoadEvents(),E.tenantService.getSettings().then((function(e){E.companyPolicyAddress=_.get(e.data,"system.contentManagement.companyUploadPolicy.url","")}),(function(e){E.featureTelemetryTracker.fail(A.FeatureName.GetUploadPermissions,A.SubFeatureName.TenantService_GetTenantSettings,e)})),E}t.VideoUpdateController=y},"./app/components/VideoUpdate/VideoUpdateErrorHandler.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/models/TelemetryEventModels.ts"),r=(o.prototype.report=function(e,t,n,r){var o="",s=t;switch(n){case i.SubFeatureName.VideoService_DeleteVideo:o=this.resources.VideoDeleteFailed;break;case i.SubFeatureName.VideoService_GetVideoStatus:o=this.resources.PollVideoFailed;break;case i.SubFeatureName.VideoService_GetVideo:o=this.resources.LoadVideoFailed}return e.status&&!isNaN(e.status)&&e.status<500&&e.data&&e.data.error&&e.data.error.message&&(o=o+". "+e.data.error.message+"."),this.telemetryService.getTracker(i.ScreenName.VideoUpdate).fail(s,n,e),o},o);function o(e,t){this.resources=e,this.telemetryService=t}t.VideoUpdateErrorHandler=r},"./app/components/WaitingRoomOverlay/WaitingRoomOverlay.html":function(e,t){e.exports="<div class=waiting-room-overlay> <div class=status-panel> <div class=logo-container> <svg-src svg-name=stream-icon class=logo inline-with-text=true /> </div> <div class=title>{{::$ctrl.titleText}}</div> <div class=body>{{::$ctrl.bodyText}}</div> <div class=footer> <span class=stream-app-name>{{::$ctrl.logoText}}</span> </div> </div> </div> "},"./app/components/WaitingRoomOverlay/WaitingRoomOverlay.less":function(e,t){},"./app/components/WaitingRoomOverlay/WaitingRoomOverlay.ts":function(e,t,n){function i(){this.controller=o.WaitingRoomOverlayController,this.template=n("./app/components/WaitingRoomOverlay/WaitingRoomOverlay.html")}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/components/WaitingRoomOverlay/WaitingRoomOverlay.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/components/WaitingRoomOverlay/WaitingRoomOverlayController.ts");t.WaitingRoomOverlay=i,r.registerComponent("waitingRoomOverlay",i,angular.module("jumper"))},"./app/components/WaitingRoomOverlay/WaitingRoomOverlayController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=(Object.defineProperty(o.prototype,"logoText",{get:function(){return this.resources.MicrosoftStream},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"titleText",{get:function(){return this.resources.WaitingRoomBodyTitle},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"bodyText",{get:function(){return this.resources.WaitingRoomBodyText},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"copyrightText",{get:function(){return this.resources.MicrosoftCorp+" "+i.CopyrightYear(sessionInfo)+". "+this.resources.AllRightsReserved},enumerable:!0,configurable:!0}),o.$inject=["resources"],o);function o(e){this.resources=e}t.WaitingRoomOverlayController=r},"./app/models/TelemetryEventModels.ts":function(e,t){var n,i,r,o,s,a,c,l,u;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.ResultType||(t.ResultType={}))[n.Success=0]="Success",n[n.Failure=1]="Failure",n[n.Warning=2]="Warning",(r=i=t.ScreenName||(t.ScreenName={}))[r.Auto=0]="Auto",r[r.NotApplicable=1]="NotApplicable",r[r.Video=2]="Video",r[r.LiveUpdate=3]="LiveUpdate",r[r.CreateLive=4]="CreateLive",r[r.Upload=5]="Upload",r[r.MyVideos=6]="MyVideos",r[r.MyChannels=7]="MyChannels",r[r.Hub=8]="Hub",r[r.VideoUpdate=9]="VideoUpdate",r[r.BrowseChannels=10]="BrowseChannels",r[r.BrowseVideos=11]="BrowseVideos",r[r.Channel=12]="Channel",r[r.ChannelView=13]="ChannelView",r[r.ChannelUpdate=14]="ChannelUpdate",r[r.TopBar=15]="TopBar",r[r.EmbedPlayerPage=16]="EmbedPlayerPage",r[r.Welcome=17]="Welcome",r[r.Watchlist=18]="Watchlist",r[r.RecentlyViewed=19]="RecentlyViewed",r[r.InviteDialog=20]="InviteDialog",r[r.ChannelCreateDialog=21]="ChannelCreateDialog",r[r.UploadCaptionDialog=22]="UploadCaptionDialog",r[r.VideoShareDialog=23]="VideoShareDialog",r[r.AddChannelDialog=24]="AddChannelDialog",r[r.GetStartedVideoDialog=25]="GetStartedVideoDialog",r[r.SessionExpiredDialog=26]="SessionExpiredDialog",r[r.Startup=27]="Startup",r[r.UserVideos=28]="UserVideos",r[r.UserChannels=29]="UserChannels",r[r.BrowsePeople=30]="BrowsePeople",r[r.AdminSettings=31]="AdminSettings",r[r.AdminDownloadVideos=32]="AdminDownloadVideos",r[r.UserSettings=33]="UserSettings",r[r.EmbedChannelPage=34]="EmbedChannelPage",r[r.EmbedGroupPage=35]="EmbedGroupPage",r[r.MicrosoftTeamsTabConfig=36]="MicrosoftTeamsTabConfig",r[r.AccessibilityOptionsDialog=37]="AccessibilityOptionsDialog",r[r.GroupEditDialog=38]="GroupEditDialog",r[r.GroupCreateDialog=39]="GroupCreateDialog",r[r.PrincipalEditDialog=40]="PrincipalEditDialog",r[r.ForgottenUsers=41]="ForgottenUsers",r[r.ChannelsFollowing=42]="ChannelsFollowing",r[r.GroupHome=43]="GroupHome",r[r.GroupVideos=44]="GroupVideos",r[r.Group=45]="Group",r[r.BrowseGroups=46]="BrowseGroups",r[r.StudioGroups=47]="StudioGroups",r[r.GroupChannels=48]="GroupChannels",r[r.EmbedWatchListPage=49]="EmbedWatchListPage",r[r.GroupPrincipals=50]="GroupPrincipals",r[r.GroupMembersAddDialog=51]="GroupMembersAddDialog",r[r.ChannelShareDialog=52]="ChannelShareDialog",r[r.OfficeVideoMigration=53]="OfficeVideoMigration",r[r.EmbedSearchPage=54]="EmbedSearchPage",r[r.EmbedVideoChannelSearch=55]="EmbedVideoChannelSearch",r[r.TrialCountdownDialog=56]="TrialCountdownDialog",r[r.Embed=57]="Embed",r[r.EmbedBrowsePage=58]="EmbedBrowsePage",r[r.EmbedLiveStatistics=59]="EmbedLiveStatistics",r[r.EmbedProducer=60]="EmbedProducer",r[r.CompanyPolicyDialog=61]="CompanyPolicyDialog",r[r.EmbedServerError=62]="EmbedServerError",r[r.LiveEventProducerPage=63]="LiveEventProducerPage",r[r.RecycleBin=64]="RecycleBin",r[r.AdminSettingsRecycleBin=65]="AdminSettingsRecycleBin",r[r.MyMeetings=66]="MyMeetings",r[r.Error=67]="Error",r[r.BgUploadProgress=68]="BgUploadProgress",r[r.loginScreen=69]="loginScreen",r[r.WaitingRoom=70]="WaitingRoom",(o=t.ResourceType||(t.ResourceType={}))[o.Video=0]="Video",o[o.Channel=1]="Channel",o[o.Group=2]="Group",o[o.Comment=3]="Comment",o[o.Tenant=4]="Tenant",o[o.VideoEvent=5]="VideoEvent",o[o.WatchList=6]="WatchList",o[o.Browse=7]="Browse",(s=t.ElevatedItemEntryPoint||(t.ElevatedItemEntryPoint={}))[s.DrawerButton=0]="DrawerButton",s[s.AdminAccessOnlyBar=1]="AdminAccessOnlyBar",t.AriaTelemetryEventNames={VideoPlaybackError:"VideoPlaybackError",VideoViewed:"VideoViewed"},t.TagClickedType={Hash:"Hash",Time:"Time"},t.TelemetryEventNames={recordVideo:"RecordVideo",uploadSessionEventName:"UploadSession",uploadSummaryEventName:"UploadSummary",searchSummaryEventName:"SearchSummary",videoUpdateSummaryEventName:"VideoUpdateSummary",videoUploadTabToggled:"VideoUploadTabToggled",toggleStateChanged:"ToggleStateChanged",editVideoEventName:"EditVideo",videoPageSessionEventname:"VideoPageSession",editFailureEventName:"EditFailure",channelCreateEventName:"ChannelCreateSummary",channelSummaryEventName:"ChannelSummary",studioVideosSessionEventName:"StudioVideosSessionSummary",studioMeetingsSessionEventName:"StudioMeetingsSessionSummary",userVideosSessionEventName:"userVideosSessionSummary",userChannelsSessionEventName:"userChannelsSessionSummary",groupChannelsSessionEventName:"groupChannelsSessionSummary",studioChannelsSessionEventName:"StudioChannelsSessionSummary",browseChannelsSessionEventName:"BrowseChannelsSessionSummary",browsePeopleSessionEventName:"BrowsePeopleSessionSummary",browseVideosSessionEventName:"BrowseVideosSessionSummary",channelVideosSessionEventName:"ChannelVideosSessionSummary",myWatchlistVideosSessionEventName:"MyWatchlistVideosSessionSummary",TeamsUpsellClicked:"TeamsUpsellClicked",hubPageEventName:"HubSummary",VideoPlayerSummary:"VideoPlayerPlaybackSummary",VideoPlayerHeartbeat:"VideoPlayerHeartbeat",videoPlayerSourceSet:"VideoPlayerSourceSet",videoPlayerManualBitRateChanged:"videoPlayerManualBitRateChanged",videoplayerLoadStart:"VideoPlayerLoadStart",videoPlayerLoaded:"VideoPlayerLoaded",videoPlayerAnalyticsstreamloaded:"videoPlayerAnalyticsStreamLoaded",videoPlayerStarted:"VideoPlayerStarted",videoPlayerEnded:"VideoPlayerEnded",videoPlayerPlay:"VideoPlayerPlay",videoPlayerPlaying:"VideoPlayerPlaying",videoPlayerPause:"VideoPlayerPause",videoPlayerSeeking:"VideoPlayerSeeking",videoPlayerFullscreen:"VideoPlayerFullScreen",videoPlayerWaiting:"VideoPlayerWaiting",videoCaptionsOn:"videoCaptionsOn",videoCaptionsOff:"videoCaptionsOff",audioEnhancementStateChanged:"AudioEnhancementStateChanged",freClosed:"FreClosed",freOpenedLearnMore:"FreOpenedLearnMore",freShown:"FreShown",failedToChangeAudioTrack:"FailedToChangeAudioTrack",ClickSearchTranscriptButton:"ClickSearchTranscriptButton",liveEventStarted:"LiveEventStarted",liveEventEnded:"LiveEventEnded",VideoPlayerRetryOnError:"VideoPlayerRetryOnError",VideoPlayerError:"VideoPlayerError",VideoPlaybackWarning:"VideoPlaybackWarning",userFeedbackReceived:"UserFeedbackReceived",manualVideoFeedback:"ManualVideoFeedback",manualProducerFeedback:"ManualProducerFeedback",inviteDialogSessionSummary:"inviteDialogSessionSummary",commentsSummary:"CommentsSummary",sessionExpiredEvent:"SessionExpired",AddToChannelDialogSummary:"AddToChannelDialogSummary",AddToGroupChannelDialogSummary:"AddToGroupChannelDialogSummary",InviteEmail:"InviteEmail",adminModeToggled:"AdminModeToggled",administratorSettingsEventName:"AdministratorSettingsSummary",adminSettingsAssignAdminsEventName:"AdminSettingsAssignAdmins",adminSettingsStreamAccessEventName:"AdminSettingsStreamAccess",adminSettingsSpotlightVideosEventName:"AdminSettingsSpotlightVideos",adminSettingsForgottenUsersEventName:"AdminSettingsForgottenUsers",adminSettingsCompanyPoliciesEventName:"AdminSettingsCompanyPolicies",adminSettingsUsageDetailsEventName:"AdminSettingsUsageDetails",adminSettingsGroupEventName:"AdminSettingsGroup",adminSettingsSupportEventName:"AdminSettingsSupport",adminSettingsContentCreationEventName:"AdminSettingsContentCreation",adminDownloadVideosListEventName:"adminDownloadVideosList",adminDownloadVideosLoadVideosEventName:"adminDownloadVideosLoadVideos",adminSettingsLiveEventEventName:"AdminSettingsLiveEvent",adminSettingsCommentsEventName:"AdminSettingsComments",adminSettingsFaceDetectionEventName:"AdminSettingsFaceDetection",adminSettingsSpotlightEventName:"AdminSettingsSpotlight",adminSettingsPersonalDataEventName:"AdminSettingsPersonalData",adminSettingsNetworkCachingEventName:"AdminSettingsNetworkCaching",adminSettingsResetCompanyPolicy:"AdminSettingsResetCompanyPolicy",adminSettingsExternalSharingEventName:"AdminSettingsExternalSharing",groupSpotlight:"GroupSpotlight",groupSpotlightVideos:"GroupSpotlightVideos",elevatedVideoSession:"ElevatedVideoSession",elevatedChannelSession:"ElevatedChannelSession",timeTagClickedEventName:"timeTagClicked",tagClickedEventName:"tagClicked",StatusCalledBecauseOfNotification:"StatusCalledBecauseOfNotification",StatusCalledBecauseOfTimer:"StatusCalledBecauseOfTimer",SignalRNotificationReceived:"SignalRNotificaitonReceived",EncoderSetupSummary:"encoderSetupSummary",userScrollTranscriptPane:"userScrollTranscriptPane",ShowHideTranscriptToggle:"ShowHideTranscriptToggle",ProviderReportLinkClicked:"ProviderReportLinkClicked",DownloadCSVButtonClicked:"DownloadCSVButtonClicked",embedSummary:"EmbedSummary",embedVideoSummary:"EmbedPlayerActionBarSummary",embedChannelSummary:"EmbedChannelSummary",embedGroupSummary:"EmbedGroupSummary",embedMSTeamsTabConfig:"EmbedMSTeamsTabConfigSummary",embedWatchListSummery:"EmbedWatchlistSummary",embedBrowseSummary:"EmbedBrowseSummary",embedServerError:"embedservererror",embedLoadingFullResources:"embedLoadingFullResources",embedLoadingMinifiedResources:"embedLoadingMinifiedResources",embedClientResourcesLoaded:"embedClientResourcesLoaded",embedLoginScreenShown:"embedLoginScreenShown",embedLoginButtonClicked:"embedLoginButtonClicked",embedVideoPosterClicked:"EmbedVideoPosterClicked",groupEditSummary:"GroupEditSummary",groupCreateSummary:"GroupCreateSummary",principalEditSummary:"PrincipalEditSummary",channelsFollowingEventName:"ChannelsFollowing",channelUpdateEventName:"ChannelUpdateSummary",groupVideosSessionEventName:"groupVideosSessionEventName",browseGroupsSessionEventName:"BrowseGroupsSession",studioGroupsSessionEventName:"studioGroupsSession",siteLoaded:"SiteLoaded",loggerStarted:"Logger_Started",loggerUserServicePlanFetchedOnClient:"Logger_UserServicePlanFetchedOnClient",loggerUserServicePlanFetchedOnWebrole:"Logger_UserServicePlanFetchedOnWebrole",loggerLogCacheFlushed:"Logger_LogCacheFlushed",loggerAppExited:"Logger_AppExited",loggerScreenTagged:"Logger_ScreenTagged",navigationCompleted:"Navigation_Completed",loggerLLInit:"Logger_LocalyticsInitialized",loggerAICacheManualFlush:"Logger_AICacheManualFlush",groupPrincipalsSessionEventName:"groupPrincipalsSessionEventName",addGroupMembersSummary:"AddGroupMembersSummary",presentationFileMissing:"presentationFileMissing",adminDownloadFilesMissing:"adminDownloadFilesMissing",trialCountdownDialogRead:"trialCountdownDialogRead",userNotificationsReady:"userNotificationsReady",alreadySignedIn:"alreadySignedIn",tokenAuthChosen:"tokenAuthChosen",silentLoginChosen:"silentLoginChosen",connectToParentRequested:"connectToParentRequested",getAuthTokenRequested:"getAuthTokenRequested",createInvitationClicked:"createInvitationClicked",editInTeamsClicked:"editInTeamsClicked",editInYammerClicked:"editInYammerClicked",editInOtherAppClicked:"editInOtherAppClicked",officeTopNavRendered:"officeTopNavRendered",officeTopNavLoaded:"officeTopNavLoaded",producerEventStateChanged:"producerEventStateChanged",producerEventStateChangedSaveFailed:"producerEventStateChangedSaveFailed",producerIngestStateChanged:"producerIngestStateChanged",producerError:"producerError",producerEncoderSelected:"producerEncoderSelected",producerSummary:"producerSummary",manifestAvailable:"manifestAvailable",selectStartSetup:"selectStartSetup",selectStartSetupFailed:"selectStartSetupFailed",selectStartEvent:"selectStartEvent",selectStartEventFailed:"selectStartEventFailed",selectDisconnect:"selectDisconnect",selectDisconnectFailed:"selectDisconnectFailed",selectEndEvent:"selectEndEvent",selectEndEventFailed:"selectEndEventFailed",setupStarted:"setupStarted",eventStarted:"eventStarted",setupDisconnected:"setupDisconnected",eventEnded:"eventEnded",liveEventEmbeddedCaptionClickCount:"liveEventEmbeddedCaptionClickCount",signInSuccessful:"signInSuccessful",signInFailed:"signInFailed",signInIncomplete:"signInIncomplete",dataLoaded:"dataLoaded",sessionInfoUserClaimMissing:"sessionInfoUserClaimMissing",tenantFilter:"tenantFilter",encoderSetupUsed:"encoderSetupUsed",wireCastSDownloaded:"wireCastSDownloaded",localyticsError:"LocalyticsError",formsLoaded:"formsLoaded",ShareDialog:"ShareDialog",InteractiveForm:"InteractiveForm",PlayThroughPostMessaging:"PlayThroughPostMessaging",PauseThroughPostMessaging:"PauseThroughPostMessaging",UnknownPlayerFunction:"UnknownPlayerFunction",VideoEditorLoadOptionSelected:"VideoEditorLoadOptionSelected",VideoEditorLoaded:"VideoEditorLoaded",VideoEdited:"VideoEdited",VideoEditFailed:"VideoEditFailed",VideoEditOptionDisplayedForLive:"VideoEditOptionDisplayedForLive",VideoEditOptionDisplayedOnListView:"VideoEditOptionDisplayedOnListView",VideoEditOptionDisplayedOnVideoPage:"VideoEditOptionDisplayedOnVideoPage",VideoEditorPostProcess:"videoEditorPostProcess",StudioRecycleBinSessionEventName:"StudioRecycleBinSessionSummary",AdminSettingsRecycleBinSessionEventName:"AdminSettingsRecycleBinSessionSummary",TranscriptUserAction:"TranscriptUserAction",TopBarMenuItemClicked:"TopBarMenuItemClicked",TabClicked:"TabClicked",TabChanged:"TabChanged",TabChangedCanceled:"TabChangedCanceled",PetrolSucceeded:"PetrolSucceeded",PetrolFailed:"PetrolFailed",OcvAppWideFeedbackSucceeded:"OcvAppWideFeedbackSucceeded",OcvAppWideFeedbackFailed:"OcvAppWideFeedbackFailed",OcvScreenRecorderFeedbackSucceeded:"OcvScreenRecorderFeedbackSucceeded",OcvScreenRecorderFeedbackFailed:"OcvScreenRecorderFeedbackFailed",PublicAnonymousChanged:"PublicAnonymousChanged",PublicAnonymousConfirmationDialogClosed:"PublicAnonymousConfirmationDialogClosed",O365GroupEditFailed:"O365GroupEditFailed",WaitingRoomEntered:"WaitingRoomEntered",WaitingRoomRetry:"WaitingRoomRetry",WaitingRoomExit:"WaitingRoomExit",WaitingRoomAttemptsExhausted:"WaitingRoomAttemptsExhausted",TenantPatchThrottled:"TenantPatchThrottled",TenantPatchFailure:"TenantPatchFailure",TenantPatchError:"TenantPatchError"},t.ItemMetricEventNames={ItemAddedToChannel:"itemAddedToChannel",ItemAddedToGroupChannel:"itemAddedToGroupChannel",ItemAddedToWatchlist:"itemAddedToWatchlist",ItemClicked:"itemClicked",ItemChanged:"itemChanged",ItemDeleteClicked:"itemDeleteClicked",ItemDeletedFromWatchlist:"itemDeletedFromWatchlist",ItemFollowed:"itemFollowed",ItemPublished:"itemPublished",ItemShared:"itemShared",ItemUnfollowed:"itemUnfollowed",ItemDownloaded:"itemDownloaded",ItemPPTDownloaded:"itemPPTDownload",ItemRestoreClicked:"itemRestoreClicked",ItemReplaced:"itemReplaced"},t.TranscriptUserActionNames={EnterEditModeClicked:"EnterEditModeClicked",ExitEditModeClicked:"ExitEditModeClicked",ReplayLineClicked:"ReplayLineClicked",SaveLineEditClicked:"SaveLineEditClicked",DiscardLineEditClicked:"DiscardLineEditClicked",EnableAutoscrollClicked:"EnableAutoscrollClicked",DisableAutoscrollClicked:"DisableAutoscrollClicked"},t.getTelemetryEventName=function(e){switch(e){case i.BrowseVideos:return t.TelemetryEventNames.browseVideosSessionEventName;case i.BrowseChannels:return t.TelemetryEventNames.browseChannelsSessionEventName;case i.BrowseVideos:return t.TelemetryEventNames.browseVideosSessionEventName;case i.BrowseGroups:return t.TelemetryEventNames.browseGroupsSessionEventName;case i.MyVideos:return t.TelemetryEventNames.studioVideosSessionEventName;case i.StudioGroups:return t.TelemetryEventNames.studioGroupsSessionEventName;case i.MyChannels:return t.TelemetryEventNames.studioChannelsSessionEventName;case i.MyMeetings:return t.TelemetryEventNames.studioMeetingsSessionEventName;case i.Watchlist:return t.TelemetryEventNames.myWatchlistVideosSessionEventName;case i.ChannelView:return t.TelemetryEventNames.channelVideosSessionEventName;case i.UserChannels:return t.TelemetryEventNames.userChannelsSessionEventName;case i.UserVideos:return t.TelemetryEventNames.userVideosSessionEventName;case i.RecycleBin:return t.TelemetryEventNames.StudioRecycleBinSessionEventName;case i.AdminSettingsRecycleBin:return t.TelemetryEventNames.AdminSettingsRecycleBinSessionEventName;case i.AdminDownloadVideos:return t.TelemetryEventNames.adminDownloadVideosListEventName;default:return null}},(a=t.SubFeatureName||(t.SubFeatureName={}))[a.NotApplicable=0]="NotApplicable",a[a.MediaUploaderService_CancelUpload=1]="MediaUploaderService_CancelUpload",a[a.AudienceAnalytics_DownloadCSV=2]="AudienceAnalytics_DownloadCSV",a[a.ChannelService_GetVideos=3]="ChannelService_GetVideos",a[a.VideoService_CompleteUpload=4]="VideoService_CompleteUpload",a[a.VideoService_Create=5]="VideoService_Create",a[a.ChannelService_DeleteChannel=6]="ChannelService_DeleteChannel",a[a.VideoService_DeleteVideo=7]="VideoService_DeleteVideo",a[a.ChannelService_Follow=8]="ChannelService_Follow",a[a.ChannelService_GetChannel=9]="ChannelService_GetChannel",a[a.ChannelService_Query=10]="ChannelService_Query",a[a.ChannelService_GetMyFollowingChannels=11]="ChannelService_GetMyFollowingChannels",a[a.VideoService_GetPinnedVideos=12]="VideoService_GetPinnedVideos",a[a.VideoService_GetRecentlyViewedVideos=13]="VideoService_GetRecentlyViewedVideos",a[a.VideoService_GetSupportedExtensions=14]="VideoService_GetSupportedExtensions",a[a.VideoService_GetVideo=15]="VideoService_GetVideo",a[a.VideoService_GetPublicPlaybackUrl=16]="VideoService_GetPublicPlaybackUrl",a[a.VideoService_GetVideoChannels=17]="VideoService_GetVideoChannels",a[a.VideoService_Share=18]="VideoService_Share",a[a.VideoService_GetAll=19]="VideoService_GetAll",a[a.VideoService_GetFiles=20]="VideoService_GetFiles",a[a.ExternalProvider_Yammer=21]="ExternalProvider_Yammer",a[a.PrincipalService_GetMyPrincipalInfo=22]="PrincipalService_GetMyPrincipalInfo",a[a.PrincipalService_GetMyPrincipalInfoForFreAudioEnhancement=23]="PrincipalService_GetMyPrincipalInfoForFreAudioEnhancement",a[a.PrincipalService_PatchMySettings=24]="PrincipalService_PatchMySettings",a[a.PrincipalService_Patch=25]="PrincipalService_Patch",a[a.PrincipalService_PatchFreForAudioEnhancement=26]="PrincipalService_PatchFreForAudioEnhancement",a[a.PrincipalService_Delete=27]="PrincipalService_Delete",a[a.VideoService_GetVideoStatus=28]="VideoService_GetVideoStatus",a[a.VideoService_Like=29]="VideoService_Like",a[a.ChannelService_PatchChannel=30]="ChannelService_PatchChannel",a[a.VideoService_PatchVideo=31]="VideoService_PatchVideo",a[a.VideoService_PatchPublicAnonymous=32]="VideoService_PatchPublicAnonymous",a[a.VideoService_PinVideo=33]="VideoService_PinVideo",a[a.VideoService_GetLinks=34]="VideoService_GetLinks",a[a.VideoService_SetLinks=35]="VideoService_SetLinks",a[a.VideoService_SetLiveEvent=36]="VideoService_SetLiveEvent",a[a.SpotlightService_GetTenantSpotlight=37]="SpotlightService_GetTenantSpotlight",a[a.SpotlightService_GetGroupSpotlight=38]="SpotlightService_GetGroupSpotlight",a[a.LiveEventService_GetTenantLiveEvent=39]="LiveEventService_GetTenantLiveEvent",a[a.ProcessingVideo=40]="ProcessingVideo",a[a.ChannelService_RemoveVideo=41]="ChannelService_RemoveVideo",a[a.ThumbnailService_SetAsPosterImage=42]="ThumbnailService_SetAsPosterImage",a[a.ThumbnailService_Query=43]="ThumbnailService_Query",a[a.ThumbnailService_Create=44]="ThumbnailService_Create",a[a.ChannelService_Search=45]="ChannelService_Search",a[a.PrincipalService_SearchPrincipals=46]="PrincipalService_SearchPrincipals",a[a.PrincipalService_GetforgottenUsers=47]="PrincipalService_GetforgottenUsers",a[a.VideoService_Search=48]="VideoService_Search",a[a.VideoService_StartUpload=49]="VideoService_StartUpload",a[a.MediaUploaderService_Upload=50]="MediaUploaderService_Upload",a[a.VideoService_GetTrendingVideos=51]="VideoService_GetTrendingVideos",a[a.TenantService_GetTenantProvisioningInfo=52]="TenantService_GetTenantProvisioningInfo",a[a.TenantService_GetTenantSettings=53]="TenantService_GetTenantSettings",a[a.TenantService_PatchTenantSettings=54]="TenantService_PatchTenantSettings",a[a.TenantService_GetTenantDomains=55]="TenantService_GetTenantDomains",a[a.TenantService_GetDataExport=56]="TenantService_GetDataExport",a[a.TenantService_ResetCompanyPolicy=57]="TenantService_ResetCompanyPolicy",a[a.ChannelService_Unfollow=58]="ChannelService_Unfollow",a[a.VideoService_UnpinVideo=59]="VideoService_UnpinVideo",a[a.VideoService_Unlike=60]="VideoService_Unlike",a[a.ChannelService_SetPosterImage=61]="ChannelService_SetPosterImage",a[a.General_ShowInviteOthers=62]="General_ShowInviteOthers",a[a.General_ShowGettingStarted=63]="General_ShowGettingStarted",a[a.General_ShowBgUploadNotice=64]="General_ShowBgUploadNotice",a[a.General_ShowVideoLanguageNote=65]="General_ShowVideoLanguageNote",a[a.General_HideDefaultLanguageDialog=66]="General_HideDefaultLanguageDialog",a[a.General_ShowFirstTimeExperienceInVideoEditor=67]="General_ShowFirstTimeExperienceInVideoEditor",a[a.System_PolicyAcknowledgement=68]="System_PolicyAcknowledgement",a[a.System_EmailNotification=69]="System_EmailNotification",a[a.TextTrackDataService_Query=70]="TextTrackDataService_Query",a[a.CommentService_Query=71]="CommentService_Query",a[a.CommentService_Post=72]="CommentService_Post",a[a.CommentService_Patch=73]="CommentService_Patch",a[a.CommentService_Delete=74]="CommentService_Delete",a[a.CommentService_Get=75]="CommentService_Get",a[a.General_BrowserCreateImages=76]="General_BrowserCreateImages",a[a.UploadService_StartUpload=77]="UploadService_StartUpload",a[a.UploadService_UploadFiles=78]="UploadService_UploadFiles",a[a.General_ErrorState=79]="General_ErrorState",a[a.General_PlaybackFailed=80]="General_PlaybackFailed",a[a.ChannelService_Create=81]="ChannelService_Create",a[a.TextTrackDataService_Create=82]="TextTrackDataService_Create",a[a.TextTrackDataService_Delete=83]="TextTrackDataService_Delete",a[a.TextTrackDataService_Patch=84]="TextTrackDataService_Patch",a[a.DisablingTelemetry=85]="DisablingTelemetry",a[a.PrincipalService_GetMyInfo=86]="PrincipalService_GetMyInfo",a[a.PrincipalService_exportData=87]="PrincipalService_exportData",a[a.EnablingTelemetry=88]="EnablingTelemetry",a[a.RoleAssignmentService_GetGlobalAssignment=89]="RoleAssignmentService_GetGlobalAssignment",a[a.RoleAssignmentService_GetChannelAssignment=90]="RoleAssignmentService_GetChannelAssignment",a[a.RoleAssignmentService_GetVideoAssignment=91]="RoleAssignmentService_GetVideoAssignment",a[a.RoleAssignmentService_SetGlobalAssignment=92]="RoleAssignmentService_SetGlobalAssignment",a[a.RoleAssignmentService_SetChannelAssignment=93]="RoleAssignmentService_SetChannelAssignment",a[a.RoleAssignmentService_SetVideoAssignment=94]="RoleAssignmentService_SetVideoAssignment",a[a.RoleAssignmentService_SetGroupAssignment=95]="RoleAssignmentService_SetGroupAssignment",a[a.RoleService_GetViewerRoleId=96]="RoleService_GetViewerRoleId",a[a.RoleService_GetContributorRoleId=97]="RoleService_GetContributorRoleId",a[a.RoleService_GetGlobalRoleId=98]="RoleService_GetGlobalRoleId",a[a.RoleService_GetOwnerRoleId=99]="RoleService_GetOwnerRoleId",a[a.NotificationService_Disconnected=100]="NotificationService_Disconnected",a[a.NotificationService_NotConnected=101]="NotificationService_NotConnected",a[a.NotificationService_ReConnecting=102]="NotificationService_ReConnecting",a[a.NotificationService_ReConnected=103]="NotificationService_ReConnected",a[a.NotificaitonService_SlowConnection=104]="NotificaitonService_SlowConnection",a[a.NotificaitonService_JoinedGroups=105]="NotificaitonService_JoinedGroups",a[a.NotificaitonService_JoinVideoGroups=106]="NotificaitonService_JoinVideoGroups",a[a.NotificaitonService_LeaveVideoGroups=107]="NotificaitonService_LeaveVideoGroups",a[a.VideoEvent_GetTranscriptCaption=108]="VideoEvent_GetTranscriptCaption",a[a.VideoService_GetDownloadUrl=109]="VideoService_GetDownloadUrl",a[a.VideoService_GetAnalyticsDownloadUrl=110]="VideoService_GetAnalyticsDownloadUrl",a[a.VideoService_DownloadVideo=111]="VideoService_DownloadVideo",a[a.VideoService_GetIngest=112]="VideoService_GetIngest",a[a.VideoService_StartIngest=113]="VideoService_StartIngest",a[a.VideoService_StartBroadcast=114]="VideoService_StartBroadcast",a[a.VideoService_StopIngest=115]="VideoService_StopIngest",a[a.VideoService_GetTokens=116]="VideoService_GetTokens",a[a.VideoEvent_Search=117]="VideoEvent_Search",a[a.VideoEvent_HidePerson=118]="VideoEvent_HidePerson",a[a.VideoEvent_UnhidePerson=119]="VideoEvent_UnhidePerson",a[a.VideoEvent_MergePerson=120]="VideoEvent_MergePerson",a[a.VideoEvent_SaveTranscript=121]="VideoEvent_SaveTranscript",a[a.VideoEvent_ReplaceVideo=122]="VideoEvent_ReplaceVideo",a[a.MigrationNoticesService_GetVideoMigrationNotices=123]="MigrationNoticesService_GetVideoMigrationNotices",a[a.MigrationNoticesService_GetTenantMigrationNotices=124]="MigrationNoticesService_GetTenantMigrationNotices",a[a.MigrationNoticesService_GetChannelMigrationNotices=125]="MigrationNoticesService_GetChannelMigrationNotices",a[a.OEmbed_Get=126]="OEmbed_Get",a[a.GroupService_Get=127]="GroupService_Get",a[a.GroupService_Create=128]="GroupService_Create",a[a.GroupService_Patch=129]="GroupService_Patch",a[a.GroupService_Delete=130]="GroupService_Delete",a[a.GroupService_GetMember=131]="GroupService_GetMember",a[a.GroupService_EmailUnique=132]="GroupService_EmailUnique",a[a.GroupService_GetClassifications=133]="GroupService_GetClassifications",a[a.GroupService_GetPolicies=134]="GroupService_GetPolicies",a[a.GroupService_RemoveVideo=135]="GroupService_RemoveVideo",a[a.GroupService_GetPrefixSuffix=136]="GroupService_GetPrefixSuffix",a[a.GroupService_ValidateInGroupCreate=137]="GroupService_ValidateInGroupCreate",a[a.GroupService_ValidateInGroupEdit=138]="GroupService_ValidateInGroupEdit",a[a.GroupService_RemoveMember=139]="GroupService_RemoveMember",a[a.ChannelEvent_DeletePosterImage=140]="ChannelEvent_DeletePosterImage",a[a.GroupService_GetTrendingVideos=141]="GroupService_GetTrendingVideos",a[a.GroupService_GetChannels=142]="GroupService_GetChannels",a[a.GroupService_GetVideos=143]="GroupService_GetVideos",a[a.GroupService_AddMembers=144]="GroupService_AddMembers",a[a.GroupService_Search=145]="GroupService_Search",a[a.PersonService_GetPersons=146]="PersonService_GetPersons",a[a.GroupService_ListMembers=147]="GroupService_ListMembers",a[a.TenantService_GetTenantUsages=148]="TenantService_GetTenantUsages",a[a.UserNotificationService_Query=149]="UserNotificationService_Query",a[a.UserNotificationService_Get=150]="UserNotificationService_Get",a[a.UserNotificationService_Read=151]="UserNotificationService_Read",a[a.UserNotificationService_Dismiss=152]="UserNotificationService_Dismiss",a[a.GetAuthToken_MicrosoftTeams=153]="GetAuthToken_MicrosoftTeams",a[a.GetAuthToken_StreamPostMessageSDK=154]="GetAuthToken_StreamPostMessageSDK",a[a.LiveEvent_ResetPosterImage=155]="LiveEvent_ResetPosterImage",a[a.LiveEvent_CreateInvite=156]="LiveEvent_CreateInvite",a[a.LiveEvent_ReplaceVideo=157]="LiveEvent_ReplaceVideo",a[a.SDN_Plugin_File=158]="SDN_Plugin_File",a[a.SDNInitFailure=159]="SDNInitFailure",a[a.SDNFatalError=160]="SDNFatalError",a[a.Forms_Get=161]="Forms_Get",a[a.Forms_Add=162]="Forms_Add",a[a.Forms_Delete=163]="Forms_Delete",a[a.RecycleBinService_DeleteVideo=164]="RecycleBinService_DeleteVideo",a[a.RecycleBinService_RestoreVideo=165]="RecycleBinService_RestoreVideo",a[a.LocaleHelperService_SettingLocale=166]="LocaleHelperService_SettingLocale",(c=t.VideoPlaybackError||(t.VideoPlaybackError={}))[c.KeyAcquireError=0]="KeyAcquireError",c[c.NetworkTimeoutError=1]="NetworkTimeoutError",c[c.SegmentDecryptError=2]="SegmentDecryptError",c[c.MediaAbortedError=3]="MediaAbortedError",c[c.ClientNetworkError=4]="ClientNetworkError",c[c.ServerNetworkError=5]="ServerNetworkError",c[c.GenericNetworkError=6]="GenericNetworkError",c[c.NoInternetConnectionError=7]="NoInternetConnectionError",c[c.AESDecodeError=8]="AESDecodeError",c[c.SourceNotSupportedError=9]="SourceNotSupportedError",c[c.GenericDecryptError=10]="GenericDecryptError",c[c.PlayerMismatchError=11]="PlayerMismatchError",c[c.UnknownError=12]="UnknownError",(l=t.FeatureName||(t.FeatureName={}))[l.NotApplicable=0]="NotApplicable",l[l.AddVideoToChannel=1]="AddVideoToChannel",l[l.AudienceAnalytics=2]="AudienceAnalytics",l[l.ChannelVideos=3]="ChannelVideos",l[l.ChannelsFollowing=4]="ChannelsFollowing",l[l.CreateChannel=5]="CreateChannel",l[l.DeleteChannel=6]="DeleteChannel",l[l.DeleteVideo=7]="DeleteVideo",l[l.DeleteTextTrack=8]="DeleteTextTrack",l[l.Follow=9]="Follow",l[l.GetVideo=10]="GetVideo",l[l.LoadChannelPage=11]="LoadChannelPage",l[l.LoadEmbedVideoPage=12]="LoadEmbedVideoPage",l[l.LoadEmbedLiveStatisticsPage=13]="LoadEmbedLiveStatisticsPage",l[l.LoadEmbedProducerPage=14]="LoadEmbedProducerPage",l[l.LoadVideoPage=15]="LoadVideoPage",l[l.LoadVideoPlayer=16]="LoadVideoPlayer",l[l.LoadExternalProviderScript=17]="LoadExternalProviderScript",l[l.LoadVideoUpdatePage=18]="LoadVideoUpdatePage",l[l.LoadSdnPlugin=19]="LoadSdnPlugin",l[l.PinVideo=20]="PinVideo",l[l.PopularChannels=21]="PopularChannels",l[l.UnpinVideo=22]="UnpinVideo",l[l.LikeVideo=23]="LikeVideo",l[l.UnlikeVideo=24]="UnlikeVideo",l[l.PublishVideo=25]="PublishVideo",l[l.RemoveVideoFromChannel=26]="RemoveVideoFromChannel",l[l.RemoveVideoFromGroup=27]="RemoveVideoFromGroup",l[l.ReplaceVideo=28]="ReplaceVideo",l[l.ShareVideo=29]="ShareVideo",l[l.CreatePublicAnonymousLink=30]="CreatePublicAnonymousLink",l[l.SearchChannels=31]="SearchChannels",l[l.SearchPrincipals=32]="SearchPrincipals",l[l.SearchVideos=33]="SearchVideos",l[l.SearchGroupVideos=34]="SearchGroupVideos",l[l.TrendingVideos=35]="TrendingVideos",l[l.TenantProvisioning=36]="TenantProvisioning",l[l.UpdateChannel=37]="UpdateChannel",l[l.UpdateVideo=38]="UpdateVideo",l[l.UploadCustomThumbnail=39]="UploadCustomThumbnail",l[l.UploadTextTrack=40]="UploadTextTrack",l[l.UpdateTextTrack=41]="UpdateTextTrack",l[l.UploadVideo=42]="UploadVideo",l[l.UnFollow=43]="UnFollow",l[l.VideoPlayback=44]="VideoPlayback",l[l.VideoPlaybackTrace=45]="VideoPlaybackTrace",l[l.WatchListVideos=46]="WatchListVideos",l[l.RecentlyViewedVideos=47]="RecentlyViewedVideos",l[l.InviteOthers=48]="InviteOthers",l[l.RenewTokenWebTier=49]="RenewTokenWebTier",l[l.RenewApiGatewayTokenCookie=50]="RenewApiGatewayTokenCookie",l[l.RenewTokenAdal=51]="RenewTokenAdal",l[l.GetVideoStatus=52]="GetVideoStatus",l[l.GetVideoChannels=53]="GetVideoChannels",l[l.GetSupportedExtensions=54]="GetSupportedExtensions",l[l.GetPrincipalSettings=55]="GetPrincipalSettings",l[l.UpdatePrincipalSettings=56]="UpdatePrincipalSettings",l[l.GetComments=57]="GetComments",l[l.PostComment=58]="PostComment",l[l.UpdateComment=59]="UpdateComment",l[l.DeleteComment=60]="DeleteComment",l[l.EnableOrDisableTelemetry=61]="EnableOrDisableTelemetry",l[l.DisableTelemetry=62]="DisableTelemetry",l[l.GetUser=63]="GetUser",l[l.GetAdminSettings=64]="GetAdminSettings",l[l.GetForgottenUsers=65]="GetForgottenUsers",l[l.GetUserSettings=66]="GetUserSettings",l[l.GetTenantSpotlightVideos=67]="GetTenantSpotlightVideos",l[l.GetGroupSpotlightVideos=68]="GetGroupSpotlightVideos",l[l.UpdateAdminSettings=69]="UpdateAdminSettings",l[l.UpdateAdminCommentSettings=70]="UpdateAdminCommentSettings",l[l.UpdateAdminFaceDetectionSettings=71]="UpdateAdminFaceDetectionSettings",l[l.UpdateAdminCompanyPolicySettings=72]="UpdateAdminCompanyPolicySettings",l[l.UpdateAdminContentCreationSettings=73]="UpdateAdminContentCreationSettings",l[l.UpdateAdminLiveEventsSettings=74]="UpdateAdminLiveEventsSettings",l[l.UpdateAdminAssignAdminSettings=75]="UpdateAdminAssignAdminSettings",l[l.UpdateAdminSpotlightSettings=76]="UpdateAdminSpotlightSettings",l[l.UpdateAdminNetworkCachingSettings=77]="UpdateAdminNetworkCachingSettings",l[l.UpdateAdminExternalSharingSettings=78]="UpdateAdminExternalSharingSettings",l[l.ResetCompanyPolicy=79]="ResetCompanyPolicy",l[l.GeneratePersonalData=80]="GeneratePersonalData",l[l.UpdateGroupSpotlight=81]="UpdateGroupSpotlight",l[l.GetVideoForSpotlight=82]="GetVideoForSpotlight",l[l.GetVideosForSpotlight=83]="GetVideosForSpotlight",l[l.GetVideosForLiveEvent=84]="GetVideosForLiveEvent",l[l.PublicShareOptionShown=85]="PublicShareOptionShown",l[l.GetAdminDownloadVideos=86]="GetAdminDownloadVideos",l[l.GetAdminDownloadFiles=87]="GetAdminDownloadFiles",l[l.GetforgottenUsers=88]="GetforgottenUsers",l[l.GetUserExportData=89]="GetUserExportData",l[l.GetUploadPermissions=90]="GetUploadPermissions",l[l.LoadUserSettingsPage=91]="LoadUserSettingsPage",l[l.Topbar=92]="Topbar",l[l.NotificationConnection=93]="NotificationConnection",l[l.NotificationHubsJSLoad=94]="NotificationHubsJSLoad",l[l.UploadChannelCustomThumbnail=95]="UploadChannelCustomThumbnail",l[l.UploadVideoCustomThumbnail=96]="UploadVideoCustomThumbnail",l[l.UploadLiveVideoCustomThumbnail=97]="UploadLiveVideoCustomThumbnail",l[l.SaveVideoCustomThumbnail=98]="SaveVideoCustomThumbnail",l[l.LoadEmbedChannelPage=99]="LoadEmbedChannelPage",l[l.LoadEmbedGroupPage=100]="LoadEmbedGroupPage",l[l.EmailShare=101]="EmailShare",l[l.GetChannelByName=102]="GetChannelByName",l[l.LoadVideoTranscriptEvent=103]="LoadVideoTranscriptEvent",l[l.DownloadVideo=104]="DownloadVideo",l[l.GetVideoDownloadUrl=105]="GetVideoDownloadUrl",l[l.GetAnalyticsDownloadUrl=106]="GetAnalyticsDownloadUrl",l[l.ClickSearchTranscriptButton=107]="ClickSearchTranscriptButton",l[l.SearchVideoTranscriptEvent=108]="SearchVideoTranscriptEvent",l[l.TranscriptSelectedInSearchResult=109]="TranscriptSelectedInSearchResult",l[l.OEmbed=110]="OEmbed",l[l.EmbedVideoSearch=111]="EmbedVideoSearch",l[l.LiveUpdatePage=112]="LiveUpdatePage",l[l.LiveCreateInvite=113]="LiveCreateInvite",l[l.GetTenantSettings=114]="GetTenantSettings",l[l.VideoPlayback_KeyAcquireError=115]="VideoPlayback_KeyAcquireError",l[l.VideoPlayback_NetworkTimeoutError=116]="VideoPlayback_NetworkTimeoutError",l[l.VideoPlayback_SegmentDecryptError=117]="VideoPlayback_SegmentDecryptError",l[l.VideoPlayback_MediaAbortedError=118]="VideoPlayback_MediaAbortedError",l[l.VideoPlayback_ClientNetworkError=119]="VideoPlayback_ClientNetworkError",l[l.VideoPlayback_ServerNetworkError=120]="VideoPlayback_ServerNetworkError",l[l.VideoPlayback_GenericNetworkError=121]="VideoPlayback_GenericNetworkError",l[l.VideoPlayback_AESDecodeError=122]="VideoPlayback_AESDecodeError",l[l.VideoPlayback_SourceNotSupportedError=123]="VideoPlayback_SourceNotSupportedError",l[l.VideoPlayback_GenericDecryptError=124]="VideoPlayback_GenericDecryptError",l[l.VideoPlayback_PlayerMismatchError=125]="VideoPlayback_PlayerMismatchError",l[l.VideoPlayback_UnknownError=126]="VideoPlayback_UnknownError",l[l.Group=127]="Group",l[l.GroupEdit=128]="GroupEdit",l[l.GroupCreate=129]="GroupCreate",l[l.GroupDelete=130]="GroupDelete",l[l.GroupVideos=131]="GroupVideos",l[l.GroupChannels=132]="GroupChannels",l[l.GroupTrendingVideos=133]="GroupTrendingVideos",l[l.GroupPopularChannels=134]="GroupPopularChannels",l[l.GroupRecentVideos=135]="GroupRecentVideos",l[l.PrincipalEdit=136]="PrincipalEdit",l[l.PrincipalDelete=137]="PrincipalDelete",l[l.ListGroups=138]="ListGroups",l[l.ListGroupMembers=139]="ListGroupMembers",l[l.LoadPersons=140]="LoadPersons",l[l.HidePerson=141]="HidePerson",l[l.UnHidePerson=142]="UnHidePerson",l[l.MergePerson=143]="MergePerson",l[l.RenewAntiForgeryToken=144]="RenewAntiForgeryToken",l[l.LoggerInitialization=145]="LoggerInitialization",l[l.SaveTranscript=146]="SaveTranscript",l[l.AddGroupMembers=147]="AddGroupMembers",l[l.AdminManagement_DataUsage=148]="AdminManagement_DataUsage",l[l.UserNotifications=149]="UserNotifications",l[l.TrialSuspensionDialog=150]="TrialSuspensionDialog",l[l.SessionInfoWebTier=151]="SessionInfoWebTier",l[l.ExchangeToken=152]="ExchangeToken",l[l.ExchangeFormsToken=153]="ExchangeFormsToken",l[l.GetAuthToken=154]="GetAuthToken",l[l.ConnectToParent=155]="ConnectToParent",l[l.TokenSSO=156]="TokenSSO",l[l.OfficeTopNav=157]="OfficeTopNav",l[l.SetUpSDN=158]="SetUpSDN",l[l.LiveProducerCreate=159]="LiveProducerCreate",l[l.LiveProducerSetup=160]="LiveProducerSetup",l[l.LiveProducerBroadcast=161]="LiveProducerBroadcast",l[l.LiveProducerPostprocess=162]="LiveProducerPostprocess",l[l.LiveProducerUpdate=163]="LiveProducerUpdate",l[l.LivePlayback=164]="LivePlayback",l[l.LivePlayback_KeyAcquireError=165]="LivePlayback_KeyAcquireError",l[l.LivePlayback_NetworkTimeoutError=166]="LivePlayback_NetworkTimeoutError",l[l.LivePlayback_SegmentDecryptError=167]="LivePlayback_SegmentDecryptError",l[l.LivePlayback_MediaAbortedError=168]="LivePlayback_MediaAbortedError",l[l.LivePlayback_ClientNetworkError=169]="LivePlayback_ClientNetworkError",l[l.LivePlayback_ServerNetworkError=170]="LivePlayback_ServerNetworkError",l[l.LivePlayback_GenericNetworkError=171]="LivePlayback_GenericNetworkError",l[l.LivePlayback_AESDecodeError=172]="LivePlayback_AESDecodeError",l[l.LivePlayback_SourceNotSupportedError=173]="LivePlayback_SourceNotSupportedError",l[l.LivePlayback_GenericDecryptError=174]="LivePlayback_GenericDecryptError",l[l.LivePlayback_PlayerMismatchError=175]="LivePlayback_PlayerMismatchError",l[l.LivePlayback_UnknownError=176]="LivePlayback_UnknownError",l[l.OfficeMigration=177]="OfficeMigration",l[l.OFficeMigration_GetMigrationNotices=178]="OFficeMigration_GetMigrationNotices",l[l.ProducerPlayback=179]="ProducerPlayback",l[l.VideoPlayback_LoadTimeExceededThreshold=180]="VideoPlayback_LoadTimeExceededThreshold",l[l.VideoPlayback_BufferingExceededThreshold=181]="VideoPlayback_BufferingExceededThreshold",l[l.VideoPlayback_ChunkDownloadFailuresExceededThreshold=182]="VideoPlayback_ChunkDownloadFailuresExceededThreshold",l[l.LivePlayback_LoadTimeExceededThreshold=183]="LivePlayback_LoadTimeExceededThreshold",l[l.LivePlayback_BufferingExceededThreshold=184]="LivePlayback_BufferingExceededThreshold",l[l.LivePlayback_ChunkDownloadFailuresExceededThreshold=185]="LivePlayback_ChunkDownloadFailuresExceededThreshold",l[l.Forms=186]="Forms",l[l.PrincipalItemListGroupMembers=187]="PrincipalItemListGroupMembers",l[l.AddForm=188]="AddForm",l[l.ShowHideTranscriptToggle=189]="ShowHideTranscriptToggle",l[l.RecycleBinList=190]="RecycleBinList",l[l.RecycleBinDeleteVideo=191]="RecycleBinDeleteVideo",l[l.RecycleBinRestoreVideo=192]="RecycleBinRestoreVideo",l[l.LocaleHelperService=193]="LocaleHelperService",l[l.GetECSConfig=194]="GetECSConfig",l[l.RetryBgUpload=195]="RetryBgUpload",l[l.SetDefaultSortOption=196]="SetDefaultSortOption",l[l.RenewLokiToken=197]="RenewLokiToken",l[l.RenewMSGraphToken=198]="RenewMSGraphToken",l[l.O365Group=199]="O365Group",l[l.O365GroupLoadedAfterUpdate=200]="O365GroupLoadedAfterUpdate",l[l.ApproveAccessRequest=201]="ApproveAccessRequest",l[l.DenyAccessRequest=202]="DenyAccessRequest",l[l.RedirectToNewVideoPage=203]="RedirectToNewVideoPage",(u=t.FormsEventType||(t.FormsEventType={})).PanelAddNewFormClicked="panelAddNewFormClicked",u.PanelFormAddedClicked="panelFormAddedClicked",u.PanelAddCanceledClicked="panelAddCanceledClicked",u.PanelDeleteClicked="panelDeleteClicked",u.FormUserInteraction="formUserInteraction",u.FormContinueClicked="formContinueClicked",u.FormOpenClicked="formOpenClicked",u.FormVideoMarkerClicked="formVideoMarkerClicked",u.FormClosed="formClosed",u.FormOpened="formOpened"},"./app/models/UserNotificationModels.ts":function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.UserNotificationSeverity||(t.UserNotificationSeverity={}))[n.None=0]="None",n[n.Warning=1]="Warning",n[n.Critical=2]="Critical"},"./app/services/ClearQueryParamsService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=(o.prototype.init=function(){var e=this;this.$rootScope.$on("$locationChangeStart",(function(t,n,i){var r=e.navigationService.parseURL(i),o=e.navigationService.parseURL(n);e.diffPathName=r.pathname!==o.pathname,i!==n&&o.search&&r.search&&e.diffPathName&&_.forOwn(r.searchObject,(function(t,n){n in o.searchObject||e.$location.search(n,null)}))}))},o.$inject=["$rootScope","$router","$location","navigationService"],o);function o(e,t,n,i){this.$rootScope=e,this.$location=n,this.navigationService=i,this.diffPathName=!1,this.init()}t.ClearQueryParamsService=r,i.registerService("clearQueryParamsService",r,angular.module("jumper.services"))},"./app/services/ConfirmationDialogService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./app/Controls/Dialogs/ConfirmationDialog/ConfirmationDialog.less"),t.ConfirmationDialogModel=function(){};var i=(r.prototype.show=function(e){var t={template:n("./app/Controls/Dialogs/ConfirmationDialog/ConfirmationDialog.html"),controller:"ConfirmationDialogController",controllerAs:"ConfirmationDialog",closeByDocument:!0,plain:!0,className:"c-dialog",showClose:!1,resolve:{dialogModel:function(){return e}}};return this.ngDialog.openConfirm(t)},r.$inject=["ngDialog"],r);function r(e){this.ngDialog=e}t.ConfirmationDialogService=i,angular.module("jumper.services").service("confirmationDialogService",i)},"./app/services/CustomProtocolDetectionService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/DetectProtocol.ts"),r=(o.prototype.checkStatus=function(e){return this.$q((function(t,n){i.DetectProtocol.dp(e,(function(){t(!1)}),(function(){t(!0)}))}))},o.$inject=["$q"],o);function o(e){this.$q=e}t.CustomProtocolDetectionService=r,angular.module("jumper.services").service("customProtocolDetectionService",r)},"./app/services/Data/AccessRequestService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=(o.prototype.get=function(e){var t={id:e};return this.dataService.get(i.Constants.AssetPaths.AccessRequest,t)},o.prototype.deny=function(e){var t={id:e};return this.dataService.post(i.Constants.AssetPaths.AccessRequest+"/deny",t,{})},o.prototype.approve=function(e){var t={id:e};return this.dataService.post(i.Constants.AssetPaths.AccessRequest+"/approve",t,{})},o.$inject=["dataService"],o);function o(e){this.dataService=e}t.AccessRequestService=r,angular.module("jumper.services").service("accessRequestService",r)},"./app/services/Data/ChannelService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/string.ts"),o=n("./app/services/Data/ServiceUtils.ts"),s=(a.prototype.get=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0);var r={id:e,$expand:"creator"};return n&&(r[i.Constants.DataQueryParams.Expand]=r[i.Constants.DataQueryParams.Expand]+",group"),t&&(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.Channel,r)},a.prototype.create=function(e,t,n,r){void 0===r&&(r=!1);var o={name:e,description:t},s={};return r&&(s[i.Constants.DataQueryParams.AdminMode]=!0),n&&(o["group@odata.bind"]=n),this.dataService.post(i.Constants.AssetPaths.Channels,s,o).then((function(e){if(201===e.status)return e.data;throw e}))},a.prototype.getChannel=function(e,t){void 0===t&&(t=!1);var n={$top:1,$filter:"name eq '"+r.escapeFilterSingleQuote(e)+"'"};return t&&(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.query(i.Constants.AssetPaths.Channels,n).then((function(e){return e.data.value&&1===e.data.value.length?e.data.value[0]:null}))},a.prototype.delete=function(e,t){void 0===t&&(t=!1);var n={id:e};return t&&(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.delete(i.Constants.AssetPaths.Channel,n)},a.prototype.patch=function(e,t,n){void 0===n&&(n=!1);var r={id:e};return n&&(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.patch(i.Constants.AssetPaths.Channel,r,t).then((function(e){return e.data}))},a.prototype.removeVideo=function(e,t,n){void 0===n&&(n=!1);var r={id:e};return n&&(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Channel+"/"+i.Constants.ChannelActions.RemoveVideo,r,{videoId:t})},a.prototype.query=function(e,t,n,s,a,c,l,u,d){void 0===a&&(a=""),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===u&&(u=!1),void 0===d&&(d=!1);var p=o.channelFilterConfig(e,t,n,s,"",c,u);return p.$filter=p.$filter?p.$filter+" and isDefault eq false":"isDefault eq false",l&&(p.$filter+=" and not group/isDefault"),a&&(p.$filter+=" and startswith(name,'"+r.escapeFilterSingleQuote(a)+"')"),d&&(p[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.query("/channels",p)},a.prototype.getMyFollowingChannels=function(e,t,n,i,r,o,s){return void 0===i&&(i=""),void 0===r&&(r=0),void 0===o&&(o=!1),void 0===s&&(s=!1),this.searchInternal(i,t,n,r,e,o,s,{$filter:"userData/isFollowed"})},a.prototype.getVideos=function(e,t,n,o,s,a,c,l){var u={id:e,$top:t.toString(),$skip:n.toString(),$filter:i.Constants.VideosInChannelQueryFilter,$expand:"creator"};return c&&(u[i.Constants.DataQueryParams.AdminMode]=!0),a&&a.length&&(u[i.Constants.DataQueryParams.Search]=a),_.isFinite(t)?u.$top=0<t?t.toString():i.Constants.QueryConfigDefaults.DefaultTop:u.$top=i.Constants.QueryConfigDefaults.DefaultTop,_.isFinite(n)?u.$skip=0<=n?n.toString():i.Constants.QueryConfigDefaults.DefaultSkip:u.$skip=i.Constants.QueryConfigDefaults.DefaultSkip,o&&o!==i.Constants.VideoSortOptions.Relevance&&(u[i.Constants.DataQueryParams.OrderBy]=r.formatString("{0} {1}",o,s)),l&&(u[i.Constants.DataQueryParams.Expand]=u[i.Constants.DataQueryParams.Expand]+",events"),this.dataService.query(i.Constants.AssetPaths.ChannelVideos,u)},a.prototype.follow=function(e){return this.dataService.post(i.Constants.AssetPaths.Channel+"/"+i.Constants.ChannelActions.Follow,{id:e},{})},a.prototype.unfollow=function(e){return this.dataService.post(i.Constants.AssetPaths.Channel+"/"+i.Constants.ChannelActions.Unfollow,{id:e},{})},a.prototype.search=function(e,t,n,r,o,s,a){return void 0===r&&(r=i.Constants.DefaultQueryCounts.top),void 0===o&&(o=i.Constants.DefaultQueryCounts.top),void 0===s&&(s=!1),void 0===a&&(a=!1),this.searchInternal(e,t,n,r,o,s,a)},a.prototype.getUserChannels=function(e,t,n,r,o,s,a,c){void 0===o&&(o=i.Constants.DefaultQueryCounts.top),void 0===s&&(s=i.Constants.DefaultQueryCounts.top),void 0===a&&(a=!1),void 0===c&&(c=!1);var l={$filter:"creator/id eq '"+e+"'"};return this.searchInternal(t,n,r,o,s,a,c,l)},a.prototype.getMyChannels=function(e,t,n,r,o,s,a){return void 0===r&&(r=i.Constants.DefaultQueryCounts.top),void 0===o&&(o=i.Constants.DefaultQueryCounts.top),void 0===s&&(s=!1),void 0===a&&(a=!1),this.getUserChannels(sessionInfo.UserClaim.UserInfo.UniqueId,e,t,n,r,o,s,a)},a.prototype.setVideoAsPosterImage=function(e,t,n){void 0===n&&(n=!1);var r={id:e};return n&&(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Channel+"/"+i.Constants.ChannelActions.SetVideoAsPosterImage,r,{videoId:t})},a.prototype.searchInternal=function(e,t,n,o,s,a,c,l){return void 0===o&&(o=0),void 0===s&&(s=i.Constants.DefaultQueryCounts.top),void 0===a&&(a=!1),void 0===c&&(c=!1),void 0===l&&(l={}),c&&(l[i.Constants.DataQueryParams.AdminMode]=!0),o&&(l[i.Constants.DataQueryParams.Skip]=o.toString()),l[i.Constants.DataQueryParams.Top]=s?Math.min(s,i.Constants.QueryConfigDefaults.MaxTop).toString():i.Constants.DefaultQueryCounts.top.toString(),e&&(l[i.Constants.DataQueryParams.Search]=e),t!==i.Constants.VideoSortOptions.Relevance&&(l[i.Constants.DataQueryParams.OrderBy]=r.formatString("{0} {1}",t,n)),a?(l[i.Constants.DataQueryParams.Expand]="creator,group",l[i.Constants.DataQueryParams.Filter]=l[i.Constants.DataQueryParams.Filter]?l[i.Constants.DataQueryParams.Filter]+" and isDefault eq false":"isDefault eq false"):l[i.Constants.DataQueryParams.Expand]="creator",this.dataService.query(i.Constants.AssetPaths.Channels,l)},a.$inject=["dataService","featureFlagsService"],a);function a(e,t){this.dataService=e,this.featureFlagsService=t}t.ChannelService=s,angular.module("jumper.services").service("channelService",s)},"./app/services/Data/CommentService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/string.ts"),r=n("./app/utility/Constants.ts"),o=(s.prototype.get=function(e,t,n){var i=this;void 0===n&&(n=!1);var o={videoId:e,commentId:t,$expand:"creator"};return n&&(o[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(this.commentPath,o).then((function(e){return i.$q.resolve(e.data)}),(function(e){return i.$q.reject(e)}))},s.prototype.create=function(e,t,n){var i=this;void 0===n&&(n=!1);var o={videoId:e};return n&&(o[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(this.commentsPath,o,t).then((function(e){return i.$q.resolve(e.data)}),(function(e){return i.$q.reject(e)}))},s.prototype.delete=function(e,t,n){var i=this;void 0===n&&(n=!1);var o={videoId:e,commentId:t};return n&&(o[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.delete(this.commentPath,o).then((function(e){return i.$q.resolve()}),(function(e){return i.$q.reject(e)}))},s.prototype.update=function(e,t,n,i){var o=this;void 0===i&&(i=!1);var s={videoId:e,commentId:t};return i&&(s[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.patch(this.commentPath,s,n).then((function(e){return o.$q.resolve(e.data)}),(function(e){return o.$q.reject(e)}))},s.prototype.query=function(e,t,n,o){var s=this;void 0===o&&(o=!1);var a=r.Constants.CommentSortOptions.Created,c=r.Constants.SortDirection.Descending,l={videoId:e,$top:t.toString(),$skip:n.toString(),$orderby:i.formatString("{0} {1}",a,c),$expand:"creator"};return o&&(l[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(this.commentsPath,l).then((function(e){return s.$q.resolve(e.data.value)}),(function(e){return s.$q.reject(e)}))},s.$inject=["$q","dataService"],s);function s(e,t){this.$q=e,this.dataService=t,this.commentsPath="/videos/:videoId/comments",this.commentPath="/videos/:videoId/comments/:commentId"}t.CommentService=o,angular.module("jumper.services").service("commentService",o)},"./app/services/Data/DataService.ts":function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/utility/FormatDottedUrl.ts"),a=n("./app/utility/appUtil.ts"),c=n("./app/utility/Constants.ts"),l=n("./app/utility/ActivityIds.ts"),u=n("./app/utility/appUtil.ts"),d=n("./app/services/Data/ResilientDataService.ts"),p=(r(A,o=d.ResilientDataService),A.prototype.get=function(e,t){return this.makeRequest("GET",e,t)},A.prototype.getWithCorsSupport=function(e,t){return this.makeRequest("GET",e,t,null,null,null,!0)},A.prototype.put=function(e,t,n,i){return this.makeRequest("PUT",e,t,n,null,i)},A.prototype.patch=function(e,t,n){return this.makeRequest("PATCH",e,t,n)},A.prototype.post=function(e,t,n){return this.makeRequest("POST",e,t,n)},A.prototype.delete=function(e,t){return this.makeRequest("DELETE",e,t)},A.prototype.query=function(e,t){var n,i;return void 0!==t.$top&&(n=parseInt(t.$top),_.isFinite(n)?t.$top=Math.min(c.Constants.QueryConfigDefaults.MaxTop,0<n?n:c.Constants.QueryConfigDefaults.DefaultTop).toString():t.$top=c.Constants.QueryConfigDefaults.DefaultTop,t.$top=t.$top.toString()),void 0!==t.$skip&&(i=parseInt(t.$skip),_.isFinite(i)?t.$skip=Math.max(c.Constants.QueryConfigDefaults.DefaultSkip,i):t.$skip=c.Constants.QueryConfigDefaults.DefaultSkip,t.$skip=t.$skip.toString()),this.makeRequest("GET",e,t,null,!0)},A.prototype.makeSkipTokenRequest=function(e){return this.makeSimpleAuthenticatedRequest(e,"GET")},A.prototype.makeWebTierRequest=function(e,t,n,i){var r={"x-ms-client-request-id":a.generateGuid()};"POST"===t&&(sessionInfo.AntiForgeryToken?r.__RequestVerificationToken=sessionInfo.AntiForgeryToken:r.__RequestVerificationToken=$("#__AjaxAntiForgeryForm input[name=__RequestVerificationToken]").val());var o=s.formatDottedUrl("",e,n,i);return this.makeSimpleRequest(o,t,r,i)},A.prototype.makeRequest=function(e,t,n,i,r,o,s){return this.makeRequestWithApiGatewayCheck(e,t,n,i,r,o,s)},A.prototype.makeRequestWithApiGatewayCheck=function(e,t,n,i,r,o,s){var a=this,c=n&&n.apiVersion?n.apiVersion:sessionInfo.ApiGatewayVersion;return sessionInfo.ApiGatewayUri?this.makeRequestInternal(sessionInfo.ApiGatewayUri,c,e,t,n,i,r,o,s):this.makeRequestInternal(portalConfiguration.TenantServiceUri,portalConfiguration.TenantServiceApiVersion,"PATCH","api/tenants/:id",{id:sessionInfo.UserClaim.TenantId},"{}").then((function(l){return sessionInfo.ApiGatewayUri=l.data.apiEndpoint,sessionInfo.DataLocation=l.data.DataLocation,a.makeRequestInternal(sessionInfo.ApiGatewayUri,c,e,t,n,i,r,o,s)}))},A.prototype.makeSimpleRequest=function(e,t,n,i){if(!e)return this.$q.reject("Url is not specified");var r={method:t,url:e,headers:n,data:/^(POST|PUT|PATCH)$/i.test(t)?this.toJson(i):void 0};return this.executeWithRetry(r)},A.prototype.makeSimpleAuthenticatedRequest=function(e,t,n){return e?this.formRequest(t,e,null,null,null,n):this.$q.reject("Url is not specified")},A.prototype.execute=function(e){var t=this.$q.defer();return this.$http(e).then((function(e){t.resolve(e)}),(function(e){t.reject(e)})),t.promise},A.prototype.makeRequestInternal=function(e,t,n,i,r,o,a,l,u){var d=this.navigationService.getLowerCasedQueryParams()||{};if(!e)return this.$q.reject("Url is not specified");var p={},A=d[c.Constants.PiiFreeQueryStringKeys.HostCorrelationId];return A&&(p={hostcorrelationid:A}),t&&(r=angular.extend({},r||{},{apiVersion:t},p)),this.formRequest(n,s.formatDottedUrl(e,i,r,o),l,o,u)},A.prototype.formRequest=function(e,t,n,i,r,o){var s=l.ActivityIds.getCurrentActivityId(this.navigationService),c={method:e,url:t,headers:n=angular.extend({},n||{},{Authorization:"Bearer "+sessionInfo.AccessToken,"x-ms-client-request-id":a.generateGuid(),"x-ms-correlation-request-id":s,"x-ms-client-session-id":sessionInfo.ClientSessionId,"Accept-Language":sessionInfo.UserLanguage}),data:/^(POST|PUT|PATCH)$/i.test(e)?this.toJson(i):void 0,withCredentials:r,responseType:o};return this.executeWithRetry(c)},A.prototype.toJson=function(e){return e&&angular.isFunction(e.toJSON)?e.toJSON():e},A.$inject=["$rootScope","$http","$timeout","$q","navigationService","telemetryService"],A);function A(e,t,n,i,r,s){var a=o.call(this,t,i,n)||this;return a.$rootScope=e,a.navigationService=r,a.telemetryService=s,a}t.DataService=p,u.registerService("dataService",p,angular.module("jumper.services"))},"./app/services/Data/GroupService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/string.ts"),o=n("./app/services/Data/ServiceUtils.ts"),s=(a.prototype.query=function(e,t,n,o,s,a,c,l){void 0===o&&(o=i.Constants.DefaultQueryCounts.top),void 0===s&&(s=i.Constants.DefaultQueryCounts.top),void 0===a&&(a=!1),void 0===c&&(c=!1);var u={$skip:o.toString(),$top:s.toString()},d=[];return c&&(u.$expand="channels"),e&&d.push("startswith(name,'"+r.escapeFilterSingleQuote(e)+"')"),a&&d.push(i.Constants.GroupFilterMediaOptions.CanAddMediaItemsToChannel),d.length&&(u.$filter=d.join(" and ")),t!==i.Constants.GroupsSortOptions.Relevance&&(u.$orderby=r.formatString("{0} {1}",t,n)),l&&(u.$filterempty=!0),this.dataService.query(i.Constants.AssetPaths.Groups,u)},a.prototype.getMyGroups=function(e,t,n,o,s,a){void 0===o&&(o=i.Constants.DefaultQueryCounts.top),void 0===s&&(s=i.Constants.DefaultQueryCounts.top);var c={$skip:o.toString(),$top:s.toString()};return e&&(c.$search=e),c.$filter="userData/isMember and isDefault eq false",t!==i.Constants.GroupsSortOptions.Relevance&&(c.$orderby=r.formatString("{0} {1}",t,t===i.Constants.GroupsSortOptions.Name?i.Constants.SortDirection.Ascending:n)),a&&(c.$filterempty=!0),this.dataService.query(i.Constants.AssetPaths.Groups,c)},a.prototype.search=function(e,t,n,o,s,a,c){void 0===o&&(o=i.Constants.DefaultQueryCounts.top),void 0===s&&(s=i.Constants.DefaultQueryCounts.top),void 0===a&&(a=!1);var l={$skip:o.toString(),$top:s.toString()};return e&&(l.$search=e),l.$filter=a?"isDefault eq true":"isDefault eq false",t!==i.Constants.GroupsSortOptions.Relevance&&(l.$orderby=r.formatString("{0} {1}",t,t===i.Constants.GroupsSortOptions.Name?i.Constants.SortDirection.Ascending:n)),c&&(l.$filterempty=!0),this.dataService.query(i.Constants.AssetPaths.Groups,l)},a.prototype.get=function(e,t){void 0===t&&(t=!1);var n={id:e};return t&&(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.Group,n)},a.prototype.getDefaultGroup=function(e){return void 0===e&&(e=!1),this.search(null,i.Constants.GroupsSortOptions.Relevance,i.Constants.SortDirection.Ascending,0,1,!0)},a.prototype.getDefaultGroupId=function(){var e=this;return this.dataShareService.cache[i.Constants.CacheKey.DefaultGroupIdKey]?this.$q.resolve(this.dataShareService.cache[i.Constants.CacheKey.DefaultGroupIdKey]):this.getDefaultGroup().then((function(t){if(t.data&&t.data.value&&t.data.value.length){var n=t.data.value[0];return e.dataShareService.cache[i.Constants.CacheKey.DefaultGroupIdKey]=n.id,n.id}return Promise.resolve(i.Constants.noDefaultGroups)}))},a.prototype.create=function(e){return e.description||(e.description=null),this.dataService.post(i.Constants.AssetPaths.Groups,{},e)},a.prototype.patch=function(e,t){void 0===t&&(t=!1);var n={id:e.id};return e.description||(e.description=null),t&&(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.patch(i.Constants.AssetPaths.Group,n,e)},a.prototype.delete=function(e,t){void 0===t&&(t=!1);var n={id:e};return t&&(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.delete(i.Constants.AssetPaths.Group,n)},a.prototype.isEmailUnique=function(e){var t={mailalias:e};return this.dataService.post(i.Constants.AssetPaths.Groups+"/isMailAliasUnique",{},t)},a.prototype.getChannelByName=function(e,t,n){var o={id:e,$top:1,$filter:"name eq '"+r.escapeFilterSingleQuote(t)+"'"};return n&&(o[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.query(i.Constants.AssetPaths.GroupChannels,o)},a.prototype.getChannels=function(e,t,n,r,s,a,c,l){var u=o.channelFilterConfig(t,n,r,s,a,c);return u.id=e,u.$filter=u.$filter?u.$filter+" and isDefault eq false":"isDefault eq false",this.inAdminModeService.groupId!==e&&!l||(u[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.query(i.Constants.AssetPaths.GroupChannels,u)},a.prototype.getTrendingVideos=function(e,t,n,r){return this.searchInternal(e,t,n,i.Constants.VideoSortOptions.Trending,i.Constants.SortDirection.Descending,"",i.Constants.DataQueryDefaultFilter,void 0,r)},a.prototype.getVideos=function(e,t,n,r,o,s,a,c){void 0===a&&(a=!1);var l=a?"creator,events":"creator";return this.searchInternal(e,t,n,r,o,s,i.Constants.DataQueryDefaultFilter,l,c)},a.prototype.addOwners=function(e,t,n){return this.addMembers(e,t,i.Constants.GroupMemberType.Owners,n)},a.prototype.addViewers=function(e,t,n){return this.addMembers(e,t,i.Constants.GroupMemberType.Viewers,n)},a.prototype.addContributors=function(e,t,n){return this.addMembers(e,t,i.Constants.GroupMemberType.Contributors,n)},a.prototype.getPrefixSuffix=function(){return this.dataService.get(i.Constants.AssetPaths.Groups+"/validationPolicy",{})},a.prototype.getPolicies=function(){return this.dataService.get(i.Constants.AssetPaths.Groups+"/policies",{})},a.prototype.validate=function(e){return e.description||(e.description=null),this.dataService.post(i.Constants.AssetPaths.Groups+"/$validate",{},e)},a.prototype.validatePatch=function(e,t){void 0===t&&(t=!1);var n={id:e.id};return e.description||(e.description=null),t&&(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.patch(i.Constants.AssetPaths.Group+"/$validate",n,e)},a.prototype.removeVideo=function(e,t,n){var r={id:e};return this.inAdminModeService.groupId!==e&&!n||(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Group+"/"+i.Constants.GroupActions.RemoveVideo,r,{videoId:t})},a.prototype.getOwners=function(e){return this.getMembers(e,i.Constants.GroupMemberType.Owners)},a.prototype.getViewers=function(e){return this.getMembers(e,i.Constants.GroupMemberType.Viewers)},a.prototype.getContributors=function(e){return this.getMembers(e,i.Constants.GroupMemberType.Contributors)},a.prototype.getNextPage=function(e){return this.dataService.makeSkipTokenRequest(e)},a.prototype.removeMember=function(e,t,n,r){var o={};return this.inAdminModeService.groupId!==e&&!r||(o[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.delete(i.Constants.AssetPaths.Group+"/"+e+"/"+n+"/"+t,o)},a.prototype.searchInternal=function(e,t,n,r,s,a,c,l,u){var d=o.videoFilterConfig(t,n,r,s,a,c,l);return d.id=e,this.inAdminModeService.groupId!==e&&!u||(d[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.query(i.Constants.AssetPaths.GroupVideos,d)},a.prototype.addMembers=function(e,t,n,r){var o={id:e},s={principalIds:t};return this.inAdminModeService.groupId!==e&&!r||(o[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Group+"/"+n+"/addMembers",o,s)},a.prototype.getMembers=function(e,t,n,r){void 0===n&&(n=i.Constants.DefaultQueryCounts.top);var o={id:e,$top:n,$expand:"Principal"};return this.inAdminModeService.groupId!==e&&!r||(o[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.Group+"/"+t,o)},a.prototype.getMember=function(e,t,n){var r={id:e,$expand:"Principal"};return this.inAdminModeService.groupId===e&&(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.Group+"/"+t+"/"+n,r)},a.$inject=["dataService","$q","dataShareService","inAdminModeService"],a);function a(e,t,n,i){this.dataService=e,this.$q=t,this.dataShareService=n,this.inAdminModeService=i}t.GroupService=s,angular.module("jumper.services").service("groupService",s)},"./app/services/Data/HowToVideoService.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.getVideos=function(e){var t=this,n=this.$q.defer();return this.cacheVideos.length?n.resolve(this.filterVideos(e)):portalConfiguration.HowToVideosUri?$.getJSON(portalConfiguration.HowToVideosUri).then((function(i){t.cacheVideos=i.value,n.resolve(t.filterVideos(e))}),(function(e){n.reject(e)})):n.reject("Config url not found"),n.promise},i.prototype.filterVideos=function(e){var t=this,n=[];return e.forEach((function(e){var i=_.find(t.cacheVideos,(function(t){return t.id===e}));n.push(i)})),n},i.$inject=["$q"],i);function i(e){this.$q=e,this.cacheVideos=[]}t.HowToVideoService=n,angular.module("jumper.services").service("howToVideoService",n)},"./app/services/Data/InvitationService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/string.ts"),r=(o.prototype.getUsersPayload=function(e){return e.map((function(e){return{EmailAddress:e.mail}}))},o.prototype.invite=function(e){return this.dataService.makeWebTierRequest("/invite","POST",null,{Culture:sessionInfo.UserLanguage,Region:"us",Users:this.getUsersPayload(e),SenderName:i.formatString(this.resources.UserDisplayName,sessionInfo.UserClaim.UserInfo.GivenName,sessionInfo.UserClaim.UserInfo.FamilyName?sessionInfo.UserClaim.UserInfo.FamilyName:""),SenderEmailAddress:sessionInfo.UserClaim.UserInfo.DisplayableId})},o.$inject=["dataService","resources"],o);function o(e,t){this.dataService=e,this.resources=t}t.InvitationService=r,angular.module("jumper.services").service("invitationService",r)},"./app/services/Data/OneCustomerVoiceDataService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./node_modules/@msstream/services-one-customer-voice/index.ts"),o=n("./app/vNextBridges/reactMappings/ReactUserSession.ts"),s=(Object.defineProperty(a.prototype,"privacyUrl",{get:function(){return this.oneCustomerVoiceService.privacyUrl},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"resultsUrl",{get:function(){return this.oneCustomerVoiceService.resultsUrl},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"maxCommentLength",{get:function(){return this.oneCustomerVoiceService.maxCommentLength},enumerable:!0,configurable:!0}),a.prototype.postUIF=function(e,t,n,i,r,o){return this.oneCustomerVoiceService.postUIF(e,t,n,i,r,o)},a.prototype.postMicroFeedback=function(e,t,n,i,r){return this.oneCustomerVoiceService.postMicroFeedback(e,t,n,i,r)},a.prototype.postSurveyResponse=function(e,t){return this.oneCustomerVoiceService.postSurveyResponse(e,t)},a.prototype.getManifestForSDK=function(){return this.oneCustomerVoiceService.getManifestForSDK()},a);function a(){var e=o.getDataToCreateReactUserSession(),t={ECSConfiguration:portalConfiguration.ECSConfiguration,PetrolApiEndpoint:portalConfiguration.PetrolApiEndpoint};this.oneCustomerVoiceService=new r.OneCustomerVoiceService(t,void 0,e)}t.OneCustomerVoiceDataService=s,i.registerService("oneCustomerVoiceDataService",s,angular.module("jumper.services"))},"./app/services/Data/PersonService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/Constants.ts"),o=(s.prototype.getPersons=function(e,t,n,i){void 0===i&&(i=!1);var o={id:e,$expand:"events",$top:t.toString(),$skip:n.toString()};return i&&(o[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(r.Constants.AssetPaths.Persons,o)},s.prototype.getPerson=function(e,t,n){var i=this,o=this.$q.defer(),s={id:e,$expand:"events",$top:1,$skip:0,$filter:"id eq "+t};return n&&(s[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(r.Constants.AssetPaths.Persons,s).then((function(e){1===e.data.value.length?o.resolve(e.data.value[0]):o.reject(i.resources.GetPersonErrorMessage)}),(function(e){o.reject(e)})),o.promise},s.$inject=["dataService","$q","resources"],s);function s(e,t,n){this.dataService=e,this.$q=t,this.resources=n}t.PersonService=o,i.registerService("personService",o,angular.module("jumper.services"))},"./app/services/Data/PrincipalService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/string.ts"),r=n("./app/utility/Constants.ts"),o=(s.prototype.searchPrincipals=function(e,t,n,o,s,a){void 0===o&&(o=!1),void 0===a&&(a=!1);var c={$top:t.toString()};0<n&&(c.$skip=n.toString());var l,u=[];return(e=i.escapeFilterSingleQuote(e))&&u.push("(startswith(name,'"+e+"') or startswith(mail,'"+e+"'))"),s&&s.length&&(l=_.map(s,(function(e){return"type eq '"+e+"'"})).join(" or "),u.push("("+l+")")),a?u.push("aadState eq 'delinked'"):u.push("aadState eq 'active'"),u.length&&(c.$filter=u.join(" and ")),o&&(c[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(r.Constants.AssetPaths.Principals,c)},s.prototype.getPrincipal=function(e){var t={$top:"1",$filter:"startswith(mail,'"+e+"') and aadState eq 'active'"};return this.dataService.get(r.Constants.AssetPaths.Principals,t)},s.prototype.getPrincipalById=function(e){var t={id:e};return this.dataService.get(r.Constants.AssetPaths.Principal,t)},s.prototype.deletePrincipal=function(e){var t={id:e};return this.dataService.delete(r.Constants.AssetPaths.Principal,t)},s.prototype.getMyPrincipalInfo=function(e){var t=this;void 0===e&&(e=!1),portalConfiguration.EnableMockApiGateway&&(e=!0);var n=this.$q.defer(),i={id:sessionInfo.UserClaim.UserInfo.UniqueId,$expand:r.Constants.ResourceNames.PrincipalSettings+","+r.Constants.ResourceNames.PrincipalPermissions+","+r.Constants.ResourceNames.PrincipalServicePlans};return e||!this.me||Date.now()>=this.meCacheExpiryTimeInMs?this.dataService.get(r.Constants.AssetPaths.Principal,i).then((function(e){t.me=e,t.meCacheExpiryTimeInMs=Date.now()+r.Constants.CacheExpiryTimeouts.Principal,n.resolve(t.me)}),(function(e){n.reject(e)})):n.resolve(this.me),n.promise},s.prototype.patchMySettings=function(e){var t=this,n=this.$q.defer();return this.dataService.patch(r.Constants.AssetPaths.PrincipalSettings,{id:sessionInfo.UserClaim.UserInfo.UniqueId},e).then((function(e){t.me.data.settings=e.data,t.meCacheExpiryTimeInMs=Date.now()+r.Constants.CacheExpiryTimeouts.Principal,n.resolve(e)}),(function(e){n.reject(e)})),n.promise},s.prototype.patch=function(e,t){void 0===t&&(t=!1);var n={id:e.id};return e.mail="",t&&(n[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.patch(r.Constants.AssetPaths.Principal,n,e)},s.prototype.exportData=function(e,t){void 0===t&&(t=!1);var n={id:e.id};return t&&(n[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(r.Constants.AssetPaths.PrincipalExportData,n,e)},s.prototype.getAdminModeStatus=function(){return _.get(this.me,"data.settings.web.adminModeActive",!1)&&this.getIsStreamAdmin()},s.prototype.getIsStreamAdmin=function(){return _.get(this.me,"data.permissions.canManageStream",!1)},s.$inject=["dataService","$q","$rootScope"],s);function s(e,t,n){var i=this;if(this.dataService=e,this.$q=t,this.$rootScope=n,sessionInfo.PrincipalInfo&&"null"!==sessionInfo.PrincipalInfo){try{this.me={data:JSON.parse(sessionInfo.PrincipalInfo)}}catch(e){this.me=null}this.meCacheExpiryTimeInMs=Date.now()+r.Constants.CacheExpiryTimeouts.Principal}n.$on(r.Constants.Events.Notification_PrincipalSettings,(function(e,t){i.getMyPrincipalInfo(!0).then((function(e){i.me=e}))})),n.$on(r.Constants.Events.Notification_PrincipalPermissions,(function(e,t){i.getMyPrincipalInfo(!0).then((function(e){i.me=e}))})),this.getAdminModeStatus=this.getAdminModeStatus.bind(this)}t.PrincipalService=o,angular.module("jumper.services").service("principalService",o)},"./app/services/Data/RecycleBinService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/appUtil.ts"),o=(s.prototype.delete=function(e,t){var n={id:e};return t&&(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.delete(i.Constants.AssetPaths.DeletedVideo,n)},s.prototype.getDeletedVideos=function(e,t,n,r){var o=i.Constants.SortDirection.Descending,s={$top:t.toString(),$skip:e.toString(),$expand:"creator,deletedby"};return r&&r.length?s[i.Constants.DataQueryParams.Search]=r:s[i.Constants.DataQueryParams.OrderBy]="DeletedDate "+o,n?s[i.Constants.DataQueryParams.AdminMode]=!0:s[i.Constants.DataQueryParams.Filter]="userData/Permissions/canDelete",this.dataService.query(i.Constants.AssetPaths.DeletedVideos,s)},s.prototype.restore=function(e,t){var n={id:e};return t&&(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.DeletedVideo+"/"+i.Constants.DeletedVideoActions.Restore,n,{})},s.$inject=["dataService","$q"],s);function s(e,t){this.dataService=e,this.$q=t}t.RecycleBinService=o,r.registerService("recycleBinService",o,angular.module("jumper.services"))},"./app/services/Data/ResilientDataService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=(o.prototype.executeWithRetry=function(e,t,n,r){return void 0===t&&(t=0),void 0===n&&(n=this),r=r||n.$q.defer(),this.$http(e).then((function(e){r.resolve(e)}),(function(o){t+1<i.Constants.HttpRetry.MaxAttemptsCount&&(o.status>=i.Constants.HttpResponseCodes.InternalServerError||o.status===i.Constants.HttpResponseCodes.ClientNetworkError||o.status===i.Constants.HttpResponseCodes.TooManyRequests)?(r.notify("retrying the server call"),n.$timeout((function(){n.executeWithRetry(e,t+1,n,r)}),Math.pow(2,t)*i.Constants.HttpRetry.BaseWaitTimeInMs)):r.reject(o)})),r.promise},o);function o(e,t,n){this.$http=e,this.$q=t,this.$timeout=n}t.ResilientDataService=r},"./app/services/Data/RoleAssignmentService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=(o.prototype.getRoleAssignmentsByFilter=function(e,t,n,r,o){var s={$top:n.toString(),$skip:t.toString(),$filter:e,$expand:"Role,Principal"};return o&&(s[i.Constants.DataQueryParams.ApiVersion]=o),r&&(s[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.RoleAssignments,s).then((function(e){return e.data.value}))},o.prototype.setRoleAssignments=function(e,t,n,r,o,s){void 0===s&&(s=!0);var a={};o&&(a[i.Constants.DataQueryParams.AdminMode]=!0);var c=r.map((function(e){return{scope:i.Constants.RoleAssignmentScope.Principal,principalRef:{id:e.id,type:e.type}}}));s||c.push({scope:i.Constants.RoleAssignmentScope.Organization,principalRef:null});var l={resourceRef:{type:t},roleAssignments:[{roleId:e,assignedTo:c}]};return this.dataService.post(i.Constants.AssetPaths.RoleAssignments+"/set",a,l)},o.prototype.addRoleAssignment=function(e,t,n,r,o){var s={ResourceRef:{id:r,type:o},roleId:e,assignedTo:{scope:i.Constants.RoleAssignmentScope.Principal,principalRef:{id:t,type:n}}};return this.dataService.post(""+i.Constants.AssetPaths.RoleAssignments,{},s)},o.prototype.getGlobalRoleAssignments=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=50);var i="ResourceRef/Type eq 'Global' and RoleId eq "+e;return this.getRoleAssignmentsByFilter(i,t,n,!1)},o.prototype.getVideoRoleAssignments=function(e,t,n,i){void 0===n&&(n=!1),void 0===i&&(i=20);var r="ResourceRef/Type eq 'Video' and RoleId eq "+e+" and ResourceId eq "+t;return this.getRoleAssignmentsByFilter(r,0,i,n)},o.prototype.getAllVideoRoleAssignments=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=20);var i="ResourceRef/Type eq 'Video' and ResourceId eq "+e;return this.getRoleAssignmentsByFilter(i,0,n,t)},o.prototype.getChannelRoleAssignments=function(e,t,n,i){void 0===n&&(n=!1),void 0===i&&(i=20);var r="ResourceRef/Type eq 'Channel' and RoleId eq "+e+" and ResourceId eq "+t;return this.getRoleAssignmentsByFilter(r,0,i,n)},o.prototype.setGlobalAssignments=function(e,t,n){return void 0===n&&(n=!0),this.setRoleAssignments(e,"Global",null,t,!1,n)},o.prototype.setVideoRoleAssignments=function(e,t,n,i){return void 0===i&&(i=!1),this.setRoleAssignments(e,"Video",t,n,i)},o.prototype.setChannelRoleAssignments=function(e,t,n,i){return void 0===i&&(i=!1),this.setRoleAssignments(e,"Channel",t,n,i)},o.prototype.setMigrationPreviewrAssignments=function(e,t){return this.setRoleAssignments(e,"Global",null,t,!1)},o.prototype.addVideoRoleAssignment=function(e,t,n,i){return this.addRoleAssignment(e,t,n,i,"Video")},o.$inject=["dataService","$q"],o);function o(e,t){this.dataService=e,this.$q=t}t.RoleAssignmentService=r,angular.module("jumper.services").service("roleAssignmentService",r)},"./app/services/Data/RoleService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=(o.prototype.getRoleId=function(e){var t,n=this,r=this.$q.defer();return this.roleCache?(t=this.roleCache.get(e))?r.resolve(t):this.dataService.get("/roles",{}).then((function(o){o.data&&o.data.value&&0!==o.data.value.length?(o.data.value.forEach((function(e){e.name===i.Constants.RoleNames.Viewer&&n.roleCache.put(i.Constants.CacheKey.ViewerRoleIdKey,e.id),e.name===i.Constants.RoleNames.Contributor&&n.roleCache.put(i.Constants.CacheKey.ContributorRoleIdKey,e.id),e.name===i.Constants.RoleNames.Owner&&n.roleCache.put(i.Constants.CacheKey.OwnerRoleIdKey,e.id),e.name===i.Constants.RoleNames.StreamAdmin&&n.roleCache.put(i.Constants.CacheKey.StreamAdminRoleIdKey,e.id),e.name===i.Constants.RoleNames.MediaCreator&&n.roleCache.put(i.Constants.CacheKey.MediaCreatorRoleIdKey,e.id),e.name===i.Constants.RoleNames.GroupCreator&&n.roleCache.put(i.Constants.CacheKey.GroupCreatorRoleIdKey,e.id),e.name===i.Constants.RoleNames.LiveEventCreator&&n.roleCache.put(i.Constants.CacheKey.LiveEventCreatorIdKey,e.id),e.name===i.Constants.RoleNames.OfficeVideoMigrationPreviewer&&n.roleCache.put(i.Constants.CacheKey.OfficeVideoMigrationPreviewerIdKey,e.id)})),(t=n.roleCache.get(e))?r.resolve(t):r.reject("No role for '"+e+"' exists in cache")):r.reject("No roles returned from API")}),(function(e){r.reject(e)})):r.reject("Role Cache is not initialized"),r.promise},o.prototype.getViewerRoleId=function(){return this.getRoleId(i.Constants.CacheKey.ViewerRoleIdKey)},o.prototype.getContributorRoleId=function(){return this.getRoleId(i.Constants.CacheKey.ContributorRoleIdKey)},o.prototype.getStreamAdminRoleId=function(){return this.getRoleId(i.Constants.CacheKey.StreamAdminRoleIdKey)},o.prototype.getOwnerRoleId=function(){return this.getRoleId(i.Constants.CacheKey.OwnerRoleIdKey)},o.prototype.getMediaCreatorRoleId=function(){return this.getRoleId(i.Constants.CacheKey.MediaCreatorRoleIdKey)},o.prototype.getGroupCreatorRoleId=function(){return this.getRoleId(i.Constants.CacheKey.GroupCreatorRoleIdKey)},o.prototype.getLiveEventCreatorRoleId=function(){return this.getRoleId(i.Constants.CacheKey.LiveEventCreatorIdKey)},o.prototype.getMigrationPreviewerRoleId=function(){return this.getRoleId(i.Constants.CacheKey.OfficeVideoMigrationPreviewerIdKey)},o.prototype.isOwner=function(e){return this.roleCache.get(i.Constants.CacheKey.OwnerRoleIdKey)===e},o.prototype.isViewer=function(e){return this.roleCache.get(i.Constants.CacheKey.ViewerRoleIdKey)===e},o.$inject=["dataService",i.Constants.CacheId.RoleCache,"$q"],o);function o(e,t,n){this.dataService=e,this.roleCache=t,this.$q=n}t.RoleService=r,angular.module("jumper.services").service("roleService",r)},"./app/services/Data/ServiceUtils.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/string.ts");t.videoFilterConfig=function(e,t,n,o,s,a,c){var l={};return _.isFinite(e)?l.$top=0<e?e.toString():i.Constants.QueryConfigDefaults.DefaultTop:l.$top=i.Constants.QueryConfigDefaults.DefaultTop,_.isFinite(t)?l.$skip=0<=t?t.toString():i.Constants.QueryConfigDefaults.DefaultSkip:l.$skip=i.Constants.QueryConfigDefaults.DefaultSkip,n&&n!==i.Constants.VideoSortOptions.Relevance&&(l.$orderby=r.formatString("{0} {1}",n,o)),s&&s.length&&(l.$search=s),c&&c.length&&(l.$expand=c),a&&(l.$filter=a),l},t.channelFilterConfig=function(e,t,n,o,s,a,c){void 0===s&&(s=""),void 0===a&&(a=!1),void 0===c&&(c=!1);var l={$top:e.toString(),$skip:t.toString(),$expand:c?"creator,group":"creator"},u=[];return s&&(l.$search=s),a&&u.push(i.Constants.ChannelFilterOptions.CanAddMediaItemsToChannel),n!==i.Constants.ChannelsSortOptions.Relevance&&(l.$orderby=r.formatString("{0} {1}",n,o)),u.length&&(l.$filter=u.join(" and ")),l}},"./app/services/Data/SpotlightService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/appUtil.ts"),o=(s.prototype.getTenantSpotlightVideos=function(e){var t={$expand:"video,creator"};return e&&(t[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(""+i.Constants.AssetPaths.TenantSpotlights,t)},s.prototype.postTenantSpotlightVideos=function(e,t){var n,r=this.$q.defer();t||r.reject("Posting spotlight video is only allowed in admin mode."),(!e||5<e.length)&&(n=e?e.length+" videos in the list to be spotlighted but only five spotlight videos allowed.":"Spotlight videos list was not provided.",r.reject(n));var o={};o.values=e.map((function(e){var t={};return t.VideoId=e.id,t}));var s={};return s[i.Constants.DataQueryParams.AdminMode]=!0,this.dataService.post(i.Constants.AssetPaths.TenantSpotlights+"/setSpotlights",s,o).then((function(){r.resolve()}),(function(e){r.reject(e)})),r.promise},s.prototype.getGroupSpotlightVideos=function(e,t){var n={id:e,$expand:"video,creator"};return t&&(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(""+i.Constants.AssetPaths.GroupSpotlights,n)},s.prototype.postGroupSpotlightVideos=function(e,t){var n=this.$q.defer(),r={};r.values=t.map((function(e){var t={};return t.VideoId=e.id,t}));var o={id:e};return this.dataService.post(i.Constants.AssetPaths.GroupSpotlights+"/setSpotlights",o,r).then((function(){n.resolve()}),(function(e){n.reject(e)})),n.promise},s.$inject=["dataService","$q"],s);function s(e,t){this.dataService=e,this.$q=t}t.SpotlightService=o,r.registerService("spotlightService",o,angular.module("jumper.services"))},"./app/services/Data/TenantService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/string.ts"),o=n("./app/utility/appUtil.ts"),s=n("./app/utility/FormatDottedUrl.ts"),a=(c.prototype.getProvisionedClientInfo=function(e){void 0===e&&(e=!0);var t=angular.extend({},{Authorization:"Bearer "+sessionInfo.AccessToken,"x-ms-client-request-id":o.generateGuid()}),n=this.navigationService.getLowerCasedQueryParams()||{},a=this.getQueryParamBasedOnPageUrl(),c=a?r.formatString(i.Constants.TenantProvisioningUrlWithParam,sessionInfo.UserClaim.TenantId,portalConfiguration.TenantServiceApiVersion,a):r.formatString(i.Constants.TenantProvisioningUrl,sessionInfo.UserClaim.TenantId,portalConfiguration.TenantServiceApiVersion),l={},u=n[i.Constants.PiiFreeQueryStringKeys.HostCorrelationId];u&&(l={hostcorrelationid:u});var d={method:"PATCH",url:s.formatDottedUrl(portalConfiguration.TenantServiceUri,c,l),headers:t,data:"{}"};return e?this.dataService.executeWithRetry(d):this.dataService.execute(d)},c.prototype.getSettings=function(e){var t=this;e=e||!1,portalConfiguration.EnableMockApiGateway&&(e=!0);var n=this.$q.defer();return e||!this.myCompanySettings||Date.now()>=this.tenantSettingsCacheExpiryTimeInMs?this.dataService.get(i.Constants.AssetPaths.Tenant+"/"+i.Constants.TenantActions.Settings,{id:sessionInfo.UserClaim.TenantId}).then((function(e){t.myCompanySettings=e,t.tenantSettingsCacheExpiryTimeInMs=Date.now()+i.Constants.CacheExpiryTimeouts.TenantSettings,n.resolve(t.myCompanySettings)}),(function(e){n.reject(e)})):n.resolve(this.myCompanySettings),n.promise},c.prototype.patchSettings=function(e){var t=this,n=this.$q.defer();return this.dataService.patch(i.Constants.AssetPaths.Tenant+"/"+i.Constants.TenantActions.Settings,{id:sessionInfo.UserClaim.TenantId},e).then((function(e){t.myCompanySettings=e,t.tenantSettingsCacheExpiryTimeInMs=Date.now()+i.Constants.CacheExpiryTimeouts.TenantSettings,n.resolve(e)}),(function(e){n.reject(e)})),n.promise},c.prototype.resetCompanyPolicy=function(){return this.dataService.post(i.Constants.AssetPaths.Tenant+"/"+i.Constants.TenantActions.Settings+"/"+i.Constants.Routes.ResetCompanyPolicy,{id:sessionInfo.UserClaim.TenantId},null)},c.prototype.getDomains=function(){return this.dataService.get(i.Constants.AssetPaths.Tenant+"/"+i.Constants.TenantActions.Domains,{id:sessionInfo.UserClaim.TenantId})},c.prototype.getUsages=function(){return this.dataService.get(i.Constants.AssetPaths.Tenant+"/"+i.Constants.TenantActions.Usages,{id:sessionInfo.UserClaim.TenantId})},c.prototype.getExportedData=function(e,t){var n={id:sessionInfo.UserClaim.TenantId,$top:e?e.toString():i.Constants.QueryConfigDefaults.DefaultTop,$skip:t?t.toString():i.Constants.QueryConfigDefaults.DefaultSkip,$orderby:r.formatString("{0} {1}","requestedTime",i.Constants.SortDirection.Descending),$expand:"principal"};return this.dataService.get(i.Constants.AssetPaths.Tenant+"/dataExports",n)},c.prototype.deleteExportedData=function(e){var t={id:sessionInfo.UserClaim.TenantId};return this.dataService.delete(i.Constants.AssetPaths.Tenant+"/dataExports/"+e,t)},c.prototype.getQueryParamBasedOnPageUrl=function(){if(!this.featureFlagsService.Values.AllowTenantPatchBackgroundUserSync)return null;var e=window.location.href,t=i.Constants.QueryStringKeys.BackgroundUserSync+"=true";if(0<=e.search(i.Constants.QueryStringKeys.BackgroundUserSync))return t;var n=new RegExp(i.Constants.videoIdExtractRegEx.source).exec(e);return n?i.Constants.QueryStringKeys.TargetVideoId+"="+n[1].toString():null},c.$inject=["dataService","$q","$rootScope","featureFlagsService","navigationService"],c);function c(e,t,n,r,o){var s=this;this.dataService=e,this.$q=t,this.$rootScope=n,this.featureFlagsService=r,this.navigationService=o,n.$on(i.Constants.Events.Notification_TenantSettings,(function(e,t){s.getSettings(!0)}))}t.TenantService=a,angular.module("jumper.services").service("tenantService",a)},"./app/services/Data/TextTrackDataFactory.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=(o.prototype.query=function(){return this.dataService.query(this.textTrackUrlBase,this.config)},o.prototype.get=function(e){var t=angular.copy(this.config);return t.id=e,this.dataService.get(this.singleTextTrackUrlBase,t)},o.prototype.patch=function(e,t){var n=angular.copy(this.config);return n.id=e,this.dataService.patch(this.singleTextTrackUrlBase,n,t)},o.prototype.create=function(e){return this.dataService.post(this.textTrackUrlBase,this.config,e)},o.prototype.delete=function(e){var t=angular.copy(this.config);return t.id=e,this.dataService.delete(this.singleTextTrackUrlBase,t)},o);function o(e,t,n){this.dataService=e,this.videoId=t,this.isInAdminMode=n,this.textTrackUrlBase="videos/:videoId/texttracks",this.singleTextTrackUrlBase="/videos/:videoId/texttracks/:id",this.config={videoId:this.videoId},this.isInAdminMode&&(this.config[i.Constants.DataQueryParams.AdminMode]=!0)}t.TextTrackOperations=r,angular.module("jumper.services").factory("textTrackDataFactory",["dataService",function(e){return function(t,n){return new r(e,t,n)}}])},"./app/services/Data/TextTrackLanguageService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=(o.prototype.getAllLanguages=function(){return this.languageMappings},o.prototype.getLanguage=function(e){return _.find(this.languageMappings,(function(t){return _.startsWith(e,t.code)}))},o.$inject=["resources"],o);function o(e){this.resources=e,this.languageMappings=[{name:this.resources.LanguageEnglish,code:"en"},{name:this.resources.LanguageAmharic,code:"am"},{name:this.resources.LanguageArabic,code:"ar"},{name:this.resources.LanguageAzerbaijani,code:"az-Latn-AZ"},{name:this.resources.LanguageBangla,code:"bn-IN"},{name:this.resources.LanguageBasque,code:"eu"},{name:this.resources.LanguageBosnian,code:"bs-Latn-BA"},{name:this.resources.LanguageBulgarian,code:"bg"},{name:this.resources.LanguageCatalan,code:"ca"},{name:this.resources.LanguageChineseSimplified,code:"zh-Hans"},{name:this.resources.LanguageChineseTraditional,code:"zh-Hant"},{name:this.resources.LanguageCroatian,code:"hr"},{name:this.resources.LanguageCzech,code:"cs"},{name:this.resources.LanguageDanish,code:"da"},{name:this.resources.LanguageDari,code:"prs"},{name:this.resources.LanguageDutch,code:"nl"},{name:this.resources.LanguageEstonian,code:"et"},{name:this.resources.LanguageFilipino,code:"fil"},{name:this.resources.LanguageFinnish,code:"fi"},{name:this.resources.LanguageFrench,code:"fr"},{name:this.resources.LanguageGalician,code:"gl"},{name:this.resources.LanguageGerman,code:"de"},{name:this.resources.LanguageGujarati,code:"gu"},{name:this.resources.LanguageGreek,code:"el"},{name:this.resources.LanguageHebrew,code:"he"},{name:this.resources.LanguageHindi,code:"hi"},{name:this.resources.LanguageHungarian,code:"hu"},{name:this.resources.LanguageIcelandic,code:"is"},{name:this.resources.LanguageIndonesian,code:"id"},{name:this.resources.LanguageIrish,code:"ga-IE"},{name:this.resources.LanguageItalian,code:"it"},{name:this.resources.LanguageJapanese,code:"ja"},{name:this.resources.LanguageKannada,code:"kn"},{name:this.resources.LanguageKazakh,code:"kk"},{name:this.resources.LanguageKiswahili,code:"sw"},{name:this.resources.LanguageKorean,code:"ko"},{name:this.resources.LanguageLatvian,code:"lv"},{name:this.resources.LanguageLithuanian,code:"lt"},{name:this.resources.LanguageMacedonian,code:"mk"},{name:this.resources.LanguageMalay,code:"ms"},{name:this.resources.LanguageMalayalam,code:"ml"},{name:this.resources.LanguageMarathi,code:"mr"},{name:this.resources.LanguageNorwegian,code:"no"},{name:this.resources.LanguageNorwegianNynorsk,code:"nn-NO"},{name:this.resources.LanguageOdia,code:"or"},{name:this.resources.LanguagePersian,code:"fa"},{name:this.resources.LanguagePolish,code:"pl"},{name:this.resources.LanguagePortuguese,code:"pt"},{name:this.resources.LanguagePortuguesePortugal,code:"pt-PT"},{name:this.resources.LanguageRomanian,code:"ro"},{name:this.resources.LanguageRussian,code:"ru"},{name:this.resources.LanguageScottish,code:"gd"},{name:this.resources.LanguageSerbian,code:"sr"},{name:this.resources.LanguageSerbianCyrillic,code:"sr-Cyrl"},{name:this.resources.LanguageSlovak,code:"sk"},{name:this.resources.LanguageSlovenian,code:"sl"},{name:this.resources.LanguageSpanish,code:"es"},{name:this.resources.LanguageSwedish,code:"sv"},{name:this.resources.LanguageTamil,code:"ta"},{name:this.resources.LanguageTelugu,code:"te"},{name:this.resources.LanguageThai,code:"th"},{name:this.resources.LanguageTurkish,code:"tr"},{name:this.resources.LanguageUkrainian,code:"uk"},{name:this.resources.LanguageUrdu,code:"ur"},{name:this.resources.LanguageVietnamese,code:"vi"},{name:this.resources.LanguageWelsh,code:"cy"}]}t.TextTrackLanguageService=r,i.registerService("textTrackLanguageService",r,angular.module("jumper.services"))},"./app/services/Data/ThumbnailService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=(o.prototype.create=function(e,t,n){void 0===n&&(n=!1);var r={resourceName:e,resourceId:t};return n&&(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(this.thumbnailsUri,r,{})},o.prototype.delete=function(e,t,n,r){void 0===r&&(r=!1);var o={resourceName:e,resourceId:t,thumbnailId:n};return r&&(o[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.delete(this.singleThumbnailUri,o)},o.prototype.query=function(e,t,n){void 0===n&&(n=!1);var r={resourceName:e,resourceId:t,$filter:"state eq 'Ready'"};return n&&(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.query(this.thumbnailsUri,r)},o.prototype.setAsPosterImage=function(e,t,n,r){void 0===r&&(r=!1);var o={resourceName:e,resourceId:t,thumbnailId:n};return r&&(o[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(this.setAsPosterImageUri,o,{})},o.prototype.getThumbnailBase64Data=function(e){var t=this.$q.defer();return this.dataService.makeSimpleAuthenticatedRequest(e,"GET","blob").then((function(e){var n=new FileReader;n.onload=function(e){t.resolve(e.target.result)},n.onerror=function(e){t.reject(e)},n.readAsDataURL(e.data)})),t.promise},o.$inject=["dataService","$q","inAdminModeService"],o);function o(e,t,n){this.dataService=e,this.$q=t,this.inAdminModeService=n,this.thumbnailsUri="/:resourceName/:resourceId/thumbnails",this.singleThumbnailUri="/:resourceName/:resourceId/thumbnails/:thumbnailId",this.setAsPosterImageUri=this.singleThumbnailUri+"/setAsPosterImage"}t.ThumbnailService=r,angular.module("jumper.services").service("thumbnailService",r)},"./app/services/Data/UserNotificationService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=(o.prototype.updateNotificationCache=function(e){var t=this;void 0===e&&(e=0);var n=this.$q.defer(),r=Object.keys(i.Constants.UserNotificationTypes).map((function(e){return i.Constants.UserNotificationTypes[e]})),o=[];r.forEach((function(e){o.push("type eq '"+e+"'")}));var s=o.join(" or ");return this.getNotifications(s,r.length).then((function(e){t.dataShareService.notifications=e,n.resolve()})),n.promise},o.prototype.getNotifications=function(e,t){var n=this.$q.defer(),r={$filter:e,$top:t};return this.dataService.get(i.Constants.AssetPaths.Notifications,r).then((function(e){e&&e.data&&e.data.value?n.resolve(e.data.value):n.resolve(null)})),n.promise},o.$inject=["dataService","dataShareService","$q"],o);function o(e,t,n){this.dataService=e,this.dataShareService=t,this.$q=n}t.UserNotificationService=r,angular.module("jumper.services").service("userNotificationService",r)},"./app/services/Data/VideoEventService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/string.ts"),r=n("./app/utility/Constants.ts"),o=n("./app/utility/appUtil.ts"),s=(a.prototype.search=function(e,t,n,o){void 0===o&&(o=!1);var s={id:e,$search:i.escapeFilterSingleQuote(t)};return n&&(s.$filter="Type eq '"+n+"'"),o&&(s[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(r.Constants.AssetPaths.VideoEvents,s)},a.prototype.getForms=function(e){var t={id:e,$filter:"Type eq 'form'"};return this.dataService.get(r.Constants.AssetPaths.VideoEvents,t)},a.prototype.addForm=function(e,t){var n={id:e};return this.dataService.post(r.Constants.AssetPaths.VideoEvents,n,{start:t.start||o.formatSecondsToISODuration(t.startTime),end:t.end||o.formatSecondsToISODuration(t.endTime),type:t.type,eventData:t.eventData,hidden:t.hidden})},a.prototype.markFormViewed=function(e,t){var n={id:e,eventId:t.id};return this.dataService.post(r.Constants.AssetPaths.VideoEventViewed,n,{})},a.prototype.deleteForm=function(e,t){var n={id:e,eventId:t.id};return this.dataService.delete(r.Constants.AssetPaths.VideoEvent,n)},a.prototype.getTranscript=function(e,t){void 0===t&&(t=!1);var n={id:e,$filter:"Type eq '"+r.Constants.VideoEventType.transcript+"'"};return t&&(n[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(r.Constants.AssetPaths.VideoEvents,n)},a.prototype.updateTranscript=function(e,t,n,i){void 0===i&&(i=!1);var o={id:e};i&&(o[r.Constants.DataQueryParams.AdminMode]=!0);var s={eventData:{text:n}};return this.dataService.patch(r.Constants.AssetPaths.VideoEvents+"/"+t,o,s)},a.prototype.hidePerson=function(e,t,n){void 0===n&&(n=!1);var i={id:e};return n&&(i[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(r.Constants.AssetPaths.VideoEvents+"/"+r.Constants.VideoEventActions.HidePerson,i,{personId:t})},a.prototype.unhidePerson=function(e,t,n){void 0===n&&(n=!1);var i={id:e};return n&&(i[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(r.Constants.AssetPaths.VideoEvents+"/"+r.Constants.VideoEventActions.UnHidePerson,i,{personId:t})},a.prototype.mergePersons=function(e,t,n,i){void 0===i&&(i=!1);var o={id:e};return i&&(o[r.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(r.Constants.AssetPaths.VideoEvents+"/"+r.Constants.VideoEventActions.MergePersons,o,{sourceIds:t,targetId:n})},a.$inject=["dataService"],a);function a(e){this.dataService=e}t.VideoEventService=s,o.registerService("videoEventService",s,angular.module("jumper.services"))},"./app/services/Data/VideoService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/appUtil.ts"),o=n("./app/services/Data/ServiceUtils.ts"),s=n("./app/utility/string.ts"),a=(c.prototype.create=function(e,t){void 0===t&&(t=!1);var n={};return t&&(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Videos,n,e)},c.prototype.get=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r={id:e,$expand:"creator,tokens,status"};return n&&(r.$expand+=",liveEvent,extensions"),!t&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.Video,r)},c.prototype.createAccessRequest=function(e){var t=this,n={videoId:e};return this.dataService.post(this.accessrequestPath,n,{}).then((function(e){return t.$q.resolve(e.data)}),(function(e){return t.$q.reject(e)}))},c.prototype.getVideoStatus=function(e,t){var n={id:e};return!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.Video+"/"+i.Constants.VideoActions.Status,n)},c.prototype.getPosterImage=function(e,t){void 0===t&&(t=!1);var n={id:e,select:"posterImages"};return!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.Video,n).then((function(e){return e.data.posterImage}))},c.prototype.getPublicAnonymous=function(e,t,n){var r={id:e},o=s.formatString(i.Constants.PublicAnonymous.getRequestUrl,e,t);return!n&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(o,r).then((function(e){return e}))},c.prototype.patchPublicAnonymous=function(e,t,n){var r={id:e};!n&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0);var o=s.formatString(i.Constants.PublicAnonymous.patchRequestUrl,e);return this.dataService.patch(o,r,{options:{allowpublicplayback:t}})},c.prototype.getChannels=function(e,t,n,r){return void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r={}),r.id=e,!t&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),n&&(r.$expand="group"),this.dataService.get(i.Constants.AssetPaths.Video+"/"+i.Constants.ResourceNames.Channels,r).then((function(e){return e.data.value}))},c.prototype.refresh=function(e){return this.get(e)},c.prototype.put=function(e,t){return this.dataService.put(i.Constants.AssetPaths.Video,{id:e},t)},c.prototype.edit=function(e,t,n){void 0===n&&(n=!1);var r={id:e};return!n&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.VideoEdit,r,t)},c.prototype.patchFromDiff=function(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);var o={};t.name!==e.name&&(o.name=t.name),t.description!==e.description&&(o.description=t.description),t.privacyMode!==e.privacyMode&&(o.privacyMode=t.privacyMode),t.options.allowComments!==e.options.allowComments&&(o.options?o.options.allowComments=t.options.allowComments:o.options={allowComments:t.options.allowComments}),null!=t.options.audioEnhancementOptions&&null!=e.options.audioEnhancementOptions&&t.options.audioEnhancementOptions.allowAudioEnhancement!==e.options.audioEnhancementOptions.allowAudioEnhancement&&(o.options?o.options.audioEnhancementOptions?o.options.audioEnhancementOptions.allowAudioEnhancement=t.options.audioEnhancementOptions.allowAudioEnhancement:o.options.audioEnhancementOptions={allowAudioEnhancement:t.options.audioEnhancementOptions.allowAudioEnhancement}:o.options={audioEnhancementOptions:{allowAudioEnhancement:t.options.audioEnhancementOptions.allowAudioEnhancement}}),t.options.faceDetection!==e.options.faceDetection&&(o.options?o.options.faceDetection=t.options.faceDetection:o.options={faceDetection:t.options.faceDetection}),t.options.autoGeneratedCaption!==e.options.autoGeneratedCaption&&(o.options?o.options.autoGeneratedCaption=t.options.autoGeneratedCaption:o.options={autoGeneratedCaption:t.options.autoGeneratedCaption}),null!=t.options.allowTranscript&&null!=e.options.allowTranscript&&t.options.allowTranscript!==e.options.allowTranscript&&(o.options?o.options.allowTranscript=t.options.allowTranscript:o.options={allowTranscript:t.options.allowTranscript}),t.options.allowPublicPlayback!==e.options.allowPublicPlayback&&(o.options?o.options.allowPublicPlayback=t.options.allowPublicPlayback:o.options={allowpublicplayback:t.options.allowPublicPlayback}),t.language!==e.language&&(o.language=t.language),n&&t.published!==e.published&&(o.published=t.published);var s=_.map(t.channels,(function(e){return e.id})),a=_.map(e.channels,(function(e){return e.id}));return JSON.stringify(s.sort())!==JSON.stringify(a.sort())&&t.channels&&0<t.channels.length&&(o[i.Constants.ChannelOdataString]=_.map(t.channels,(function(e){return e.id}))),"{}"!==JSON.stringify(o)?this.patch(t.id,o,r).then((function(e){var n=e.data;return n.channels=angular.copy(t.channels),n})):this.$q.resolve(e)},c.prototype.patch=function(e,t,n){void 0===n&&(n=!1);var r={id:e};return!n&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.patch(i.Constants.AssetPaths.Video,r,t)},c.prototype.delete=function(e,t,n){var r=this;return void 0===t&&(t=!1),void 0===n&&(n={}),n.id=e,!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.delete(i.Constants.AssetPaths.Video,n).then((function(){r.$rootScope.$broadcast(i.Constants.Events.videoDeleted,{id:e})}))},c.prototype.like=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n={}),n.id=e,!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Video+"/"+i.Constants.VideoActions.Like,n,{})},c.prototype.unLike=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n={}),n.id=e,!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Video+"/"+i.Constants.VideoActions.UnLike,n,{})},c.prototype.viewed=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n={}),n.id=e,!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Video+"/"+i.Constants.VideoActions.Viewed,n,{})},c.prototype.pinVideo=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n={}),n.id=e,!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Video+"/"+i.Constants.VideoActions.Pin,n,{})},c.prototype.unPinVideo=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n={}),n.id=e,!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Video+"/"+i.Constants.VideoActions.UnPin,n,{})},c.prototype.getSupportedExtensions=function(e){var t=this;void 0===e&&(e=!1);var n=this.$q.defer();return e||!this.supportedExtensions||Date.now()>=this.supportedExtensionsCacheExpiryTimeInMs?this.dataService.get(i.Constants.AssetPaths.Videos+"/"+i.Constants.VideoActions.SupportedExtensions,{}).then((function(e){t.supportedExtensions=e,t.supportedExtensionsCacheExpiryTimeInMs=Date.now()+i.Constants.CacheExpiryTimeouts.SupportedVideoFormats,n.resolve(t.supportedExtensions)}),(function(e){n.reject(e)})):n.resolve(this.supportedExtensions),n.promise},c.prototype.getSupportedAutoTranscriptLanguages=function(e){var t=this;void 0===e&&(e=!1);var n=this.$q.defer();return e||!this.supportedAutoTranscriptLanguages||Date.now()>=this.supportedAutoTranscriptLanguagesCacheExpiryTimeInMs?this.dataService.get(i.Constants.AssetPaths.Videos+"/"+i.Constants.VideoActions.SupportedAutoTranscriptLanguages,{}).then((function(e){t.supportedAutoTranscriptLanguages=e,t.supportedAutoTranscriptLanguages.data.languages.forEach((function(e,t,n){"zh=ZhCn"===n[t]?n[t]="zh-Hans":n[t]=n[t].split("=")[0]})),t.supportedAutoTranscriptLanguagesCacheExpiryTimeInMs=Date.now()+i.Constants.CacheExpiryTimeouts.SupportedAutoTranscriptLanguages,n.resolve(t.supportedAutoTranscriptLanguages)}),(function(e){n.reject(e)})):n.resolve(this.supportedAutoTranscriptLanguages),n.promise},c.prototype.getMyVideos=function(e,t,n,r,o,s,a,c,l,u,d){var p="creator/id eq '"+sessionInfo.UserClaim.UserInfo.UniqueId+"'";s!==i.Constants.VideoStateOptions.All&&(p=p+" and published eq "+s),a&&a!==i.Constants.VideoPrivacyOptions.All&&(p=p+" and privacyMode eq '"+a+"'"),c&&(p=p+" and state eq '"+c+"'"),l&&(p=p+" and contentType eq '"+l+"'");var A=[];return u&&A.push("events"),d&&A.push("liveEvent"),this.searchInternal(r,n,e,t,o,p,A.join(","))},c.prototype.getLiveEvents=function(e,t,n,r,o,s){var a=s?"liveEvent":"creator";return this.searchInternal(r,n,e,t,"",i.Constants.LiveEventsDefaultFilter,a,o,null)},c.prototype.getCreatedLiveEventsByStartTime=function(e,t,n,r,o,s){var a=s?"liveEvent":"creator";return this.searchInternal(r,n,e,t,"",i.Constants.LiveEventsCreatedFilter,a,o,null)},c.prototype.getCreatedLiveEvents=function(e,t,n,r,o){return this.searchInternal(r,n,e,t,"",i.Constants.LiveEventsCreatedFilter,"creator",o,null)},c.prototype.getPinnedVideos=function(e,t,n,i,r,o){var s=o?"creator,events":"creator";return this.searchInternal(i,n,e,t,r,"userData/isPinned",s)},c.prototype.getRecentlyViewedVideos=function(e,t,n,i,r,o){var s=o?"creator,events":"creator";return this.searchInternal(i,n,e,t,r,"userData/isViewed",s)},c.prototype.query=function(e,t,n,r){return void 0===n&&(n=i.Constants.DefaultQueryCounts.top),void 0===r&&(r=0),this.searchInternal(n,r,e,t,"",i.Constants.DataQueryDefaultFilter,"creator")},c.prototype.getTrendingVideos=function(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=i.Constants.DataQueryDefaultFilter);var o=n?"events":"";return this.searchInternal(e,t,i.Constants.VideoSortOptions.Trending,i.Constants.SortDirection.Descending,"",r,o)},c.prototype.search=function(e,t,n,r,o,s,a,c){void 0===r&&(r=0),void 0===o&&(o=i.Constants.DefaultQueryCounts.top),void 0===s&&(s=!1),void 0===a&&(a=i.Constants.DataQueryDefaultFilter);var l=s?"creator,events":"creator";return this.searchInternal(o,r,t,n,e,a,l,c)},c.prototype.getAll=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=i.Constants.DefaultQueryCounts.top),void 0===n&&(n=!1),this.searchInternal(t,e,i.Constants.VideoSortOptions.Relevance,i.Constants.SortDirection.Ascending,"","",null,n,null)},c.prototype.getUserVideos=function(e,t,n,r,o,s,a,c){void 0===o&&(o=0),void 0===s&&(s=i.Constants.DefaultQueryCounts.top),void 0===a&&(a=!1),void 0===c&&(c=!1);var l="creator/id eq '"+e+"' and "+i.Constants.DataQueryDefaultFilter,u=a?"events":"";return this.searchInternal(s,o,n,r,t,l,u,c)},c.prototype.getFiles=function(e,t){void 0===t&&(t=!1);var n={id:e};return!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.Video+"/"+i.Constants.ResourceNames.Files,n)},c.prototype.getAudienceAnalyticsUrl=function(e,t,n){void 0===n&&(n=!1);var r={id:e,fileName:t};return!n&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.Video+"/"+i.Constants.ResourceNames.AudienceAnalytics+"/"+i.Constants.AnalyticsActions.GetCSVUrl,r)},c.prototype.patchChannels=function(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r={});var o={};return o[i.Constants.ChannelOdataString]=t,r.id=e,!n&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.patch(i.Constants.AssetPaths.Video,r,o)},c.prototype.searchInternal=function(e,t,n,r,s,a,c,l,u){var d=o.videoFilterConfig(e,t,n,r,s,a,c);return u&&(d.apiVersion=u),l&&(d[i.Constants.DataQueryParams.AdminMode]=l),this.dataService.query(i.Constants.AssetPaths.Videos,d)},c.prototype.share=function(e,t){var n={id:e},r={emailAddresses:t};return this.dataService.post(i.Constants.AssetPaths.Video+"/"+i.Constants.VideoActions.Share,n,r)},c.prototype.getLinks=function(e,t){void 0===t&&(t=!1);var n={id:e};return!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.Video+"/"+i.Constants.VideoActions.getLinks,n)},c.prototype.setLinks=function(e,t,n){void 0===n&&(n=!1);var r={id:e};return!n&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Video+"/"+i.Constants.VideoActions.setLinks,r,t)},c.prototype.setVideoPermissions=function(e,t,n){if(void 0===n&&(n=!1),_.isEmpty(t.videoUrl))throw"Invalid payload";var r={id:e};return!n&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.Video+"/"+i.Constants.VideoActions.setVideoPermissions,r,t)},c.prototype.getRoleAssignments=function(e,t){void 0===t&&(t=!1);var n={id:e,$expand:"Principal"};return!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.Video+"/"+i.Constants.ResourceNames.RoleAssignments,n).then((function(e){return e.data.value}))},c.prototype.getIngest=function(e,t){var n={id:e};return!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(i.Constants.AssetPaths.VideoIngest,n)},c.prototype.startIngest=function(e,t){var n={id:e};return!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.VideoIngest+"/"+i.Constants.VideoActions.startIngest,n,{})},c.prototype.stopIngest=function(e,t,n){var r={id:e};!t&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0);var o=n?{postProcessingDelay:n}:{};return this.dataService.post(i.Constants.AssetPaths.VideoIngest+"/"+i.Constants.VideoActions.stopIngest,r,o)},c.prototype.startBroadcast=function(e,t,n){var r={id:e};return!n&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(i.Constants.AssetPaths.VideoIngest+"/"+i.Constants.VideoActions.startBroadcast,r,t)},c.prototype.setLiveEvent=function(e,t,n){var r={id:e};return!n&&this.inAdminModeService.videoId!==e||(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.patch(""+i.Constants.AssetPaths.VideoLiveEvent,r,t)},c.prototype.getTokens=function(e,t){var n={id:e};return!t&&this.inAdminModeService.videoId!==e||(n[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.get(""+i.Constants.AssetPaths.VideoTokens,n)},c.prototype.sendLiveHeartBeat=function(e,t,n){var i={Authorization:t};return this.dataService.makeSimpleRequest(e,"POST",i,n)},c.$inject=["$rootScope","dataService","inAdminModeService","$q"],c);function c(e,t,n,i){this.$rootScope=e,this.dataService=t,this.inAdminModeService=n,this.$q=i,this.accessrequestPath="/videos/:videoId/requestaccess"}t.VideoService=a,r.registerService("videoService",a,angular.module("jumper.services"))},"./app/services/Data/index.ts":function(e,t,n){function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n("./app/services/Data/ChannelService.ts")),i(n("./app/services/Data/GroupService.ts")),i(n("./app/services/Data/ThumbnailService.ts")),i(n("./app/services/Data/PrincipalService.ts")),i(n("./app/services/Data/InvitationService.ts")),i(n("./app/services/Data/TenantService.ts")),i(n("./app/services/Data/CommentService.ts")),i(n("./app/services/Data/RoleAssignmentService.ts")),i(n("./app/services/Data/DataService.ts")),i(n("./app/services/Data/VideoService.ts")),i(n("./app/services/Data/SpotlightService.ts")),i(n("./app/services/Data/TextTrackLanguageService.ts")),i(n("./app/services/Data/TextTrackDataFactory.ts")),i(n("./app/services/Data/RoleService.ts")),i(n("./app/services/Data/VideoEventService.ts")),i(n("./app/services/Data/GroupService.ts")),i(n("./app/services/Data/PersonService.ts")),i(n("./app/services/Data/UserNotificationService.ts")),i(n("./app/services/Data/HowToVideoService.ts")),i(n("./app/services/Data/RecycleBinService.ts")),i(n("./app/services/Data/OneCustomerVoiceDataService.ts")),i(n("./app/services/Data/AccessRequestService.ts"))},"./app/services/DataPollingService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=(o.prototype.GetWaitTime=function(e,t){return void 0===t&&(t=i.Constants.Polling.BaseWaitTimeInMs),Math.pow(2,Math.min(e,i.Constants.Polling.MaxExponential))*t},o);function o(){}t.ExponentialToConstantTiming=r;var s=(a.prototype.GetWaitTime=function(e,t){return void 0===t&&(t=i.Constants.Polling.BaseWaitTimeInMs),Math.min(e,i.Constants.Polling.MaxExponential)*t},a);function a(){}t.LinearToConstantTiming=s;var c=(l.prototype.GetWaitTime=function(e,t){return void 0===t&&(t=i.Constants.Polling.BaseWaitTimeInMs),t},l);function l(){}t.ConstantWaitTiming=c;var u=(d.prototype.Poll=function(e,t,n,i,o){var s=this;void 0===o&&(o=0),i=i||new r;var a=e();return n=n||this.$q.defer(),a.then((function(r){n.notify(r),r.cancel||t(r)?n.resolve(!0):s.$interval((function(){n.resolve(s.Poll(e,t,n,i,o+1))}),i.GetWaitTime(o),1)})),n.promise},d.$inject=["$interval","$q"],d);function d(e,t){this.$interval=e,this.$q=t}t.DataPollingService=u,angular.module("jumper.services").service("dataPollingService",u)},"./app/services/DataShareService.ts":function(e,t){function n(){this.cache={}}Object.defineProperty(t,"__esModule",{value:!0}),t.DataShareService=n,angular.module("jumper.services").service("dataShareService",n)},"./app/services/DeleteConfirmationDialogService.ts":function(e,t,n){var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./app/services/ConfirmationDialogService.ts"),a=n("./app/utility/string.ts"),c=n("./app/utility/Constants.ts"),l=(r(u,o=s.ConfirmationDialogModel),u);function u(){return null!==o&&o.apply(this,arguments)||this}t.DeleteVideoConfirmationDialogModel=l;var d=(p.prototype.getDialogModel=function(e,t,n){var i,r,o,s,l,u;return e===c.Constants.ResourceNames.Channel?(i=this.resources.Components.DeleteConfirmationDialog.DeleteChannelTitle,r=this.resources.Components.DeleteConfirmationDialog.DeleteChannelMessage,s=this.resources.Components.DeleteConfirmationDialog.DeleteChannelConfirmButton,u=this.resources.Cancel):e===c.Constants.ResourceNames.Video?(i=this.resources.Components.DeleteConfirmationDialog.DeleteVideoTitle,r=this.resources.Components.DeleteConfirmationDialog.DeleteVideoMessage,s=this.resources.Components.DeleteConfirmationDialog.DeleteVideoConfirmButton,u=this.resources.Cancel):e===c.Constants.ResourceNames.DeletedVideo?(i=this.resources.Components.DeleteConfirmationDialog.RecycleBinDeleteVideoTitle,r=a.formatString(this.resources.Components.DeleteConfirmationDialog.RecycleBinDeleteVideoMessage,t),s=this.resources.Components.DeleteConfirmationDialog.RecycleBinDeleteVideoConfirmButton,u=this.resources.Cancel):e===c.Constants.ResourceNames.Group?(i=a.formatString(this.resources.GroupDeleteConfirmTitle,t),s=this.resources.Components.DeleteConfirmationDialog.DeleteGroupConfirmButton,u=this.resources.Cancel,o=n?(r=this.resources.GroupDeleteConfirmMessageO365,l=a.formatString(this.resources.GroupDeleteConfirmMessageHeadingO365,t),this.resources.DeleteConfirmCheckboxMessageO365):(r=a.formatString(this.resources.GroupDeleteConfirmMessage,t),l=a.formatString(this.resources.GroupDeleteConfirmMessageHeading,t),this.resources.DeleteConfirmCheckboxMessage)):(i=a.formatString(this.resources.DeleteConfirmTitle,e),r=a.formatString(this.resources.DeleteConfirmMessage,t),s=this.resources.Yes,u=this.resources.No),{title:i,message:r,confirmCheckboxText:o,confirmButtonLabel:s,messageHeading:l,cancelButtonLabel:u}},p.prototype.getVideoDeleteDialogModel=function(e,t,n,i,r){var o=this;return this.getChannelCount(e,i,r).then((function(e){return{title:o.resources.Components.DeleteConfirmationDialog.MoveVideoToRecycleBinTitle,message:o.resources.Components.DeleteConfirmationDialog.MoveVideoToRecycleBinMessage,confirmCheckboxText:null,messageHeading:null,cancelButtonLabel:o.resources.Cancel,confirmButtonLabel:o.resources.Components.DeleteConfirmationDialog.MoveVideoToRecycleBinConfirmButton,resourceName:t,groupCount:e.groups,channelCount:e.channels,publishedLocationsLabel:o.resources.Components.DeleteConfirmationDialog.MoveVideoToRecycleBinPublishedLocationsLabel,videoNameLabel:o.resources.Components.DeleteConfirmationDialog.MoveVideoToRecycleBinVideoNameLabel,groupsLabel:o.resources.Components.DeleteConfirmationDialog.MoveVideoToRecycleBinGroupsLabel,channelLabel:o.resources.Components.DeleteConfirmationDialog.MoveVideoToRecycleBinChannelsLabel}}))},p.prototype.getChannelCount=function(e,t,n){var i={groups:0,channels:0};return this.videoService.getChannels(t,n,!0).then((function(e){return(e=e||[]).forEach((function(e){e&&(e.name&&i.channels++,e.group&&i.groups++)})),i}))},p.prototype.showInternal=function(e,t){var n={template:e,controller:"ConfirmationDialogController",controllerAs:"ConfirmationDialog",closeByDocument:!0,plain:!0,className:"c-dialog",showClose:!1,resolve:{dialogModel:function(){return t}}};return this.ngDialog.openConfirm(n)},p.prototype.show=function(e,t,i,r,o){var s=this;void 0===i&&(i=!1),void 0===r&&(r=void 0),void 0===o&&(o=void 0);var a=n("./app/Controls/Dialogs/ConfirmationDialog/ConfirmationDialog.html"),l=n("./app/Controls/Dialogs/ConfirmationDialog/VideoDeleteConfirmationDialog.html");if(e===c.Constants.ResourceNames.Video&&(this.featureFlagsService.Values.RecycleBin||this.featureFlagsService.Values.RecycleBinAdminSettings))return this.getVideoDeleteDialogModel(e,t,i,r,o).then((function(e){return s.showInternal(l,e)}));var u=this.getDialogModel(e,t,i);return this.showInternal(a,u)},p.$inject=["$q","resources","ngDialog","featureFlagsService","videoService"],p);function p(e,t,n,i,r){this.$q=e,this.resources=t,this.ngDialog=n,this.featureFlagsService=i,this.videoService=r}t.DeleteConfirmationDialogService=d,angular.module("jumper.services").service("deleteConfirmationDialogService",d)},"./app/services/ElementRefocusService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=(o.prototype.init=function(){var e=this;this.isEnabled&&(this.focusElem=document.body,this.focusRange=document.createRange(),document.addEventListener("focusin",(function(t){e.focusRange.selectNode(t.target),e.focusRange.collapse(!1),e.focusElem=t.target})),document.addEventListener("focusout",(function(t){e.focusElem=null})),document.addEventListener("keydown",(function(t){if("Tab"===t.key&&e.focusElem&&e.focusElem!==document.activeElement){for(var n=e.focusRange.endContainer.childNodes[e.focusRange.endOffset]||e.getNextNode(e.focusRange.commonAncestorContainer,!1);n&&!e.isFocusable(n);)n=e.getNextNode(n);if(!n)return;t.shiftKey||t.preventDefault(),n.focus()}})))},o.prototype.getNextNode=function(e,t){return void 0===t&&(t=!0),t&&e.firstChild?e.firstChild:e.nextSibling?e.nextSibling:e.parentNode?this.getNextNode(e.parentNode,!1):null},Object.defineProperty(o.prototype,"isEnabled",{get:function(){return i.isIE()},enumerable:!0,configurable:!0}),o.prototype.isFocusable=function(e){var t=e.matches||e.webkitMatchesSelector||e.msMatchesSelector;return!!e.focus&&-1!=e.tabIndex&&t.call(e,"a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,[tabindex],[contentEditable=true]")},o.$inject=[],o);function o(){this.focusElem=null,this.focusRange=null}t.ElementRefocusService=r,i.registerService("elementRefocusService",r,angular.module("jumper.services"))},"./app/services/FeatureFlagsService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=(o.prototype.refreshValues=function(){this.computeFeatureValues()},o.prototype.getValue=function(e){return this.Values[e]},o.prototype.generateQueryStringForFlags=function(){var e=this,t="";return Object.keys(this.Values).forEach((function(n){var i="object"==typeof e.Values[n]?JSON.stringify(e.Values[n]):e.Values[n],r=encodeURIComponent(i);t+="&"+n+"="+r})),0<t.length&&(t=t.substring(1)),t},o.prototype.computeFeatureValues=function(){var e=this;this.featureList=portalConfiguration.FeatureFlags.split(","),this.queryParams=this.$location.search(),Object.keys(this.Values).forEach((function(t){var n=e.getFeatureValue(t,typeof e.Values[t]);n[0]&&(e.Values[t]=n[1])})),this.clearParams=angular.merge(this.queryParams,this.clearParams)},o.prototype.getFeatureValue=function(e,t){var n=this.getFeatureFromQueryString(e,t);if(n[0])return portalConfiguration.ECSConfiguration=portalConfiguration.ECSConfiguration||{},portalConfiguration.ECSConfiguration.telemetryRecord=portalConfiguration.ECSConfiguration.telemetryRecord||{},portalConfiguration.ECSConfiguration.telemetryRecord.isExpSessionOverridden=!0,n;if(portalConfiguration.ECSConfiguration&&portalConfiguration.ECSConfiguration.agents&&portalConfiguration.ECSConfiguration.settings)for(var i=0,r=portalConfiguration.ECSConfiguration.agents;i<r.length;i++){var o=r[i];if(portalConfiguration.ECSConfiguration.settings[o]){var s=portalConfiguration.ECSConfiguration.settings[o][e];if(void 0!==s)return[!0,s]}}if(0<=this.featureList.indexOf(e)){if("number"===t)return[!0,1];if("boolean"===t)return[!0,!0];console.error("Feature flags could not handle hintType: %s",t)}return[!1,void 0]},o.prototype.getFeatureFromQueryString=function(e,t){if(this.queryParams&&this.queryParams[e]){var n=this.queryParams[e];if("string"===t)return[!0,n];if("number"===t){var i=Number(n);if(!isNaN(i))return[!0,i]}else{if("boolean"===t)return[!0,"true"===n.toLowerCase()||1===Number(n.toLowerCase())];if("object"===t)try{var r=decodeURIComponent(n);return[!0,JSON.parse(r)]}catch(e){}}console.error("Query string could not handle hintType: %s",t)}return[!1,void 0]},o.$inject=["$location"],o.FrameworkVersion=1,o);function o(e){this.$location=e,this.Values={officevideomigration:!1,noncejanitor:!1,emptynoncethrottler:!1,tokenmonitor:!1,removeresourceparameter:!1,newsignupredirect:!1,AmpVersion:"",taskevents:!1,taskstacktrace:!1,p3pheader:!1,EmbedVideoAdalRedirect:!1,EmbedVideoAdalRedirectCacheLifeHours:4,BotFramework:!1,EmbedVNextRedirect:!1,CookielessAntiForgeryKillSwitch:!1,BotButtons:!1,TeamsAppId:"",UnsupportedBrowserErrorKillSwitch:!1,SDNNamesWithVersions:"",ADFSFallbackKillSwitch:!1,EmbedStopLoadingReactBridgeKillSwitch:!1,TeamSdkVer:"",ThinEmbed:!1,TenantedAuth:"",WaitingRoomRetryIntervalMs:1e4,IsWaitingRoom503ErrorEnabled:!1,IsTenantPatchThrottledOnPortal:!1,IsTenantPatchThrottledOnEmbed:!1,ShareableGroupCRUDControl:!1,IsAllowMemberToContributeDisabled:!1,AllowTenantPatchBackgroundUserSync:!1,DeleteChannelPoster:!1,TrialExperience:!1,TranscriptEdit:!1,AdminSettingsV2:!1,OfficeVideoMigration:!1,DataUsageNotifications:!1,LocalGroups:!1,MDSLogging:!1,EndOfTrialBar:!1,EndOfTrialDialog:!1,GroupSpotlight:!1,ForgottenUsers:!1,PersonalData:!1,EmbedSearch:!1,TeamsTokenSSO:!1,CreateLive:!1,LiveEventAdminSetting:!1,TokenSSOPostMessage:!1,GroupInAdminMode:!1,SdnPluginPlayer:!1,RecordVideo:!1,BrowseBack:!1,NewNotifications:!1,NetworkCaching:!1,EncoderSetup:!1,EncoderSetupV2:!1,PlayerRetry:!1,VerboseLogs:!1,EnableCEACaptions:!1,PlaybackQualityMonitoring:!1,LiveGA:!1,RemoveMakeVideoPrivateAutoSave:!1,EmailEnabled:!1,TeamsEmbedSortSelector:!1,ResumePlayback:!1,RecentlyViewed:!1,DefaultPrivacyModeTenantSetting:!1,UploadV2:!1,MaxParallelChunkUploads:8,MaxChunkSizeInMB:2,MaxSimultaneousUploads:3,Forms:!1,FormsTab:!1,FormsDefaultTab:!1,FormsIgnoreViewedStatus:!1,VideoEditor:!1,DisableIEPreload:!1,ReplaceVideo:!1,RecycleBinAdminSettings:!1,RecycleBin:!1,RecycleBinSearch:!1,ForceHLSv3:!0,TranscriptEditNewButtons:!1,TranscriptEditV3:!1,HLSToOrigin:!0,ReactBanner:!1,MobileAnnounementBanner:!1,ShareToTeams:!1,AllMeetings:!1,RemoveHelpLinks:!1,LiveEventOptions:!1,SendVideoAnalytics:!1,DownloadAnalytics:!1,AudioEnhancementUI:!1,DefaultAudioTrackIsEnhanced:!1,SortByName:!1,SetDefaultSortOptionChannels:!1,PreRollInWallClockSec:4,LivePlaybackOffsetInWallClockSec:8,UserTextTrackSettings:!1,AudioOnlyModeKillSwitch:!1,AudioOnlyTimeThreshold:3e4,AudioOnlyRebufferThreshold:.1,AutoPlay:!1,UploadMediaInternalsKillSwitch:!1,GenerateNonEnglishAutoTranscript:!0,LogAppInvestigationFields:!1,AppInvestigationEventName:"",ReactShareDialog:!1,ReactMemberList:!1,ReactMemberListForStreamGroups:!1,FilterEmptyGroups:!1,showIOS13ErrorKillSwitch:!1,DisableFaceDetection:!1,MigrationPercentageBar:!1,ScreenRecorder:!1,AudioEnhancementFirstRunExperience:!1,CookieBlockedHandShakeTimeout:5e3,removeCookieErrorKillSwitch:!1,ShowSessionFlagsInAbout:!1,PublicAnonymousVOD:!1,PublicAnonymousLive:!1,ExternalSharingAdminSetting:!1,IncreaseGroupSearchInputTimeInterval:!1,VariableFragmentSizeHeuristicKillSwitch:!1,GuestAccess:!1,AllowMixedContentKillSwitch:!1,UpdateUserInfoIdMismatch:!1,DisableGroupSearch:!1,FetchMoreGroups:!1,EndOfResultSet:!1,EnableShowMoreOption:!1,FetchDoubleTopRecords:!1,DisableAutoSearchForGroups:!1,DefaultShareWithVideoDropDownOptionPeople:!1,StreamOnlyGroupEmptyContributor:!1,EnableCaptionVisibilityToggle:!1,RequestAccess:!1,AudioOnlyUpload:!1,HideM365GroupLabel:!1,WebcamRecording:!1,TrimRecording:!1,NewVideoPage:!1},this.clearParams={},this.computeFeatureValues()}t.FeatureFlagsService=r,i.registerService("featureFlagsService",r,angular.module("jumper.services"))},"./app/services/HttpTelemetryInterceptor.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/models/TelemetryEventModels.ts");angular.module("jumper").factory("httpTelemetryInterceptor",["$q","telemetryService","navigationService",function(e,t,n){function o(e){var t=e||{};return delete t.Authorization,JSON.stringify(t)}function s(e){var t=e.headers;return{headers:o(angular.copy(e.headers)),url:e.url,method:e.method,clientRequestId:t["x-ms-client-request-id"],correlationId:t["x-ms-correlation-request-id"]}}function a(e,t){t&&(e.responseHeaders=o(angular.copy(t())))}var c=t.getTracker(r.ScreenName.Auto);return{request:function(e){return e.utcStartTime=new Date,e},response:function(e){var t,n;return e.config.url&&!_.includes(e.config.url.toLocaleLowerCase(),".html")&&(t=e.config.utcStartTime,(n=s(e.config)).status=e.status,n.statusText=e.statusText,n.responseTime=new Date-t,n.utcStartTime=t,a(n,e.headers),c.trackEvent(i.Constants.TelemetryEvents.HttpResponseSuccess,n,{})),e},responseError:function(t){var n,r;return t.config?(n=t.config.utcStartTime,(r=s(t.config)).status=t.status,r.statusText=t.statusText,r.responseTime=new Date-n,r.utcStartTime=n,a(r,t.headers),t.data&&t.data.error&&(r.error=JSON.stringify(t.data.error))):t.message||(r={error:t}),-1!==t.status||window.navigator.onLine?403===t.status?c.trackEvent(i.Constants.TelemetryEvents.HttpResponseWarning,r,{}):c.trackEvent(i.Constants.TelemetryEvents.HttpResponseError,r,{}):(r.error=i.Constants.NoNetworkErrorString+" "+(r.error||""),c.trackEvent(i.Constants.TelemetryEvents.HttpResponseWarning,r,{})),e.reject(t)}}}]),angular.module("jumper").config(["$httpProvider",function(e){e.interceptors.push("httpTelemetryInterceptor")}])},"./app/services/InAdminModeService.ts":function(e,t){function n(){}Object.defineProperty(t,"__esModule",{value:!0}),t.InAdminModeService=n,angular.module("jumper.services").service("inAdminModeService",n)},"./app/services/LoggingService.ts":function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/Constants.ts"),o=n("./app/models/TelemetryEventModels.ts"),s=n("./app/utility/appUtil.ts"),a=n("./app/services/TelemetryService.ts"),c=n("./app/utility/TelemetryUtils.ts"),l=n("./node_modules/@msstream/core/esm/index.js"),u=(d.prototype.isTraceOn=function(){return d.isTraceOn},d.prototype.enableLogging=function(e){d.isEnabled=e},d.prototype.trackEvent=function(e,t){var n,r;d.isEnabled&&(d.isMemoryLoggingOn&&d.memoryLogs.push((new Date).toISOString()+" : EventName : "+e+" Properties : "+JSON.stringify(t)),this.validateEventName(e)&&(n=i({},t),this.attachStandardProperties(n,e),r={name:e,data:n},this.cleanPropertiesBeforeSent(r),d.log(r,this.featureFlagsService)))},d.prototype.trackTrace=function(e,t){var n;d.isEnabled&&d.isTraceOn&&(n=i({},t),this.attachStandardProperties(n,"Trace"),n.message=e,d.log({name:"Trace",data:n},this.featureFlagsService))},d.prototype.tagScreen=function(e,t){var n=this;void 0===t&&(t={}),d.isEnabled&&(this.$timeout((function(){n.trackPageView(e)}),0),t.screenName=e,this.trackEvent(o.TelemetryEventNames.loggerScreenTagged,t))},d.prototype.enableLoggingInMemory=function(e){void 0===e&&(e=!0),d.isMemoryLoggingOn=e},d.prototype.getLogsFromMemory=function(e){void 0===e&&(e=!0);var t=d.memoryLogs.join("\n");return e&&(d.memoryLogs=[]),t},d.prototype.trackPageView=function(e){var t;d.isEnabled&&(t={PageTitle:e,url:this.removeUserData(window.location.href)},this.attachStandardProperties(t,"PageView"),d.log({name:"PageView",data:t},this.featureFlagsService))},d.prototype.cleanPropertiesBeforeSent=function(e){e.url&&(e.url=this.removeUserData(e.url)),s.removeNullValues(e)},d.prototype.removeUserData=function(e){var t,n,i="$filter",o="startswith";return-1<e.indexOf("$search=")&&(e=this.navigationService.replaceQueryParamValue(e,"$search",r.Constants.userDataMask)),-1<e.indexOf(i+"=")&&-1<e.indexOf(o)&&(t=s.getUrlParamValueFromUrl(i,e),e=this.navigationService.removeQueryParamFromUrl(e,i),t&&(n=t.split("and").map((function(e){return 0<e.indexOf(o)?" "+r.Constants.userDataMask+" ":e})).join("and"),e=this.navigationService.addParmeterWithValue(e,i+"="+encodeURI(n)))),e},d.prototype.validateEventName=function(e){var t,n,i=!0;return e?-1!=e.indexOf(" ")?(i=!1,t="event "+e+" contains spaces. This is not allowed by Aria, please rename the event"):(n=e.charAt(0))<"a"&&"z"<n&&(i=!1,t="event "+e+" does not start with character A-Z. This is not allowed by Aria, please rename the event"):(i=!1,t="event name is null or undefined"),i||this.trackEvent("InvalidEventName",{InvalidEventName:e,Issue:t}),i},Object.defineProperty(d.prototype,"performanceTiming",{get:function(){return window.performance?window.performance.timing:null},enumerable:!0,configurable:!0}),d.prototype.attachStandardProperties=function(e,t){e[this.appVersionKey]=portalConfiguration.BuildNumber,e.ringNumber=portalConfiguration.RingNumber,e.dataCenterCluster=portalConfiguration.ClusterName;var n=sessionInfo.UserClaim;e.tenantId=n?n.TenantId:"";var i,o,a,c,u=n&&n.UserInfo?n.UserInfo.UniqueId:"";e[this.userIdKey]=u,this.featureFlagsService.Values.UpdateUserInfoIdMismatch&&(this.lastSeenUserId==u||(i=l.StreamLoggingService.getStandardContextsDeepCopy())&&i.userContext&&(i.userContext.userId=u,l.StreamLoggingService.userSignedIn&&l.StreamLoggingService.userSignedIn(i.userContext,i.expContext),e.userIdentityChanged=!0),this.lastSeenUserId=u),e.userSessionId=sessionInfo.SessionId,e.clientSessionId=sessionInfo.ClientSessionId,e.servicePlan=sessionInfo.ServicePlanForTelemetry||"0",this.featureFlagsService.Values.LogAppInvestigationFields&&(this.featureFlagsService.Values.AppInvestigationEventName&&this.featureFlagsService.Values.AppInvestigationEventName!==t||(a=(o=!!(d=e.app))&&(0===d.indexOf("http://")||0===d.indexOf("https://")),c=o&&(-1!==d.indexOf(".com")||-1!==d.indexOf(".edu")||-1!==d.indexOf(".net")),e.appInvestigation=JSON.stringify({IsEmbed:sessionInfo.IsEmbed,AppSpecified:o,TrafficSourceSpecified:_.isNil(e.trafficSource),HasProtocol:a,HasCommonTopLevelDomain:c}))),_.isNil(e.trafficSource)&&(e.trafficSource=sessionInfo.IsEmbed?2:0);var d,p=s.getReferrer(),A=this.$window.location!==this.$window.parent.location&&p?p:document.location.href||"unknown";e.pageUrl=A,p&&(e.trafficReferrer=p),e.app||(d=(d=this.appName.value)||(sessionInfo.IsEmbed?"stream embed":"stream portal"),e.app=d),e[this.userLanguageKey]=sessionInfo.UserLanguage,e.userRegion=sessionInfo.UserRegion,e.serviceRegion=sessionInfo.ServiceRegion,e.dataLocation=sessionInfo.DataLocation,portalConfiguration.ECSConfiguration&&portalConfiguration.ECSConfiguration.telemetryRecord&&(e.expContext=portalConfiguration.ECSConfiguration.telemetryRecord),(this.appCorrelation||this.hostCorrelationId)&&(e[r.Constants.PiiFreeQueryStringKeys.HostCorrelationId]=this.hostCorrelationId||this.appCorrelation),this.appPlatform&&(e[r.Constants.PiiFreeQueryStringKeys.AppPlatform]=this.appPlatform),this.refId&&(e[r.Constants.PiiFreeQueryStringKeys.referralId]=this.refId),this.refType&&(e[r.Constants.PiiFreeQueryStringKeys.referralType]=this.refType)},d.log=function(e,t){window.isUnitTest||(l&&l.StreamLoggingService?l.StreamLoggingService.legacy(e):console.log("logger is not defined. Stream is not logging anything!"))},d.isTraceOn=!0,d.isEnabled=!0,d.isMemoryLoggingOn=!1,d.memoryLogs=[],d.$inject=["$rootScope","$window","navigationService","featureFlagsService","$timeout","appName"],d);function d(e,t,n,i,s,l){var u=this;this.$rootScope=e,this.$window=t,this.navigationService=n,this.featureFlagsService=i,this.$timeout=s,this.appName=l,this.startTime=Date.now(),this.appExitReported=!1,this.appCorrelation=null,this.appPlatform=null,this.refId=null,this.refType=null,this.lastSeenUserId="",this.userIdKey="userId",this.userLanguageKey="UserLanguage",this.appVersionKey="buildNumber";var d=this.navigationService.getLowerCasedQueryParams()||{};function p(){var e=(Date.now()-u.startTime)/1e3;u.appExitReported||(u.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.loggerAppExited,{},{sessionDuration:e}),u.appExitReported=!0)}this.appCorrelation=d[r.Constants.PiiFreeQueryStringKeys.AppCorrelation],this.hostCorrelationId=d[r.Constants.PiiFreeQueryStringKeys.HostCorrelationId],this.appPlatform=d[r.Constants.PiiFreeQueryStringKeys.AppPlatform],this.refId=d[r.Constants.PiiFreeQueryStringKeys.referralId.toLocaleLowerCase()],this.refType=d[r.Constants.PiiFreeQueryStringKeys.referralType.toLocaleLowerCase()],this.$window.document.addEventListener("spa_navigation_end",(function(e){var t,n,i,r;e.detail&&e.detail.url&&e.detail.time&&(t=u.navigationService.getPageName(e.detail.url),n=o.ScreenName[t],c.udpateViewContext(t),i={url:e.detail.url,timeToComplete:e.detail.time,initiator:e.detail.initiator,screenName:n},(r=u.performanceTiming)&&(i.navigationStart=r.navigationStart,i.fetchStart=r.fetchStart,i.redirectStart=r.redirectStart,i.redirectEnd=r.redirectEnd,i.connectStart=r.connectStart,i.connectEnd=r.connectEnd,i.requestStart=r.requestStart,i.responseStart=r.responseStart,i.responseEnd=r.responseEnd,i.domInteractive=r.domInteractive,i.domLoading=r.domLoading,i.domComplete=r.domComplete,i.loadEventStart=r.loadEventStart,i.loadEventEnd=r.loadEventEnd),u.trackEvent(o.TelemetryEventNames.navigationCompleted,i))})),this.featureTelemetryTracker=new a.TelemetryTracker(this,this.navigationService,o.ScreenName.Auto),this.$rootScope.$on(r.Constants.Events.ServicePlanReady,(function(){sessionInfo.ServicePlanForTelemetry&&u.featureTelemetryTracker.succeed(o.FeatureName.LoggerInitialization)})),this.$rootScope.$on("$destroy",p),this.$window.addEventListener("beforeunload",p),setTimeout((function(){sessionInfo.ServicePlanForTelemetry&&u.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.loggerUserServicePlanFetchedOnWebrole),u.featureTelemetryTracker.trackEvent(o.TelemetryEventNames.loggerStarted)}),0)}t.LoggingService=u,s.registerService("loggingService",u,angular.module("jumper.services"))},"./app/services/MdsLoggerService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r,o=n("./app/utility/appUtil.ts"),s=n("./app/models/TelemetryEventModels.ts");(r=i=t.mdsLogLevel||(t.mdsLogLevel={}))[r.error=0]="error",r[r.warning=1]="warning",r[r.information=2]="information",r[r.verbose=3]="verbose";var a=(c.prototype.logTrace=function(e,t,n,r){if(!_.isNumber(r)&&t)switch(t.resultType){case s.ResultType.Failure:r=i.error;break;case s.ResultType.Warning:r=i.warning;break;case s.ResultType.Success:r=i.information;break;default:r=i.verbose}this.mdsLogCache.push({clientTimeUTC:(new Date).toUTCString(),level:r,eventName:e,properties:t,metrics:n}),50<this.mdsLogCache.length&&this.flush()},c.prototype.flush=function(){this.featureFlagsService.Values.MDSLogging&&(this.mdsLogCache.length&&this.sendMdsLogsToWebrole(),this.$interval.cancel(this.mdsLogIntervalId),this.mdsLogIntervalId=this.$interval(this.flush.bind(this),15e3,1))},c.prototype.sendMdsLogsToWebrole=function(){var e=this.mdsLogCache.splice(0);return this.dataService.makeWebTierRequest("/logtrace","POST",null,e)},c.$inject=["dataService","$interval","featureFlagsService","loggingService"],c);function c(e,t,n,i){this.dataService=e,this.$interval=t,this.featureFlagsService=n,this.loggingService=i,this.mdsLogCache=[],this.featureFlagsService.Values.MDSLogging&&(this.mdsLogIntervalId=this.$interval(this.flush.bind(this),15e3,1))}t.MdsLoggerService=a,o.registerService("mdsLoggerService",a,angular.module("jumper.services"))},"./app/services/MediaDownloaderService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/models/TelemetryEventModels.ts"),r=(o.prototype.downloadFile=function(e){var t=document.createElement("a");t.href=e,t.style.display="none",t.setAttribute("download",""),document.body.appendChild(t),t.click(),document.body.removeChild(t)},o.prototype.downloadFileWithRename=function(e,t){var n=this,i=new XMLHttpRequest;i.withCredentials=!0,i.open("GET",e,!0),i.responseType="blob",i.onload=function(){var e=new Blob([i.response],{type:"application/octet-stream"});n.saveDataAsFile(e,t)},i.send()},o.prototype.saveDataAsFile=function(e,t){var n=document.createElement("a");navigator.msSaveBlob?navigator.msSaveBlob(e,t):(n.href=window.URL.createObjectURL(e),n.style.display="none",n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n))},o.prototype.getAssetFileUrl=function(e,t,n,r){void 0===r&&(r=!1);var o=this.$q.defer();return this.videoService.getFiles(e,r).then((function(e){var r=e.data.value,s=_.find(r,(function(e){return e.type===t}));s&&s.downloadUrl?(n.succeed(i.FeatureName.GetVideoDownloadUrl),o.resolve(s.downloadUrl)):(n.fail(i.FeatureName.DownloadVideo,null,"download Url of type "+t+" not present in the files API"),o.reject())}),(function(e){throw{subFeatureName:i.SubFeatureName.VideoService_GetDownloadUrl,details:e}})),o.promise},o.prototype.downloadAssetFile=function(e,t,n,r){var o=this;void 0===r&&(r=!1),this.getAssetFileUrl(e,t,n,r).then((function(e){o.downloadFile(e),n.succeed(i.FeatureName.DownloadVideo)})).catch((function(e){n.fail(i.FeatureName.DownloadVideo,e.subFeatureName,e.details)}))},o.prototype.getAnalyticsFileUrl=function(e,t,n,r){void 0===r&&(r=!1);var o=this.$q.defer();return this.videoService.getAudienceAnalyticsUrl(e,t,r).then((function(e){var t=e.data.value;t?(n.succeed(i.FeatureName.GetAnalyticsDownloadUrl),o.resolve(t)):(n.fail(i.FeatureName.GetAnalyticsDownloadUrl,null,"download Url for analytics on video not present in the files API"),o.reject())}),(function(e){throw{subFeatureName:i.SubFeatureName.VideoService_GetAnalyticsDownloadUrl,details:e}})),o.promise},o.$inject=["$q","videoService","dataService"],o);function o(e,t,n){this.$q=e,this.videoService=t,this.dataService=n}t.MediaDownloaderService=r,angular.module("jumper.services").service("mediaDownloaderService",r)},"./app/services/MediaUploaderService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=(o.prototype.startUpload=function(e,t){void 0===t&&(t=!1);var n={files:e},r={};return t&&(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(this.resourceId+"/"+i.Constants.VideoActions.StartUpload,r,n)},o.prototype.uploadFiles=function(e,t,n){var r=this;void 0===n&&(n=!1);var o=[],s=new Array(t.length);_.fill(s,0);var a=0,c=this.$q.defer();return t.forEach((function(n,i){var l=r.$q.defer(),u=r.featureFlagsService.Values.UploadV2?r.azureStorageBlobUploaderService(e,n.file,n.sasUrl):r.azureBlobUploaderService(e,n.file,n.sasUrl);u.startUploadToAzureBlob().then((function(){l.resolve()}),(function(e){l.reject(e)}),(function(e){l.notify(e),a+=e-s[i],s[i]=e,c.notify(a/t.length)})),r.azureBlobUploaderList.push(u),o.push(l.promise)})),this.$q.all(o).then((function(){return r.completeUpload(_.map(t,(function(e){return e.file.name})),n).then((function(){c.resolve()}),(function(e){try{e.api=i.Constants.VideoActions.CompleteUpload}catch(e){}c.reject(e)}))}),(function(e){c.reject(e)})),c.promise},o.prototype.cancelUpload=function(){this.azureBlobUploaderList.forEach((function(e){e.cancelUpload()}))},o.prototype.dispose=function(){this.azureBlobUploaderList.forEach((function(e){e.dispose()}))},o.prototype.completeUpload=function(e,t){void 0===t&&(t=!1);var n={files:e},r={};return t&&(r[i.Constants.DataQueryParams.AdminMode]=!0),this.dataService.post(this.resourceId+"/"+i.Constants.VideoActions.CompleteUpload,r,n)},o);function o(e,t,n,i,r,o,s){this.resourceId=e,this.$q=t,this.dataService=n,this.azureBlobUploaderService=i,this.featureFlagsService=r,this.inAdminModeService=o,this.azureStorageBlobUploaderService=s,this.azureBlobUploaderList=[]}t.MediaUploaderService=r,angular.module("jumper.services").factory("mediaUploaderFactory",["$q","dataService","azureBlobUploaderService","featureFlagsService","inAdminModeService","azureStorageBlobUploaderService",function(e,t,n,i,o,s){return function(a){return new r(a,e,t,n,i,o,s)}}])},"./app/services/NavigationService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/models/TelemetryEventModels.ts"),o=n("./app/utility/appUtil.ts"),s=n("./app/utility/string.ts");t.generatePathWithQueryStrings=function(e,t,n){var i=s.formatString(e,t);if(n){for(var r in n)void 0!==n[r]&&null!==n[r]&&""!==n[r]||delete n[r];var o,a=$.param(n);!a||1<(o=a.split("=")).length&&o[1]&&(i=s.formatString("{0}?{1}",i,a))}return i};var a=(c.prototype.navigate=function(e,t){return void 0===t&&(t={}),this.$location.path(e).search(t)},c.prototype.navigateReplaceHistory=function(e,t){return this.navigate(e,t).replace()},c.prototype.getPath=function(){return this.$location.path()},c.prototype.redirect=function(e){this.$window.location.replace(e)},c.prototype.reloadWithExtraQueryString=function(e){var t=this.$location.absUrl();-1!==t.indexOf("?")?t+="&"+e:t+="?"+e,this.redirect(t)},c.prototype.href=function(e){this.$window.location.href=e},c.prototype.getAbsUrl=function(){return this.$location.absUrl()},c.prototype.getQueryParams=function(){return this.$location.search()},c.prototype.addQueryParam=function(e){return this.$location.search(e)},c.prototype.getQueryParamValue=function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=void 0);var i={},r=this.makeCaseInsensitiveRegex(e),o=e.toLowerCase();return _.each(this.getQueryParams(),(function(e,n){var o;n=n.toLowerCase().replace("amp;",""),r.test(n)&&(o=_.isArray(e)?_.last(e):e.toString(),i[n.toLowerCase()]=t?o.toLowerCase():o)})),_.isEmpty(i)||!i[o]?n:i[o]},c.prototype.getLowerCasedQueryParams=function(){var e={};return _.each(this.getQueryParams(),(function(t,n){var i=_.isArray(t)?_.last(t):t.toString();e[n.toLowerCase()]=i.toLowerCase()})),_.isEmpty(e)?void 0:e},c.prototype.removeQueryParam=function(e){var t,n=this.makeCaseInsensitiveRegex(e);_.each(this.getQueryParams(),(function(e,i){n.test(i)&&(t=i)})),this.$location.search(t,null)},c.prototype.removeQueryParamFromUrl=function(e,t){if(!t||!e)return"";var n=e.split("?");if(n.length<2)return e;var i=(i=n[1].split("&")).filter((function(e){return-1===e.indexOf(t)}));return n[0]+"?"+i.join("&")},c.prototype.replaceQueryParamValue=function(e,t,n){if(!t||!e)return"";var i=e.split("?");if(i.length<2)return e;var r=(r=i[1].split("&")).map((function(e){if(0<=e.indexOf(t)){var i=e.split("=");return 2==i.length&&(i[1]=n),i.join("=")}return e}));return i[0]+"?"+r.join("&")},c.prototype.addParmeterWithValue=function(e,t){return t?0<e.indexOf("?")?e+"&"+t:e+"?"+t:e},c.prototype.logHistory=function(e){var t=this.locationHistory.length;(0===t||0<t&&this.locationHistory[t-1]!==e)&&this.locationHistory.push(e)},c.prototype.parseURL=function(e){var t,n,i,r=document.createElement("a"),o={};for(r.href=e,t=r.search.replace(/^\?/,"").split("&"),i=0;i<t.length;i++)o[(n=t[i].split("="))[0]]=n[1];return{pathname:r.pathname,search:r.search,searchObject:o,hash:r.hash}},c.prototype.getCurrentUrl=function(){var e=this.locationHistory.length;return 0<e?this.locationHistory[e]:""},c.prototype.getPreviousUrl=function(){var e=this.locationHistory.length;return 0<e?this.locationHistory[e-1]:""},c.prototype.getOneBeforePreviousUrl=function(){var e=this.locationHistory.length;return 1<e?this.locationHistory[e-2]:""},c.prototype.clearQueryParams=function(){this.$location.search({})},c.prototype.getPageName=function(e){void 0===e&&(e=null);var t,n=this.getQueryParams(),o=this.$location.path();switch(!e||(t=s.urlResolve(e))&&t.pathname&&(o=t.pathname),s.getBaseRoute(o)){case s.getBaseRoute(i.Constants.Routes.Browse):return n.view&&n.view.toLowerCase()===i.Constants.BrowseView.Channel?r.ScreenName.BrowseChannels:n.view&&n.view.toLowerCase()===i.Constants.BrowseView.People?r.ScreenName.BrowsePeople:n.view&&n.view.toLowerCase()===i.Constants.BrowseView.Group?r.ScreenName.BrowseGroups:r.ScreenName.BrowseVideos;case s.getBaseRoute(i.Constants.Routes.Group):return n.view&&n.view.toLowerCase()===i.Constants.GroupView.Channels?r.ScreenName.GroupChannels:n.view&&n.view.toLowerCase()===i.Constants.GroupView.Videos?r.ScreenName.GroupVideos:n.view&&n.view.toLowerCase()===i.Constants.GroupView.Members?r.ScreenName.GroupPrincipals:r.ScreenName.GroupHome;case s.getBaseRoute(i.Constants.Routes.User):return n.view&&n.view.toLowerCase()===r.ScreenName[r.ScreenName.UserChannels].toLowerCase()?r.ScreenName.UserChannels:r.ScreenName.UserVideos;case s.getBaseRoute(i.Constants.Routes.Video):return r.ScreenName.Video;case s.getBaseRoute(i.Constants.Routes.VideoUpdate):return r.ScreenName.VideoUpdate;case s.getBaseRoute(i.Constants.Routes.Upload):return r.ScreenName.Upload;case s.getBaseRoute(i.Constants.Routes.StudioVideos):return r.ScreenName.MyVideos;case s.getBaseRoute(i.Constants.Routes.StudioChannels):return r.ScreenName.MyChannels;case s.getBaseRoute(i.Constants.Routes.Watchlist):return r.ScreenName.Watchlist;case s.getBaseRoute(i.Constants.Routes.Channel):return r.ScreenName.Channel;case s.getBaseRoute(i.Constants.Routes.User):return r.ScreenName.UserVideos;case s.getBaseRoute(i.Constants.Routes.StudioGroups):return r.ScreenName.StudioGroups;case s.getBaseRoute(i.Constants.Routes.FollowingChannels):return r.ScreenName.ChannelsFollowing;case s.getBaseRoute(i.Constants.Routes.Meetings):return r.ScreenName.MyMeetings;case s.getBaseRoute(i.Constants.Routes.Welcome):return r.ScreenName.Welcome;case s.getBaseRoute(i.Constants.Routes.Update):return r.ScreenName.LiveUpdate;case s.getBaseRoute(i.Constants.Routes.Create):return r.ScreenName.CreateLive;case s.getBaseRoute(i.Constants.Routes.RecentlyViewed):return r.ScreenName.RecentlyViewed;case s.getBaseRoute(i.Constants.Routes.StudioRecycleBin):return r.ScreenName.RecycleBin;case s.getBaseRoute(i.Constants.Routes.AdminSettings):return r.ScreenName.AdminSettings;default:return r.ScreenName.Hub}},c.prototype.makeCaseInsensitiveRegex=function(e){return new RegExp("(?:^|W)"+e+"(?:$|W)","i")},c.$inject=["$window","$location"],c);function c(e,t){this.$window=e,this.$location=t,this.locationHistory=[]}t.NavigationService=a,o.registerService("navigationService",a,angular.module("jumper.services"))},"./app/services/NotificationService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/models/TelemetryEventModels.ts"),r=n("./app/utility/Constants.ts"),o=(s.prototype.setupNotificationService=function(e){var t=this;void 0===e&&(e=!0),this.autoStartSignalR=e,this.$rootScope.$on(r.Constants.Events.TokenRenewedWithApiGateway,(function(){t.apiGatewayTokenReady=!0,t.hubsLoaded?!t.signalRConnected&&t.autoStartSignalR&&t.startConnection():t.loadHubConnection()}))},s.prototype.startNotificationService=function(){this.autoStartSignalR=!0,this.apiGatewayTokenReady&&this.hubsLoaded&&this.startConnection()},s.prototype.addOrUpdateJoinVideoGroupList=function(e,t){var n=this;return this.autoStartSignalR=!0,this.waitForSignalRConnected().finally((function(){var i=_.find(n.videoJoinList,(function(t){return t.videoId===e}));i?i.token=t:n.videoJoinList.push({videoId:e,token:t})}))},s.prototype.joinVideoGroupInternal=function(e,t){var n=this;return this.clientNotifications.server.joinVideoGroup(e,t).then((function(){n.telemetryTracker.succeed(i.FeatureName.NotificationConnection,{subFeatureName:i.SubFeatureName.NotificaitonService_JoinVideoGroups,connectionId:$.connection.hub.id})}),(function(t){t=t?t.split("<")[0]:t,n.telemetryTracker.fail(i.FeatureName.NotificationConnection,i.SubFeatureName.NotificaitonService_JoinVideoGroups,t,{connectionId:$.connection.hub.id}),n.$rootScope.$broadcast(r.Constants.Events.Notification_JoinVideoGroupFailed,{videoId:e})}))},s.prototype.leaveVideoGroup=function(e){if(_.remove(this.videoJoinList,(function(t){return t.videoId===e})),this.signalRConnected)return this.leaveVideoGroupInternal(e);this.telemetryTracker.fail(i.FeatureName.NotificationConnection,i.SubFeatureName.NotificaitonService_LeaveVideoGroups,"SignalR is not yet Connected, so skipping leaveVideoGroups",{connectionId:$.connection.hub.id})},s.prototype.leaveVideoGroupInternal=function(e){var t=this;return this.clientNotifications.server.leaveVideoGroup(e).then((function(){t.telemetryTracker.succeed(i.FeatureName.NotificationConnection,{subFeatureName:i.SubFeatureName.NotificaitonService_LeaveVideoGroups,connectionId:$.connection.hub.id})}),(function(e){e=e?e.split("<")[0]:e,t.telemetryTracker.fail(i.FeatureName.NotificationConnection,i.SubFeatureName.NotificaitonService_LeaveVideoGroups,e,{connectionId:$.connection.hub.id})}))},s.prototype.loadHubConnection=function(){var e=this;this.hubsLoadInProgress||this.signalRConnected||(this.hubsLoadInProgress=!0,$.ajaxSetup({cache:!0}),$.getScript(sessionInfo.NotificationEndPoint).then((function(){e.hubsLoaded=!0,e.telemetryTracker.succeed(i.FeatureName.NotificationHubsJSLoad),e.startHubConnection()}),(function(t){e.telemetryTracker.fail(i.FeatureName.NotificationHubsJSLoad,null,t)})).always((function(){e.hubsLoadInProgress=!1})))},s.prototype.startHubConnection=function(){var e=this;function t(t){var n,r;e.signalCache.get(t.notificationId)?e.telemetryTracker.trackEvent(i.TelemetryEventNames.SignalRNotificationReceived,{id:t.notificationId,notification:JSON.stringify(t),duplicated:!0,connectionId:$.connection.hub.id}):(n={id:t.notificationId,cacheSize:e.signalCache.info().size,connectionId:$.connection.hub.id},e.featureFlagsService.Values.NewNotifications?(_.merge(n,t.data),Object.keys(n).forEach((function(e){if(_.isArray(n[e]))for(var t=0;t<n[e].length;t++)n[e][t]=JSON.stringify(n[e][t]);else _.isString(n[e])||_.isNumber(n[e])||(n[e]=JSON.stringify(n[e]))})),r=t.eventType+"NotificationReceived",e.telemetryTracker.trackEvent(r,n)):(n.notification=JSON.stringify(t),e.telemetryTracker.trackEvent(i.TelemetryEventNames.SignalRNotificationReceived,n)),e.signalCache.put(t.notificationId,t.notificationId),e.raiseApplicationEvents(t))}$.connection.hub.url=sessionInfo.NotificationEndPoint,this.clientNotifications=this.featureFlagsService.Values.NewNotifications?$.connection.ClientNotifications:$.connection.EntityChanges,this.featureFlagsService.Values.NewNotifications?this.clientNotifications.client.handleNotification=t.bind(this):this.clientNotifications.client.handleNotification=function(e,n){t(n)},$.connection.hub.connectionSlow((function(){e.telemetryTracker.warn(i.FeatureName.NotificationConnection,i.SubFeatureName.NotificaitonService_SlowConnection,{},{connectionId:$.connection.hub.id})})),$.connection.hub.reconnecting((function(){e.telemetryTracker.warn(i.FeatureName.NotificationConnection,i.SubFeatureName.NotificationService_ReConnecting,{},{connectionId:$.connection.hub.id})})),$.connection.hub.reconnected((function(){e.telemetryTracker.warn(i.FeatureName.NotificationConnection,i.SubFeatureName.NotificationService_ReConnected,{},{connectionId:$.connection.hub.id}),e.signalRConnected=!0})),$.connection.hub.disconnected((function(){e.$rootScope.$broadcast(r.Constants.Events.NotificationDisconnected);var t=$.connection.hub.lastError?$.connection.hub.lastError.message:"";e.signalRConnected=!1,e.disconnectRetryCounter<r.Constants.NotificationFailureMaxRetries&&e.$timeout((function(){e.disconnectRetryCounter++,e.startConnection()}),r.Constants.NotificationServiceReconnectTimeout),e.telemetryTracker.fail(i.FeatureName.NotificationConnection,i.SubFeatureName.NotificationService_Disconnected,t,{connectionId:$.connection.hub.id})})),this.autoStartSignalR&&this.startConnection()},s.prototype.waitForSignalRConnected=function(){var e=this.$q.defer();return this.signalRConnected?e.resolve():(this.startSignalRPromise||this.startNotificationService(),this.startSignalRPromise?this.startSignalRPromise.then((function(){e.resolve()}),(function(t){e.reject(t)})):e.reject("hubs not connected yet")),e.promise},s.prototype.startConnection=function(){var e=this,t=this.$q.defer();return this.startSignalRPromise=t.promise,$.connection.hub.start().then((function(){e.hubConnectionStartSuccess(t)}),(function(n){e.hubConnectionStartFail(t,n)})),this.startSignalRPromise},s.prototype.hubConnectionStartSuccess=function(e){var t=this;this.clientNotifications.server.joinGroups().then((function(){t.telemetryTracker.succeed(i.FeatureName.NotificationConnection,{subFeatureName:i.SubFeatureName.NotificaitonService_JoinedGroups,connectionId:$.connection.hub.id}),e.resolve()}),(function(n){n=n?n.split("<")[0]:n,t.telemetryTracker.fail(i.FeatureName.NotificationConnection,i.SubFeatureName.NotificaitonService_JoinedGroups,n,{connectionId:$.connection.hub.id}),$.connection.hub.stop(!0),e.reject(n)})),this.telemetryTracker.succeed(i.FeatureName.NotificationConnection,{connectionId:$.connection.hub.id}),this.signalRConnected=!0,this.videoJoinList.forEach((function(e){t.joinVideoGroupInternal(e.videoId,e.token)}))},s.prototype.hubConnectionStartFail=function(e,t){this.telemetryTracker.fail(i.FeatureName.NotificationConnection,i.SubFeatureName.NotificationService_NotConnected,{},{connectionId:$.connection.hub.id}),e.reject(t)},s.prototype.raiseApplicationEvents=function(e){function t(e){switch(_.reduce(e,(function(e,t){return e+"/"+t.type+(t.id?"/:id":"")}),"")){case r.Constants.AssetPaths.Video+"/"+r.Constants.VideoActions.Status:n.$rootScope.$broadcast(r.Constants.Events.Notification_VideoStatus,{id:e[0].id});break;case r.Constants.AssetPaths.Principal+"/"+r.Constants.ResourceNames.PrincipalSettings:n.$rootScope.$broadcast(r.Constants.Events.Notification_PrincipalSettings,{id:e[0].id});break;case r.Constants.AssetPaths.Principal+"/"+r.Constants.ResourceNames.PrincipalPermissions:n.$rootScope.$broadcast(r.Constants.Events.Notification_PrincipalPermissions);break;case r.Constants.AssetPaths.Tenant+"/"+r.Constants.TenantActions.Settings:n.$rootScope.$broadcast(r.Constants.Events.Notification_TenantSettings);break;case r.Constants.AssetPaths.Tenant+"/"+r.Constants.ResourceNames.ExportData+"/:id":n.$rootScope.$broadcast(r.Constants.Events.Notification_Principal)}}var n=this;if(this.featureFlagsService.Values.NewNotifications)switch(e.eventType){case r.Constants.NotificationEventTypes.VideoIngestStateChange:this.$rootScope.$broadcast(r.Constants.Events.Notification_IngestStateChange,e.data);break;case r.Constants.NotificationEventTypes.VideoStateChange:this.$rootScope.$broadcast(r.Constants.Events.Notification_VideoStateChange,e.data);break;case r.Constants.NotificationEventTypes.ConcurrentViewers:this.$rootScope.$broadcast(r.Constants.Events.Notification_ConcurrentViewers,e.data);break;case r.Constants.NotificationEventTypes.LiveAutoShutdown:this.$rootScope.$broadcast(r.Constants.Events.Notification_LiveAutoShutdown,e.data);break;case r.Constants.NotificationEventTypes.SendEntityChanges:t(e.data.entityPath)}else t(e.entityPath)},s.$inject=["$rootScope","$q","telemetryService","featureFlagsService","$timeout",r.Constants.CacheId.SignalCache],s);function s(e,t,n,r,o,s){var a=this;this.$rootScope=e,this.$q=t,this.featureFlagsService=r,this.$timeout=o,this.signalCache=s,this.hubsLoaded=!1,this.hubsLoadInProgress=!1,this.signalRConnected=!1,this.disconnectRetryCounter=0,this.videoJoinList=[],e.$on("$destroy",(function(){a.signalRConnected&&$.connection.hub.stop()})),this.telemetryTracker=n.getTracker(i.ScreenName.NotApplicable),e.$watchCollection((function(){return a.videoJoinList}),(function(e,t){a.signalRConnected?_.differenceBy(e,t,"videoId").forEach((function(e){a.joinVideoGroupInternal(e.videoId,e.token)})):a.telemetryTracker.fail(i.FeatureName.NotificationConnection,i.SubFeatureName.NotificaitonService_JoinVideoGroups,"SignalR is not yet Connected, so skipping joinVideoGroups",{connectionId:$.connection.hub.id})}))}t.NotificationService=o,angular.module("jumper.services").service("notificationService",o)},"./app/services/ReplaceVideoService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/services/VideoBgUploaderService.ts"),r=n("./app/utility/string.ts"),o=n("./app/utility/Constants.ts"),s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/services/NavigationService.ts"),c=(l.prototype.handleReplaceVideoDialog=function(e,t,n,r,o){var a=this;void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===o&&(o=""),this.video=e,this.videoEditStateInfo=t,this.featureTelemetryTracker.setResourceId(this.video?this.video.id:null);var c=this.replaceVideoDialog.open(this.video,r,o);return this.removeReplaceVideoQueryString(),c.closePromise.then((function(e){return e.value?(a.fileInfo=e.value.fileInfo,a.replacementFileName=a.fileInfo.file.name,a.videoEditStateInfo.isReplacingVideo=a.fileInfo.editStateInfo.isReplacingVideo,_.some(a.videoBgUploaderService.mediaUploadList,(function(e){return e.resourceId===a.video.id&&e.status===i.UploadStatus.failed}))&&a.videoBgUploaderService.removeBgUploadItem(a.video.id),a.videoBgUploaderService.startBgUpload(a.video.id,a.fileInfo.file,a.fileInfo.uploadPriority,r,a.fileInfo.editStateInfo.isReplacingVideo,n).then((function(){a.video.state=a.videoEditStateInfo.videoState=a.fileInfo.editStateInfo.videoState,a.featureTelemetryTracker.succeed(s.FeatureName.ReplaceVideo,null,null,s.SubFeatureName.VideoEvent_ReplaceVideo)}),(function(e){return a.featureTelemetryTracker.fail(s.FeatureName.ReplaceVideo,s.SubFeatureName.VideoEvent_ReplaceVideo,e),a.$q.reject(e)})),a.$q.resolve(a.videoEditStateInfo)):a.$q.reject(a.resources.ReplaceVideo.FileInfoNotFound)}),(function(e){return a.videoEditStateInfo.isReplacingVideo=!1,a.featureTelemetryTracker.fail(s.FeatureName.ReplaceVideo,s.SubFeatureName.VideoEvent_ReplaceVideo,e),a.$q.reject(e)}))},l.prototype.canReplace=function(e){return this.isReplaceVideoEnabled&&e&&e.userData&&e.userData.permissions.canEdit&&e.userData.permissions.canDownload&&e.state&&(r.isStringEqual(e.state,o.Constants.VideoState.completed)||r.isStringEqual(e.state,o.Constants.VideoState.error)||this.isInErrorState(e))},l.prototype.isReplacing=function(e){return this.isReplaceVideoEnabled&&e&&e.isReplacingVideo&&e.videoState&&(r.isStringEqual(e.videoState,o.Constants.VideoState.uploading)||r.isStringEqual(e.videoState,o.Constants.VideoState.processing))},l.prototype.replaceCompletedRefresh=function(e,t){var n;!r.isStringEqual(e,o.Constants.VideoStatus.Completed)||(n=this.navigationService.getAbsUrl()).includes(t)&&this.navigationService.redirect(n)},l.prototype.openReplaceVideoDialog=function(e,t){var n={};n[o.Constants.QueryStringKeys.open]=o.Constants.Events.ReplaceVideo;var i=o.Constants.Routes.VideoUpdate;t&&(i=o.Constants.Routes.Update),this.navigationService.redirect(a.generatePathWithQueryStrings(i,e,n))},l.prototype.removeReplaceVideoQueryString=function(){this.navigationService.removeQueryParam(o.Constants.QueryStringKeys.open)},Object.defineProperty(l.prototype,"isReplaceVideoEnabled",{get:function(){return this.featureFlagsService.Values.ReplaceVideo},enumerable:!0,configurable:!0}),l.prototype.isInErrorState=function(e){return e&&e.state&&r.isStringEqual(e.state,o.Constants.VideoState.error)||r.isStringEqual(e.state,o.Constants.VideoState.exceededFileSize)||r.isStringEqual(e.state,o.Constants.VideoState.failedProcessing)||r.isStringEqual(e.state,o.Constants.VideoState.failedUpload)||r.isStringEqual(e.state,o.Constants.VideoState.unSupportedType)},l.$inject=["$q","resources","videoBgUploaderService","mediaDownloaderService","telemetryService","featureFlagsService","replaceVideoDialog","navigationService"],l);function l(e,t,n,i,r,o,s,a){this.$q=e,this.resources=t,this.videoBgUploaderService=n,this.mediaDownloaderService=i,this.telemetryService=r,this.featureFlagsService=o,this.replaceVideoDialog=s,this.navigationService=a,this.featureTelemetryTracker=this.telemetryService.getTracker()}t.ReplaceVideoService=c,angular.module("jumper.services").service("replaceVideoService",c)},"./app/services/RestoreConfirmationDialogService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/string.ts"),r=n("./app/utility/Constants.ts"),o=(s.prototype.getDialogModel=function(e,t,n){var o,s,a,c=e===r.Constants.ResourceNames.DeletedVideo?(o=this.resources.Components.RestoreConfirmationDialog.VideoRestoredTitle,s=this.resources.Components.RestoreConfirmationDialog.VideoRestoredMessage,a=this.resources.Components.RestoreConfirmationDialog.VideoRestoredConfirmButton,this.resources.Components.RestoreConfirmationDialog.VideoRestoredCancelButton):(o=i.formatString(this.resources.Components.RestoreConfirmationDialog.RestoreConfirmTitle,e),s=this.resources.Components.RestoreConfirmationDialog.RestoreMessage,a=this.resources.Yes,this.resources.No);return{title:o,message:s,confirmButtonLabel:a,cancelButtonLabel:c,hideConfirmButton:n}},s.prototype.show=function(e,t,i){var r=this.getDialogModel(e,t,i),o={template:n("./app/Controls/Dialogs/ConfirmationDialog/ConfirmationDialog.html"),controller:"ConfirmationDialogController",controllerAs:"ConfirmationDialog",closeByDocument:!0,plain:!0,className:"c-dialog",showClose:!1,resolve:{dialogModel:function(){return r}}};return this.ngDialog.openConfirm(o)},s.$inject=["$q","resources","ngDialog"],s);function s(e,t,n){this.$q=e,this.resources=t,this.ngDialog=n}t.RestoreConfirmationDialogService=o,angular.module("jumper.services").service("restoreConfirmationDialogService",o)},"./app/services/SdnUtilService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/Constants.ts"),o=(s.prototype.setSdnProvidersAndVersions=function(){var e=this,t=portalConfiguration.SDNNamesWithVersions?portalConfiguration.SDNNamesWithVersions.split(","):[];_.forEach(t,(function(t){var n=t.split("/");n&&4===n.length&&(e.sdnNames.push(n[0]),e.sdnDisplayNames[n[0]]=n[1],e.sdnConfigNames[n[0]]=n[2],e.sdnVersions[n[0]]=n[3])}))},s.prototype.getMediaPlayerOptions=function(e,t,n){var i=_.get(this.sdnSettings,"provider",""),r=this.sdnConfigNames[i]||null;return r&&(_.forEach(e.playbackUrls,(function(e){e.sdnList=[{videoId:t,providerAuthenticationToken:n,sdnName:r}]})),e.plugins=e.plugins||{},e.plugins[r]={sessionId:sessionInfo.ClientSessionId,providerConfiguration:_.get(this.sdnSettings,"configuration",""),isSDNDebug:this.isSdnDebug}),e},s.prototype.loadSdnPlugin=function(){var e;return this.promise||((e=this.getSdnScriptUrl())?($.ajaxSetup({cache:!0}),this.promise=this.$q.when($.getScript(e))):this.promise=this.$q.resolve()),this.promise},s.prototype.getSdnScriptUrl=function(){var e=this.isSdnDebug?"pluginscript.js":"pluginscript.min.js";return this.getPluginVersion&&this.sdnSettings.provider.toLowerCase()&&portalConfiguration.PartnerBinariesUri?portalConfiguration.PartnerBinariesUri+"/"+this.sdnSettings.provider.toLowerCase()+"/"+this.getPluginVersion()+"/"+e:null},s.prototype.getPluginVersion=function(){return this.sdnSettings.provider?this.sdnVersions[this.sdnSettings.provider.toLowerCase()]:""},s.$inject=["$q","navigationService"],s);function s(e,t){this.$q=e,this.navigationService=t,this.sdnVersions={},this.sdnNames=[],this.isSdnDebug=!1,this.disableSdn=!1,this.sdnConfigNames={},this.sdnDisplayNames={},this.setSdnProvidersAndVersions();var n=this.navigationService.getQueryParamValue(r.Constants.sdnPluginPramTypes.isSDNDebug);this.isSdnDebug=!(!n||"true"!=n);var i=this.navigationService.getQueryParamValue(r.Constants.sdnPluginPramTypes.disableSDN);this.disableSdn=!(!i||"true"!=i)}t.SdnUtilService=o,i.registerService("sdnUtilService",o,angular.module("jumper.services"))},"./app/services/SessionExpiredManager.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=(o.$inject=["$rootScope","sessionExpiredDialog"],o);function o(e,t){var n=this;this.$rootScope=e,this.sessionExpiredDialog=t,this.sessionExpiredNotified=0,this.$rootScope.$on(i.Constants.Events.SessionExpired,(function(){0==n.sessionExpiredNotified++&&t.open()}))}t.SessionExpiredManager=r,angular.module("jumper.services").service("sessionExpiredManager",r)},"./app/services/SessionManager.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/models/TelemetryEventModels.ts"),o=n("./app/utility/appUtil.ts"),s=n("./app/utility/ServicePlanUtils.ts"),a=(c.prototype.renewTokenInternal=function(){return sessionInfo.IsSignedInWithAdal?this.renewTokenInternalAdal():this.renewTokenInternalServer()},c.prototype.renewTokenInternalServer=function(){var e=this,t={tokenExpiryTime:sessionInfo.AccessTokenExpiry,source:"TimerBasedAutoRefresh"},n=sessionInfo.ApiGatewayUri;return this.dataService.makeWebTierRequest("/RenewToken","POST",null,{}).then((function(n){return sessionInfo.AccessToken=n.data.AccessToken,sessionInfo.AccessTokenExpiry=n.data.TokenExpiry,sessionInfo.ServerTime=n.data.ServerTime,e.featureTelemetryTracker.succeed(r.FeatureName.RenewTokenWebTier,t),e.$q.resolve()}),(function(t){return e.handleTokenRefreshFailure(n,r.FeatureName.RenewTokenWebTier,t),e.$q.reject()}))},c.prototype.renewLokiTokenInternalServer=function(){var e=this,t={tokenExpiryTime:sessionInfo.LokiTokenExpiry,source:"TimerBasedAutoRefresh"},n=sessionInfo.ApiGatewayUri;return this.dataService.makeWebTierRequest("/RenewLokiToken","POST",null,{}).then((function(n){return sessionInfo.LokiToken=n.data.LokiToken,sessionInfo.LokiTokenExpiry=n.data.LokiTokenExpiry,sessionInfo.ServerTime=n.data.ServerTime,e.featureTelemetryTracker.succeed(r.FeatureName.RenewLokiToken,t),e.$q.resolve()}),(function(t){return e.handleTokenRefreshFailure(n,r.FeatureName.RenewLokiToken,t),e.$q.reject()}))},c.prototype.renewMSGraphTokenInternalServer=function(){var e=this,t={tokenExpiryTime:sessionInfo.MSGraphTokenExpiry,source:"TimerBasedAutoRefresh"},n=sessionInfo.ApiGatewayUri;return this.dataService.makeWebTierRequest("/RenewMSGraphToken","POST",null,{}).then((function(n){return sessionInfo.MSGraphToken=n.data.MSGraphToken,sessionInfo.MSGraphTokenExpiry=n.data.MSGraphTokenExpiry,sessionInfo.ServerTime=n.data.ServerTime,e.featureTelemetryTracker.succeed(r.FeatureName.RenewMSGraphToken,t),e.$q.resolve()}),(function(t){return e.handleTokenRefreshFailure(n,r.FeatureName.RenewMSGraphToken,t),e.$q.reject()}))},c.prototype.renewTokenInternalAdal=function(){var e=this,t=this.$q.defer();return acquireAccessToken((function(){var n={tokenExpiryTime:sessionInfo.AccessTokenExpiry,source:"TimerBasedAutoRefresh"};e.featureTelemetryTracker.succeed(r.FeatureName.RenewTokenAdal,n),t.resolve()}),(function(n){e.handleTokenRefreshFailure(sessionInfo.ApiGatewayUri,r.FeatureName.RenewTokenAdal,n),t.reject()})),t.promise},c.prototype.callApiGatewayRefreshToken=function(){var e=this,t={tokenExpiryTime:sessionInfo.AccessTokenExpiry,source:"ApiGatewayTokenRefresh"},n=sessionInfo.ApiGatewayUri;return this.dataService.getWithCorsSupport("refreshtoken",null).then((function(){e.featureTelemetryTracker.succeed(r.FeatureName.RenewApiGatewayTokenCookie,t),e.$rootScope.$broadcast(i.Constants.Events.TokenRenewedWithApiGateway)}),(function(t){e.handleTokenRefreshFailure(n,r.FeatureName.RenewApiGatewayTokenCookie,t)})).finally((function(){e.$rootScope.loadPage||e.$rootScope.showCookieError||(e.$rootScope.loadPage=!0)}))},c.prototype.callApiGatewayRefreshTokenUponSignup=function(){var e=this;this.callApiGatewayRefreshToken().then((function(){e.featureTelemetryTracker.succeed(r.FeatureName.TenantProvisioning)}))},c.prototype.initialize=function(){var e,t=this;return portalConfiguration.EnableMockApiGateway?(this.$rootScope.loadPage||this.$rootScope.showCookieError||(this.$rootScope.loadPage=!0),this.$rootScope.$broadcast(i.Constants.Events.TokenRenewedWithApiGateway),e=this.loadNotifications()):(e=c.isTokenExpired()?this.renewTokenInternal().then((function(){return t.callApiGatewayRefreshToken()})):this.callApiGatewayRefreshToken(),_.isNull(sessionInfo)?this.featureTelemetryTracker.fail(r.FeatureName.SessionInfoWebTier,r.SubFeatureName.NotApplicable,{}):this.featureTelemetryTracker.succeed(r.FeatureName.SessionInfoWebTier),this.requestTimer=this.$interval((function(){t.renewTokenHandler()}),c.defaultTokenCheckInterval,1),e.then((function(){var e=new Array;return sessionInfo.ServicePlanForTelemetry||e.push(t.loadServicePlans()),t.featureFlagsService.Values.DataUsageNotifications&&e.push(t.loadNotifications()),t.$q.all(e)}),this.terminatedUserHandler))},c.prototype.start=function(){var e=this;if(portalConfiguration.EnableMockApiGateway)return this.$rootScope.$broadcast(i.Constants.Events.TokenRenewedWithApiGateway),this.$q.resolve(null);var t=void 0;t=c.isTokenExpired()?this.renewTokenInternal().then((function(){return e.callApiGatewayRefreshToken()})):this.callApiGatewayRefreshToken();return this.requestTimer=this.$interval((function(){e.renewTokenHandler()}),c.defaultTokenCheckInterval,1),sessionInfo.ServicePlanForTelemetry?t:t.then((function(){e.loadServicePlans()}),(function(t){return e.terminatedUserHandler(t)}))},c.prototype.stop=function(){this.requestTimer&&(this.$interval.cancel(this.requestTimer),this.requestTimer=null)},c.prototype.terminatedUserHandler=function(e){var t;e&&e.status&&403===e.status&&(t=s.ServicePlanUtils.getTrialPlanForUser(this.me,!0),!_.isNull(t)&&s.ServicePlanUtils.isTerminatedTrial(t)&&this.$rootScope.$broadcast(i.Constants.Events.TokenRenewedWithApiGateway))},c.prototype.renewTokenHandler=function(){var e=this;c.shouldRenewFormsTokenNow()&&this.$rootScope.$emit(i.Constants.Events.RenewFormsToken),c.shouldRenewTokenNow()?this.renewTokenInternal().then((function(){return e.callApiGatewayRefreshToken()}),(function(){e.$rootScope.$emit(i.Constants.Events.RenewTokenTriedAndFailed)})).finally((function(){c.isTokenExpired()?e.$rootScope.$broadcast(i.Constants.Events.SessionExpired):e.requestTimer=e.$interval((function(){e.renewTokenHandler()}),c.defaultTokenCheckInterval,1)})):this.requestTimer=this.$interval((function(){e.renewTokenHandler()}),c.defaultTokenCheckInterval,1),c.shouldRenewLokiTokenNow(this.featureFlagsService)&&this.renewLokiTokenInternalServer(),c.shouldRenewMSGraphTokenNow(this.featureFlagsService)&&this.renewMSGraphTokenInternalServer()},c.prototype.handleTokenRefreshFailure=function(e,t,n,i){void 0===i&&(i=r.SubFeatureName.NotApplicable),e?this.featureTelemetryTracker.fail(t,i,n):this.featureTelemetryTracker.warn(t,i,n)},c.prototype.loadNotifications=function(){var e=this,t=this.$q.defer();return this.userNotificationService.updateNotificationCache().then((function(){e.$rootScope.$broadcast(i.Constants.Events.UserNotificationsReady),e.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.userNotificationsReady),t.resolve()}),(function(n){e.handleTokenRefreshFailure(sessionInfo.ApiGatewayUri,r.FeatureName.UserNotifications,r.SubFeatureName.UserNotificationService_Query,n),t.reject(n)})),t.promise},c.prototype.loadServicePlans=function(){var e=this;if(!this.principalService)return null;var t=this.principalService.getMyPrincipalInfo();return t.then((function(t){var n,o;e.me=t&&t.data?t.data:null,e.me&&e.me.servicePlans&&e.me.servicePlans.assignedPlans&&(o=1<(n=e.me.servicePlans.assignedPlans.map((function(e){return e.name}))).length?_.orderBy(_.without(n,i.Constants.DefaultServicePlan),["asc"]):n,sessionInfo.ServicePlanForTelemetry=o.join("+"),e.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.loggerUserServicePlanFetchedOnClient),e.$rootScope.$broadcast(i.Constants.Events.ServicePlanReady),e.servicePlanRetryTimer&&e.$interval.cancel(e.servicePlanRetryTimer))}),(function(t){e.featureTelemetryTracker.warn(r.FeatureName.LoggerInitialization,r.SubFeatureName.PrincipalService_GetMyPrincipalInfo,t),e.servicePlanRetryTimer||(e.servicePlanRetryTimer=e.$interval(e.loadServicePlans,i.Constants.ServicePlanRetryInterval))})),t},c.shouldRenewTokenNow=function(){return!sessionInfo.AccessTokenExpiry||!sessionInfo.AccessToken||Date.parse(sessionInfo.AccessTokenExpiry)-Date.now()-this.tokenRefreshIntervalOffset<=0},c.shouldRenewFormsTokenNow=function(){return sessionInfo.FormsAccessTokenExpiry&&sessionInfo.FormsAccessToken?Date.parse(sessionInfo.FormsAccessTokenExpiry)-Date.now()-this.tokenRefreshIntervalOffset<=0:!!sessionInfo.FormsAccessToken},c.isTokenExpired=function(){return!(sessionInfo.AccessToken&&sessionInfo.AccessTokenExpiry&&Date.parse(sessionInfo.AccessTokenExpiry)>=Date.now())},c.isTokenAuth=function(e){return e.Values.TeamsTokenSSO&&window.isTokenSSO_Teams||e.Values.TokenSSOPostMessage&&window.PostMessageConnectedToParent},c.shouldRenewLokiTokenNow=function(e){return!!e.Values.ShareableGroupCRUDControl&&(sessionInfo.LokiTokenExpiry&&sessionInfo.LokiToken?Date.parse(sessionInfo.LokiTokenExpiry)-Date.now()-this.tokenRefreshIntervalOffset<=0:!!sessionInfo.LokiToken||!!sessionInfo.LokiTokenExpiry)},c.shouldRenewMSGraphTokenNow=function(e){return!!e.Values.ShareableGroupCRUDControl&&(sessionInfo.MSGraphTokenExpiry&&sessionInfo.MSGraphToken?Date.parse(sessionInfo.MSGraphTokenExpiry)-Date.now()-this.tokenRefreshIntervalOffset<=0:!!sessionInfo.MSGraphToken||!!sessionInfo.MSGraphTokenExpiry)},c.$inject=["$rootScope","dataService","telemetryService","featureFlagsService","$interval","$q","navigationService","$location","principalService","userNotificationService"],c.tokenRefreshIntervalOffset=9e5,c.defaultTokenCheckInterval=3e4,c);function c(e,t,n,o,s,a,c,l,u,d){var p=this;this.$rootScope=e,this.dataService=t,this.telemetryService=n,this.featureFlagsService=o,this.$interval=s,this.$q=a,this.$navigationService=c,this.$location=l,this.principalService=u,this.userNotificationService=d,this.featureTelemetryTracker=this.telemetryService.getTracker(r.ScreenName.Auto),this.$rootScope.$on(i.Constants.Events.RenewTokenUponSignup,(function(){p.callApiGatewayRefreshTokenUponSignup(),sessionInfo.ServicePlanForTelemetry||p.loadServicePlans(),p.featureFlagsService.Values.DataUsageNotifications&&p.loadNotifications()}))}t.SessionManager=a,o.registerService("sessionManager",a,angular.module("jumper.services"))},"./app/services/SideBarService.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){};t.SideBarSection=n,t.SideBarItem=function(){};var i=(r.prototype.getAllItems=function(){var e=[],t=new n;t.showTitle=!1,t.items=[],t.items.push({text:this.resources.SideBar.Discover,uri:"/",cssClass:"pbi-glyph-home",entityCount:0,isEntityCountVisible:!1}),t.items.push({text:this.resources.SideBar.Studio,uri:"/studio",cssClass:"pbi-glyph-emoji",entityCount:0,isEntityCountVisible:!1}),e.push(t);var i=new n;i.showTitle=!0,i.text=this.resources.SideBar.Channels,i.uri="/channels",i.items=[],e.push(i);var r=new n;return r.showTitle=!1,r.items=[],r.items.push({text:this.resources.SideBar.WatchLater,uri:"/watchlater",entityCount:5,isEntityCountVisible:!0,cssClass:"pbi-glyph-tvmonitor"}),e.push(r),e},r.prototype.getCollapsedItems=function(){var e=[];return e.push({text:this.resources.SideBar.Discover,uri:"/",cssClass:"pbi-glyph-home",entityCount:0,isEntityCountVisible:!1}),e.push({text:this.resources.SideBar.WatchLater,uri:"/watchlater",entityCount:5,isEntityCountVisible:!0,cssClass:"pbi-glyph-tvmonitor"}),e},r.$inject=["resources","channelService"],r);function r(e,t){this.resources=e,this.channelService=t}t.SideBarService=i,angular.module("jumper.services").service("sideBarService",i)},"./app/services/StartupDialogLauncher.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/models/TelemetryEventModels.ts"),r=n("./app/utility/Constants.ts"),o=n("./app/utility/appUtil.ts"),s=n("./app/utility/ServicePlanUtils.ts"),a=n("./app/utility/UserNotificationUtils.ts"),c=n("./app/models/TelemetryEventModels.ts"),l=(u.prototype.launch=function(){var e=this;this.telemetryTracker=this.telemetryService.getTracker(this.screenName),this.$rootScope.$watch((function(){return e.dataShareService.notifications}),(function(t,n){n!==t&&_.isArray(e.dataShareService.notifications)&&!_.isEmpty(e.dataShareService.notifications)&&e.launchTrialCountdownDialog()}))},u.prototype.launchTrialCountdownDialog=function(){var e=this,t=this.$q.defer();return this.principalService.getMyPrincipalInfo().then((function(n){var i,r=n&&n.data?n.data:null;e.shouldDisplayTrialCountdown(r)&&(i=a.getNotificationByType(e.dataShareService.notifications,a.UserNotificationType.TrialSuspended)||a.getNotificationByType(e.dataShareService.notifications,a.UserNotificationType.TrialSuspensionWarning),e.shouldDisplayTrialCountdown(r)?(e.trialCountdownDialog.open(r,i),t.resolve(!0)):t.resolve(!1))}),(function(n){e.telemetryTracker.fail(c.FeatureName.TrialSuspensionDialog,c.SubFeatureName.PrincipalService_GetMyPrincipalInfo,n),t.resolve(!1)})),t.promise},u.prototype.shouldDisplayTrialCountdown=function(e){var t=this.dataShareService&&_.isArray(this.dataShareService.notifications)&&(!_.isNull(a.getNotificationByType(this.dataShareService.notifications,a.UserNotificationType.TrialSuspended))&&!e.settings.general.hideTrialSuspensionNotice||!_.isNull(a.getNotificationByType(this.dataShareService.notifications,a.UserNotificationType.TrialSuspensionWarning))&&!e.settings.general.hideTrialSuspensionWarning);return this.featureFlagsService.Values.EndOfTrialDialog&&this.$window.innerWidth>=r.Constants.TrialCountdownDialog.minWidth&&this.$window.innerHeight>=r.Constants.TrialCountdownDialog.minHeight&&s.ServicePlanUtils.isUserOnTrialPlan(e,!0)&&t},Object.defineProperty(u.prototype,"shouldDisplayStartupDialog",{get:function(){return this.screenName=this.navigationService.getPageName(),this.screenName!==i.ScreenName.Video&&!_.isNull(sessionInfo.UserClaim)},enumerable:!0,configurable:!0}),u.$inject=["$rootScope","$window","$q","navigationService","trialCountdownDialog","principalService","telemetryService","featureFlagsService","dataShareService"],u);function u(e,t,n,i,r,o,s,a,c){var l,u=this;this.$rootScope=e,this.$window=t,this.$q=n,this.navigationService=i,this.trialCountdownDialog=r,this.principalService=o,this.telemetryService=s,this.featureFlagsService=a,this.dataShareService=c,this.screenName=null,this.telemetryTracker=null,this.shouldDisplayStartupDialog?this.launch():l=this.$rootScope.$on("$locationChangeSuccess",(function(e){u.shouldDisplayStartupDialog&&(l(),u.launch())}))}t.StartupDialogLauncher=l,o.registerService("startupDialogLauncher",l,angular.module("jumper.services"))},"./app/services/TelemetryService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r,o=n("./app/utility/Constants.ts"),s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/utility/appUtil.ts");(r=i=i||{})[r.Failure=0]="Failure",r[r.Success=1]="Success";var c=(l.prototype.succeed=function(e,t,n,i){var r=t||{};r.resultType=s.ResultType[s.ResultType.Success],r.alertStatus=l.AlertMetric.Success,r.subFeature=i||null,this.resourceId&&(r.resourceId=this.resourceId),this.trackFeatureEvent(e,r,n)},l.prototype.trackFeatureResult=function(e,t,n,r,o){var a=n||{};a.featureName=e,a.resultType=s.ResultType[t],a.alertStatus=t===s.ResultType.Success?i.Success:i.Failure,a.subFeature=s.SubFeatureName[o],this.resourceId&&(a.resourceId=this.resourceId),this.resourceType&&(a.resourceType=s.ResourceType[this.resourceType]),this.extractErrorProperties(r,a),this.trackFeatureEvent(e,a,null)},l.prototype.fail=function(e,t,n,i,r,o){void 0===o&&(o=!1),this.trackFeatureUnsuccessfulEvent(s.ResultType.Failure,e,t,n,this.resourceType,this.resourceId,i,r,o)},l.prototype.warn=function(e,t,n,i,r,o){void 0===o&&(o=!1),this.trackFeatureUnsuccessfulEvent(s.ResultType.Warning,e,t,n,this.resourceType,this.resourceId,i,r,o)},l.prototype.setResourceId=function(e){this.resourceId=e},l.prototype.trackFeatureEvent=function(e,t,n){var i="string"==typeof e?e:s.FeatureName[e],r=this.addScreenNameToProperties(t);r=this.addMetricsToProperties(r,n);this.loggingService.trackEvent(i,r)},l.prototype.trackEvent=function(e,t,n){var i=this.addScreenNameToProperties(t);i=this.addMetricsToProperties(i,n);this.loggingService.trackEvent(e,i)},l.prototype.tagScreen=function(e){var t=s.ScreenName[e]?e:this.screenName;t!==s.ScreenName.Auto&&(_.isNumber(t)||_.isNumber(parseInt(t,10))&&isFinite(t)?this.loggingService.tagScreen(s.ScreenName[t]):t?this.loggingService.tagScreen(t):(this.loggingService.tagScreen("undefined"),this.trackEvent(s.TelemetryEventNames.localyticsError,{screenNameUsed:"undefined"}))),isFinite(t)&&!_.isNumber(t)&&this.trackEvent(s.TelemetryEventNames.localyticsError,{screenNameUsed:t})},l.prototype.trackTrace=function(e,t){this.loggingService.trackTrace(e,t)},l.prototype.trackFeatureFailure=function(e,t,n,i){var r=t||{};i&&(r.errorCode=i),r.resultType=s.ResultType[s.ResultType.Failure],r.alertStatus=l.AlertMetric.Error,this.trackFeatureEvent(e,r,n)},l.prototype.trackFeatureWarning=function(e,t,n){var i=t||{};i.resultType=s.ResultType[s.ResultType.Warning],i.alertStatus=l.AlertMetric.Warning,this.trackFeatureEvent(e,i,n)},l.prototype.trackFeatureUnsuccessfulEvent=function(e,t,n,i,r,a,c,l,u){var d=c||{};d.featureName=s.FeatureName[t],d.subFeature=s.SubFeatureName[n],r&&(d.resourceType=s.ResourceType[r]),a&&(d.resourceId=a),this.extractErrorProperties(i,d),u||(401!==d.status&&403!==d.status&&404!==d.status||(e=s.ResultType.Warning),-1===d.status&&(e=s.ResultType.Warning,window.navigator.onLine||(d.reason=o.Constants.NoNetworkErrorString+" "+(d.reason||"")))),e===s.ResultType.Warning?this.trackFeatureWarning(t,d,l):this.trackFeatureFailure(t,d,l,null)},l.prototype.extractErrorProperties=function(e,t){t=t||{},e&&("string"==typeof e?t.reason=e:(t.status=e.status,e.data&&e.data.error?t.reason=JSON.stringify(e.data.error):e.message?t.reason=e.message:t.reason=e.status,e.config&&e.config.headers&&(t.clientRequestId=e.config.headers["x-ms-client-request-id"],t.correlationId=e.config.headers["x-ms-correlation-request-id"])))},l.prototype.addScreenNameToProperties=function(e){var t=this.screenName?this.screenName:this.navigationService.getPageName(),n=e||{};return n.screen=s.ScreenName[t],n},l.prototype.addMetricsToProperties=function(e,t){var n={};return e&&Object.keys(e).forEach((function(t){n[t]=e[t]})),this.resourceId&&(n.resourceId=this.resourceId),this.resourceType&&(n.resourceType=s.ResourceType[this.resourceType]),t&&Object.keys(t).forEach((function(e){n[e]=t[e]})),n},l.prototype.getFeatureMetricString=function(e){return("string"==typeof e?e:s.FeatureName[e])+l.AlertMetric.NameSuffix},l.prototype.getFeatureResultString=function(e){return s.FeatureName[e]+l.HealthSuffix},l.AlertMetric={NameSuffix:"Metric",Success:1,Error:2,Warning:1},l.HealthSuffix="Health",l);function l(e,t,n,i,r){this.loggingService=e,this.navigationService=t,this.screenName=n,this.resourceType=i,this.resourceId=r}t.TelemetryTracker=c;var u=(d.prototype.getTracker=function(e,t,n){return new c(this.loggingService,this.navigationService,e,t,n)},d.prototype.isUserFeedbackSupported=function(){return!!(sessionInfo.DataLocation&&portalConfiguration&&portalConfiguration.UserFeedbackSupportedDataLocations)&&-1!==portalConfiguration.UserFeedbackSupportedDataLocations.indexOf(sessionInfo.DataLocation.toLowerCase())},d.$inject=["loggingService","navigationService"],d);function d(e,t){this.loggingService=e,this.navigationService=t}t.TelemetryService=u,a.registerService("telemetryService",u,angular.module("jumper.services"))},"./app/services/VideoBgUploaderService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r,o=n("./common/services/AzureBlobUploaderService/AzureBlobUploader.ts"),s=n("./app/components/Upload/UploadDetail/UploadDetailController.ts"),a=n("./app/utility/Constants.ts"),c=n("./app/models/TelemetryEventModels.ts"),l=n("./app/utility/string.ts");(r=i=t.UploadNotificationType||(t.UploadNotificationType={}))[r.UploadStarted=0]="UploadStarted",r[r.UploadProgress=1]="UploadProgress",t.UploadStatus={notStarted:"notStarted",uploading:"uploading",completed:"completed",failed:"failed"};var u=(d.prototype.startBgUpload=function(e,n,i,r,o,s,c,u){void 0===i&&(i=9999),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===s&&(s=!1),void 0===c&&(c=!1);var d=this.$q.defer(),p=this.mediaUploaderFactory(l.formatString(a.Constants.ResourceIdStrings.Video,e)),A={resourceId:e,fileName:n.name,uploadProgress:0,status:t.UploadStatus.notStarted,mediaUploaderService:p,uploadingFile:n,deferred:d,uploadPriority:i,isInAdminMode:r,isReplacing:o,isLiveEvent:s,isRetriedUpload:c};return this.mediaUploadList.push(A),u&&(this.uploadSummaryProperties=u),this.pickupFirstNotUploadingFromQueue(),d.promise},d.prototype.cancelBgUpload=function(e){var t=_.remove(this.mediaUploadList,(function(t){return t.resourceId===e}));t&&1===t.length&&t[0].mediaUploaderService&&(t[0].mediaUploaderService.cancelUpload(),t[0].mediaUploaderService.dispose(),t[0].mediaUploaderService=null,this.sendFeatureEvent(c.SubFeatureName.MediaUploaderService_CancelUpload,"user Canceled the video upload",e,!0))},d.prototype.removeBgUploadItem=function(e){var t=_.remove(this.mediaUploadList,(function(t){return t.resourceId===e}));t&&1===t.length&&t[0].mediaUploaderService&&(t[0].mediaUploaderService.dispose(),t[0].mediaUploaderService=null)},d.prototype.pickupFirstNotUploadingFromQueue=function(){var e,n=this.featureFlagsService.Values.MaxSimultaneousUploads?this.featureFlagsService.Values.MaxSimultaneousUploads:a.Constants.MaxSimultaneousUploads;_.filter(this.mediaUploadList,(function(e){return e.status===t.UploadStatus.uploading})).length<n&&(e=_.find(_.sortBy(this.mediaUploadList,(function(e){return e.uploadPriority})),(function(e){return e.status===t.UploadStatus.notStarted})))&&(e.status=t.UploadStatus.uploading,this.startQueuedBgUpload(e))},d.prototype.startQueuedBgUpload=function(e){var n=this;this.startTime=Date.now(),setTimeout((function(){e.deferred.notify({type:i.UploadStarted,progress:0})}),0),e.mediaUploaderService.startUpload([{name:e.uploadingFile.name,type:a.Constants.VideoFileType.video}],e.isInAdminMode).then((function(r){e.mediaUploaderService.uploadFiles(null,[{sasUrl:r.data.files[0].uploadUrl,file:e.uploadingFile}],e.isInAdminMode).then((function(){e.uploadProgress=100,e.status=t.UploadStatus.completed,n.uploadTime=Date.now()-n.startTime,n.featureTelemetryTracker.succeed(c.FeatureName.UploadVideo,n.uploadSummaryProperties,{uploadTime:n.uploadTime,fileSize:e.uploadingFile.size}),e.deferred.resolve()}),(function(i){e.status=t.UploadStatus.failed;var r=c.SubFeatureName.MediaUploaderService_Upload;i.api===a.Constants.VideoActions.CompleteUpload&&(r=c.SubFeatureName.VideoService_CompleteUpload),i&&i.reason===o.uploadCanceledbyUserError||n.sendFeatureEvent(r,i,e.resourceId),e.deferred.reject(i)}),(function(t){e.uploadProgress=Number(t),e.deferred.notify({type:i.UploadProgress,progress:e.uploadProgress})}))}),(function(i){n.sendFeatureEvent(c.SubFeatureName.VideoService_StartUpload,i,e.resourceId),i.api=a.Constants.VideoActions.StartUpload,e.status=t.UploadStatus.failed,e.deferred.reject(i)})),e.deferred.promise.finally((function(){e.mediaUploaderService.dispose(),e.mediaUploaderService=null,n.pickupFirstNotUploadingFromQueue()}))},d.prototype.sendFeatureEvent=function(e,t,n,i){void 0===i&&(i=!1),this.featureTelemetryTracker.setResourceId(n),i?this.featureTelemetryTracker.warn(c.FeatureName.UploadVideo,e,t,this.uploadSummaryProperties):this.featureTelemetryTracker.fail(c.FeatureName.UploadVideo,e,t,this.uploadSummaryProperties)},d.$inject=["$rootScope","$q","mediaUploaderFactory","telemetryService","featureFlagsService","navigationService","resources","$window"],d);function d(e,n,i,r,o,l,u,d){var p=this;this.$q=n,this.mediaUploaderFactory=i,this.telemetryService=r,this.featureFlagsService=o,this.navigationService=l,this.resources=u,this.$window=d,this.mediaUploadList=[],this.uploadSummaryProperties=angular.copy(s.uploadSummaryProperties),this.$window.addEventListener("beforeunload",(function(e){if(_.some(p.mediaUploadList,(function(e){return e.status===t.UploadStatus.uploading}))){var n=p.resources.Upload.BgUploadNotice.Message;return(e||window.event).returnValue=n}})),e.$on(a.Constants.Events.videoDeleted,(function(e,t){p.removeBgUploadItem(t.id)})),e.$on(a.Constants.Events.videoPublished,(function(e,t){p.removeBgUploadItem(t.id)})),this.featureTelemetryTracker=this.telemetryService.getTracker(c.ScreenName.Auto)}t.VideoBgUploaderService=u,angular.module("jumper.services").service("videoBgUploaderService",u)},"./app/services/VideoEditorTelemetryService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/Constants.ts"),o=(s.prototype.getTelemetryData=function(){var e=window.portalConfiguration,t=window.sessionInfo;if(e&&t){var n=e.ECSConfiguration&&e.ECSConfiguration.telemetryRecord?e.ECSConfiguration.telemetryRecord:{};return{ingestionKey:e.VideoEditorConfiguration&&e.VideoEditorConfiguration.AriaConfiguration?e.VideoEditorConfiguration.AriaConfiguration.IngestionKey:"",overrideLoggingEndpointUrl:e.VideoEditorConfiguration&&e.VideoEditorConfiguration.AriaConfiguration?e.VideoEditorConfiguration.AriaConfiguration.OverrideEndpointUrl:"",clientContext:{clientSessionId:t.ClientSessionId,frontEndCluster:e.ClusterName,backEndCluster:t.ServiceRegion,isTestEnvironment:e.IsDevelopmentMode,hostId:r.Constants.ProductName},userContext:{userId:t.UserClaim.UserInfo.UniqueId,tenantId:t.UserClaim.TenantId,userSessionId:t.SessionId,servicePlan:t.ServicePlanForTelemetry},expContext:n}}},s);function s(){}t.VideoEditorTelemetryService=o,i.registerService("videoEditorTelemetryService",o,angular.module("jumper.services"))},"./app/services/VideoRecorderService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/components/Upload/UploadDetail/UploadDetailController.ts"),r=n("./app/models/TelemetryEventModels.ts"),o=n("./app/utility/Constants.ts"),s=n("./app/utility/string.ts"),a=(c.prototype.initialize=function(){var e=this;this.principalService.getMyPrincipalInfo().then((function(t){e.me=t.data;var n=e.videoService.create.bind(e.videoService),i={name:"Screen Recording from "+moment().format("YYYY-MM-DD [at] HH:mm:ss"),privacyMode:o.Constants.privacyMode.organization},r={},a=e.me.settings.system.locale.language||"en";i.language=a,e.videoService.getSupportedAutoTranscriptLanguages().then((function(e){-1<e.data.languages.indexOf(a)&&(r.autoGeneratedCaption=!0)})).finally((function(){_.isEmpty(r)||(i.options=r),n(i).then((function(t){e.video=t.data,e.mediaUploaderFactory(s.formatString(o.Constants.ResourceIdStrings.Video,e.video.id)).startUpload([{name:i.name+".mp4",type:o.Constants.VideoFileType.video}]).then((function(n){var r="msstream://recordVideo?uploadURL="+encodeURIComponent(n.data.files[0].uploadUrl)+"&callback="+encodeURIComponent(e.$location.protocol()+"://"+e.$location.host()+"/videoupdate/"+t.data.id)+"?filename="+encodeURIComponent(i.name+".mp4")+"&src=recorder";e.customProtocolDetectionService.checkStatus(r).then(e.handleDetectProtocolResponse.bind(e))}),(function(t){e.sendUploadVideoStatusTelemetryUpdates(!0,t)}))})).catch((function(t){e.sendUploadVideoStatusTelemetryUpdates(!0,t)}))}))}))},c.prototype.handleDetectProtocolResponse=function(e){e?this.protocolDetected():this.protocolNotDetected()},c.prototype.protocolDetected=function(){this.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.recordVideo,{installed:!0})},c.prototype.protocolNotDetected=function(){this.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.recordVideo,{installed:!1}),this.recordVideoDialog.open()},c.prototype.checkURLForVideoUploadSource=function(){var e=this.navigationService.getQueryParams();return!!e[o.Constants.QueryStringKeys.src]&&!!e[o.Constants.QueryStringKeys.fileName]&&!!e[o.Constants.QueryStringKeys.uploadStatus]},c.prototype.getUploadStatus=function(){var e,t=this.navigationService.getQueryParams();return t[o.Constants.QueryStringKeys.uploadStatus]===o.Constants.RecorderVideoUploadStatus.Fail?e=o.Constants.RecorderVideoUploadStatus.Fail:t[o.Constants.QueryStringKeys.uploadStatus]===o.Constants.RecorderVideoUploadStatus.Success&&(e=o.Constants.RecorderVideoUploadStatus.Success),e},c.prototype.completeUploadProcess=function(e,t,n){void 0===n&&(n=!1),s.formatString(o.Constants.ResourceIdStrings.Video,e);var i=[];return i.push(t),this.mediaUploaderFactory(s.formatString(o.Constants.ResourceIdStrings.Video,e)).completeUpload(i,n)},c.prototype.navigateToStudioPage=function(){this.navigationService.navigate(o.Constants.Routes.Studio)},c.prototype.updateUploadedVideo=function(e,t){var n=this;void 0===t&&(t=!1);var i=this.navigationService.getQueryParams();return this.completeUploadProcess(e,i[o.Constants.QueryStringKeys.fileName],t).then((function(e){n.sendUploadVideoStatusTelemetryUpdates(!1)}),(function(e){n.sendUploadVideoStatusTelemetryUpdates(!0,e)}))},c.prototype.deleteUploadedVideo=function(e,t){var i=this;void 0===t&&(t=!1);var r={template:n("./app/Controls/Dialogs/RecordVideoFailedDialog/RecordVideoFailedDialog.html"),controller:"RecordVideoFailedDialogController",plain:!0,controllerAs:"$ctrl",closeByDocument:!1,closeByEscape:!1,showClose:!1,className:"dialog-box",ariaRole:"dialog"};return this.ngDialog.open(r).closePromise.then((function(e){i.navigateToStudioPage()})),this.videoService.delete(e,t).then((function(){i.sendUploadVideoStatusTelemetryUpdates(!0)}))},c.prototype.sendUploadVideoStatusTelemetryUpdates=function(e,t){void 0===e&&(e=!1),void 0===t&&(t={}),(this.navigationService.getQueryParams()[o.Constants.QueryStringKeys.src].toLowerCase()||o.Constants.videoUploadSource.recorder)===o.Constants.videoUploadSource.recorder&&(this.uploadSummaryProperties.source=o.Constants.videoUploadSource.recorder,this.uploadSummaryProperties.error=e,this.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.uploadSummaryEventName,this.uploadSummaryProperties),e?this.featureTelemetryTracker.fail(r.FeatureName.UploadVideo,r.SubFeatureName.VideoService_CompleteUpload,t,this.uploadSummaryProperties):this.featureTelemetryTracker.succeed(r.FeatureName.UploadVideo,this.uploadSummaryProperties))},c.$inject=["videoService","navigationService","mediaUploaderFactory","recordVideoDialog","customProtocolDetectionService","$location","ngDialog","principalService","telemetryService"],c);function c(e,t,n,r,o,s,a,c,l){this.videoService=e,this.navigationService=t,this.mediaUploaderFactory=n,this.recordVideoDialog=r,this.customProtocolDetectionService=o,this.$location=s,this.ngDialog=a,this.principalService=c,this.telemetryService=l,this.uploadSummaryProperties=angular.copy(i.uploadSummaryProperties),this.featureTelemetryTracker=this.telemetryService.getTracker()}t.VideoRecorderService=a,angular.module("jumper.services").service("videoRecorderService",a)},"./app/services/index.ts":function(e,t,n){function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n("./app/services/resources.ts"),i(n("./app/services/SideBarService.ts")),i(n("./app/services/TelemetryService.ts")),i(n("./app/services/LoggingService.ts")),i(n("./app/services/MediaUploaderService.ts")),i(n("./app/services/VideoBgUploaderService.ts")),i(n("./app/services/ConfirmationDialogService.ts")),i(n("./app/services/Data/index.ts")),i(n("./app/services/DeleteConfirmationDialogService.ts")),i(n("./app/services/DataPollingService.ts")),i(n("./app/services/NavigationService.ts")),i(n("./app/services/DataShareService.ts")),i(n("./app/services/SessionManager.ts")),i(n("./app/services/SessionExpiredManager.ts")),i(n("./app/services/FeatureFlagsService.ts")),i(n("./app/services/NotificationService.ts")),i(n("./app/services/StartupDialogLauncher.ts")),i(n("./app/services/MediaDownloaderService.ts")),i(n("./app/services/ElementRefocusService.ts")),i(n("./app/services/MdsLoggerService.ts")),i(n("./app/services/InAdminModeService.ts")),i(n("./app/services/ClearQueryParamsService.ts")),i(n("./app/services/SdnUtilService.ts")),i(n("./app/services/VideoRecorderService.ts")),i(n("./app/services/CustomProtocolDetectionService.ts")),i(n("./app/services/VideoEditorTelemetryService.ts")),i(n("./app/services/RestoreConfirmationDialogService.ts")),i(n("./app/services/ReplaceVideoService.ts")),n("./app/services/HttpTelemetryInterceptor.ts")},"./app/services/resources.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),angular.module("jumper.services").factory("resources",(function(){return window.Resources}))},"./app/utility/ActivityIds.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/models/TelemetryEventModels.ts"),o=(s.init=function(){s.baseGuids[r.ScreenName.Hub]="aaaaaaaa",s.baseGuids[r.ScreenName.Upload]="bbbbbbbb",s.baseGuids[r.ScreenName.Video]="cccccccc",s.baseGuids[r.ScreenName.BrowseVideos]="dddddddd",s.baseGuids[r.ScreenName.BrowseChannels]="eeeeeeee",s.baseGuids[r.ScreenName.VideoUpdate]="ffffffff",s.baseGuids[r.ScreenName.MyVideos]="aaaabbbb",s.baseGuids[r.ScreenName.MyChannels]="aaaacccc",s.baseGuids[r.ScreenName.Channel]="aaaadddd",s.baseGuids[r.ScreenName.Welcome]="aaaaeeee",s.baseGuids[r.ScreenName.Watchlist]="bbbbaaaa",s.baseGuids[r.ScreenName.UserVideos]="bbbbcccc",s.baseGuids[r.ScreenName.UserChannels]="bbbbbdddd",s.baseGuids[r.ScreenName.BrowsePeople]="ddddeeee",s.baseGuids[r.ScreenName.AdminSettings]="eeeefff4",s.baseGuids[r.ScreenName.AdminDownloadVideos]="eeeefff5",s.baseGuids[r.ScreenName.UserSettings]="eeeeffff",s.baseGuids[r.ScreenName.BrowseGroups]="eeeefff1",s.baseGuids[r.ScreenName.StudioGroups]="eeeefff2",s.baseGuids[r.ScreenName.ChannelsFollowing]="eeeefff3",s.baseGuids[r.ScreenName.GroupChannels]="ddddffff",s.baseGuids[r.ScreenName.LiveUpdate]="ffffaaaa",s.baseGuids[r.ScreenName.CreateLive]="ffffbbbb",s.baseGuids[r.ScreenName.EmbedProducer]="ffffcccc",s.baseGuids[r.ScreenName.EmbedWatchListPage]="bbbbaabb",s.baseGuids[r.ScreenName.EmbedChannelPage]="aaaaddee",s.baseGuids[r.ScreenName.EmbedPlayerPage]="ccccccdd",s.baseGuids[r.ScreenName.GroupPrincipals]="ccccccde",s.baseGuids[r.ScreenName.EmbedBrowsePage]="ddddaaaa",s.baseGuids[r.ScreenName.OfficeVideoMigration]="ddddbbbb"},s.initActivityId=function(e){s.initialized||(s.init(),s.initialized=!0),s.screenIds[e]=s.baseGuids[e]+"-"+i.generatePartialGuid()},s.getActivityId=function(e){return s.screenIds[e]},s.getCurrentActivityId=function(e){var t=e.getPageName();return s.initialized||s.initActivityId(t),s.getActivityId(t)},s.screenIds={},s.baseGuids={},s.initialized=!1,s);function s(){}t.ActivityIds=o},"./app/utility/ComponentBase.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.getComponentName=function(e){return/function ([^(]*)/.exec(e.toString()+"")[1]},i.prototype.$onInit=function(){},i.prototype.$postLink=function(){this.componentLoadEndTime=performance.now(),this.componentLoadTime=this.componentLoadEndTime-this.componentLoadStartTime},i);function i(e){this.componentLoadStartTime=performance.now(),this.componentName=this.getComponentName(e),this.componentLoadEndTime=0,this.componentLoadTime=0}t.ComponentBase=n},"./app/utility/Constants.ts":function(e,t){var n,i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=(o.ProductName="Microsoft Stream",o.Microsoft365Name="Microsoft 365",o.M365Name="M365",o.Office365Name="Office 365",o.O365Name="O365",o.AzureName="Azure",o.AADName="Azure Active Directory",o.EmbedAADRetry=15,o.WatchList="watchlist",o.MediaPlayerPreLoadSelector=".azuremediaplayer",o.MediaPlayerPostLoadSelector="div.azuremediaplayer",o.MediaPlayerProgressControlSelector="div.vjs-progress-control",o.MediaPlayerPlaybackSpeedControllerSelector="div.amp-playbackspeed-control-normal",o.MediaPlayerTimeControlSelector="div.vjs-time-control",o.MediaPlayerLiveControlSelector="div.vjs-live-control",o.O365GroupCRUDControlHostId="O365GroupCRUDControlHostId",o.DefaultServicePlan="MicrosoftStream",o.DefaultServicePlanId="acffdce6-c30f-4dc2-81c0-372e33c515ec",o.targetGroupName="name",o.targetGroupEmailAlias="aadGroup.mailAlias",o.preCreationVideoId="preCreationVideoId",o.noCreatorApp="noCreatorApp",o.MaxSimultaneousUploads=3,o.MaxParallelChunkUploads=8,o.MaxChunkSizeInMB=2,o.MaxSpotlightVideos=4,o.RecycleBinRetentionDurationInDays=30,o.MaxTraceMessage=32500,o.MaxWaitingRoomRetries=10,o.userDataMask="SCRUBBED-USER-DATA",o.dataMask="SCRUBBED",o.invalidUrlFormat="INVALID",o.OfficeFormsPrefix="https://forms.office.com",o.MicrosoftFormsRootUrl=(o.MicrosoftFormsPrefix="https://forms.microsoft.com")+"/Pages/ResponsePage.aspx?id=",o.MWFStyleUrl="https://assets.onestore.ms/cdnfiles/external/mwf/long/v1/v1.4.0/css/mwf-{0}-default.min.css",o.SpriteUrl="bundles/{0}/icon.sprite.svg",o.FullLocalizedResourceUrlPrefix="../{0}/bundles/{1}",o.MinifiedLocalizedResourceUrlPrefix="{0}/{1}/bundles/{2}",o.HLSFormatString="format=m3u8-aapl",o.HLSVersion4String="format=m3u8-aapl-v4",o.HLSVersion3String="format=m3u8-aapl-v3",o.IngestRTMP="rtmp",o.LiveEventEncoderSourceForTeams="teams",o.Encoders={ManuallyEncoder:{type:"Manually"},WirecastEncoder:{type:"Wirecast",displayText:"Wirecast S"},FlashEncoder:{type:"Flash",displayText:"Flash Media Live Encoder"},Wirecast:{type:"Wirecast",displayText:"Wirecast",encodingType:"software"},WirecastS:{type:"WirecastS",displayText:"Wirecast S",encodingType:"software"},MakitoX:{type:"MakitoX",displayText:"Haivision Makito X Encoder",encodingType:"hardware"},KBEncoder:{type:"KBEncoder",displayText:"Haivision KB Encoder",encodingType:"hardware"},SwitcherStudio:{type:"SwitcherStudio",displayText:"Switcher Studio",encodingType:"online"},LiveArenaBroadcastRoom:{type:"LiveArenaBroadcastRoom",displayText:"LiveArena Broadcast Room",encodingType:"online"},StreamSRT:{type:"StreamSRT",displayText:"Haivision StreamSRT",encodingType:"online"}},o.EncodingTypes={online:"online",hardware:"hardware",software:"software"},o.InfiniteScroll={DefaultDebounceTimeout:200,ScrollInvokeRange:5},o.ItemsListDefault={RowCount:5,ItemsPerRow:5},o.GroupPageExitBy={groupDeleted:"GroupDeleted",other:"other"},o.SortDirection={Ascending:"asc",Descending:"desc"},o.ChannelsSortOptions={Relevance:"relevance",Subscribers:"metrics/follows",Videos:"metrics/videos",Created:"created",Name:"name"},o.VideoSortOptionToSortDirection=((n={})[(o.VideoSortOptions={Relevance:"relevance",PublishDate:"publishedDate",UploadDate:"created",Published:"published",Trending:"metrics/trendingScore",Views:"metrics/views",Likes:"metrics/likes",PinnedDate:"userData/pinnedDate",LastViewDate:"userData/lastViewDate",Name:"name",StartDate:"liveEvent/startTime"}).Relevance]=o.SortDirection.Descending,n[o.VideoSortOptions.PublishDate]=o.SortDirection.Descending,n[o.VideoSortOptions.UploadDate]=o.SortDirection.Descending,n[o.VideoSortOptions.Published]=o.SortDirection.Descending,n[o.VideoSortOptions.Trending]=o.SortDirection.Descending,n[o.VideoSortOptions.Views]=o.SortDirection.Descending,n[o.VideoSortOptions.Likes]=o.SortDirection.Descending,n[o.VideoSortOptions.PinnedDate]=o.SortDirection.Descending,n[o.VideoSortOptions.LastViewDate]=o.SortDirection.Descending,n[o.VideoSortOptions.Name]=o.SortDirection.Ascending,n[o.VideoSortOptions.StartDate]=o.SortDirection.Descending,n),o.VideoSortQueryParams={Relevance:"relevance",Trending:"trending",PublishDate:"date",Views:"views",Likes:"likes",Name:"name"},o.ExternalProviders={Yammer:{name:"Yammer",type:"Discussion",url:"https://c64.assets-yammer.com/assets/platform_embed.js"}},o.GroupsSortOptions={Relevance:"relevance",Name:"name",CreatedDate:"created",Channels:"metrics/channels",Videos:"metrics/videos"},o.GroupsFilterOptions={HideEmptyGroups:!0,ShowEmptyGroups:!1},o.CommentSortOptions={Created:"created"},o.VideoStateOptions={All:"all",Draft:"false",Published:"true"},o.UserNotificationOptions={Created:"created"},o.UserNotificationTypes={StorageUsageOverThreshold:"storageUsageOverThreshold",StorageUsageOverLimit:"storageUsageOverLimit",TrialSuspensionWarning:"trialSuspensionWarning",TrialSuspended:"trialSuspended"},o.UserNotificationSeverities={None:"none",Warning:"warning",Critical:"critical"},o.UserNotificationSettingKeys={hideTrialSuspensionNotice:"hideTrialSuspensionNotice",hideTrialSuspensionWarning:"hideTrialSuspensionWarning"},o.UserServicePlanKeys={STREAM_O365_K:"STREAM_O365_K",STREAM_O365_E1:"STREAM_O365_E1",STREAM_O365_E3:"STREAM_O365_E3",STREAM_O365_E5:"STREAM_O365_E5",STREAM_P1:"STREAM_P1",STREAM_P2:"STREAM_P2",MicrosoftStream:"MicrosoftStream",STREAM_P2_ADDON:"STREAM_P2_ADDON",STREAM_STORAGE_500:"STREAM_STORAGE_500",STREAM_STORAGE:"STREAM_STORAGE"},o.ClientApplicationId={Teams:"7557eb47-c689-4224-abcf-aef9bd7573df",Yammer:"00000005-0000-0ff1-ce00-000000000000"},o.UserServicePlanIds={STREAM_O365_K:"3ffba0d2-38e5-4d5e-8ec0-98f2b05c09d9",STREAM_O365_E1:"743dd19e-1ce3-4c62-a3ad-49ba8f63a2f6",STREAM_O365_E3:"9e700747-8b1d-45e5-ab8d-ef187ceec156",STREAM_O365_E5:"6c6042f5-6f01-4d67-b8c1-eb99d36eed3e",STREAM_P1:"b1a78878-c813-4a90-b7e3-2181deecd9c0",STREAM_P2:"d3a458d0-f10d-48c2-9e44-86f3f684029e",MicrosoftStream:"acffdce6-c30f-4dc2-81c0-372e33c515ec",STREAM_P2_ADDON:"b4ee5659-e3f2-4553-8c69-cf98bce82580",STREAM_STORAGE_500:"32814133-1795-44b3-825f-0dfda45aa686",STREAM_STORAGE:"83bced11-77ce-4071-95bd-240133796768"},o.GroupPrivacy={Private:(o.privacyMode={organization:"organization",private:"private",custom:"custom",public:"public",organizationViewer:"organizationAsViewers",organizationContributor:"organizationAsContributors"}).private,Organization:o.privacyMode.organization,OrganizationAsViewer:o.privacyMode.organizationViewer,OrganizationAsContributor:o.privacyMode.organizationContributor},o.GroupMemberType={Owners:"owners",Contributors:"contributors",Viewers:"viewers"},o.RoleAssignmentScope={Organization:"organization",Principal:"principal"},o.VideoPrivacyOptions={All:"all",Public:o.privacyMode.public,Organization:o.privacyMode.organization,Custom:o.privacyMode.custom,OnlyMe:o.privacyMode.private,Company:o.privacyMode.organization,Limited:o.privacyMode.private},o.VideoResultsScopeOptions={All:"all",Owned:"owned"},o.ChannelFilterOptions={CanAddMediaItemsToChannel:"UserData/Permissions/CanAddMediaItemsToChannel"},o.GroupFilterMediaOptions={CanAddMediaItemsToChannel:"UserData/Permissions/canManageMediaItems"},o.Studio={RefreshVideoTimeoutInMS:5e3},o.VideoStatus={Created:"created",Uploading:"uploading",Processing:"processing",Error:"error",Completed:"completed",Live:"live"},o.RecorderVideoUploadStatus={Success:"success",Fail:"fail"},o.VideoState={creating:"creating",created:o.VideoStatus.Created,uploading:o.VideoStatus.Uploading,processing:o.VideoStatus.Processing,completed:o.VideoStatus.Completed,live:o.VideoStatus.Live,error:o.VideoStatus.Error,failedUpload:"failedUpload",failedProcessing:"failedProcessing",unSupportedType:"unSupportedType",exceededFileSize:"exceededFileSize"},o.VideoProcessingStatusType={encoding:"Encoding",caption:"Caption",faceDetection:"Face",thumbnail:"Thumbnail",uploading:"Uploading",replacing:"Replacing",trimming:"Trimming"},o.VideoEventType={face:"face",transcript:"transcript"},o.VideoContentType={generic:"generic",presentation:"presentation",meeting:"meeting",howTo:"howTo"},o.VideoContentSource={file:"file",liveStream:"liveStream",screenRecording:"screenRecording"},o.VideoFileType={video:"video",presentation:"presentation"},o.VideoIngestState={stopped:"stopped",starting:"starting",processing:"processing",unhealthy:"unhealthy",stopping:"stopping",startFailed:"startFailed",idle:"idle",completed:"completed"},o.EncoderConnectionState={connected:"connected",intermittent:"intermittent",disconnected:"disconnected"},o.EncoderConnectionHealthStateColor={green:"health-green",yellow:"health-yellow",grey:"health-grey"},o.VideoIngestProtocol={rtmp:"rtmp",rtmps:"rtmps",http:"http",https:"https"},o.VideoIngestType={primary:"primary",secondary:"secondary"},o.VideoCreatorAccessMode={shared:"Shared",exclusive:"Exclusive"},o.ExitBy={editButtonClicked:"EditButtonClicked",relatedVideosClicked:"RelatedVideosClicked",trendingVideosClicked:"TrendingVideosClicked",watchListVideoClicked:"WatchListVideoClicked",channelClicked:"ChannelClicked",groupClicked:"GroupClicked",other:"Other"},o.VideoEventTranscriptType={caption:"caption",subtitle:"subtitle"},o.VideoActions={StartUpload:"startUpload",CompleteUpload:"completeUpload",Publish:"publish",Status:"status",Like:"like",UnLike:"unlike",Viewed:"viewed",Pin:"pin",UnPin:"unpin",SupportedExtensions:"supportedExtensions",SupportedAutoTranscriptLanguages:"autoTranscriptSupportedLanguages",Share:"share",DownloadUrl:"downloadUrl",getLinks:"getLinks",setLinks:"setLinks",setVideoPermissions:"setVideoPermissions",startIngest:"start",stopIngest:"stop",startBroadcast:"startBroadcast"},o.DeletedVideoActions={Restore:"restore"},o.VideoEventActions={HidePerson:"hidePerson",UnHidePerson:"unhidePerson",MergePersons:"mergePersons"},o.ChannelActions={Follow:"follow",Unfollow:"unfollow",RemoveVideo:"removeVideo",SetVideoAsPosterImage:"setVideoAsPosterImage"},o.GroupActions={RemoveVideo:"removeVideo"},o.TenantActions={Settings:"settings",Domains:"domains",Usages:"usages"},o.OfficeVideoActions={StartMigration:"StartMigration"},o.PosterFileName={ExtraSmall:"poster_extrasmall",Small:"poster_small",Medium:"poster_medium",Large:"poster_large"},o.AnalyticsActions={GetCSVUrl:"getCSVUrl"},o.PrincipalType={User:"User",Group:"Group",StreamGroup:"StreamGroup",SecurityGroup:"SecurityGroup"},o.ResourceNames={Channel:"channel",Channels:"channels",Groups:"groups",Group:"group",Video:"video",Videos:"videos",Principals:"principals",PrincipalSettings:"settings",PrincipalPermissions:"permissions",RoleAssignments:"roleassignments",Thumbnails:"thumbnails",TextTracks:"texttracks",Tenants:"tenants",PrincipalServicePlans:"servicePlans",Files:"files",Browse:"browse",ExportData:"dataExports",DeletedVideos:"deletedVideos",DeletedVideo:"deletedVideo",AudienceAnalytics:"audienceAnalytics",AccessRequests:"accessrequests"},o.ResourceDOMIds={Channel:"channel-link-{0}",Video:"video-link-{0}"},o.StorageTypes={InputVideoStorage:"inputVideoStorage",RecycleBinStorage:"recycleBinStorage"},o.ResourceIdStrings={Video:"videos/{0}",Thumbnail:"{0}/{1}/thumbnails/{2}",TextTrack:"videos/{0}/texttracks/{1}"},o.TrialCountdownDialog={minWidth:900,minHeight:300},o.TextTrackType={Caption:"caption",Subtitle:"subtitle"},o.ProfileImageUrl="{0}:444/api/tenants/{1}/users/{2}/profileImage",o.TenantProvisioningUrl="api/tenants/{0}/?api-version={1}",o.TenantProvisioningUrlWithParam="api/tenants/{0}/?api-version={1}&{2}",o.OfficeGroupManagementUrl="https://outlook.office365.com/owa/?path=/group/{0}/people",o.launchWirecastUrl="wirecasts://configureuniqueoutput?url={0}&stream_key=abc",o.wirecastsDownloadURL="https://go.microsoft.com/fwlink/?linkid=2004487",o.streamTrialServicePlanName="stream",o.PosterSizeStrings={ExtraSmall:"extraSmall",Small:"small",Medium:"medium",Large:"large"},o.PosterSize={ExtraSmall:{width:80,height:44},Small:{width:160,height:90},Medium:{width:320,height:180},Large:{width:640,height:360}},o.DataQueryParams={Filter:"$filter",OrderBy:"$orderby",Skip:"$skip",Top:"$top",Select:"$select",Expand:"$expand",AdminMode:"adminmode",ApiVersion:"apiVersion",Id:"id",IsInAdminMode:"isInAdminMode",Search:"$search"},o.QueryConfigDefaults={DefaultSkip:0,DefaultTop:8,DefaultFaceTop:3,MaxTop:100},o.HttpRetry={MaxAttemptsCount:3,BaseWaitTimeInMs:200,TenantPatchWaitTimeInMs:5e3,TenantPatchMaxWaitTimeInMs:18e4,OfficePollWaitTime:5e3,MaxAttemptsForKeyAcquire:3,KeyAcquireWaitTimeInMS:500},o.Polling={MaxExponential:4,BaseWaitTimeInMs:1e3},o.DropdownList={InputTimeInterval:500},o.ScrollBar={ScrollTimeInterval:300},o.DefaultQueryCounts={top:15,one:1},o.ChannelsFollowing={top:50},o.PrincipalsList={top:50},o.VideoUpdatePageConstants={maxTitleToDisplay:100},o.UserExportData={expiryDays:30,createdState:"created",creatingState:"creating"},o.AssetPaths={Videos:"/videos",Video:"/videos/:id",VideoEdit:"/videos/:id/postprocess",VideoIngest:"/videos/:id/ingest",VideoLiveEvent:"/videos/:id/liveEvent",VideoTokens:"/videos/:id/tokens",Principals:"/principals",Principal:"/principals/:id",PrincipalSettings:"/principals/:id/settings",PrincipalExportData:"/principals/:id/exportData",ChannelVideos:"/channels/:id/videos",Channels:"/channels",Channel:"/channels/:id",Groups:"/groups",GroupClassifications:"/groups/classifications",Group:"/groups/:id",VideoRoleAssignments:"videos/:id/roleAssignments?$top=:top&$expand=Principal",ChannelRoleAssignments:"channels/:id/roleAssignments?$top=:top&$expand=Principal",Tenant:"/tenants/:id",RoleAssignments:"/roleassignments",VideoEvent:"/videos/:id/events/:eventId",VideoEventViewed:"/videos/:id/events/:eventId/viewed",VideoEvents:"/videos/:id/events",GroupVideos:"/groups/:id/videos",GroupChannels:"/groups/:id/channels",Persons:"/videos/:id/persons",TenantSpotlights:"/tenantSpotlights",GroupSpotlights:"/groups/:id/spotlights",Notifications:"/notifications",Notification:"/notifications/:id",DeletedVideos:"/deletedvideos",DeletedVideo:"/deletedvideos/:id",AccessRequest:"/accessrequests/:id"},o.OfficeVideoPaths={TenantProperties:"/migration/TenantProperties(':id')",MigrationNotices:"/migration/MigrationNotices"},o.lists={Studio:"studio",Trending:"trending",WatchList:"watchlist",RecentlyViewed:"recentlyviewed",User:"user"},o.Routes={Video:"/video/{0}",VideoUpdate:"/videoupdate/{0}",Studio:"/studio",StudioChannels:"/studio/channels",StudioVideos:"/studio/videos",StudioGroups:"/mygroups",StudioRecycleBin:"/studio/recyclebin",User:"/user/{0}",Upload:"/upload",Browse:"/browse",Channel:"/channel/{0}",Watchlist:"/studio/watchlist",RecentlyViewed:"/studio/recentlyviewed",FollowingChannels:"/studio/followingchannels",Meetings:"/studio/meetings",Error:"/fallback",AdminSettings:"/admin",UserSettings:"/usersettings",ResetCompanyPolicy:"/resetCompanyPolicy",Group:"/group/{0}",Welcome:"/welcome",Update:"/update/{0}",Create:"/create",AccessRequestDeny:"/accessrequest/{0}/deny",AccessRequestApprove:"/accessrequest/{0}/approve"},o.RoutingCase={Normal:"Normal",Uploading:"Uploading",NotReady:"NotReady",NotFound:"NotFound",Forbidden:"Forbidden",VideoError:"Error",ServerError:"ServerError"},o.HttpResponseCodes={ClientNetworkError:-1,Ok:200,Accepted:220,Unauthorized:401,Forbidden:403,NotFound:404,TooManyRequests:429,InternalServerError:500,Unavailable:503},o.HttpStatusCode={ClientNetworkError:"-1",Unauthorized:"401",Forbidden:"403",NotFound:"404",OperationNotAllowed:"405",Conflict:"409",Accepted:"202",OK:"200",BadRequest:"400",PreConditionFailed:"412"},o.CacheKey={ViewerRoleIdKey:"ViewerRoleId",ContributorRoleIdKey:"ContributorRoleId",OwnerRoleIdKey:"OwnerRoleId",StreamAdminRoleIdKey:"StreamAdminRoleId",MediaCreatorRoleIdKey:"MediaCreatorRoleIdKey",ElevatedVideoIdKey:"ElevatedVideoId",ServicePlanKey:"ServicePlanKey",DefaultGroupIdKey:"DefaultGroupIdKey",GroupCreatorRoleIdKey:"GroupCreatorRoleIdKey",LiveEventCreatorIdKey:"LiveEventCreatorIdKey",OfficeVideoMigrationPreviewerIdKey:"OfficeVideoMigrationPreviewerIdKey"},o.CacheId={RoleCache:"roleCache",SignalCache:"signalCache"},o.CacheCapacity={RoleCache:8,SignalCache:100},o.RoleNames={Viewer:"Viewer",Contributor:"Contributor",StreamAdmin:"StreamAdministrator",Owner:"Owner",MediaCreator:"MediaCreator",Member:"Member",GroupCreator:"GroupCreator",LiveEventCreator:"LiveEventCreator",OfficeVideoMigrationPreviewer:"OfficeVideoMigrationPreviewer"},o.HubPage={videosFetchCount:6,source:"homepage"},o.AutoSaveTimeout=3e3,o.VideoStatusNotificationTimeout=3e4,o.VideoStaleDataTimeLimitInSec=30,o.NotificationServiceReconnectTimeout=3e4,o.NotificationFailureMaxRetries=5,o.UploadingStateThreshold=36e5,o.WarningMessageTimeout=3e3,o.showAnimationPeriod=400,o.controllerRedirectionTime=300,o.DebounceDelay=500,o.ServicePlanRetryInterval=1e3,o.LogCacheFirstFlushDelay=3e3,o.EmbedLoadingDelay=15e3,o.SignInIncompleteDelay=15e3,o.ChannelOdataString="channels@odata.bind",o.liveStartingSoonThreshold=15,o.livePreparingLiveSlowThreshold=45,o.livePreparingLiveVerySlowThreshold=120,o.AttendeeStatusTimeoutStartInSec=30,o.AttendeeStatusTimeoutEndInSec=60,o.verifySdnTimeOut=92e3,o.VideoAnalyticsDataPollInterval=12e4,o.LiveEncoderLearnMoreLink="https://go.microsoft.com/fwlink/?linkid=2004436",o.LoadingHeartbeatInterval=1e4,o.PlayerSetSourceLoadTimeout=2e4,o.CookieBlockedTimeout=5e3,o.TopbarComponentRenderDelayInMs=10,o.PlayerConstants={MaxRetryCount:1,RetryResetTimerInSec:15},o.CacheExpiryTimeouts={Principal:6e5,TenantSettings:6e5,SupportedVideoFormats:36e6,MigrationNotices:6e5,SupportedAutoTranscriptLanguages:36e6},o.DataQueryDefaultFilter="published and (state eq 'Completed' or contentSource eq 'livestream')",o.VideosBesidesEndedNonRecordedLiveFilter="published and ((state eq 'Completed' and contentSource ne 'livestream') or (contentSource eq 'livestream' and not (state eq 'Completed' and not liveEvent/LiveEventOptions/OnDemandOptions/EnablePlayback)))",o.LiveEventsDefaultFilter="state eq 'live'",o.LiveEventsCreatedFilter="state eq 'created' and contentSource eq 'liveStream'",o.VideosInChannelQueryFilter="published and (state eq 'completed' or contentSource eq 'livestream')",o.TelemetryEvents={HttpRequestSuccess:"HttpRequestSuccess",HttpResponseSuccess:"HttpResponseSuccess",HttpResponseError:"HttpResponseError",HttpResponseWarning:"HttpResponseWarning"},o.Events={SessionExpired:"SessionExpired",RenewTokenTriedAndFailed:"RenewTokenTriedAndFailed",videoDeleted:"videoDeleted",videoEditorLoaded:"VideoEditorLoaded",videoEditorClosed:"VideoEditorClosed",videoPublished:"videoPublished",UploadProgress:"uploadProgress",SaveVideoImmediately:"saveVideoImmediately",MakeVideoPrivate:"makeVideoPrivate",ChangeVideoPublicAnonymous:"changeVideoPublicAnonymous",SavePoster:"savePoster",EmbedLoginClicked:"embedLoginClicked",TokenRenewedWithApiGateway:"tokenRenewedWithApiGateway",NotificationDisconnected:"notificationServiceDisconnected",Notification_VideoStatus:"videoStatusUpdateNotificaiton",Notification_PrincipalSettings:"principalSettingsUpdateNotification",Notification_PrincipalPermissions:"principalPermissionsUpdateNotification",Notification_TenantSettings:"tenantSetttingsUpdateNotification",Notification_Principal:"principalUpdateNotification",Notification_IngestStateChange:"videoIngestStateUpdateNotificaion",Notification_VideoStateChange:"videoStateUpdateNotificaion",Notification_ConcurrentViewers:"concurrentViewersNotification",Notification_LiveAutoShutdown:"liveAutoShutdownNotification",Notification_JoinVideoGroupFailed:"notificationServiceJoinVideoGroupFailed",SaveTextTracks:"saveTextTracks",TranscriptEditingDisabled:"TranscriptEditingDisabled",TimeStampTagClicked:"timeStampTagClicked",RenewTokenUponSignup:"renewTokenUponSignup",ChannelIdReady:"ChannelIdReady",PlayerStarted:"PlayerStarted",ServicePlanReady:"ServicePlanReady",AdminPrivilegeRevoked:"AdminPrivilegeRevoked",PausePlayer:"PausePlayer",ResumePlayer:"ResumePlayer",UserNotificationsReady:"UserNotificationsReady",EmbeddedLiveEventCaptionNumber:"EmbeddedLiveEventCaptionNumber",GroupInAdminMode:"GroupInAdminMode",ReplaceVideo:"ReplaceVideo",RenewFormsToken:"RenewFormsToken"},o.EventData={DisableAutoGeneratedCaption:"DisableAutoGeneratedCaption"},o.metricsPrefixes={SortBy:"sortBy",StateFilterBy:"stateFilterBy",PrivacyFilterBy:"privacyFilterBy",VideoScopeFilterBy:"videoScopeFilterBy"},o.LargeTile="largeTile",o.SmallTile="smallTile",o.EmbedPreviewSizes={extraLarge:{width:1600,height:900,displayValue:"1600 x 900"},large:{width:1280,height:720,displayValue:"1280 x 720"},mediumLarge:{width:960,height:540,displayValue:"960 x 540"},medium:{width:853,height:480,displayValue:"853 x 480"},small:{width:640,height:360,displayValue:"640 x 360"},extraSmall:{width:560,height:315,displayValue:"560 x 315"}},o.EmailRegExp=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,o.MailAliasRegEx=/^[\w!#$%&'*+\-\/=?^`{|}~]+([.][\w!#$%&'*+\-\/=?^`{|}~]+)*$/,o.LinkRegExp=/(((http|ftp|https):\/\/)|(www\.)|(http|ftp|https):\/\/www\.)[\w-]+(\.([a-z\.]{2,6}))+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/i,o.HashTagsRegExp=/(\s|<br \/>|^)#([^\s<>=!%^()+.\[\}():"]+)/gi,o.TimeStampTagsRegExp=/(^|[^&])(((\d+):)?([0-5]?[0-9]):([0-5]?[0-9]))/gi,o.PlayBackTimeInputRegExp=/^(((\d+):)?([0-5]?[0-9]):)?([0-5]?[0-9])$/gi,o.encodedNewLineRegEx=/&#10;/g,o.urlRegEx=/(((http|https):\/\/)|(www\.)|(http|https):\/\/www\.)[\w-]+(\.([a-z\.]{2,6}))+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/gi,o.companyPolicyUrlRegEx=/(((http|https):\/\/)|(www\.)|(http|https):\/\/www\.)[\w]+[-]?(?!.*\.\.)(?!.*\-\-)(?!.*\-\.)(?!.*\.\-)([a-z_.]{2,6})+[.]+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/gi,o.startAsUrlRegEx=/^https?:/,o.videoGuidRegEx=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/gi,o.videoChannelGuidRegEx=/[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/gi,o.allowedOriginBgAuthRegex=/^https:\/\/.*[(\.microsoftstream\.com)|(\.stream\.azure-test\.net)]$/i,o.videoIdExtractRegEx=/video\/([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})/i,o.ExternalLinkIds={SupportedFormats:809304,Community:809295,StorageUpsell:860464},o.MaxLengths={VideoTitle:100,VideoDescription:4e3,ChannelTitle:30,ChannelDescription:2e3,SearchInput:100,PickerSearch:100,PrincipalSelect:20,PrincipleAssignmentsLimit:50,PrincipleSearchOutput:10,VideoSearchOutput:10,ChannelSearchOutput:10,AdministractorAssignmentsLimit:100,UploaderAssignmentsLimit:100,LiveEventCreatorAssignmentsLimit:100,GroupDescription:1024,GroupEmailAlias:64,LiveVideoTitle:40,CustomEndEventMessage:200,GroupSearchOutput:8},o.QueryStringKeys=i({},o.PiiFreeQueryStringKeys={AdminMode:"adminMode",AppCorrelation:"appcorrelation",HostCorrelationId:"hostcorrelationid",AppPlatform:"appplatform",AutoPlay:"autoPlay",BrowseBack:"BrowseBack",BackgroundUserSync:"backgroundUserSync",ChannelId:"channelId",ChannelMode:"mode",displayMode:"displaymode",entryPoint:"entryPoint",hasPlayed:"hasPlayed",Id:"id",IsInAdminMode:"isInAdminMode",IsInDevMode:"isInDevMode",IsInVideoTrimMode:"isInVideoTrimMode",NoSignUpCheck:"noSignUpCheck",OverrideContentType:"overrideContentType",Popular:"popular",Privacy:"privacy",referralId:"refId",referralType:"refType",ResultsScope:"results",showDescription:"showdescription",ShowHeader:"showheader",ShowScreenRecorder:"showScreenRecorder",signout:"signout",Sort:"sort",srcScreen:"srcScreen",st:"st",top:"top",TargetVideoId:"targetVideoId",uploadStatus:"uploadstatus",vid:"vid",videoId:"videoId",VideoIsPublished:"videoIsPublished",VideoPrivacy:"videoPrivacy"},{App:"app",ChannelName:"channelName",ErrorRedirectedFrom:"errorRedirectedFrom",fileName:"filename",List:"list",open:"open",referrer:"referrer",Scope:"scope",SearchTerm:"q",SearchTermLongKey:"query",Search:"search",Source:"source",State:"state",src:"src",UserId:"userId",UserName:"userName",View:"view"}),o.BrowseView={Video:"video",Channel:"channel",People:"people",Group:"group"},o.GroupView={Highlights:"highlights",Videos:"videos",Channels:"channels",Members:"membership"},o.GroupPrincipalSort={Members:"members"},o.TopBar={StretchBreakPoint:539,ShowMobileMenuBreakPoint:960},o.OfficeTopNavHeight=90,o.KeyCodes={Enter:13,Esc:27,Up:38,Down:40,Tab:9,Space:32},o.OfficeAPI={ResponseCodes:{Success:"success"}},o.UserSettings={ShowInviteOthers:"showInviteOthers",ShowGettingStarted:"showGettingStarted"},o.ApiErrorCodes={QuotaExceeded:"QuotaExceeded"},o.NoNetworkErrorString="Network Lost.",o.VideoPlayerErrorCode={ErrorCode_0000000:"0000000",ErrorCode_0100000:"0100000",ErrorCode_0200000:"0200000",ErrorCode_0200191:"0200191",ErrorCode_0200194:"0200194",ErrorCode_020019C:"020019c",ErrorCode_0200258:"0200258",ErrorCode_0200259:"0200259",ErrorCode_020025B:"020025b",ErrorCode_0300000:"0300000",ErrorCode_0400002:"0400002",ErrorCode_0400003:"0400003",ErrorCode_0400004:"0400004",ErrorCode_0400005:"0400005",ErrorCode_0500004:"0500004",ErrorCode_0500005:"0500005",ErrorCode_0600000:"0600000",ErrorCode_0600001:"0600001",ErrorCode_0600003:"0600003"},o.VideoPlayerErrorMessage={ErrorMessageKeyAcquireAuthFailFlash:"ENCRYPTIONKEY_DOWNLOAD_AUTH_ERROR",ErrorMessageKeyAcquireTimeoutFlash:"ENCRYPTIONKEY_DOWNLOAD_TIMEOUT"},o.VideoPlayerErrorMessageLink={PlaybackErrors:"https://docs.microsoft.com/stream/portal-understanding-playback-errors"},o.Plugins={ShockwaveFlash:"Shockwave Flash"},o.TelemetryTrafficSource={MainWebSite:0,Embed:2},o.ECSClientContext={Portal:"portal",Embed:"embed"},o.EmbedApps={MicrosoftTeams:["MicrosoftTeams","MsTeams","MsTeamsBot"]},o.TagClickSource={Comment:"Comment",VideoPageDescription:"VideoPageDescription",ListPageItemDescription:"ListPageItemDescription",WatchlistVideoItem:"WatchlistVideoItem",SpotlightVideoItem:"SpotlightVideoItem",LiveEventVideoItem:"LiveEventVideoItem",ChannelVideoItem:"ChannelVideoItem",BrowseVideoItem:"BrowseVideoItem",Transcript:"Transcript",FaceChart:"FaceChart",SearchEvent:"SearchEvent",ChannelCard:"ChannelCard",ChannelDetails:"ChannelDetails",GroupOverlay:"GroupOverlay",GroupItem:"GroupItem"},o.PlayerAuthOptions={Anonymous:"Anonymous",UseCredentials:"UseCredentials"},o.Themes={Prefix:"theme",TeamsDefault:"theme-teams-default",TeamsDark:"theme-teams-dark",TeamsHighContrast:"theme-teams-high-contrast"},o.LineBreakHTML="<br />",o.ScreenBreakpoints={XSmall:320,Small:540,Medium:768,Large:960},o.ChannelCard={DefaultVideosShown:3},o.ApiVersions={version2:"1.3-private"},o.DefaultSearchResultCount=20,o.UserSettingsFormats={SampleDate:"2017-09-01T00:00:00.000Z",SampleDuarion:"PT1M23S"},o.TrialExperience={BuyNowLink:"https://go.microsoft.com/fwlink/?linkid=851047",LearnMoreLink:"https://go.microsoft.com/fwlink/?linkid=851048",DefaultActiveAccountDays:90,DefaultSuspendedAccountDays:180},o.VideoSizeLimits={trail:1073741824,other:53687091200},o.Time={ONE_DAY:864e5,SEVEN_DAYS:6048e5},o.Data={GB:Math.pow(2,30)},o.VideoAccessibilityTab={Subtitles:"Subtitles",Captions:"Captions"},o.FacesPerRow={SmallScreen:3,BigScreen:7},o.embedDisplayModes={carouselMode:"carousel",scrollMode:"scroll",buttonsMode:"buttons"},o.embedOpenQueryValues={window:"window",inline:"inline",postMessage:"postmessage"},o.PostMessages={UpdateSessionInfo:"updatesessioninfo",GetStreamToken:"getStreamToken",GetStreamTokenLower:"getstreamtoken",resultsFound:"resultsfound",noResultsFound:"noresultsfound",videoLink:"videolink",signInEvent:"signinevent",loadData:"loaddata",playerEvent:"playerevent",producerEvent:"producerevent",ServerError:"servererror",playerFunction:"playerfunction"},o.PostMessageSubEventNames={signInSuccessful:"signinsuccessful",signInFailed:"signinfailed",signInIncomplete:"signinincomplete",dataLoaded:"dataloaded",setSource:"setsource",canPlaythrough:"canplaythrough",error:"error",selectStartSetup:"selectstartsetup",selectStartSetupFailed:"selectstartsetupfailed",selectStartEvent:"selectstartevent",selectStartEventFailed:"selectstarteventfailed",selectDisconnect:"selectdisconnect",selectDisconnectFailed:"selectdisconnectfailed",selectEndEvent:"selectendevent",selectendeventFailed:"selectendeventfailed",setupStarted:"setupstarted",setupDisconnected:"setupdisconnected",eventAutoShutdown:"eventautoshutdown",eventStarted:"eventstarted",eventEnded:"eventended",heartbeat:"heartbeat",timeupdate:"timeupdate",pause:"pause",playing:"playing",ready:"ready"},o.PostMessagePlayerMethodNames={play:"play",pause:"pause"},o.VideoMimeTypes={smooth:"application/vnd.ms-sstr+xml",dash:"application/dash+xm",hls:"application/vnd.apple.mpegurl"},o.NotificationEventTypes={VideoIngestStateChange:"videoIngestStateChange",VideoStateChange:"videoStateChange",ConcurrentViewers:"concurrentViewers",SendEntityChanges:"sendEntityChanges",LiveAutoShutdown:"liveAutoShutdown"},o.VideoTokenTypes={videoUserData:"videoUserData",networkCaching:"networkCaching"},o.sdnPluginPramTypes={isSDNDebug:"isSDNDebug",disableSDN:"disableSDN"},o.videoUploadSource={browser:"browser",recorder:"recorder"},o.sdnAnalyticsReplaceStrings={videoId:"{videoId}",tenantId:"{tenantId}"},o.ServiceUpdatesLink="https://go.microsoft.com/fwlink/?linkid=2043176",o.OfficeMigrationForbiddenLearnMoreLink="https://aka.ms/O365VideoMigrationAdminPermissions",o.OfficeVideoMigrationStates={Preparation:"NotStarted",InProgress:"Processing",Completed:"Completed"},o.MigrationCompletionStates={NA:"NA",InProgress:"InProgress",Blocked:"Blocked",Ready:"Ready"},o.CustomEvents={Interactive:{Viewed:"interactive.viewed",Opened:"interactive.opened",Closed:"Interactive.closed"},AudioOnlyMessageBar:{Closed:"audioOnlyMessageBarClosed",Opened:"audioOnlyMessageBarDisplayed"}},o.AMPTechNames={Html5:"Html5",AzureHtml5JS:"AzureHtml5JS",Flash:"FlashSS"},o.BannerLinks={StorageInfo:"https://go.microsoft.com/fwlink/?linkid=2090103",TrialInfo:"https://go.microsoft.com/fwlink/?linkid=2089914",iOSApp:"https://aka.ms/streamios",AndroidApp:"https://aka.ms/streamandroid"},o.AnalyticsHeartbeatTriggerTypes={IntervalHeartbeat:"intervalHeartbeat",Error:"error",SourceSetTimeout:"sourceSetTimeout",Loading:"loading",Sourceset:"sourceset",CanPlaythrough:"canplaythrough",Ended:"ended",Unload:"unload",Destroy:"destroy"},o.ChromiumEdgeMediaInternalsEditorExtensionId="fikbjbembnmfhppjfnmfkahdhfohhjmg",o.ChromiumEdgeRendererIdAttributeName="_ms_renderer_id",o.ChromiumEdgePlayerIdAttributeName="_ms_player_id",o.AMPErrorCategoryPrefixForNetworkErrors="2",o.AMPErrorCategoryPrefixForSourcePlayerMismatchErrors="6",o.noDefaultGroups="noDefaultGroups",o.authorizedUsersHelpLink="https://docs.microsoft.com/stream/portal-permissions",o.sortBySuffixOptions={Name:"Name",CreatedDate:"DateCreated",Videos:"NumberOfVideos",Channels:"NumberOfChannels",Relevance:"Relevance",Subscribers:"NumberOfFollowers",Views:"NumberOfViews",Likes:"NumberOfLikes",Trending:"Trending",PublishDate:"DatePublished",AddedDate:"AddedDate"},o.filterBySuffixOptions={HideEmptyGroups:"HideEmptyGroups",ShowEmptyGroups:"ShowEmptyGroups",All:"All",Draft:"Draft",Published:"Published",Company:"Company",Limited:"Limited",Owned:"Owned"},o.VideoAvailability={availableToViewersWithPermission:"availableToViewersWithPermission",availableToOwners:"availableToOwners",notRecorded:"notRecorded"},o.PublicAnonymous={getRequestUrl:"/publicvideos/(videoid={0},aadtenantid={1})",patchRequestUrl:"/videos/{0}",mimeType:"application/vnd.ms-sstr+xml"},o);function o(){}t.Constants=r},"./app/utility/DetectProtocol.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),window.MSInputMethodContext=window.MSInputMethodContext||{};var i=(r.dp=function(e,t,n){function i(){t&&t()}function r(){n&&n()}var o;window.navigator.msLaunchUri?this.openUriWithMsLaunchUri(e,t,n):(o=this.checkBrowser()).isFirefox?this.openUriUsingFirefox(e,i,r):o.isChrome?this.openUriWithTimeoutHack(e,i,r):o.isIE?this.openUriUsingIEInOlderWindows(e,i,r):console.log("Not Supported")},r.checkBrowser=function(){var e=window.navigator.userAgent,t=/Edge/i.test(e),n=/IEMobile\/([0-9.]*)/.test(e),i=!t&&/Chrome/i.test(e);return{isFirefox:/Firefox/i.test(e),isSafari:/Safari/i.test(e)&&!i&&!t&&!n,isChrome:i,isIE:!!window.document.documentMode}},r.openUriWithMsLaunchUri=function(e,t,n){window.navigator.msLaunchUri(e,n,t)},r.openUriUsingFirefox=function(e,t,n){window.document.querySelector("#hiddenIframe")||this._createHiddenIframe(window.document.body,"about:blank");try{window.frames.hiddenIframe.location.href=e,n()}catch(e){"NS_ERROR_UNKNOWN_PROTOCOL"==e.name&&t()}},r.openUriWithTimeoutHack=function(e,t,n){for(var i=setTimeout((function(){t(),o.remove()}),1e3),r=window;r!=r.parent;)r=r.parent;var o=this._registerEvent(r,"blur",(function(){clearTimeout(i),o.remove(),n()}));window.location=e},r._registerEvent=function(e,t,n){return e.addEventListener?(e.addEventListener(t,n),{remove:function(){e.removeEventListener(t,n)}}):(e.attachEvent(t,n),{remove:function(){e.detachEvent(t,n)}})},r._createHiddenIframe=function(e,t){var n=document.createElement("iframe");return n.src=t,n.id="hiddenIframe",n.name="hiddenIframe",n.style.display="none",e.appendChild(n),n},r.openUriUsingIEInOlderWindows=function(e,t,n){10===this.getInternetExplorerVersion()?this.openUriUsingIE10InWindows7(e,t,n):9===this.getInternetExplorerVersion()||11===this.getInternetExplorerVersion()?this.openUriWithHiddenFrame(e,t,n):this.openUriInNewWindowHack(e,t,n)},r.openUriWithHiddenFrame=function(e,t,n){var i=setTimeout((function(){t(),r.remove()}),1e3),r=(window.document.querySelector("#hiddenIframe")||this._createHiddenIframe(window.document.body,"about:blank"),this._registerEvent(window,"blur",(function(){clearTimeout(i),r.remove(),n()})));window.frames.hiddenIframe.location.href=e},r.openUriInNewWindowHack=function(e,t,n){var i=window.open("","","width=0,height=0");i.document.write("<iframe src='"+e+"'></iframe>"),setTimeout((function(){try{i.location.href,i.setTimeout("window.close()",1e3),n()}catch(e){i.close(),t()}}),1e3)},r.getInternetExplorerVersion=function(){var e,t=-1;return"Microsoft Internet Explorer"===navigator.appName?(e=navigator.userAgent,null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))):"Netscape"===navigator.appName&&(e=navigator.userAgent,null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))),t},r.openUriUsingIE10InWindows7=function(e,t,n){var i=setTimeout(t,1e3);window.addEventListener("blur",(function(){clearTimeout(i),n()})),window.document.querySelector("#hiddenIframe")||this._createHiddenIframe(document.body,"about:blank");try{window.frames.hiddenIframe.location.href=e}catch(e){t(),clearTimeout(i)}},r);function r(){}t.DetectProtocol=i},"./app/utility/FormatDottedUrl.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Map.ts"),r=n("./app/utility/forEach.ts");t.formatDottedUrl=function(e,t,n,i){return new o(e,t).format(n,i)};var o=(s.prototype.format=function(e,t){var n=this;e=e||{},t=t||{};var i={},o=this._getEndOfPathIndex(),s=this._dottedUrlTemplate.replace(/:(\w+?)(\W|$)/g,(function(r,s,a,c){if(c<=o)return r;if(!e[s])return""+a;var l=e[s];return"string"==typeof l&&"@"===l[0]&&(l=n._lookupDottedPath(t||{},l)),angular.isFunction(l)&&(l=l()),(i[s]=l)+a})),a={};r.forEach(e,(function(e){i[e.key]||(a[e.key]=angular.isFunction(e.value)?e.value():e.value)})),s=s.split("://").map((function(e){return e.replace(/[\/]{2,}/g,"/")})).join("://"),s=this._encodeUri(s);var c=this._getQueryString(a);return c&&(s=s+(/\?/.test(s)?"&":"?")+c),s},s.prototype._getEndOfPathIndex=function(){var e=/((https?\:\/\/)([^\/?#]+))(?:[\/?#]|$)/gi.exec(this._dottedUrlTemplate);return!e||e.length<2?0:e[1].length-1},s.prototype._lookupDottedPath=function(e,t){try{return""+(t||"").split(".").reduce((function(e,t){return e[t]}),e)}catch(e){return""}},s.prototype._getQueryString=function(e){var t=this;return i.map(e,(function(e){var n=t._camelCaseToHypens(e.key);return t._encodeQueryStringComponent(n)+"="+t._encodeQueryStringComponent(e.value)})).join("&")},s.prototype._camelCaseToHypens=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},s.prototype._encodeUri=function(e){return encodeURI(e).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+").replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")},s.prototype._encodeQueryStringComponent=function(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")},s);function s(e,t,n){this._dottedUrlTemplate=[e,t].join("/")}},"./app/utility/KeyCodes.ts":function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.KeyCodes||(t.KeyCodes={}))[n.Back=8]="Back",n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Shift=16]="Shift",n[n.Ctrl=17]="Ctrl",n[n.Alt=18]="Alt",n[n.Break=19]="Break",n[n.CapsLock=20]="CapsLock",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n[n.Print=44]="Print",n[n.Insert=45]="Insert",n[n.Delete=46]="Delete",n[n.Colon2=59]="Colon2",n[n.Equals2=61]="Equals2",n[n.Equals3=107]="Equals3",n[n.Minus2=109]="Minus2",n[n.Period=190]="Period",n[n.WindowsLeft=91]="WindowsLeft",n[n.WindowsRight=92]="WindowsRight",n[n.WindowsOpera=219]="WindowsOpera",n[n.Menu=93]="Menu",n[n.NumPad0=96]="NumPad0",n[n.NumPad1=97]="NumPad1",n[n.NumPad2=98]="NumPad2",n[n.NumPad3=99]="NumPad3",n[n.NumPad4=100]="NumPad4",n[n.NumPad5=101]="NumPad5",n[n.NumPad6=102]="NumPad6",n[n.NumPad7=103]="NumPad7",n[n.NumPad8=104]="NumPad8",n[n.NumPad9=105]="NumPad9",n[n.NumPadMultiply=106]="NumPadMultiply",n[n.NumPadPlus=107]="NumPadPlus",n[n.NumPadMinus=109]="NumPadMinus",n[n.NumPadDot=110]="NumPadDot",n[n.NumPadDivide=111]="NumPadDivide",n[n.Function1=112]="Function1",n[n.Function2=113]="Function2",n[n.Function3=114]="Function3",n[n.Function4=115]="Function4",n[n.Function5=116]="Function5",n[n.Function6=117]="Function6",n[n.Function7=118]="Function7",n[n.Function8=119]="Function8",n[n.Function9=120]="Function9",n[n.Function10=121]="Function10",n[n.Function11=122]="Function11",n[n.Function12=123]="Function12",n[n.NumLock=144]="NumLock",n[n.ScrollLock=145]="ScrollLock",n[n.Colon=186]="Colon",n[n.Equals=187]="Equals",n[n.Comma=188]="Comma",n[n.Minus=189]="Minus",n[n.ForwardSlash=191]="ForwardSlash",n[n.Tilde=192]="Tilde",n[n.OpenBracket=219]="OpenBracket",n[n.BackSlash=220]="BackSlash",n[n.CloseBracket=221]="CloseBracket",n[n.Quote=222]="Quote"},"./app/utility/LiveEventUtils.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/services/NavigationService.ts"),o=n("./app/utility/appUtil.ts"),s=n("./app/utility/string.ts");function a(e){return e&&e.contentSource&&e.contentSource.toLowerCase()===i.Constants.VideoContentSource.liveStream.toLowerCase()}function c(e){return e&&e.state&&e.state.toLowerCase()===i.Constants.VideoStatus.Completed}function l(e){return e&&e.liveEvent&&e.liveEvent.liveEventOptions&&!e.liveEvent.liveEventOptions.onDemandOptions.enablePlayback&&a(e)}function u(e){return l(e)&&!e.liveEvent.liveEventOptions.onDemandOptions.enableDownload}function d(e){var t=n("moment");return t(e,t.ISO_8601).local().format("YYYYMMDDTHHmm00")}function p(e,t){var n=r.generatePathWithQueryStrings(i.Constants.Routes.Video,e,null);return s.formatString("{0}://{1}/{2}",t.protocol(),t.host(),n)}t.createInvitationICSFile=function(e,t,n,i,r,s,a){var c,l,u,A,m,h,f,g=s.defer();return c=e,l=r,u=n,A=i,h=a,f=(m=s).defer(),function(e,t,n){var i,r=n.defer();return e&&e.posterImage&&e.posterImage.medium&&e.posterImage.medium.url?(i=e.posterImage.medium.url+"&1234",t.getThumbnailBase64Data(i).then((function(e){r.resolve(e)}),(function(e){r.reject(e)}))):r.resolve(null),r.promise}(c,A,m).then((function(e){var t,n,i,r,s,a,A,m,g,v,y=c.name,S=(c.description,c.creator),b=c.liveEvent,C="";C+="BEGIN:VCALENDAR\r\n",C+="VERSION:2.0\r\n",C+="CALSCALE:GREGORIAN\r\n",C+="PRODID:"+l.MicrosoftStream+"\r\n",C+="BEGIN:VEVENT\r\n",C+="SUMMARY:"+y+"\r\n",h.navigator.platform.match(/^Win/)?C+="X-ALT-DESC;FMTTYPE=text/html:"+(t=c,n=u,i=l,s=(r=e)?'<a href="'+p(t.id,n)+'" target="_blank" style="color:#00ADEF; text-decoration:none;">\n    <img src="'+r+'" width="300" style="max-width: 100%;height: auto;min-width:60px;"/>\n    </a>':"",('<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">\n    <html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word" xmlns:m="http://schemas.microsoft.com/office/2004/12/omml" xmlns="http://www.w3.org/TR/REC-html40">\n    <HEAD><META http-equiv=Content-Type content="multipart/alternative; charset=iso-8859-1"></HEAD>\n    <BODY>\n    <table cellpadding="0" cellspacing="0" border="0" width="100%">\n    <tr style="width: 100%;height: 60px;line-height: 60px;background-color: #C30052">\n        <td>\n            <table cellpadding="0" cellspacing="0" border="0">\n                <tr>\n                    <td style="width:26px;height:26px;padding-left:40px;line-height: 12px;"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsSAAALEgHS3X78AAABD0lEQVRIx72W3XWCQBSEP/fwHjqIJdCBdBBLMB3QgViBLZgO7CBYQSwBO8AKxperBxNQ2Z/MOfvA2YW5M3d2l5kkRjAHWiLBPZhbAQ1QpCYCWAA/QA3kKYmuWANHoExNBPAOfAN7H3XOo7gPC0mVmgjgDdhOCYsLDNPLYXG+nk8NizPPjxH2y+Ow6B6VJGwUklr5ofv1rT9EkrSXlNuC3J590VjBg0QyJUWvokphqMdSlxMbI3JjWjcfsq6OGIbVUBg6SWV/wkh9sOs5chsZcACWQBfYhVPvDhvcsGUEko3dyM3YgiyQ4GAq2lSH6hn4NDfaVKf3l9m0m/JSFqvZsRQ9bXaoopeb/Qyz//qBvADFVnEJt0AhrAAAAABJRU5ErkJggg==" style="height:27px;width:27px;"></td>\n                    <td style="font-family:\'Segoe UI Light\', \'Stream Segoe UI Light\', \'Helvetica Neue\', Helvetica, Arial, sans-serif;font-size: 24px;line-height: 12px;color: #FFFFFF; padding: 0 18px; overflow:hidden; text-decoration:none; text-overflow:ellipsis; white-space:nowrap"> \n                        '+i.LiveInvitationMSStreamLiveEvent+'\n                    </td>\n                </tr>\n            </table>\n        </td>\n    </tr>\n    <tr>\n        <td style="padding: 38px 0 0 30px">\n            <table cellpadding="0" cellspacing="0" border="0">\n                <tr>\n                    <td class="x_thumbnail" style="text-align:center" valign="top">\n                        <table cellpadding="0" cellspacing="10" border="0">\n                            '+s+'\n                        </table>\n                    </td>\n                    <td valign="middle" style="font-family: SegoeUI, \'Stream Segoe UI\', \'Helvetica Neue\', Helvetica, Arial, sans-serif;color: #212121; padding: 0 18px">\n                        <table cellpadding="0" cellspacing="0">\n                            <tr>\n                                <td style="font-size: 28px; overflow:hidden; text-decoration:none; text-overflow:ellipsis">\n                                    '+t.name+'\n                                </td>\n                            </tr>\n                            <tr>\n                                <td style="font-size: 18px;padding-top: 24px;">\n                                    '+o.formatISODateTimeToFullDateTimeLocaleString(t.liveEvent.startTime)+'\n                                </td>\n                            </tr>\n                            <tr>\n                                <td style="font-size: 14px;padding-top: 12px;">\n                                    '+(t.description?t.description.replace(/(\r\n)|\r|\n/g,"<BR/>"):"")+'\n                                </td>\n                            </tr>\n                            <tr>\n                                <td style="padding-top: 12px">\n                                    <a style="font-size: 18px;color: #C30052; text-decoration:none; white-space:nowrap" href="'+p(t.id,n)+'">'+i.LiveInvitationJoinEvent+"</a>                                \n                                </td>\n                            </tr>\n                        </table>\n                    </td>\n                </tr>\n            </table>\n        </td>\n    </tr>\n    </table>\n    </BODY></HTML>").replace(/(\r\n)|\r|\n/g,"")+"\r\n"):C+="DESCRIPTION:"+(a=c,A=u,((m=l).LiveInvitationMSStreamLiveEvent+": "+a.name+"\n"+o.formatISODateTimeToFullDateTimeLocaleString(a.liveEvent.startTime)+"\n\n"+(a.description?a.description:"")+"\n\n"+m.LiveInvitationJoinEvent+": "+p(a.id,A)).replace(/\r\n|\r|\n/g,"\\n").replace(/;/g,"\\;").replace(/:/g,"\\:")+"\r\n"),C+=S?"ORGANIZER;"+(v="",v+="CN=",v+=S.name||"Organizer",(v+=(g=S.mail)?":mailto:"+g:"")+"\r\n"):"",C+="LOCATION:Online event\r\n",C+=b&&b.startTime?"DTSTART:"+d(b.startTime)+"\r\n":"",C+=b&&b.endTime?"DTEND:"+d(b.endTime)+"\r\n":"",C+="END:VEVENT\r\n",C+="END:VCALENDAR\r\n",f.resolve(C)}),(function(e){f.reject(e)})),f.promise.then((function(e){var n,i;n=t,i=new Blob([e],{type:"text/calendar"}),n.saveDataAsFile(i,"invitation.ics"),g.resolve()}),(function(e){g.reject(e)})),g.promise},t.downloadFlashPreset=function(e,t,n){var i=new Blob(['<?xml version="1.0" encoding="UTF-8"?>\n<flashmedialiveencoder_profile>\n    <preset>\n    <name>Azure Media Services (720p Stream)</name>\n    <description></description>\n    </preset>\n    <capture>\n    <video>\n        <frame_rate>30.00</frame_rate>\n        <size>\n        <width>1280</width>\n        <height>720</height>\n        </size>\n    </video>\n    <audio>\n        <sample_rate>44100</sample_rate>\n        <channels>2</channels>\n        <input_volume>75</input_volume>\n    </audio>\n    </capture>\n    <process>\n    <video>\n        <preserve_aspect></preserve_aspect>\n    </video>\n    </process>\n    <encode>\n    <video>\n        <format>H.264</format>\n        <datarate>4000;2000;1000</datarate>\n        <outputsize>1280x720;854x480;640x360</outputsize>\n        <advanced>\n        <profile>Main</profile>\n        <level>4.1</level>\n        <keyframe_frequency>2 Seconds</keyframe_frequency>\n        </advanced>\n        <autoadjust>\n        <enable>false</enable>\n        <maxbuffersize>1</maxbuffersize>\n        <dropframes>\n            <enable>false</enable>\n        </dropframes>\n        <degradequality>\n            <enable>true</enable>\n            <minvideobitrate></minvideobitrate>\n            <preservepfq>false</preservepfq>\n        </degradequality>\n        </autoadjust>\n    </video>\n    <audio>\n        <format>AAC</format>\n        <datarate>96</datarate>\n    </audio>\n    </encode>\n    <output>\n    <rtmp>\n        <url><![CDATA['+e+"]]></url>\n        <backup_url><![CDATA["+t+"]]></backup_url>\n        <stream><![CDATA[mystream%i]]></stream>\n    </rtmp>\n    </output>\n    <preview>\n    <video>\n        <input>\n        <zoom>100%</zoom>\n        </input>\n        <output>\n        <zoom>100%</zoom>\n        </output>\n    </video>\n    <audio></audio>\n    </preview>\n</flashmedialiveencoder_profile>"],{type:"application/xml"});n.saveDataAsFile(i,"preset.xml")},t.isVideoLiveContent=a,t.isCompleted=function(e,t){return e.state===i.Constants.VideoStatus.Completed||t&&t.videoState===i.Constants.VideoStatus.Completed},t.isStopping=function(e){return e&&e.ingestState===i.Constants.VideoIngestState.stopping},t.isVideoCurrentlyLive=function(e){return e&&e.state&&e.state.toLowerCase()===i.Constants.VideoStatus.Live.toLowerCase()},t.isVideoCompleted=c,t.isVodlessLiveEvent=l,t.isEndedVodlessLiveEvent=function(e){return l(e)&&c(e)},t.isNonRecordedLiveEvent=u,t.isEndedNonRecordedLiveEvent=function(e){return u(e)&&c(e)},t.getMakitoEncoderConfig=function(e,t,n){return"[BNC-1]\nInterfaceType=Auto\n\n[HD Video Encoder 0]\nVideoBitRate=4000\nEncodedResolution=1280x720p\nVideoFormat=Auto-Detect\nPTSOffset=0\nEncodedPictureRate=30\nGOPStructure=IP\nEntropyCoding=CAVLC\nIntraPictureSubPartitioning=No\nPartialFrameSkip=No\nGopSize=60\nVideoInput=BNC-1\nAspectRatio=16:9\nTimeCode=None\nResizeMode=Scale\nClosedCaption=Off\nIntraRefresh=No\nIntraRefreshRate=60\nAutoStart=No\n\n[HD Video Encoder 1]\nVideoBitRate=4000\nEncodedResolution=1280x720p\nVideoFormat=Auto-Detect\nPTSOffset=0\nEncodedPictureRate=30\nGOPStructure=IP\nEntropyCoding=CAVLC\nIntraPictureSubPartitioning=No\nPartialFrameSkip=No\nGopSize=60\nVideoInput=BNC-1\nAspectRatio=16:9\nTimeCode=None\nResizeMode=Scale\nClosedCaption=Off\nIntraRefresh=No\nIntraRefreshRate=60\nAutoStart=No\n\n[HD Video Encoder 2]\nVideoBitRate=4000\nEncodedResolution=1280x720p\nVideoFormat=Auto-Detect\nPTSOffset=0\nEncodedPictureRate=30\nGOPStructure=IP\nEntropyCoding=CAVLC\nIntraPictureSubPartitioning=No\nPartialFrameSkip=No\nGopSize=60\nVideoInput=BNC-1\nAspectRatio=16:9\nTimeCode=None\nResizeMode=Scale\nClosedCaption=Off\nIntraRefresh=No\nIntraRefreshRate=60\nAutoStart=No\n\n[HD Video Encoder 3]\nVideoBitRate=4000\nEncodedResolution=1280x720p\nVideoFormat=Auto-Detect\nPTSOffset=0\nEncodedPictureRate=30\nGOPStructure=IP\nEntropyCoding=CAVLC\nIntraPictureSubPartitioning=No\nPartialFrameSkip=No\nGopSize=60\nVideoInput=BNC-1\nAspectRatio=16:9\nTimeCode=None\nResizeMode=Scale\nClosedCaption=Off\nIntraRefresh=No\nIntraRefreshRate=60\nAutoStart=No\n\n[Audio Encoder 0]\nAudioBitRate=192\nPTSOffset=0\nAudioInput=SDI1Ch1+2\nAudioSampleRate=48\nAudioMode=Stereo\nAudioAlgorithm=MPEG2-AAC-LC-ADTS\nCapture=No\nMaxCaptureSize=8000\nAudioLevel=6\nSTCSourceInterface=Auto\nLanguage=(None)\nAutoStart=Yes\n\n[Audio Encoder 1]\nAudioBitRate=192\nPTSOffset=0\nAudioInput=SDI1Ch3+4\nAudioSampleRate=48\nAudioMode=Stereo\nAudioAlgorithm=MPEG2-AAC-LC-ADTS\nCapture=No\nMaxCaptureSize=8000\nAudioLevel=6\nSTCSourceInterface=Auto\nLanguage=(None)\nAutoStart=No\n\n[Audio Encoder 2]\nAudioBitRate=192\nPTSOffset=0\nAudioInput=SDI1Ch5+6\nAudioSampleRate=48\nAudioMode=Stereo\nAudioAlgorithm=MPEG2-AAC-LC-ADTS\nCapture=No\nMaxCaptureSize=8000\nAudioLevel=6\nSTCSourceInterface=Auto\nLanguage=(None)\nAutoStart=No\n\n[Audio Encoder 3]\nAudioBitRate=192\nPTSOffset=0\nAudioInput=SDI1Ch7+8\nAudioSampleRate=48\nAudioMode=Stereo\nAudioAlgorithm=MPEG2-AAC-LC-ADTS\nCapture=No\nMaxCaptureSize=8000\nAudioLevel=6\nSTCSourceInterface=Auto\nLanguage=(None)\nAutoStart=No\n\n[Audio Encoder 4]\nAudioBitRate=192\nPTSOffset=0\nAudioInput=Analog\nAudioSampleRate=48\nAudioMode=Stereo\nAudioAlgorithm=MPEG2-AAC-LC-ADTS\nCapture=No\nMaxCaptureSize=8000\nAudioLevel=6\nSTCSourceInterface=Auto\nLanguage=(None)\nAutoStart=No\n\n[Audio Encoder 5]\nAudioBitRate=192\nPTSOffset=0\nAudioInput=Analog\nAudioSampleRate=48\nAudioMode=Stereo\nAudioAlgorithm=MPEG2-AAC-LC-ADTS\nCapture=No\nMaxCaptureSize=8000\nAudioLevel=6\nSTCSourceInterface=Auto\nLanguage=(None)\nAutoStart=No\n\n[Audio Encoder 6]\nAudioBitRate=192\nPTSOffset=0\nAudioInput=Analog\nAudioSampleRate=48\nAudioMode=Stereo\nAudioAlgorithm=MPEG2-AAC-LC-ADTS\nCapture=No\nMaxCaptureSize=8000\nAudioLevel=6\nSTCSourceInterface=Auto\nLanguage=(None)\nAutoStart=No\n\n[Audio Encoder 7]\nAudioBitRate=192\nPTSOffset=0\nAudioInput=Analog\nAudioSampleRate=48\nAudioMode=Stereo\nAudioAlgorithm=MPEG2-AAC-LC-ADTS\nCapture=No\nMaxCaptureSize=8000\nAudioLevel=6\nSTCSourceInterface=Auto\nLanguage=(None)\nAutoStart=No\n\n[SNAPSHOT]\nQuality=100\nFormat=JPEG\n\n[TALKBACK]\nVolume=10\nPort=9177\n\n[LOGO_0]\nScalingPercentage=100\nScalingIsRelative=Off\nOpacity=100\nFileName=(None)\nDisplay=Off\nPositioning=Bottom-Right\nXPos=0\nYPos=0\n\n[STREAM_98]\nID=98\nName="+e+" (Primary)\nContents=3\nVideoSource=0\nAudioSource=0\nTOS=184\nMTU=1496\nTTL=64\nPort=1935\nAddress=URL:"+t+"\nEncapsulation=RTMP\nRTCPEnabled=No\nAutoStart=Yes\nShaping=No\nStillImage=(None)\nEncrypted=No\nFEC=No\nUserName=(None)\nPassword=(None)\nPublishName=StreamEventName-Primary\n\n[STREAM_99]\nID=99\nName="+e+" (Backup)\nContents=3\nVideoSource=0\nAudioSource=0\nTOS=184\nMTU=1496\nTTL=64\nPort=1935\nAddress=URL:"+n+"\nEncapsulation=RTMP\nRTCPEnabled=No\nAutoStart=Yes\nShaping=No\nStillImage=(None)\nEncrypted=No\nFEC=No\nUserName=(None)\nPassword=(None)\nPublishName=StreamEventName-Secondary\n"},t.getKBEncoderConfig=function(e,t,n){return'{\n  "version": "5.0",\n  "type": "multistream",\n  "label": "'+e+'",\n  "description": "Uses%20SDI1%20for%20audio/video%20input.%0AUses%20SDI%20channels%201%20&%202%20for%20audio%20input.",\n  "kulabytepreset": {\n    "input": {\n      "format": {\n        "videoin_enable": "1",\n        "videoin_width": "1920",\n        "videoin_height": "1080",\n        "videoin_framerate": "29.97",\n        "audioin_enable": "1",\n        "audioin_samplerate": "48000",\n        "audioin_bitspersample": "16",\n        "audioin_channels": "2"\n      },\n      "video_processing": {},\n      "audio_processing": {},\n      "source": [\n        {\n          "parameters": {\n            "videosource": "SDI",\n            "audiosource": "embedded",\n            "audio_gain": "0",\n            "start_time_base": "system",\n            "hquality_deinterlace": "true",\n            "display_name": "Baseband 1",\n            "cardindex": "0",\n            "videoformat": "auto",\n            "capture_closed_captions": "false"\n          },\n          "id": "Device_DeckLink_Baseband_2",\n          "type": "Device_DeckLink_Baseband",\n          "audiolanguages": [\n            {\n              "channels": [\n                0,\n                1\n              ],\n              "mode": "stereo",\n              "language": {\n                "id": "eng",\n                "name": "English",\n                "comment": ""\n              }\n            }\n          ],\n          "close_captioning": [\n            {\n              "id": "",\n              "name": "",\n              "comment": ""\n            },\n            {\n              "id": "",\n              "name": "",\n              "comment": ""\n            },\n            {\n              "id": "",\n              "name": "",\n              "comment": ""\n            },\n            {\n              "id": "",\n              "name": "",\n              "comment": ""\n            }\n          ]\n        }\n      ]\n    },\n    "preview": {\n      "frame_width": "356",\n      "frame_height": "200",\n      "framerate": "1.0"\n    },\n    "video_encoder": [\n      {\n        "format": {\n          "videoout_enable": "1",\n          "videoout_width": "1280",\n          "videoout_height": "720",\n          "videoout_framerate": "25-30"\n        },\n        "processing": {},\n        "encoder": {\n          "type": "AVC_ENC",\n          "id": "AVC_ENC_4",\n          "parameters": {\n            "name": "AVC_ENC_4",\n            "gop_bcount": "2",\n            "bitrate_avg": "4000",\n            "preset": "h264_high",\n            "level": "auto",\n            "performance_preset": "7",\n            "gop_duration": "2000",\n            "entropy_coding_mode": "cabac",\n            "gop_fixed": "true",\n            "gop_max_duration": "2000"\n          }\n        }\n      }\n    ],\n    "audio_encoder": [\n      {\n        "format": {\n          "audioout_enable": "1",\n          "audioout_samplerate": "48000",\n          "audioout_bitspersample": "16",\n          "audioout_channels": "2"\n        },\n        "processing": {\n          "audio_channel_config": "0:0|1:1"\n        },\n        "encoder": {\n          "type": "AAC_ENC",\n          "id": "AAC_ENC_eng_5",\n          "parameters": {\n            "name": "AAC_ENC_eng_5",\n            "bitrate_avg": "192",\n            "langcode": "eng",\n            "langname": "English",\n            "langcomment": ""\n          }\n        }\n      }\n    ],\n    "output": [\n      {\n        "parameters": {\n          "name": "Stream Primary",\n          "serverurl": "'+t+'",\n          "source_streamname": "null",\n          "username": "",\n          "password": "",\n          "authmode": "auto",\n          "ccincaptioninfo": "false",\n          "ccincuepoint": "false",\n          "ccintextdata": "false",\n          "ccinmetadata": "false",\n          "scte35_adcue": "false",\n          "scte35_cuepoint": "false",\n          "scte35_cuemessage": "false",\n          "videoencoder": "AVC_ENC_4",\n          "audioencoder": "AAC_ENC_eng_5",\n          "streamname": "null",\n          "agent_id": "KulaByte/5.0",\n          "cc_langnames": "|||",\n          "cc_langcodes": "|||",\n          "cc_langcomments": "|||"\n        },\n        "type": "RTMP_Sink",\n        "id": "RTMP_Sink_2"\n      },\n      {\n        "parameters": {\n          "name": "Stream Secondary",\n          "serverurl": "'+n+'",\n          "source_streamname": "null",\n          "username": "",\n          "password": "",\n          "authmode": "auto",\n          "ccincaptioninfo": "false",\n          "ccincuepoint": "false",\n          "ccintextdata": "false",\n          "ccinmetadata": "false",\n          "scte35_adcue": "false",\n          "scte35_cuepoint": "false",\n          "scte35_cuemessage": "false",\n          "videoencoder": "AVC_ENC_4",\n          "audioencoder": "AAC_ENC_eng_5",\n          "streamname": "null",\n          "agent_id": "KulaByte/5.0",\n          "cc_langnames": "|||",\n          "cc_langcodes": "|||",\n          "cc_langcomments": "|||"\n        },\n        "type": "RTMP_Sink",\n        "id": "RTMP_Sink_1"\n      }\n    ]\n  }\n}\n'}},"./app/utility/Map.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/forEach.ts");t.map=function(e,t,n){var r=[];return i.forEach(e,(function(e){var i=t.call(n,e);null!=i&&r.push(i)})),r}},"./app/utility/NumberUtils.ts":function(e,t){function n(e,t,n,i){if(null===t)return null;if(t<=0)return"0";(!n||n<0)&&(n=1);var r=Math.abs(t);if(r<1e3)return r.toString();var o=Math.pow(10,n),s=i?[{key:e.thousands,value:1e3},{key:e.lakhs,value:Math.pow(10,5)},{key:e.crores,value:Math.pow(10,7)}]:[{key:e.thousands,value:1e3},{key:e.millions,value:Math.pow(10,6)},{key:e.billions,value:Math.pow(10,9)},{key:e.trillions,value:Math.pow(10,12)}],a=i?r/10:r;i&&1e6===a&&(a+=.1);var c=i?100:1e3,l=Math.floor(Math.log(a)/Math.log(c))-1;s.length<=l&&(l=s.length-1);var u=r/s[l].value,d=s[l].key;return(r=u<10?Math.floor(u*o)/o:Math.floor(u))+d}Object.defineProperty(t,"__esModule",{value:!0}),t.convertNumberToShortNumber=n,window.convertNumberToShortNumber=n},"./app/utility/PlayerOption.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts");t.mapToPlayerOptions=function(e,t,n,r,o){var s={playbackUrls:_.map(o||e.playbackUrls,(function(e){return{type:e.mimeType,src:e.playbackUrl}})),autoplay:!0,disableLogo:!0,aesToken:"Bearer "+sessionInfo.AccessToken,enableTelemetry:!0,language:sessionInfo.UserLanguage,showEnhancedAudioTrack:angular.isDefined(e.options.audioEnhancementOptions)?e.options.audioEnhancementOptions.showEnhancedAudioTrack:e.options.enableAudioEnhancement,allowAudioEnhancement:!angular.isDefined(e.options.audioEnhancementOptions)||e.options.audioEnhancementOptions.allowAudioEnhancement};s.corsPolicy=i.Constants.PlayerAuthOptions.UseCredentials,e.posterImage&&e.posterImage.large&&(s.poster=e.posterImage.large.url);var a,c=[];return t&&t.length&&(a=function(e,t,n){if(!_.isArray(e))return{tracks:[],invalidTextTracks:[]};var r=[];return{tracks:_.map(_.filter(e,(function(e){return e.url})),(function(e){var o=t.getLanguage(e.language);return o&&o.name||r.push(e),{src:e.url,srclang:e.language,label:e.autoGenerated?n.PlayerSkin.CaptionsAuto:o&&o.name?o.name:e.name,kind:e.type===i.Constants.TextTrackType.Caption?"captions":"subtitles"}})),invalidTextTracks:r}}(t,n,r),s.tracks=a.tracks,c=a.invalidTextTracks),{options:s,invalidTextTracks:c}}},"./app/utility/ServicePlanUtils.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=(o.isTrialPlan=function(e){return e.toLowerCase()===i.Constants.UserServicePlanKeys.MicrosoftStream.toLowerCase()},o.isAddOnPlan=function(e){return e.toUpperCase()===i.Constants.UserServicePlanKeys.STREAM_P2_ADDON},o.isBasicPaidPlan=function(e){return 0<=o.BasicPaidPlanKeys.indexOf(e.toUpperCase())},o.isSuspendedTrial=function(e){var t=sessionInfo&&sessionInfo.ServerTime?new Date(sessionInfo.ServerTime):new Date;return e&&o.isTrialPlan(e.name)&&t>new Date(e.trialSuspensionDate)},o.isTerminatedTrial=function(e){var t=sessionInfo&&sessionInfo.ServerTime?new Date(sessionInfo.ServerTime):new Date;return e&&o.isTrialPlan(e.name)&&t>new Date(e.trialTerminationDate)},o.getTrialPlanForUser=function(e,t){if(!(e&&e.servicePlans&&e.servicePlans.assignedPlans&&_.isArray(e.servicePlans.assignedPlans)))return null;var n=e.servicePlans.assignedPlans;if(t&&1<n.length)return null;for(var i=null,r=0;r<n.length&&_.isNull(i);r++)o.isTrialPlan(n[r].name)&&(i=n[r]);return i},o.isUserOnTrialPlan=function(e,t){return!_.isNull(o.getTrialPlanForUser(e,t))},o.isUserOnBasicPaidPlan=function(e){var t=!1,n=!1;return e&&e.servicePlans&&_.isArray(e.servicePlans.assignedPlans)&&e.servicePlans.assignedPlans.forEach((function(e){var i=e.name;t=t||o.isBasicPaidPlan(i),n=n||o.isAddOnPlan(i)})),t&&!n},o.getTimeDifferenceInDays=function(e,t){return Math.floor((t.getTime()-e.getTime())/i.Constants.Time.ONE_DAY)},o.getRemainingDaysUntilSuspension=function(e){var t=o.getTrialPlanForUser(e,!1);if(t){var n=new Date(t.trialSuspensionDate),r=sessionInfo.ServerTime?new Date(sessionInfo.ServerTime):new Date;return o.getTimeDifferenceInDays(r,n)}return i.Constants.TrialExperience.DefaultActiveAccountDays},o.getRemainingDaysUntilExpirationAfterSuspension=function(e){var t=o.getTrialPlanForUser(e,!1);if(t){var n=new Date(t.trialTerminationDate),r=new Date(t.trialSuspensionDate),s=sessionInfo.ServerTime?new Date(sessionInfo.ServerTime):new Date;return o.getTimeDifferenceInDays(_.max(new Array(s,r)),n)}return i.Constants.TrialExperience.DefaultSuspendedAccountDays},o.BasicPaidPlanKeys=[i.Constants.UserServicePlanKeys.STREAM_O365_E1,i.Constants.UserServicePlanKeys.STREAM_O365_E3,i.Constants.UserServicePlanKeys.STREAM_O365_K,i.Constants.UserServicePlanKeys.STREAM_P1],o);function o(){}t.ServicePlanUtils=r},"./app/utility/TelemetryPayloads/SettingsStatusPayload.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t.SettingsStatusPayloadNames||(t.SettingsStatusPayloadNames={})).SettingsCommonPayload="SettingsCommonPayload"},"./app/utility/TelemetrySchemas/UserType.ts":function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.UserType||(t.UserType={})).Admin="Admin",n.Regular="Regular",n.Unauthenticated="Unauthenticated"},"./app/utility/TelemetryUtils.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/core/esm/index.js"),r=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),o=n("./app/models/TelemetryEventModels.ts");function s(e){return e.currentTarget.getAttribute("data-bi-id")||e.currentTarget.id}t.currentViewContext=new r.ViewContext(o.ScreenName[o.ScreenName.NotApplicable]),t.udpateViewContext=function(e){t.currentViewContext=new r.ViewContext(o.ScreenName[e])},t.logUserAction=function(e,n,r,o){var a={actionType:r,elementId:s(e),timeStampMs:e.timeStamp,groupings:n,viewContext:t.currentViewContext};i.StreamLoggingService.userActionThin(o,a)},t.getElementId=s,t.getActionType=function(e){var t;switch(e.type){case"click":t=r.ActionType.LeftClick;break;case"tap":t=r.ActionType.Touch;break;default:t=void 0}return t}},"./app/utility/UserNotificationUtils.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r,o=n("./app/models/UserNotificationModels.ts");function s(e){return o.UserNotificationSeverity[e.toUpperCase()]}function a(e){return i[e.toUpperCase()]}t.severityToString=function(e){return o.UserNotificationSeverity[e].toLowerCase()},t.stringToSeverity=s,(r=i=t.UserNotificationType||(t.UserNotificationType={}))[r.StorageUsageOverThreshold=0]="StorageUsageOverThreshold",r[r.StorageUsageOverLimit=1]="StorageUsageOverLimit",r[r.TrialSuspensionWarning=2]="TrialSuspensionWarning",r[r.TrialSuspended=3]="TrialSuspended",t.typeToString=function(e){return i[e].toLowerCase()},t.stringToType=a,t.NotificationComparator=function(e,t){var n=s(e.severity),i=s(t.severity);return n===i?a(e.type)-a(t.type):n-i},t.getNotificationByType=function(e,t){var n=i[t].toLowerCase(),r=e.filter((function(e){return _.isString(e.type)&&e.type.toLowerCase()===n}));return _.isEmpty(r)?null:r[0]}},"./app/utility/VisibilityUtils.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t.DocumentVisibilityUtils||(t.DocumentVisibilityUtils={})).getDocumentVisibilityProps=function(){var e={};return void 0!==document.hidden?(e.hiddenPropertyName="hidden",e.visibilityChangeEventName="visibilitychange"):void 0!==document.msHidden?(e.hiddenPropertyName="msHidden",e.visibilityChangeEventName="msvisibilitychange"):void 0!==document.webkitHidden&&(e.hiddenPropertyName="webkitHidden",e.visibilityChangeEventName="webkitvisibilitychange"),e}},"./app/utility/appUtil.ts":function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts"),o=n("./app/utility/Constants.ts"),s=n("./app/utility/string.ts"),a=n("./node_modules/ua-parser-js/src/ua-parser.js"),c=n("./app/utility/KeyCodes.ts");function l(e,t){e=e.replace(/\$/g,"\\$");var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function u(e,t){if(null==e)return e;var n=":";"undefined"!=typeof userRegionInfo&&(n=d(t).timeSeparator);var i=/^P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?))$/.exec(e);if(null==i)return"";var r=new function(){this.alreadyHaveValue=!1,this.retVal=""};function o(e,t,i){var r;void 0===t?1!=e.alreadyHaveValue&&!i||(e.retVal+="00"+n):(e.alreadyHaveValue=!0,r=parseInt(t),e.retVal+=r<10?"0"+r+n:t.substr(0,2)+n)}for(var s=1;s<5;s++)o(r,i[s],!1);for(s=5;s<7;s++)o(r,i[s],!0);return r.retVal.slice(0,r.retVal.length-1)}function d(e){if(!e&&"undefined"!=typeof userRegionInfo)return userRegionInfo;var t,n=regionInfo[(e||sessionInfo.UserRegion||"en-us").toLowerCase()],i=p(regionInfo["en-us"],null);return n&&(t=p(n,i)),t=t||i,e||(userRegionInfo=t),t}function p(e,t){return{shortDateformats:e.d||t.shortDateformats,timeSeparator:e.ts||t.timeSeparator,timeFormat:e.t||t.timeFormat,numberDigitSeperator:e.ns||t.numberDigitSeperator,numberSperatorPosition:void 0!==e.gs?e.gs:t.numberSperatorPosition}}function A(e,t){for(var n=e.split("."),i=t.split("."),r=Math.max(n.length,i.length),o=0;o<r;o++){var s=parseInt(n[o],10)||0,a=parseInt(i[o],10)||0;if(a<s)return!0;if(s<a)return!1}return!0}function m(e){var t="0";switch(e){case"AzureHtml5JS":t="2";break;case"FlashSS":t="3";break;case"Html5":t="5"}return t}t.CopyrightYear=function(e){return e&&e.ServerTime?new Date(e.ServerTime).getFullYear():(new Date).getFullYear()},t.registerComponent=function(e,t,n){n.component(e,new t)},t.registerDirective=function(e,t,n){var i=(t.$inject||[]).splice(0);i.push((function(e,n,i,r,o,s,a,c,l,u,d,p,A,m,h,f){return new t(e,n,i,r,o,s,a,c,l,u,d,p,A,m,h,f)})),n.directive(e,i)},t.registerService=function(e,t,n){n.service(e,t)},t.registerController=function(e,t,n){n.controller(e,t)},t.registerFilter=function(e,t,n){n.filter(e,t)},t.registerFactory=function(e,t,n){n.factory(e,t)},t.getUrlParamValueFromUrl=l,t.printTelemetryToConsoleForDebugging=function(e,t,n){var r;t&&(r=i({eventName:e},t,n=n||{noMetrics:!0}),console.table([r]))},t.hookBoomerang=function(e){function t(){var t=window.BOOMR;return!!t&&(t.plugins&&t.plugins.Angular&&t.plugins.Angular.hook(e,!1),!0)}t()||(document.addEventListener?document.addEventListener("onBoomerangLoaded",t):document.attachEvent&&document.attachEvent("onpropertychange",(function(e){(e=e||window.event)&&"onBoomerangLoaded"===e.propertyName&&t()})))},t.generateGuid=function(){var e="",t=0;for(t=0;t<32;t+=1){var n=16*Math.random()|0;switch(t){case 8:case 12:case 16:case 20:e+="-"}e+=n.toString(16)}return e},t.generatePartialGuid=function(){var e="",t=0;for(t=0;t<24;t+=1){var n=16*Math.random()|0;switch(t){case 4:case 8:case 12:e+="-"}e+=n.toString(16)}return e},t.generateSmallId=function(){return"A"+Math.random().toString(36).substr(2,10)},t.extractResourceId=function(e,t){var n=s.formatString("/{0}/",t),i=e.split(n);if(1<i.length&&i[1]){var r=i[1].match(/[(0-9a-zA-Z)|-]*/);return r.length?r[0]:null}return null},t.getResourceUrlPath=function(e,t){return s.formatString("/api/{0}/{1}",e,t)},t.formatISODuration=u,t.formatISODurationToSeconds=function(e,t){var n=u(e,t);if(!n)return 0;var i="undefined"!=typeof userRegionInfo?d(t).timeSeparator:":",r=n.split(i).reverse(),o=0;return r[0]&&(o+=parseInt(r[0])),r[1]&&(o+=60*parseInt(r[1])),r[2]&&(o+=60*parseInt(r[2])*60),o},t.formatSecondsToISODuration=function(e){var t=Math.floor(e/3600),n=Math.floor((e-60*t*60)/60);e=e-60*t*60-60*n;return t?"PT"+t+"H"+n+"M"+e+"S":"PT"+n+"M"+e+"S"},t.formatISODateTimeToDate=function(e,t){var i=n("moment");return i(e,i.ISO_8601).local().format(d(t).shortDateformats)},t.formatISODateTimeToFullDateTimeLocaleString=function(e){return new Date(e).toLocaleString(sessionInfo.UserRegion,{weekday:"long",year:"2-digit",month:"2-digit",day:"2-digit",hour12:!0,hour:"numeric",minute:"numeric",timeZoneName:"short"})},t.formatISODateTimeToTwoDigitDate=function(e){return new Date(e).toLocaleString(sessionInfo.UserRegion,{year:"2-digit",month:"2-digit",day:"2-digit"})},t.formatISODateTimeToLocalTime=function(e){return new Date(e).toLocaleString(sessionInfo.UserRegion,{hour:"2-digit",minute:"2-digit"})},t.formatISODateTime=function(e){return e.toISOString().split(".")[0]+"Z"},t.getLocalDateFromISODateTime=function(e){var t=n("moment");return t(e,t.ISO_8601).local().toDate()},t.setTimeOnDate=function(e,t){return e.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e},t.setDateOnDate=function(e,t){return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},t.parseShortDateStringToDate=function(e,t){var n=d(t).shortDateformats;return moment(e,n).toDate()},t.endOfToday=function(){return moment().startOf("day").add(1,"days")},t.endOfTomorrow=function(){return console.log(moment()),moment().startOf("day").add(2,"days")},t.convertNumber=function(e,t){for(var n=[{divider:1e18,suffix:"P"},{divider:1e15,suffix:"E"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"G"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"K"}],i=0;i<n.length;i++)if(e>=n[i].divider)return(e/n[i].divider).toFixed(t)+n[i].suffix;return e.toString()},t.isBigScreen=function(e){return!(e<=560)},t.handleStringCardinality=function(e,t,n,i){void 0===i&&(i=!1);var r=0;if("string"==typeof e){var o=d().numberDigitSeperator||",",a=e.replace(new RegExp(o,"g"),"");r=Number(a)}else{if("number"!=typeof e)return"";r=e}return r<0&&!i&&(r=0),1===r?s.formatString(t,e.toString()):s.formatString(n,e.toString())},t.isItemInView=function(e,t){void 0===t&&(t=!0);var n=$("#"+e),i=$(window).scrollTop()+50,r=i+$(window).height(),o=n.offset().top,s=n.offset().top+n.height();return t?o<=r&&i<=s:i<o&&s<r},t.getNarratorFriendlyTime=function(e,t){if(!e)return"";for(var n=[t.Second,t.Minute,t.Hour,t.Day,t.Month,t.Year],i=e.split(":"),r="",o=0,s=i.length-1;o<i.length&&0<=s;o++,s--){var a=parseInt(i[o]);(0===o||0<a)&&(r+=a.toString()+" ",r+=1===a?n[s].Singular:n[s].Plural)," "!==r.charAt(r.length-1)&&(r+=" ")}return" "===r.charAt(r.length-1)?r.substr(0,r.length-1):r},t.getResourceThumbnailAltTag=function(e,t){return e?s.formatString("[{0}] {1}",e,t):t},t.setOutlineOnlyForKeyboardUse=function(){var e=!1,t=function(i){e||(e=!0,$("body").addClass("-mouse -should -not -have -outline"),$("body").on("keydown","*",n),$("body").off("mousedown","*",t))},n=function(i){!e||i.keyCode!==c.KeyCodes.Tab&&i.keyCode!==c.KeyCodes.ArrowUp&&i.keyCode!==c.KeyCodes.ArrowDown&&i.keyCode!==c.KeyCodes.ArrowLeft&&i.keyCode!==c.KeyCodes.ArrowRight&&i.keyCode!==c.KeyCodes.Escape||(e=!1,$("body").removeClass("-mouse -should -not -have -outline"),$("body").off("keydown","*",n),$("body").on("mousedown","*",t))};$(document).ready((function(){$("body").on("keydown","*",n),$("body").on("mousedown","*",t)}))},t.decodeUserInfo=function(){var e,t,n;try{e=JSON.parse('"'+sessionInfo.UserClaim.UserInfo.GivenName+'"'),t=JSON.parse('"'+sessionInfo.UserClaim.UserInfo.FamilyName+'"'),n=JSON.parse('"'+sessionInfo.UserClaim.UserInfo.DisplayableId+'"')}catch(e){}e&&(sessionInfo.UserClaim.UserInfo.GivenName=e),t&&(sessionInfo.UserClaim.UserInfo.FamilyName=t),n&&(sessionInfo.UserClaim.UserInfo.DisplayableId=n)},t.convertTimeInSecondsToTimeString=function(e){var t,n,i="",r="00:",o="00",a=angular.copy(e);return 1<=a/3600&&(i=Math.floor(a/3600).toString()+":",a%=3600),1<=a/60&&(r=(t=Math.floor(a/60))<=9?"0"+t.toString():t.toString(),r+=":",a%=60),0<a&&(o=(n=a)<=9?"0"+n.toString():n.toString()),s.formatString("{0}{1}{2}",i,r,o)},t.convertTimeInSecondsToString=function(e){var t=Math.floor(e/3600),n=t%24;return Math.floor(t/24)+"."+n+":"+Math.floor(e%3600/60)+":"+(e%60).toFixed(4)},t.convertTimeInMilliSecondsToTimeSpan=function(e){var t,n,i,r=e;return r-=864e5*(i=Math.floor(r/864e5)),r-=36e5*(t=Math.floor(r/36e5)),r-=6e4*(n=Math.floor(r/6e4)),i+"."+t+":"+n+":"+Math.floor(r/1e3)},t.playBackTimeStringtoSeconds=function(e){var t=new RegExp(o.Constants.PlayBackTimeInputRegExp.source).exec(e),n=0;return t&&(n+=parseInt(t[5]),parseInt(t[4])&&(n+=60*parseInt(t[4])),parseInt(t[3])&&(n+=60*parseInt(t[3])*60)),n},t.taggedTimeStringToSeconds=function(e){var t=new RegExp(o.Constants.TimeStampTagsRegExp.source).exec(e),n=0;try{n=parseInt(t[6])+60*parseInt(t[5]),t[4]&&(n+=60*parseInt(t[4])*60)}catch(e){return null}return n},t.getErrorBucket=function(e){var t,n,i=r.VideoPlaybackError.UnknownError;return e&&8===e.length&&("1"===(t=e.charAt(2))?i=r.VideoPlaybackError.MediaAbortedError:"2"===t?i="19"===(n=e.slice(5,7))?r.VideoPlaybackError.ClientNetworkError:"1F"===n?r.VideoPlaybackError.ServerNetworkError:"25"===n&&"8"===e.charAt(e.length-1)?r.VideoPlaybackError.NetworkTimeoutError:"25"===n&&"b"===e.charAt(e.length-1)?r.VideoPlaybackError.NoInternetConnectionError:r.VideoPlaybackError.GenericNetworkError:"3"===t?i=r.VideoPlaybackError.AESDecodeError:"4"===t?i=r.VideoPlaybackError.SourceNotSupportedError:"5"===t?i="4"===(n=e.slice(e.length-1,e.length))?r.VideoPlaybackError.KeyAcquireError:"5"===n?r.VideoPlaybackError.SegmentDecryptError:r.VideoPlaybackError.GenericDecryptError:"6"===t&&(i=r.VideoPlaybackError.PlayerMismatchError)),i},t.alertScreenReader=function(e){setTimeout((function(){var t=e?e.replace(/\[\%\]/g,""):e;$("#use-for-screen-reader-alert-only").html(s.htmlEncode(t))}),0)},t.getUserRegionInfo=d,t.castToRegionInfo=p,t.arraySplit=function(e,t){if(t<1||t%1!=0)return null;for(var n=Math.floor(e.length/t),i=e.length%t,r=[],o=0,s=0;s<n;s++)r.push(e.slice(o,o+t)),o+=t;return 0!=i&&r.push(e.slice(o,o+i)),r},t.generateFwLink=function(e){return s.formatString("http://go.microsoft.com/fwlink/?LinkId={0}&clcid={1}",e.toString(),sessionInfo.LCID)},t.errorMessage=function(e){return _.get(e,"data.error.message",null)},t.responseValue=function(e){return _.get(e,"data.value",null)},t.isIE=function(){return/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)&&!!(document.uniqueID||document.documentMode||window.ActiveXObject||window.MSInputMethodContext)},t.getLang=function(e){var t=0<e.indexOf("-"),n=0<e.indexOf("(");return e&&(t||n)?t?e.split("-")[0]:e.split("(")[0]:e},t.isPosterImageUrlsEmpty=function(e){return!(e&&(e.extraSmall||e.large||e.small||e.medium)&&(e.extraSmall.url||e.small.url||e.medium.url||e.large.url))},t.isTouchDevice=function(){return"ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints},t.isMinimumVersionInstalled=A,t.isIOS=function(e){var t=(new a.UAParser).getOS();return e?t&&"iOS"===t.name&&A(t.version,e):t&&"iOS"===t.name},t.isIphone=function(){return!!window.navigator.userAgent.match(/iPhone/i)},t.isUnsupportedFlashVersionInstalled=function(){var e=navigator.plugins[o.Constants.Plugins.ShockwaveFlash];return null!=e&&!0===this.isMinimumVersionInstalled(e.version,"30")&&!1===this.isMinimumVersionInstalled(e.version,"30.0.0.154")},t.getReferrer=function(){return l("referrer",window.location.href)||sessionInfo.ReferrerUrl},t.getAMPErrorPrefixFromTechName=m,t.formatAMPErrorCode=function(e,t){return m(e)+t},t.comparePlaybackUrls=function(e,t){if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++){var i=function(n){var i=e[n],r=t.filter((function(e){return e.type==i.type}));if(0===r.length||r[0].src!==i.src)return{value:!1}}(n);if("object"==typeof i)return i.value}return!0},t.isBrowserAudioDisabled=function(){return(new Audio).muted},t.removeNullValues=function e(t){for(var n in t)void 0!==t[n]&&null!==t[n]||delete t[n],Array.isArray(t[n])&&(t[n]=t[n].filter((function(e){return null!=e})),e(t[n])),"object"!=typeof t[n]||Array.isArray(t[n])||e(t[n])},t.isLanguageSupported=function(e,t){return!!_.find(e,(function(e){return _.startsWith(t,e)}))}},"./app/utility/forEach.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=function(e,t,n){for(var i in e)e.hasOwnProperty(i)&&t.call(n,{key:i,value:e[i]})}},"./app/utility/regionInfo.js":function(e,t){e.exports={"af-za":{d:"YYYY-MM-DD",ns:" "},"am-et":{d:"DD/MM/YYYY"},"ar-ae":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-bh":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-dz":{d:"DD-MM-YYYY",t:"H:mm"},"ar-eg":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-iq":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-jo":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-kw":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-lb":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-ly":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-ma":{d:"DD-MM-YYYY",t:"H:mm"},"ar-om":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-qa":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-sa":{d:"DD/MM/YY",t:"hh:mm tt"},"ar-sy":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-tn":{d:"DD-MM-YYYY",t:"H:mm"},"ar-ye":{d:"DD/MM/YYYY",t:"hh:mm tt"},"arn-cl":{d:"DD-MM-YYYY",t:"H:mm",ns:"."},"as-in":{d:"DD-MM-YYYY",t:"tt h:mm",gs:!0},"az-cyrl-az":{d:"DD.MM.YYYY",t:"H:mm",ns:" "},"az-latn-az":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"ba-ru":{d:"DD.MM.YY",t:"H:mm",ns:" "},"be-by":{d:"DD.MM.YY",t:"HH:mm",ns:" "},"bg-bg":{d:"D.M.YYYY 'Г.'",t:"H:mm",ns:" "},"bin-ng":{d:"D/M/YYYY",t:"h:mmtt"},"bn-bd":{d:"DD-MM-YY",t:"HH.mm",ts:".",gs:!0},"bn-in":{d:"DD-MM-YY",t:"HH.mm",ts:".",gs:!0},"bo-cn":{d:"YYYY/M/D",t:"HH:mm",gs:!0},"br-fr":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"bs-cyrl-ba":{d:"D.M.YYYY",t:"H:mm",ns:"."},"bs-latn-ba":{d:"DD.MM.YYYY.",t:"HH:mm",ns:"."},"ca-es":{d:"D/M/YYYY",t:"H:mm",ns:"."},"ca-es-valencia":{d:"D/M/YYYY",t:"H:mm",ns:"."},"chr-cher-us":{},"co-fr":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"cs-cz":{d:"DD.MM.YYYY",t:"H:mm",ns:" "},"cy-gb":{d:"DD/MM/YYYY",t:"HH:mm"},"da-dk":{d:"DD-MM-YYYY",t:"HH:mm",ns:"."},"de-at":{d:"DD.MM.YYYY",t:"HH:mm",ns:" "},"de-ch":{d:"DD.MM.YYYY",t:"HH:mm",ns:"'"},"de-de":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"de-li":{d:"DD.MM.YYYY",t:"HH:mm",ns:"'"},"de-lu":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"dsb-de":{d:"D. M. YYYY",t:"HH:mm",ns:"."},"dv-mv":{d:"DD/MM/YY",t:"HH:mm"},"dz-bt":{d:"YYYY-MM-DD",t:"ཆུ་ཚོད་ h སྐར་མ་ mm tt",gs:!0},"el-gr":{d:"D/M/YYYY",ns:"."},"en-029":{d:"DD/MM/YYYY",t:"HH:mm"},"en-au":{d:"D/MM/YYYY"},"en-bz":{d:"DD/MM/YYYY",t:"HH:mm"},"en-ca":{d:"YYYY-MM-DD"},"en-gb":{d:"DD/MM/YYYY",t:"HH:mm"},"en-hk":{d:"D/M/YYYY"},"en-id":{d:"DD/MM/YYYY",t:"H:mm",ns:"."},"en-ie":{d:"DD/MM/YYYY",t:"HH:mm"},"en-in":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0},"en-jm":{d:"D/M/YYYY"},"en-my":{d:"D/M/YYYY"},"en-nz":{d:"D/MM/YYYY"},"en-ph":{d:"DD/MM/YYYY"},"en-sg":{d:"D/M/YYYY"},"en-tt":{d:"DD/MM/YYYY"},"en-us":{d:"M/D/YYYY",t:"h:mm tt",ts:":",gs:!1,ns:","},"en-za":{d:"YYYY/MM/DD",ns:" "},"en-zw":{d:"D/M/YYYY"},"es-419":{d:"D/M/YYYY",t:"HH:mm"},"es-ar":{d:"D/M/YYYY",t:"HH:mm",ns:"."},"es-bo":{d:"D/M/YYYY",t:"HH:mm",ns:"."},"es-cl":{d:"DD-MM-YYYY",t:"H:mm",ns:"."},"es-co":{d:"D/MM/YYYY",ns:"."},"es-cr":{d:"D/M/YYYY",t:"HH:mm",ns:" "},"es-cu":{d:"D/M/YYYY",t:"HH:mm"},"es-do":{d:"D/M/YYYY"},"es-ec":{d:"D/M/YYYY",t:"H:mm",ns:"."},"es-es":{d:"DD/MM/YYYY",t:"H:mm",ns:"."},"es-gt":{d:"D/MM/YYYY",t:"HH:mm"},"es-hn":{d:"D/M/YYYY",t:"HH:mm"},"es-mx":{d:"DD/MM/YYYY",t:"hh:mm tt"},"es-ni":{d:"D/M/YYYY",t:"HH:mm"},"es-pa":{d:"MM/DD/YYYY"},"es-pe":{d:"D/MM/YYYY",t:"HH:mm"},"es-pr":{d:"MM/DD/YYYY"},"es-py":{d:"D/M/YYYY",t:"HH:mm",ns:"."},"es-sv":{d:"D/M/YYYY",t:"HH:mm"},"es-us":{},"es-uy":{d:"D/M/YYYY",t:"H:mm",ns:"."},"es-ve":{d:"D/M/YYYY",ns:"."},"et-ee":{d:"DD.MM.YYYY",t:"H:mm",ns:" "},"eu-es":{d:"YYYY/MM/DD",t:"HH:mm",ns:"."},"fa-ir":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ff-latn-sn":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"ff-ng":{d:"D/M/YYYY",t:"H:mm"},"fi-fi":{d:"D.M.YYYY",t:"H.mm",ts:".",ns:" "},"fil-ph":{},"fo-fo":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"fr-029":{d:"DD/MM/YYYY",t:"H:mm",ns:" "},"fr-be":{d:"DD-MM-YY",t:"HH:mm",ns:"."},"fr-ca":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"fr-cd":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"fr-ch":{d:"DD.MM.YYYY",t:"HH:mm",ns:" "},"fr-ci":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"fr-cm":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"fr-fr":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"fr-ht":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"fr-lu":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"fr-ma":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"fr-mc":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"fr-ml":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"fr-re":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"fr-sn":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"fy-nl":{d:"DD-MM-YYYY",t:"HH:mm",ns:"."},"ga-ie":{d:"DD/MM/YYYY",t:"HH:mm"},"gd-gb":{d:"DD/MM/YYYY",t:"HH:mm"},"gl-es":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"gn-py":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"gsw-fr":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"gu-in":{d:"DD-MM-YY",t:"HH:mm",gs:!0},"ha-latn-ng":{d:"D/M/YYYY"},"haw-us":{d:"D/M/YYYY"},"he-il":{d:"DD/MM/YYYY",t:"HH:mm"},"hr-ba":{d:"DD.MM.YYYY.",t:"HH:mm",ns:"."},"hr-hr":{d:"D.M.YYYY.",t:"H:mm",ns:"."},"hsb-de":{d:"D.M.YYYY",t:"H:mm 'hodź'.",ns:"."},"hu-hu":{d:"YYYY. MM. DD.",t:"H:mm",ns:" "},"hy-am":{d:"DD.MM.YYYY",t:"HH:mm"},"ibb-ng":{d:"D/M/YYYY",t:"h:mmtt"},"id-id":{d:"DD/MM/YYYY",t:"HH.mm",ts:".",ns:"."},"ig-ng":{d:"DD/MM/YYYY"},"ii-cn":{d:"YYYY/M/D",t:"tt h:mm"},"is-is":{d:"D.M.YYYY",t:"HH:mm",ns:"."},"it-ch":{d:"DD.MM.YYYY",t:"HH:mm",ns:"'"},"it-it":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"iu-cans-ca":{d:"D/M/YYYY"},"iu-latn-ca":{d:"D/MM/YYYY"},"ja-jp":{d:"YYYY/MM/DD",t:"H:mm"},"ka-ge":{d:"DD.MM.YYYY",t:"HH:mm",ns:" "},"kl-gl":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0,ns:"."},"km-kh":{d:"DD/MM/YY",t:"H:mm"},"kn-in":{d:"DD-MM-YY",t:"HH:mm",gs:!0},"ko-kr":{d:"YYYY-MM-DD",t:"tt h:mm"},"kok-in":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0},"kr-ng":{d:"D/M/YYYY"},"ks-deva-in":{d:"DD-MM-YYYY",t:"H:mm",gs:!0},"ku-arab-iq":{d:"YYYY/MM/DD",t:"hh:mm tt"},"ky-kg":{d:"D-MMM YY",t:"HH:mm",ns:" "},"la-001":{d:"DD/MM/YYYY",t:"H:mm"},"lb-lu":{d:"DD.MM.YY",t:"HH:mm",ns:" "},"lo-la":{d:"D/M/YYYY",t:"H:mm",ns:"."},"lt-lt":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"lv-lv":{d:"DD.MM.YYYY",t:"HH:mm",ns:" "},"mi-nz":{d:"DD/MM/YYYY"},"mk-mk":{d:"DD.M.YYYY",t:"HH:mm",ns:"."},"ml-in":{d:"D/M/YYYY"},"mn-mn":{d:"YYYY-MM-DD",t:"HH:mm"},"mn-mong-cn":{d:"YYYY/M/D",t:"H:mm",gs:!0},"mn-mong-mn":{d:"YYYY/M/D",t:"H:mm",gs:!0},"mni-in":{d:"DD/MM/YYYY",t:"HH:mm"},"moh-ca":{},"mr-in":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0},"mt-mt":{d:"DD/MM/YYYY",t:"HH:mm"},"my-mm":{d:"DD-MM-YYYY",t:"HH:mm"},"nb-no":{d:"DD.MM.YYYY",t:"HH.mm",ts:".",ns:" "},"ne-in":{d:"YYYY-MM-DD"},"ne-np":{},"nl-be":{d:"D/MM/YYYY",t:"H:mm",ns:" "},"nl-nl":{d:"D-M-YYYY",t:"HH:mm",ns:"."},"nn-no":{d:"DD.MM.YYYY",t:"HH:mm",ns:" "},"nso-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"oc-fr":{d:"DD/MM/YYYY",t:"HH' h 'mm",ts:".",ns:" "},"om-et":{d:"DD/MM/YYYY"},"or-in":{d:"DD-MM-YY",t:"HH:mm",gs:!0},"pa-arab-pk":{d:"DD-MM-YY",t:"h.mm tt",ts:"."},"pa-in":{d:"DD-MM-YY",t:"tt hh:mm",gs:!0},"pap-029":{d:"D-M-YYYY",t:"H:mm"},"pl-pl":{d:"DD.MM.YYYY",t:"HH:mm",ns:" "},"prs-af":{d:"YYYY/M/D",ns:"."},"ps-af":{d:"YYYY/M/D",t:"H:mm",ns:"."},"pt-br":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"pt-pt":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"quc-latn-gt":{d:"DD/MM/YYYY"},"quz-bo":{d:"DD/MM/YYYY",t:"hh:mm tt",ns:"."},"quz-ec":{d:"DD/MM/YYYY",t:"H:mm",ns:"."},"quz-pe":{d:"DD/MM/YYYY",t:"hh:mm tt"},"rm-ch":{d:"DD-MM-YYYY",t:"HH:mm",ns:"’"},"ro-md":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"ro-ro":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"ru-md":{d:"DD.MM.YYYY",t:"H:mm",ns:" "},"ru-ru":{d:"DD.MM.YYYY",t:"H:mm",ns:" "},"rw-rw":{d:"YYYY/MM/DD",t:"HH:mm",ns:"."},"sa-in":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0},"sah-ru":{d:"DD.MM.YYYY",t:"H:mm",ns:" "},"sd-arab-pk":{d:"DD/MM/YYYY"},"sd-deva-in":{d:"DD/MM/YYYY",t:"H:mm"},"se-fi":{d:"D.M.YYYY",t:"H:mm",ns:" "},"se-no":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"se-se":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"si-lk":{d:"YYYY-MM-DD",t:"HH.mm",ts:"."},"sk-sk":{d:"D.M.YYYY",t:"H:mm",ns:" "},"sl-si":{d:"D. MM. YYYY",t:"HH:mm",ns:"."},"sma-no":{d:"DD.MM.YYYY",t:"HH:mm",ns:" "},"sma-se":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"smj-no":{d:"DD.MM.YYYY",t:"HH:mm",ns:" "},"smj-se":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"smn-fi":{d:"D.M.YYYY",t:"H:mm",ns:" "},"sms-fi":{d:"D.M.YYYY",t:"H:mm",ns:" "},"so-so":{d:"DD/MM/YYYY"},"sq-al":{d:"D.M.YYYY",ns:" "},"sr-cyrl-ba":{d:"D.M.YYYY.",t:"H:mm",ns:"."},"sr-cyrl-me":{d:"D.M.YYYY.",t:"H:mm",ns:"."},"sr-cyrl-rs":{d:"DD.MM.YYYY.",t:"H:mm",ns:"."},"sr-latn-ba":{d:"D.M.YYYY.",t:"HH.mm",ts:".",ns:"."},"sr-latn-me":{d:"D.M.YYYY.",t:"HH.mm",ts:".",ns:"."},"sr-latn-rs":{d:"D.M.YYYY.",t:"HH.mm",ts:".",ns:"."},"st-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"sv-fi":{d:"DD-MM-YYYY",t:"HH:mm",ns:" "},"sv-se":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"sw-ke":{d:"DD/MM/YYYY",t:"HH:mm"},"syr-sy":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ta-in":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0},"ta-lk":{d:"D/M/YYYY",t:"HH:mm",gs:!0},"te-in":{d:"DD-MM-YY",t:"HH:mm",gs:!0},"tg-cyrl-tj":{d:"DD.MM.YYYY",t:"HH:mm",ns:" "},"th-th":{d:"D/M/YYYY",t:"H:mm"},"ti-er":{d:"DD/MM/YYYY"},"ti-et":{d:"DD/MM/YYYY"},"tk-tm":{d:"DD.MM.YY 'Ý.'",t:"HH:mm",ns:" "},"tn-bw":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"tn-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"tr-tr":{d:"D.MM.YYYY",t:"HH:mm",ns:"."},"ts-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"tt-ru":{d:"DD.MM.YYYY",t:"HH:mm",ns:" "},"tzm-arab-ma":{d:"D/M/YYYY",t:"H:mm",ns:" "},"tzm-latn-dz":{d:"DD-MM-YYYY",t:"H:mm",ns:" "},"tzm-tfng-ma":{d:"DD-MM-YYYY",t:"H:mm",ns:" "},"ug-cn":{d:"YYYY-M-D",t:"H:mm"},"uk-ua":{d:"DD.MM.YYYY",t:"H:mm",ns:" "},"ur-in":{d:"D/M/YY",gs:!0},"ur-pk":{d:"DD/MM/YYYY"},"uz-cyrl-uz":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"uz-latn-uz":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"ve-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"vi-vn":{d:"DD/MM/YYYY",ns:"."},"wo-sn":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"xh-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"yi-001":{d:"DD/MM/YYYY",t:"HH:mm"},"yo-ng":{d:"DD/MM/YYYY"},"zh-cn":{d:"YYYY/M/D",t:"H:mm"},"zh-hk":{d:"D/M/YYYY",t:"H:mm"},"zh-mo":{d:"D/M/YYYY",t:"H:mm"},"zh-sg":{d:"D/M/YYYY",t:"tt h:mm"},"zh-tw":{d:"YYYY/M/D",t:"tt hh:mm"},"zu-za":{}}},"./app/utility/string.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts");t.repeat=function(e,t){for(var n="";1&t&&(n+=e),t>>=1;)e+=e;return n},t.formatString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Array.prototype.slice.call(e,1);return e[0].replace(/{(\d+)}/g,(function(e,t){return void 0!==n[t]?n[t]:e}))},t.truncateStringAddEllipses=function(e,t){return e.length>t?e.substr(0,t-10)+"…":e},t.replaceStringMarkers=function(e,t){return void 0===t&&(t=""),e.replace(/\[%\]/g,t)},t.isStringEqual=function(e,t){return e.trim().toLowerCase()===t.trim().toLowerCase()},t.htmlEncode=function(e){return $("<div/>").text(e).html()},t.htmlDecode=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value};var r=[i.Constants.Routes.StudioChannels,i.Constants.Routes.StudioVideos,i.Constants.Routes.StudioRecycleBin,i.Constants.Routes.Meetings,i.Constants.Routes.RecentlyViewed,i.Constants.Routes.FollowingChannels];t.getBaseRoute=function(e){e&&"/"===e[0]&&(e=0<e.indexOf("embed")?e.slice(7,e.length):e.slice(1,e.length));var t=e.split("/");if(t&&t.length&&0<t.length){for(var n=0,i=r;n<i.length;n++){var o=i[n],s="/"===o[0]?o.slice(1):o;if(e.substring(0,s.length)===s)return o}return t[0].toLowerCase()}return e.toLowerCase()},t.urlResolve=function(e){var t=e,n=document.createElement("a");return document.documentMode&&(n.setAttribute("href",t),t=n.href),n.setAttribute("href",t),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}},t.escapeFilterSingleQuote=function(e){return e?e.split("'").join("''"):e},t.indexOfIgnoreCase=function(e,t){return void 0!==e&&e&&void 0!==t&&t?e.map((function(e){return e.toUpperCase()})).indexOf(t.toUpperCase()):-1},t.isRTLScript=function(e){return/[\u0590-\u06FF]/.test(e)},t.removeDomainNameFromEmail=function(e){return e?e.substring(0,e.indexOf("@")+1):null}},"./app/utility/videoEventUtils.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/Constants.ts");function o(e){return e.Values.Forms}function s(e){return o(e)&&e.Values.FormsTab}t.normalizeFormData=function(e,t,n){var r=[],o=null;return n&&n.media&&n.media.duration&&(o=i.formatISODurationToSeconds(n.media.duration)),e&&e.filter((function(e){return"form"===e.type})).forEach((function(e){!e.startTime&&e.start&&(e.startTime=i.formatISODurationToSeconds(e.start)),!e.endTime&&e.end&&(e.endTime=i.formatISODurationToSeconds(e.end)),e.eventData&&!t.Values.FormsIgnoreViewedStatus&&(e.eventData.hasBeenShown=_.get(e,"userData.isViewed",!1)),o&&e.endTime>o&&(e.hidden=!0),r.push(e)})),r},t.canViewForms=function(e,t){return _.get(e,"servicePlans.capabilities.viewForm",!1)&&o(t)},t.canAddForm=function(e,t){return _.get(e,"servicePlans.capabilities.manageForm",!1)&&s(t)},t.isFormFeatureEnabled=o,t.isFormTabEnabled=s,t.canVideoHaveForms=function(e){return!(e&&e.state&&e.liveEvent)||e.state.toLowerCase()===r.Constants.VideoStatus.Completed.toLowerCase()}},"./app/vNextBridges/components/VideoEditorBridge/VideoEditorBridge.precheck.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/ua-parser-js/src/ua-parser.js");t.isBrowserBlacklisted=function(e){for(var t=function(e){for(var t=new Array,n=0,i=e;n<i.length;n++){for(var r={},o=0,s=i[n].split(";");o<s.length;o++){var a=s[o],c=a.indexOf(":");if(-1!==c){var l=a.substring(0,c),u=a.substring(c+1);switch(l){case"osName":r.osName=u;break;case"osVersion":r.osVersion=u;break;case"deviceType":r.deviceType=u;break;case"deviceModel":r.deviceModel=u;break;case"browserName":r.browserName=u;break;case"browserVersion":r.browserVersion=u;break;case"browserVersionOperator":r.browserVersionOperator=u}}}t.push(r)}return t}(portalConfiguration.VideoEditorConfiguration.DisabledBrowsersAndDevices),n=new i.UAParser(e),r=n.getOS(),o=n.getBrowser(),s=n.getDevice(),a=0,c=t;a<c.length;a++){var l=c[a];if((void 0===l.osName||r&&r.name&&l.osName===r.name.toLowerCase())&&(void 0===l.osVersion||r&&r.version&&l.osVersion===r.version.toLowerCase())&&(void 0===l.browserName||o&&o.name&&l.browserName===o.name.toLowerCase())&&(void 0===l.browserVersion||o&&o.version&&function(e,t,n){switch(n){case"equal":return e===t;case"notEqual":return e!==t;case"lessThan":return e<t;case"lessThanOrEqual":return e<=t;case"greaterThan":return t<e;case"greaterThanOrEqual":return t<=e}return!1}(parseInt(o.version),parseInt(l.browserVersion),l.browserVersionOperator))&&(void 0===l.deviceType||s&&s.type&&l.deviceType===s.type.toLowerCase())&&(void 0===l.deviceModel||s&&s.model&&l.deviceModel===s.model.toLowerCase()))return!0}return!1}},"./app/vNextBridges/reactMappings/ReactUserSession.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDataToCreateReactUserSession=function(){var e=null;return null!==sessionInfo.UserClaim&&(e=sessionInfo.UserClaim.TenantId),{clientSessionIdFromSession:sessionInfo.ClientSessionId,userSessionIdFromSession:sessionInfo.SessionId,accessToken:sessionInfo.AccessToken,accessTokenExpiry:new Date(sessionInfo.AccessTokenExpiry),tenantId:e,apiGatewayUri:sessionInfo.ApiGatewayUri,apiGatewayVersion:sessionInfo.ApiGatewayVersion,notificationEndPoint:sessionInfo.NotificationEndPoint,userLanguage:sessionInfo.UserLanguage,userRegion:sessionInfo.UserRegion,isRightToLeft:sessionInfo.IsRightToLeft,uniqueId:sessionInfo.UserClaim.UserInfo.UniqueId}}},"./app/vNextBridges/streamCoreInit.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/core/esm/index.js"),r=n("./app/utility/TelemetrySchemas/UserType.ts"),o=n("./app/utility/Constants.ts"),s=n("./node_modules/query-string/index.js");function a(){var e=sessionInfo.UserClaim;return e&&e.UserInfo?e.UserInfo.UniqueId:""}t.initalizeStreamCore=function(e){var t,n,c,l,u,d,p,A,m,h,f,g,v,y,S,b,C,E,w;window.isUnitTest||(t=portalConfiguration.ECSConfiguration&&portalConfiguration.ECSConfiguration.telemetryRecord?portalConfiguration.ECSConfiguration.telemetryRecord:{},i.initLoggingAndUI((E=(C=portalConfiguration.AriaConfiguration).IngestionKey,w=C.OverrideEndpointUrl,{ingestionKey:E,localUserId:function(){var e=a(),t=portalConfiguration.EnableMockApiGateway?"c:":"a:";return e=e&&t+e}(),appName:"Microsoft.Stream",version:portalConfiguration.BuildNumber,overrideEndpointUrl:w||void 0,privacyScrubbingConfig:portalConfiguration.PrivacyScrubbingConfiguration}),{isDevelopmentMode:portalConfiguration.IsDevelopmentMode,expContext:t,environmentContext:(g=s.parse(window.location.search.toLowerCase()),v=g[o.Constants.QueryStringKeys.App.toLocaleLowerCase()]||g.referrer||(sessionInfo&&sessionInfo.IsEmbed?sessionInfo.ReferrerUrl:void 0)||(sessionInfo&&sessionInfo.IsEmbed?"Stream Embed":"Stream Portal"),location.hostname,y=g[o.Constants.PiiFreeQueryStringKeys.referralId.toLocaleLowerCase()],S=g[o.Constants.PiiFreeQueryStringKeys.referralType.toLocaleLowerCase()],b=g[o.Constants.QueryStringKeys.referrer.toLocaleLowerCase()]||(sessionInfo?sessionInfo.ReferrerUrl:void 0),{app:v,hostPlatform:"web",refId:y,refType:S,trafficReferrer:b}),entityContext:{},userContext:function(){var e=a(),t=function(){var e=sessionInfo.UserClaim;return e?e.TenantId:""}(),n=sessionInfo.SessionId,i=sessionInfo.ClientSessionId,o=sessionInfo.ServicePlanForTelemetry||"0",s=sessionInfo.UserRegion,c=sessionInfo.UserLanguage;return{userId:e,clientSessionId:i,userSessionId:n,tenantId:t,servicePlan:o,region:s,userType:e?function(){var e;return sessionInfo&&sessionInfo.PrincipalInfo&&(e=JSON.parse(sessionInfo.PrincipalInfo)),e&&e.permissions&&e.permissions.canManageRoleAssignments}()?r.UserType.Admin:r.UserType.Regular:r.UserType.Unauthenticated,language:c}}(),streamContext:(n=portalConfiguration.BuildNumber,c=portalConfiguration.RingNumber,l=sessionInfo.ServiceRegion,u=portalConfiguration.ClusterName,d=sessionInfo.ServiceRegion,p=sessionInfo.ApiGatewayUri,A=sessionInfo.ApiGatewayVersion,m=portalConfiguration.AzureMediaPlayerVersion,h=sessionInfo.IsEmbed,f=portalConfiguration.IsDevelopmentMode,{buildNumber:n,deploymentRing:c,clusterRegion:l,clusterIdentity:u,serviceRegion:d,apiGatewayUri:p,apiGatewayVersion:A,azureMediaPlayerVersion:m,isEmbed:h,isDevelopmentMode:f,isDebugLoggingEnabled:!1})},(function(e){var t,n;window.OfficeBrowserFeedback&&window.OfficeBrowserFeedback.floodgate&&(t=window.OfficeBrowserFeedback.floodgate.getEngine())&&((n=t.getActivityListener()).logActivity(e),n.logActivity(e+(sessionInfo.IsEmbed?"Embed":"Portal")))})))}},"./common/Directives/AutoFocus/AutoFocus.ts":function(e,t,n){function i(){this.restrict="A",this.link=function(e,t,n){setTimeout((function(){t[0].focus()}))}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts");t.AutoFocus=i,r.registerDirective("autoFocus",i,angular.module("jumper"))},"./common/Directives/BindCompileHtml.ts":function(e,t){angular.module("jumper.common").directive("bindCompileHtml",["$compile",function(e){return{restrict:"A",link:function(t,n,i){t.$watch((function(){return i.bindCompileHtml}),(function(i){n.html(i),e(n.contents())(t)}))}}}])},"./common/Directives/CaptionButton/CaptionButton.html":function(e,t){e.exports="<div class=caption-button aria-expanded=false> <button class=caption-button-control type=button aria-live=off aria-label={{$ctrl.CaptionButtonLabel}} custom-title={{$ctrl.CaptionButtonLabel}} ng-click=$ctrl.CaptionButtonClick() ng-class=\"$ctrl.isCaptionOn? 'caption-indicator' : 'caption-empty'\"> </button> </div>"},"./common/Directives/CaptionButton/CaptionButton.less":function(e,t){},"./common/Directives/CaptionButton/CaptionButton.ts":function(e,t,n){function i(){this.controller=o.CaptionButtonController,this.template=n("./common/Directives/CaptionButton/CaptionButton.html"),this.bindings={videoId:"<",mediaPlayerId:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./common/Directives/CaptionButton/CaptionButton.less");var r=n("./app/utility/appUtil.ts"),o=n("./common/Directives/CaptionButton/CaptionButtonController.ts");t.CaptionButton=i,r.registerComponent("captionButton",i,angular.module("jumper.common"))},"./common/Directives/CaptionButton/CaptionButtonController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/models/TelemetryEventModels.ts"),o=(Object.defineProperty(s.prototype,"CaptionButtonLabel",{get:function(){return this.isCaptionOn?this.resources.CaptionButtonAriaLabelCaptionsOff:this.resources.CaptionButtonAriaLabelCaptionsOn},enumerable:!0,configurable:!0}),s.prototype.CaptionButtonClick=function(){this.enableCaption=!this.enableCaption,this.captionButtonClickCount++;var e=angular.copy(this.telemetryEvent);e.captionButtonClickCount=this.captionButtonClickCount,this.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.liveEventEmbeddedCaptionClickCount,e),this.enableCaption?0<this.textTrackCount&&(this.mediaPlayer.textTracks_.tracks_[0].mode="showing",this.isCaptionOn=!0):this.isCaptionOn&&(this.mediaPlayer.textTracks_.tracks_[0].mode="disabled",this.isCaptionOn=!1)},s.$inject=["$scope","$rootScope","resources","telemetryService"],s);function s(e,t,n,o){var s=this;this.$scope=e,this.$rootScope=t,this.resources=n,this.telemetryService=o,this.enableCaption=!1,this.isCaptionOn=!1,this.captionButtonClickCount=0,this.telemetryEvent={captionButtonClickCount:null};var a=$("#"+this.mediaPlayerId+" "+i.Constants.MediaPlayerPostLoadSelector);a&&0<a.length&&(this.mediaPlayer=amp(a[0])),this.textTrackCount=this.mediaPlayer.textTracks_.tracks_.length,this.$rootScope.$broadcast(i.Constants.Events.EmbeddedLiveEventCaptionNumber,{textTracksCount:this.textTrackCount}),this.featureTelemetryTracker=this.telemetryService.getTracker(r.ScreenName.LiveEventProducerPage),this.featureTelemetryTracker.setResourceId(this.videoId),this.$scope.$on("$destroy",(function(){s.mediaPlayer=null}))}t.CaptionButtonController=o},"./common/Directives/CheckAspectRatio.ts":function(e,t){angular.module("jumper.common").directive("checkAspectRatio",(function(){return{restrict:"A",link:function(e,t,n){t.bind("load",(function(){e.$apply((function(){$(t).width()/$(t).height()<1?$(t).addClass("tall"):$(t).addClass("wide")}))}))}}}))},"./common/Directives/CustomErrorMessage/CustomErrorMessage.html":function(e,t){e.exports="<div role=alert class=custom-error-message ng-class=\"{'compact': isCompact, 'warning-message': isWarning, 'subtle': isSubtle}\"> <svg-src svg-name=icon_error_message inline-with-text=true class=error-icon ng-if=!isWarning></svg-src> <svg-src svg-name=icon_error_status inline-with-text=true class=error-icon ng-if=isWarning></svg-src> <span class=message-container>{{errorMessage}}</span> </div>"},"./common/Directives/CustomErrorMessage/CustomErrorMessage.less":function(e,t){},"./common/Directives/CustomErrorMessage/CustomErrorMessage.ts":function(e,t,n){function i(){this.restrict="E",this.template=n("./common/Directives/CustomErrorMessage/CustomErrorMessage.html"),this.scope={errorMessage:"<",roleType:"<?",isCompact:"<",isWarning:"<",isSubtle:"<"},this.link=function(e){e.roleType||(e.roleType="alert")}}Object.defineProperty(t,"__esModule",{value:!0}),n("./common/Directives/CustomErrorMessage/CustomErrorMessage.less");var r=n("./app/utility/appUtil.ts");t.CustomErrorMessage=i,r.registerDirective("customErrorMessage",i,angular.module("jumper"))},"./common/Directives/CustomTitle/CustomTitle.less":function(e,t){},"./common/Directives/CustomTitle/CustomTitle.ts":function(e,t,n){function i(){this.restrict="A",this.scope={customTitle:"@",lightStyle:"<",onEllipsisOnly:"@",zIndexOverride:"<"},this.link=function(e,t,n,i){var s,a,c,l,u,d;e.customTitle&&(s=function(e){e.css("left",0),e.css("top",0),e.css("height",0),e.css("width",0),e.removeClass("show-tip"),e.removeClass("bottom-pointer"),e.removeClass("light-style")},$(".custom-title-body").length<1&&(a=$('<div class="custom-title-body" collapsed="true"></div>'),s(a),$("body").append(a)),l=["mouseenter"],(c=r.isTouchDevice())&&l.push("touchstart"),l.forEach((function(e){t.bind(e,(function(){d(t)}))})),t.bind("keyup",(function(e){e.keyCode===o.KeyCodes.Tab&&d(t)})),t.bind("keydown",(function(e){var t;e.keyCode===o.KeyCodes.Tab&&(t=$(".custom-title-body"),s(t))})),u=["blur","mousedown","mouseleave"],c&&u.push("touchend"),u.forEach((function(e){t.bind(e,(function(e){var t=$(".custom-title-body");s(t)}))})),e.$on("$destroy",(function(){var t=$(".custom-title-body");t.is(":visible")&&t.text()===e.customTitle&&s(t)})),d=function(t){var n=$(".custom-title-body");if(e.lightStyle&&n.addClass("light-style"),"visible"===n.css("visibility")&&n.text()===e.customTitle)s(n);else if("true"==e.onEllipsisOnly&&t[0].scrollWidth==t[0].offsetWidth)s(n);else{n.text(e.customTitle),n.css("left",""),n.css("height","auto"),n.css("width","auto");var i=t.offset().left+t.outerWidth()/2-n.outerWidth()/2;i<0&&(i=0),i+n.outerWidth()>$("body").width()&&(i=$("body").width()-n.outerWidth()),n.css("left",i);var r=t.offset().top+t.outerHeight()+8;r-$(window).scrollTop()+n.outerHeight()>$("body").height()&&(r=t.offset().top-n.outerHeight()-8,n.addClass("bottom-pointer")),n.css("top",r);for(var o=0,a=t;a&&a.prop("tagName")&&"BODY"!==a.prop("tagName");){var c=a.css("z-index");"auto"!==c&&(o=Number(c)),a=a.parent()}e.zIndexOverride&&(o=e.zIndexOverride),n.css("z-index",o+10),n.addClass("show-tip")}})}}Object.defineProperty(t,"__esModule",{value:!0}),n("./common/Directives/CustomTitle/CustomTitle.less");var r=n("./app/utility/appUtil.ts"),o=n("./app/utility/KeyCodes.ts");t.CustomTitle=i,r.registerDirective("customTitle",i,angular.module("jumper"))},"./common/Directives/Drawer/Drawer.html":function(e,t){e.exports='<div class=drawer action-list> <span ng-show=!$ctrl.transcludeButtonPresent role=presentation> <button name=dropdown role=menu class="c-action-trigger c-glyph drawer-button drawer-button-stream drawer-button-without-label" aria-label={{::$ctrl.resources.DrawerMoreButtonAriaLabel}} custom-title={{::$ctrl.resources.DrawerMoreButtonAriaLabel}} aria-expanded=false ng-click=return;> <span class=x-screen-reader>{{::$ctrl.resources.DrawerMoreButtonAriaLabel}}</span> </button> </span> <span role=presentation ng-show=$ctrl.transcludeButtonPresent ng-transclude=transcludebutton> <ng-transclude></ng-transclude> </span> <ul class="drawer-content collapsed" ng-class="{\'allign-opp\': $ctrl.leftAllign}"> <li ng-repeat="item in $ctrl.drawerItems" role=presentation> <button role=menuitem ng-class=item.iconClassName class="drawer-item-{{::item.iconClassName}} c-glyph c-action-trigger drawer-content-item" aria-label="{{$ctrl.getItemAriaLabel(item, $index)}}" ng-click=$ctrl.onItemClick(item) ng-if=item.isVisible> <svg-src svg-name={{::item.svgSrc}} ng-if=item.svgSrc class=small-icon inline-with-text=true> </svg-src> <span class=icon-text ng-class="item.svgSrc?\'svg-text\':\'glyph-text\'">{{::item.text}}</span> </button> </li> </ul> </div>'},"./common/Directives/Drawer/Drawer.less":function(e,t){},"./common/Directives/Drawer/Drawer.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./common/Directives/Drawer/Drawer.less");var i=n("./app/utility/appUtil.ts"),r=n("./common/Directives/Drawer/DrawerController.ts"),o=n("./app/utility/Constants.ts");function s(){this.restrict="E",this.controller=r.DrawerController,this.template=n("./common/Directives/Drawer/Drawer.html"),this.scope={drawerItems:"=",hideDefaultIcon:"<",leftAllign:"<",groupIcon:"@?",tabNavigationDrawer:"<?",fixedElements:"<"},this.transclude={transcludebutton:"?transcludebutton"},this.link=function(e,t,n,i){$(".drawer-button-stream",t).click((function(){a(),$(".drawer-content-item",t).first().focus(),setTimeout((function(){$(".drawer-content-item",t).first().keydown((function(e){e.keyCode!==o.Constants.KeyCodes.Up&&e.keyCode!==o.Constants.KeyCodes.Esc||s(e)})),$(".drawer-content-item",t).not(":first").keydown((function(e){e.keyCode===o.Constants.KeyCodes.Esc&&s(e)}))}),0)})),$(".drawer-button-stream",t).keydown((function(e){e.keyCode===o.Constants.KeyCodes.Down&&(a(),$(".drawer-content-item",t).first().focus(),e.stopPropagation())}));var r=$(".drawer-content",t);function s(e){$(".drawer-content-item",t).focusout(),$(".drawer-content",t).not(".collapsed").addClass("collapsed"),$(".drawer-button-stream[expanded]",t).removeAttr("expanded"),$(".drawer-button-stream",t).focus(),$(".drawer-button-stream",t).attr("aria-expanded","false"),e.stopPropagation()}function a(){$(".drawer-content").not(".collapsed").not($(".drawer-content",t)).addClass("collapsed"),$(".drawer-button-stream[expanded]").not($(".drawer-button-stream",t)).removeAttr("expanded");var e,n,r=$(".drawer-content",t),o=r.hasClass("collapsed");o?($(".drawer-button-stream",t).attr("expanded","true"),r.removeClass("collapsed"),r.css({bottom:""}),e=r.offset().top-r.outerHeight()-t.parent().height(),n=i.documentHeightOffset,!t.attr("tab-navigation-drawer")&&r.offset().top+r.outerHeight()>window.outerHeight+$("body").scrollTop()&&r.offset().top-n>r.outerHeight()&&e>i.documentHeightOffset&&r.css("bottom",t.parent().height()+"px")):(r.addClass("collapsed"),$(".drawer-button-stream",t).removeAttr("expanded")),$(".drawer-button-stream",t).attr("aria-expanded",o?"true":"false")}r.mousedown((function(e){t.attr("clicking","true")})),r.click((function(e){t.removeAttr("clicking"),r.addClass("collapsed"),$(".drawer-button-stream",t).removeAttr("expanded")})),$(t).focusout((function(){setTimeout((function(){t.attr("clicking")||$.contains(t.get(0),$(":focus").get(0))||($(".drawer-content").not(".collapsed").addClass("collapsed"),$(".drawer-button-stream[expanded]").removeAttr("expanded"),$(".drawer-button-stream",t).attr("aria-expanded","false"))}),0)})),i.drawerItems&&i.drawerItems.length||t.hide()},this.controllerAs="$ctrl",this.bindToController=!0}t.DrawerItem=function(e,t,n,i,r){void 0===r&&(r=!0),this.iconClassName=e,this.text=t,this.onClick=n,this.svgSrc=i,this.isVisible=r},t.Drawer=s,i.registerDirective("drawer",s,angular.module("jumper"))},"./common/Directives/Drawer/DrawerController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=n("./app/utility/string.ts"),o=(s.prototype.getItemAriaLabel=function(e,t){var n=t+1;return[e.text||"",e.text?" ":"",r.formatString(this.resources.DrawerLocationText,n.toString(),this.drawerItems.length.toString())].join("")},s.prototype.onItemClick=function(e){var t=this,n=e.onClick();n&&n.then((function(){t.$timeout((function(){$(".drawer-button-stream",t.$element).focus()}),i.Constants.DebounceDelay)}))},Object.defineProperty(s.prototype,"documentHeightOffset",{get:function(){var e=null;return _.isEmpty(this.fixedElements)||this.fixedElements.forEach((function(t){"fixed"===$(t).css("position")&&(!e||$(e).offset().top<$(t).offset().top)&&(e=t)})),e?$(e).offset().top+$(e).outerHeight():0},enumerable:!0,configurable:!0}),s.$inject=["resources","$timeout","$element","$transclude"],s);function s(e,t,n,i){this.resources=e,this.$timeout=t,this.$element=n,this.$transclude=i,this.fixedElements=[],this.transcludeButtonPresent=this.$transclude.isSlotFilled("transcludebutton")}t.DrawerController=o},"./common/Directives/FlexDrawer/FlexDrawer.html":function(e,t){e.exports='<div class=flex-drawer action-list> <ul class=drawer-content-external ng-if=$ctrl.flexMode> <li ng-repeat="item in $ctrl.drawerItems.slice(0,$ctrl.externalItemsCount)" role=presentation class=drawer-item-external ng-if="$ctrl.externalItemsCount>-1"> <button role=button type=button ng-class=item.iconClassName class="drawer-item-{{item.iconClassName}} c-glyph c-action-trigger drawer-content-item" aria-label={{item.text}} custom-title={{item.text}} light-style=$ctrl.lightCustomTitle ng-click="$ctrl.onItemClick(item, $event, true)" aria-pressed=false> <svg-src svg-name={{item.svgSrc}} ng-if=item.svgSrc class=small-icon></svg-src> </button> </li> </ul> <div class=drawer-container role=presentation ng-show=$ctrl.drawerItems.length-$ctrl.externalItemsCount> <span ng-if="!$ctrl.transcludeButtonPresent && !$ctrl.showLabel" role=presentation> <button class="c-action-trigger c-glyph drawer-button drawer-button-stream drawer-button-without-label more-actions-button" aria-expanded=false aria-label={{::$ctrl.resources.DrawerMoreButtonAriaLabel}} custom-title={{::$ctrl.resources.DrawerMoreButtonAriaLabel}} ng-click=return; light-style=$ctrl.lightCustomTitle> <span class=x-screen-reader>{{::$ctrl.resources.DrawerMoreButtonAriaLabel}}</span> </button> </span> <span ng-if="!$ctrl.transcludeButtonPresent && $ctrl.showLabel" role=presentation> <button class="c-action-trigger drawer-button-stream action-button drawer-button-with-label" aria-expanded=false aria-label={{::$ctrl.resources.DrawerMoreButtonAriaLabel}} custom-title={{::$ctrl.resources.DrawerMoreButtonAriaLabel}} ng-click=return;> <svg-src svg-name=icon_more inline-with-text=true class=action-button-svg></svg-src> <span class=drawer-label>{{::$ctrl.resources.More}}</span> </button> </span> <span role=presentation ng-show=$ctrl.transcludeButtonPresent ng-transclude=transcludebutton> <ng-transclude></ng-transclude> </span> <ul class="drawer-content collapsed"> <li ng-repeat="item in $ctrl.drawerItems.slice($ctrl.externalItemsCount==-1?0:$ctrl.externalItemsCount)" role=presentation> <button role=menuitem ng-class=item.iconClassName class="drawer-item-{{item.iconClassName}} c-glyph c-action-trigger drawer-content-item" aria-label={{item.text}} ng-click="$ctrl.onItemClick(item, $event)" ng-if=item.isVisible> <svg-src svg-name={{item.svgSrc}} ng-if=item.svgSrc class=small-icon inline-with-text=true> </svg-src> <span class=icon-text ng-class="item.svgSrc?\'svg-text\':\'glyph-text\'">{{item.text}}</span> </button> </li> </ul> </div> </div>'},"./common/Directives/FlexDrawer/FlexDrawer.less":function(e,t){},"./common/Directives/FlexDrawer/FlexDrawer.ts":function(e,t,n){function i(){this.restrict="E",this.controller=o.FlexDrawerController,this.template=n("./common/Directives/FlexDrawer/FlexDrawer.html"),this.scope={drawerItems:"=",showLabel:"<",flexMode:"<",maxFlexModeItems:"<",widthPercentage:"<",lightCustomTitle:"<",fixedElements:"<",alwaysOpenUp:"<"},this.transclude={transcludebutton:"?transcludebutton"},this.link=function(e,t,n,i){function r(e){e.stopPropagation(),t.removeAttr("clicking"),$(".drawer-content",t).addClass("collapsed"),$(".drawer-button-stream",t).removeAttr("expanded")}function o(e){$(".drawer-content").not(".collapsed").not($(".drawer-content",t)).addClass("collapsed"),$(".drawer-button-stream[expanded]").not($(".drawer-button-stream",t)).removeAttr("expanded");var n,r,o=$(".drawer-content",t).hasClass("collapsed");o?($(".drawer-button-stream",t).attr("expanded","true"),$(".drawer-content",t).removeClass("collapsed"),$(".drawer-content",t).removeClass("show-top"),n=$(".drawer-content",t).offset().top-$(".drawer-content",t).outerHeight()-i.showTopBottom,r=i.documentHeightOffset,(i.alwaysOpenUp||$(".drawer-content",t).offset().top+$(".drawer-content",t).outerHeight()>$("body").innerHeight()+$("body").scrollTop()&&$(".drawer-content",t).offset().top-r>$(".drawer-content",t).outerHeight()&&n>i.documentHeightOffset)&&$(".drawer-content",t).addClass("show-top"),$(".drawer-content .drawer-content-item",t).first().focus()):($(".drawer-content",t).addClass("collapsed"),$(".drawer-button-stream",t).removeAttr("expanded")),$(".drawer-button-stream",t).attr("aria-expanded",o?"true":"false"),e&&(e.preventDefault(),e.stopPropagation())}function a(){function e(e){e.which!==s.KeyCodes.ArrowUp&&e.which!==s.KeyCodes.Escape||(o(e),$(".drawer-button-stream",t).focus())}function n(e){e.which===s.KeyCodes.Escape&&(o(e),$(".drawer-button-stream",t).focus())}$(".drawer-content .drawer-content-item",t).first().off("keydown",e),$(".drawer-content .drawer-content-item",t).first().on("keydown",e),$(".drawer-content .drawer-content-item",t).not(":first").off("keydown",n),$(".drawer-content .drawer-content-item",t).not(":first").on("keydown",n),$(".drawer-content-item",t).keypress((function(e){e.stopPropagation()}))}setTimeout((function(){$(".drawer-button-stream",t).click((function(e){o(e)})),$(".drawer-button-stream",t).keydown((function(e){e.which!==s.KeyCodes.Enter&&e.which!==s.KeyCodes.ArrowDown||o(e)})),a(),e.$watch((function(){return i.drawerItems}),(function(e,n){n!==e&&(e&&0<e.length?(a(),t.show()):t.hide())}))}),0),$(".drawer-content",t).mousedown((function(e){t.attr("clicking","true")})),t.click((function(e){r(e)})),t.keydown((function(e){e.which===s.KeyCodes.Enter&&r(e)})),$(t).focusout((function(){setTimeout((function(){t.attr("clicking")||$.contains(t.get(0),$(":focus").get(0))||($(".drawer-content").not(".collapsed").addClass("collapsed"),$(".drawer-button-stream[expanded]").removeAttr("expanded"))}),0)})),i.drawerItems&&i.drawerItems.length||t.hide()},this.controllerAs="$ctrl",this.bindToController=!0}Object.defineProperty(t,"__esModule",{value:!0}),n("./common/Directives/FlexDrawer/FlexDrawer.less");var r=n("./app/utility/appUtil.ts"),o=n("./common/Directives/FlexDrawer/FlexDrawerController.ts"),s=n("./app/utility/KeyCodes.ts");t.FlexDrawer=i,r.registerDirective("flexDrawer",i,angular.module("jumper"))},"./common/Directives/FlexDrawer/FlexDrawerController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=(o.prototype.onItemClick=function(e,t,n){var r=this,o=e.onClick();o&&o.then((function(){r.$timeout((function(){var e,i;n&&((e=t.currentTarget).attributes["aria-pressed"]&&(i="true"===e.getAttribute("aria-pressed")?"false":"true",e.setAttribute("aria-pressed",i)))}),0),r.$timeout((function(){n?t.currentTarget.focus():$(".drawer-button-stream",r.$element).focus()}),i.Constants.DebounceDelay)}))},Object.defineProperty(o.prototype,"documentHeightOffset",{get:function(){var e=null;return _.isEmpty(this.fixedElements)||this.fixedElements.forEach((function(t){"fixed"===$(t).css("position")&&(!e||$(e).offset().top<$(t).offset().top)&&(e=t)})),e?$(e).offset().top+$(e).outerHeight():0},enumerable:!0,configurable:!0}),o.$inject=["resources","$scope","$timeout","$element","$transclude"],o);function o(e,t,n,i,r){var o,s,a=this;this.resources=e,this.$scope=t,this.$timeout=n,this.$element=i,this.$transclude=r,this.externalItemsCount=-1,this.fixedElements=new Array,this.showTopBottom=32,this.itemWidth=32,this.widthPercentage=15,this.element=i,this.transcludeButtonPresent=this.$transclude.isSlotFilled("transcludebutton"),this.flexMode&&(o=function(){angular.element(".flex-drawer",a.element).css("width",a.itemWidth);var e=a.element.parent(),t=(e.parent(),a.widthPercentage*e.width()/100);t=Math.max(a.itemWidth,t);t=Math.min(a.itemWidth*((a.maxFlexModeItems||a.drawerItems.length)+1),t),a.externalItemsCount=Math.floor(t/a.itemWidth)-1,a.externalItemsCount=0==a.externalItemsCount?-1:a.externalItemsCount,a.externalItemsCount=Math.min(a.externalItemsCount,a.maxFlexModeItems||a.drawerItems.length),t++,angular.element(".flex-drawer",a.element).css("width",t),a.$scope.$apply()},s=_.debounce((function(){o()}),100),$(window).resize(s),t.$on("$destroy",(function(){$(window).off("resize",s)})),setTimeout((function(){o()}),0))}t.FlexDrawerController=r},"./common/Directives/FlexStyle/FlexStyle.ts":function(e,t,n){function i(){this.restrict="A",this.link=function(e,t,n){var i=parseFloat(t.attr("flex-style")),r=parseFloat(t.attr("flex-style-min")),o=_.debounce((function(){var e=t.parent().width()*i/100;t.css(t.attr("flex-style-target"),null!=r&&e<r?r:e)}),1);$(window).resize(o),e.$on("$destroy",(function(){$(window).off("resize",o)})),setTimeout((function(){var e=t.parent().width()*i/100;t.css(t.attr("flex-style-target"),null!=r&&e<r?r:e)}),0)}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts");t.FlexStyle=i,r.registerDirective("flexStyle",i,angular.module("jumper"))},"./common/Directives/InfiniteScroll/InfiniteScroll.ts":function(e,t,n){function i(){this.restrict="A",this.controller=s.InfiniteScrollController,this.controllerAs="$ctrl",this.bindToController=!0,this.scope={infiniteScroll:"&",infiniteScrollContainer:"<",infiniteScrollRefresh:"=",infiniteScrollAllowMultiple:"<"},this.link=function(e,t,n,i){var r,s,a;"window"===i.infiniteScrollContainer?((r=e.$parent).registerEvent=void 0===r.registerEvent||r.registerEvent,r.registerEvent&&(s=_.debounce(i.handler.bind(i),o.Constants.InfiniteScroll.DefaultDebounceTimeout,{leading:!0}).bind(e),$(window).on("scroll",s),e.$parent.$parent.$on("$destroy",(function(){$(window).off("scroll",s),r.registerEvent=!0})),r.registerEvent=!1),i.element=t):(e.$watch((function(){return i.infiniteScrollRefresh}),(function(e){_.isBoolean(e)&&e&&(i.loader.clear(),i.loader.refresh(),i.infiniteScrollRefresh=!1)})),a=_.debounce((function(){80<i.scrollPercent&&i.loader.loadMore()}),o.Constants.ScrollBar.ScrollTimeInterval),t.on("scroll",a),e.$on("$destroy",(function(){t.off("scroll",a)})))}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),o=n("./app/utility/Constants.ts"),s=n("./common/Directives/InfiniteScroll/InfiniteScrollController.ts");t.InfiniteScroll=i,r.registerDirective("infiniteScroll",i,angular.module("jumper"))},"./common/Directives/InfiniteScroll/InfiniteScrollController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.refresh=function(){function e(){return t.$ctrl.isScrollable||t.reachedEnd?t.$ctrl.$q.reject():n()}var t=this,n=function(){return t.loadMore().then((function(){return t.$ctrl.$timeout(e,0)}))};n()},i.prototype.loadMore=function(){var e=this;return this.reachedEnd||this.isLoadingData&&!this.$ctrl.infiniteScrollAllowMultiple?this.$ctrl.$q.resolve():(this.isLoadingData=!0,this.$ctrl.infiniteScroll({skip:this.skip,top:this.top}).then((function(t){e.isLoadingData=!1,t<0?e.reachedEnd=!0:e.skip+=t}),(function(){e.isLoadingData=!1,e.reachedEnd=!0})))},i.prototype.clear=function(){this.reachedEnd=!1,this.skip=0},i);function i(e){this.$ctrl=e,this.skip=0,this.top=4,this.reachedEnd=!1,this.isLoadingData=!1}var r=(o.prototype.handler=function(){var e,t=this,n=$("body")[0],i=document.documentElement&&document.documentElement.scrollTop||n.scrollTop,r=$("div[ng-viewport]");r.outerHeight()-i-window.outerHeight-r.offset().top<$("div[infinite-scroll]").children().last().height()&&!this.loader.reachedEnd&&(this.previousScroll=n.scrollTop,e=this.infiniteScroll(),_.isNil(e)||e.then((function(){}),(function(e){t.loader.reachedEnd=!0})))},Object.defineProperty(o.prototype,"scrollPercent",{get:function(){var e=this.$element.scrollTop(),t=this.$element[0].scrollHeight,n=this.$element[0].clientHeight;return t<=n?0:e/(t-n)*100},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isScrollable",{get:function(){return this.$element[0].scrollHeight>this.$element[0].clientHeight},enumerable:!0,configurable:!0}),o.$inject=["$scope","$timeout","$element","$q"],o);function o(e,t,i,r){this.$scope=e,this.$timeout=t,this.$element=i,this.$q=r,this.previousScroll=0,this.loader=new n(this)}t.InfiniteScrollController=r},"./common/Directives/InfiniteScroll/itemSizer.ts":function(e,t,n){function i(){this.restrict="E",this.scope={onRenderComplete:"&",item:"="},this.link={pre:function(e,t,n){e.$parent.item=e.item},post:function(e,t,n){window.setTimeout((function(){var n=Math.ceil((document.body.clientHeight-t.parent().offset().top)/t.outerHeight());n=_.isFinite(n)?n:o.Constants.QueryConfigDefaults.DefaultTop;e.onRenderComplete({rowsCount:n,itemsPerRow:Math.max(1,Math.floor(t.parent().width()/t.width()))})}),0)}}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),o=n("./app/utility/Constants.ts");t.itemSizer=i,r.registerDirective("itemSizer",i,angular.module("jumper"))},"./common/Directives/ProgressBar/ProgressBar.html":function(e,t){e.exports="<div class=progress-container role=progressbar aria-valuemin=0 tabindex=0> <div class=progressbar></div> </div>"},"./common/Directives/ProgressBar/ProgressBar.less":function(e,t){},"./common/Directives/ProgressBar/ProgressBar.ts":function(e,t,n){function i(){this.restrict="E",this.template=n("./common/Directives/ProgressBar/ProgressBar.html"),this.scope={value:"<",max:"<",ariaTitle:"<"},this.link=function(e,t,n){var i=t.find(".progressbar"),r=t.find(".progress-container");r.attr("aria-valuemax",e.max),e.ariaTitle&&r.attr("aria-label",e.ariaTitle),e.$watch("value",(function(e){i.width(e+"%"),i.attr("value",e),r.attr("aria-valuenow",e)}))}}Object.defineProperty(t,"__esModule",{value:!0}),n("./common/Directives/ProgressBar/ProgressBar.less");var r=n("./app/utility/appUtil.ts");t.ProgressBar=i,r.registerDirective("progressBar",i,angular.module("jumper"))},"./common/Directives/ResourceMarkupExtension.ts":function(e,t){function n(e,t,n,i){setTimeout((function(){var e=t.text(),n="",i="",r="",o=e.split("[%]").filter((function(e,t,n){return" "!==e}));1!==o.length&&(2===o.length?e.indexOf("[%]")<e.indexOf(o[0])?(i=o[0],r=o[1]):(n=o[0],i=o[1]):(n=o[0],i=o[1],r=o[2]),t.text(i),n&&t.before("<span>"+n+"</span>"),r&&t.after("<span>"+r+"</span>"))}),0)}angular.module("jumper").directive("button",(function(){return{restrict:"E",link:n}})),angular.module("jumper").directive("a",(function(){return{restrict:"E",link:n}})),angular.module("jumper").directive("strong",(function(){return{restrict:"E",link:n}}))},"./common/Directives/SetImgSrc.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/Constants.ts"),o=(s.$inject=["$timeout"],s);function s(e){var t=this;this.$timeout=e,this.restrict="A",this.link=function(e,n,i){e.$watch((function(){return i.setImgSrc}),(function(e){n.hide(),t.$timeout((function(){if(i.setImgSrc){var e,t=n.parent().innerHeight();try{e=JSON.parse(i.setImgSrc)}catch(e){return}var o="";t&&e&&(o=t<=r.Constants.PosterSize.ExtraSmall.height?e.extraSmall&&e.extraSmall.url?e.extraSmall.url:"":t<=r.Constants.PosterSize.Small.height?e.small&&e.small.url?e.small.url:"":t<=r.Constants.PosterSize.Medium.height?e.medium&&e.medium.url?e.medium.url:"":e.large&&e.large.url?e.large.url:""),o&&n.attr("src",o),n.show()}else n.show()}),0)}))}}t.SetImgSrc=o,i.registerDirective("setImgSrc",o,angular.module("jumper"))},"./common/Directives/SvgSrc/SvgSrc.html":function(e,t){e.exports='<span class=svg-container ng-class="{\'icon-inline\': $ctrl.inlineWithText}"> <svg class=svg-icon focusable=false aria-hidden=true> <use xlink:href="" ng-attr-xlink:href={{$ctrl.getSvgPath}}></use> </svg> </span>'},"./common/Directives/SvgSrc/SvgSrc.less":function(e,t){},"./common/Directives/SvgSrc/SvgSrc.ts":function(e,t,n){function i(){this.controller=o.SvgSrcController,this.template=n("./common/Directives/SvgSrc/SvgSrc.html"),this.bindings={svgName:"@",inlineWithText:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./common/Directives/SvgSrc/SvgSrc.less");var r=n("./app/utility/appUtil.ts"),o=n("./common/Directives/SvgSrc/SvgSrcController.ts");t.SvgSrc=i,r.registerComponent("svgSrc",i,angular.module("jumper.common"))},"./common/Directives/SvgSrc/SvgSrcController.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(Object.defineProperty(i.prototype,"getSvgPath",{get:function(){return"#"+this.svgName},enumerable:!0,configurable:!0}),i);function i(){}t.SvgSrcController=n},"./common/Directives/Tooltip/Tooltip.html":function(e,t){e.exports="<div class=tooltip-container> <button type=button aria-label={{::$ctrl.buttonAriaLabel}} aria-describedby={{$ctrl.id}} aria-expanded=false light-style=$ctrl.lightStyle> <svg-src svg-name=icon_library class=tool-tip-icon style=pointer-events:none></svg-src> </button> </div>"},"./common/Directives/Tooltip/Tooltip.less":function(e,t){},"./common/Directives/Tooltip/Tooltip.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./common/Directives/Tooltip/Tooltip.less");var i=n("./common/Directives/Tooltip/TooltipController.ts"),r=n("./app/utility/appUtil.ts"),o=n("./app/utility/string.ts"),s=n("./app/utility/KeyCodes.ts"),a=(c.divClassName=".tooltip-body",c.showClass="show-tip",c.hideClass="hide-tip",c.bottomPointerClass="bottom-pointer",c);function c(){this.restrict="E",this.controller=i.TooltipController,this.template=n("./common/Directives/Tooltip/Tooltip.html"),this.scope={message:"<",partialBoldMessage:"<",buttonAriaLabel:"@",customizedMessages:"<",tooltipWidth:"@",isLightStyle:"<",linkUrl:"<",linkText:"<",linkClass:"@"},this.controllerAs="$ctrl",this.bindToController=!0,this.link=function(e,t,n,i){function a(){var e=$(c.divClassName);e.css("left",0),e.css("top",0),e.css("height",0),e.css("width",0),e.removeClass(c.showClass),e.addClass(c.hideClass),$("button",t).attr("aria-label",i.buttonAriaLabel),$("button",t).attr("aria-expanded","false")}var l,u=r.isTouchDevice();$(c.divClassName).length<1&&(l='<div class="hide-tip tooltip-body" collapsed="true"></div>',i.isLightStyle&&(l='<div class="hide-tip tooltip-body light-style" collapsed="true"></div>'),$("body").append(l));var d=["mouseenter","click"];function p(){a()}u&&d.push("touchstart"),d.forEach((function(e){t.bind(e,(function(){A(t)}))})),["blur"].forEach((function(e){t.bind(e,(function(){a()}))})),t.bind("keydown",(function(e){e.keyCode===s.KeyCodes.Tab&&a()})),$(window).on("click",p),$(window).on("resize",p),e.$on("$destroy",(function(){$(window).off("click",p),$(window).off("resize",p),a()}));var A=function(t){var n,r,s,l,u=$(c.divClassName);if($(u).hasClass(c.showClass))a();else{if($("button",t).attr("aria-label",i.message),u.empty(),i.customizedMessages){u.append("");for(var d,p=0;p<i.customizedMessages.length;p++)i.customizedMessages[p].description&&(d=p!==i.customizedMessages.length-1?"<div class='classification-block-style'><div class='bold-text-style'>"+i.customizedMessages[p].name+"</div><div class='text-style'> - "+i.customizedMessages[p].description+". </div></div>":"<div class='classification-block-style-no-margin'><div class='bold-text-style'>"+i.customizedMessages[p].name+"</div><div class='text-style'> - "+i.customizedMessages[p].description+". </div></div>",u.append(d))}else i.partialBoldMessage?(n=function(e){var t=e.split("[%]");if(-1===e.indexOf("[%]"))return e;var n="",i=!1;e.indexOf("[%]")<e.indexOf(t[0])&&(i=!0);for(var r=0;r<t.length;r++)n+=i?"<strong>"+t[r]+"</strong>":"<span>"+t[r]+"</span>",i=!i;return n}(i.partialBoldMessage),u.html(n)):u.text(i.message);r=u,i.linkUrl&&(s=!1,i.linkUrl.startsWith("http")&&(s=!0),l=$("<a "+(s?'external-link target="_blank" ':"")+'class="'+i.linkClass+'" href="'+i.linkUrl+'">'+o.htmlEncode(i.linkText||i.linkUrl)+"</a>"),r.append(l)),u.css("left",""),u.css("height","auto"),u.css("width","auto");var A=Math.max(0,t.offset().left+t.outerWidth()/2-u.outerWidth()/2);A+u.outerWidth()>$("body").width()&&(A=$("body").width()-u.outerWidth()),u.css("left",A);var m=t.offset().top+t.outerHeight()+8;m-$(window).scrollTop()+u.outerHeight()>$("body").height()?(m=t.offset().top-u.outerHeight()-8,u.addClass(c.bottomPointerClass)):u.removeClass(c.bottomPointerClass),u.css("top",m);for(var h=0,f=t;f&&f.prop("tagName")&&"BODY"!==f.prop("tagName");){var g=f.css("z-index");"auto"!==g&&(h=Number(g)),f=f.parent()}e.zIndexOverride&&(h=e.zIndexOverride),u.css("z-index",h+2),u.removeClass(c.hideClass),u.addClass(c.showClass),$("button",t).attr("aria-expanded","true")}event.stopPropagation()}}}t.Tooltip=a,r.registerDirective("tooltip",a,angular.module("jumper"))},"./common/Directives/Tooltip/TooltipController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=(Object.defineProperty(o.prototype,"id",{get:function(){return o.bodyId},enumerable:!0,configurable:!0}),o.$inject=["$scope"],o);function o(e){this.$scope=e,o.bodyId||(o.bodyId=i.generateGuid()),this.isLightStyle=!0}t.TooltipController=r},"./common/Directives/TrapFocus.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/KeyCodes.ts"),o=(s.$inject=["$timeout"],s);function s(e){var t=this;this.$timeout=e,this.restrict="A",this.replace=!1,this.link=function(e,n,i){t.$timeout((function(){$(n).bind("keydown",(function(e){for(var t=[],i=n[0].querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex="-1"]'),o=0;o<i.length;o++)$(n).is(":visible")&&t.push(i[o]);t&&0<t.length&&e.target&&(e.shiftKey&&e.keyCode==r.KeyCodes.Tab?$(t[0])[0]===$(e.target)[0]&&(e.preventDefault(),$(t[t.length-1]).focus()):e.keyCode==r.KeyCodes.Tab&&$(t[t.length-1])[0]===$(e.target)[0]&&(e.preventDefault(),$(t[0]).focus()))}))}),0)}}t.TrapFocus=o,i.registerDirective("trapFocus",o,angular.module("jumper"))},"./common/Directives/VolumeButton/VolumeButton.html":function(e,t){e.exports='<div class=volume-button aria-expanded=false> <button class="c-action-trigger volume-button-control" type=button aria-live=off aria-label={{$ctrl.volumeButtonLabel}} custom-title={{$ctrl.volumeButtonLabel}} ng-click=$ctrl.volumeButtonClick()> <svg-src svg-name={{$ctrl.volumeIcon}} class=volume-icon style=pointer-events:none></svg-src> </button> </div>'},"./common/Directives/VolumeButton/VolumeButton.less":function(e,t){},"./common/Directives/VolumeButton/VolumeButton.ts":function(e,t,n){function i(){this.controller=o.VolumeButtonController,this.template=n("./common/Directives/VolumeButton/VolumeButton.html"),this.bindings={mediaPlayerId:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./common/Directives/VolumeButton/VolumeButton.less");var r=n("./app/utility/appUtil.ts"),o=n("./common/Directives/VolumeButton/VolumeButtonController.ts");t.VolumeButton=i,r.registerComponent("volumeButton",i,angular.module("jumper.common"))},"./common/Directives/VolumeButton/VolumeButtonController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/Constants.ts"),r=(Object.defineProperty(o.prototype,"volumeButtonLabel",{get:function(){return this.isMuted?this.resources.VolumeButtonAriaLabelUnMute:this.resources.VolumeButtonAriaLabelMute},enumerable:!0,configurable:!0}),o.prototype.volumeButtonClick=function(){this.isMuted=!this.isMuted,this.isMuted?(this.volumeIcon="icon_volume_mute",this.mediaPlayer.muted(!0)):(this.volumeIcon=this.getVolumeIcon(),this.mediaPlayer.muted(!1))},o.prototype.getVolumeIcon=function(){return this.isMuted||0===this.value?"icon_volume_mute":this.value<.33?"icon_volume_1":this.value<.66?"icon_volume_2":"icon_volume_3"},o.$inject=["$scope","resources"],o);function o(e,t){var n=this;this.$scope=e,this.resources=t,this.isMuted=!1,this.$scope.$watch((function(){return n.value}),(function(e){n.volumeIcon=n.getVolumeIcon()}));var r=$("#"+this.mediaPlayerId+" "+i.Constants.MediaPlayerPostLoadSelector);r&&0<r.length&&(this.mediaPlayer=amp(r[0]),this.isMuted=this.mediaPlayer.muted(),this.value=this.mediaPlayer.volume()),this.$scope.$on("$destroy",(function(){n.mediaPlayer=null}))}t.VolumeButtonController=r},"./common/Factories/AppNameFactory.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/Constants.ts");function o(e,t){var n=t.getLowerCasedQueryParams()||{};if(!(o=n&&n[r.Constants.QueryStringKeys.App]?n[r.Constants.QueryStringKeys.App]:void 0)&&0<=e.absUrl().toLowerCase().indexOf("microsoftteams")&&(o=r.Constants.EmbedApps.MicrosoftTeams[0]),!o)if(sessionInfo.IsEmbed)try{var o=i.getReferrer()||""}catch(e){o=""}else o="";for(var s=!1,a=0,c=r.Constants.EmbedApps.MicrosoftTeams;a<c.length;a++){var l=c[a];if(o.toLowerCase()===l.toLowerCase()){s=!0;break}}return{value:o.toLowerCase(),isTeams:s}}(t.appName=o).$inject=["$location","navigationService"],i.registerFactory("appName",o,angular.module("jumper.common"))},"./common/Style/app.less":function(e,t){},"./common/appStartup.ts":function(e,t){angular.module("ngNewRouter").directive("a",["$router",function(e){return{label:"external-link-enabled-anchor",restrict:"E",link:function(t,n){var i;"a"===n[0].nodeName.toLowerCase()&&(i="[object SVGAnimatedString]"===Object.prototype.toString.call(n.prop("href"))?"xlink:href":"href",n.on("click",(function(t){var r;void 0!==n.attr("external-link")||t.ctrlKey||t.metaKey||t.shiftKey||((r=n.attr(i))||t.preventDefault(),e.recognize(r)&&(e.navigate(r),t.preventDefault()))})))}}}]).decorator("aDirective",["$delegate",function(e){for(var t=[],n=0;n<e.length;n++)"ngNewRouter"===e[n].$$moduleName&&"external-link-enabled-anchor"!==e[n].label||t.push(e[n]);return t}]),angular.module("jumper").directive("a",["$router","$location",function(e,t){return{label:"rewrite-click",restrict:"E",link:function(e,n){n.on("click",(function(e){e.isDefaultPrevented()||!e.delegateTarget||!e.delegateTarget.href||0<=e.delegateTarget.href.indexOf("?")||!window.location.search||t.url(t.path())}))}}}])},"./common/commonDependencies.ts":function(e,t,n){n("O:\\.BtCxCache\\MediaUx.V-Accordion.1.6.0\\node_modules\\v-accordion\\index.js"),n("O:\\.BtCxCache\\Microsoft.AspNet.SignalR.JS.2.2.2\\content\\Scripts\\jquery.signalR-2.2.2.min.js"),n("O:\\.BtCxCache\\MediaUx.Ng-Dialog.0.5.6\\node_modules\\ng-dialog\\js\\ngDialog.js"),n("O:\\.BtCxCache\\MediaUx.Ng-Dialog.0.5.6\\node_modules\\ng-dialog\\css\\ngDialog.css"),n("O:\\.BtCxCache\\MediaUx.Ng-Dialog.0.5.6\\node_modules\\ng-dialog\\css\\ngDialog-theme-default.css"),n("./sundog/css/sundog-grid/sundog-grid.less"),n("./common/Style/app.less")},"./common/components/DatePicker/DatePicker.html":function(e,t){e.exports="<div class=picker-outter-container moment-picker=$ctrl.inputDate locale={{::$ctrl.locale}} format={{::$ctrl.format}} min-view=month min-date=$ctrl.minDate max-date=$ctrl.maxDate keyboard=true today=true> <input id={{::$ctrl.label}} class=form-control placeholder={{::$ctrl.resources.DatePickerPlaceholder}} ng-model=$ctrl.inputDate ng-model-options=\"{ updateOn: 'blur' }\"> <span class=svg-wrapper> <svg-src class=calendar-icon svg-name=icon_calendar /> </span> </div>"},"./common/components/DatePicker/DatePicker.less":function(e,t){},"./common/components/DatePicker/DatePicker.ts":function(e,t,n){function i(){this.controller=r.DatePickerController,this.template=n("./common/components/DatePicker/DatePicker.html"),this.bindings={inputDate:"=",minDate:"<",maxDate:"<",label:"@"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./common/components/DatePicker/DatePicker.less");var r=n("./common/components/DatePicker/DatePickerController.ts"),o=n("./app/utility/appUtil.ts");t.DatePicker=i,o.registerComponent("datePicker",i,angular.module("jumper.common"))},"./common/components/DatePicker/DatePickerController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=(o.$inject=["$scope","resources"],o);function o(e,t){this.$scope=e,this.resources=t,this.format="MM/DD/YYYY",this.locale=sessionInfo.UserLanguage;var n=i.getUserRegionInfo();n&&(this.format=n.shortDateformats)}t.DatePickerController=r},"./common/components/DropDown/DropDown.html":function(e,t){e.exports='<div class="drop-down drop-down-{{$ctrl.id}}"> <span class=drop-down-hidden-label id=drop-down-{{$ctrl.id}}-hidden-label>{{::$ctrl.ariaLabel}}</span> <div aria-labelledby="drop-down-{{$ctrl.id}}-hidden-label drop-down-{{$ctrl.id}}-display-name" ng-click=$ctrl.onSelectorClicked() ng-keydown=$ctrl.onSelectorKeyDown($event) aria-expanded="{{$ctrl.expanded ? true: false}}" tabindex="{{$ctrl.isDisabled ? -1 : 0}}" ng-class="{\'disabled\': $ctrl.isDisabled}" class=selector> <svg-src svg-name={{$ctrl.selectedItem.icon}} inline-with-text=true class=icon-container ng-if=$ctrl.selectedItem.icon></svg-src> <div class=display-name id=drop-down-{{$ctrl.id}}-display-name ng-class="{\'no-icon\': !$ctrl.selectedItem.icon, \'disabled\': $ctrl.isDisabled}" value={{$ctrl.selectedItem.value}} aria-live=polite ng-disabled=$ctrl.isDisabled>{{$ctrl.selectedItem? $ctrl.selectedItem.text: $ctrl.placeholderText}}</div> <svg-src svg-name=icon_see_more inline-with-text=true class="icon-container dropdown-arrow"></svg-src> <div class=drop-down-list-container aria-hidden=false ng-class="{\'scroll-list\': $ctrl.showScroll}" ng-show=$ctrl.expanded role=presentation ng-disabled=$ctrl.isDisabled> <div role=option aria-hidden=false class=option-item dir=\'{{$ctrl.ltrContent?"ltr":""}}\' ng-show=$ctrl.expanded ng-repeat="optionItem in $ctrl.options track by $index" id={{$ctrl.optionId($index)}} ng-mouseover="$ctrl.highlightedIndex = $index" aria-selected="{{$ctrl.selectedIndex === $index }}" aria-label="{{optionItem.description || optionItem.text}}" ng-keydown="$ctrl.onOptionKeyDown($index, $event)" ng-click="$ctrl.onOptionClicked($index, $event)" ng-class="{\'highlighted\': $ctrl.highlightedIndex === $index, \'no-icon\': !optionItem.icon}"> <svg-src svg-name={{optionItem.icon}} inline-with-text=true class=icon-container ng-if=optionItem.icon></svg-src> <span value={{optionItem.value}} id={{$ctrl.optionId($index)}}-span>{{optionItem.description || optionItem.text}}</span> </div> </div> <div class=hidden-options role=presentation aria-hidden="{{$ctrl.expanded ? true : false}}" ng-show=!$ctrl.expanded> <div class=hidden-option ng-repeat="optionItem in $ctrl.options track by $index" aria-label="{{optionItem.description || optionItem.text}}" role=option aria-selected="{{$ctrl.selectedIndex === $index }}">{{optionItem.description || optionItem.text}}</div> </div> </div> </div>'},"./common/components/DropDown/DropDown.less":function(e,t){},"./common/components/DropDown/DropDown.ts":function(e,t,n){function i(){this.restrict="E",this.controller=r.DropDownController,this.template=n("./common/components/DropDown/DropDown.html"),this.controllerAs="$ctrl",this.bindToController=!0,this.scope={options:"<",value:"=?",placeholderText:"<",ariaLabel:"@?",valueChanged:"&",confirmSelectionChange:"&?",showScroll:"<",ltrContent:"<",isDisabled:"<"},this.link=function(e,t,n,i){function r(){var e=t.find(".drop-down .selector");e&&e.length&&e.focus()}i.onSelectorKeyDown=function(e){var t,n;void 0!==i.isDisabled&&i.isDisabled||(40===(t=e.keyCode)?i.displayIndex<i.options.length-1&&(e.preventDefault(),i.displayIndex++,i.selectedItem=i.options[i.displayIndex],i.applyChanges()):38===t&&0<i.displayIndex&&(e.preventDefault(),i.displayIndex--,i.selectedItem=i.options[i.displayIndex],i.applyChanges()),n=document.documentMode,13===t&&n&&(i.onSelectorClicked(),e.stopPropagation()))},i.onSelectorClicked=function(){var e,n;void 0!==i.isDisabled&&!0===i.isDisabled||(i.toggle(),i.expanded&&(e=t[0].getElementsByClassName("option-item"),n=$(e[i.highlightedIndex]),setTimeout((function(){n.focus(),e[i.highlightedIndex].scrollIntoView(!1)}),750)))},i.onOptionClicked=function(t,n){void 0!==i.isDisabled&&!0===i.isDisabled||(i.highlightedIndex=t,i.displayIndex=t,i.selectedItem=i.options[i.displayIndex],n.stopPropagation(),setTimeout((function(){i.collapse(),r(),e.$apply()}),0))},i.onOptionKeyDown=function(e,n){function o(){var e;i.displayIndex!==i.highlightedIndex&&(e=t[0].getElementsByClassName("option-item"),$(e[i.highlightedIndex]).focus(),i.displayIndex=i.highlightedIndex)}var s=n.keyCode;40===s?function(){o();var e=$(":focus").next(".option-item");e&&e.length&&(e.focus(),i.displayIndex++,i.highlightedIndex=i.displayIndex,i.selectedItem=i.options[i.displayIndex]),n.stopPropagation(),n.preventDefault()}():38===s?function(){o();var e=$(":focus").prev(".option-item");e&&e.length&&(e.focus(),i.displayIndex--,i.highlightedIndex=i.displayIndex,i.selectedItem=i.options[i.displayIndex]),n.stopPropagation(),n.preventDefault()}():9===s||27===s?(i.collapse(),r(),n.preventDefault()):13==s&&(i.onOptionClicked(e,n),n.stopPropagation())},$(".drop-down-list-container",t).on("blur",(function(e){i.collapse(),r(),e.preventDefault()}));var o,s=(o=".drop-down-"+i.id,$("body").on("click"+o,(function(t){var n=$(t.target);i.expanded&&n.closest(".drop-down-"+i.id).length<=0&&(i.applyChanges(),e.$apply())})),o);e.$on("$destroy",(function(){var e;e=s,$("body").off(e)}))}}Object.defineProperty(t,"__esModule",{value:!0}),n("./common/components/DropDown/DropDown.less");var r=n("./common/components/DropDown/DropDownController.ts"),o=n("./app/utility/appUtil.ts");t.DropDown=i,o.registerDirective("dropDown",i,angular.module("jumper.common"))},"./common/components/DropDown/DropDownController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=(o.prototype.confirmChange=function(e){var t,n,i=this;function r(){var t=i.selectedIndex;i.selectedIndex=i.displayIndex,i.value=i.options[i.selectedIndex].value,i.selectedItem=i.options[i.selectedIndex],_.isFunction(e)&&e(),t!==i.selectedIndex&&i.valueChanged({newValue:i.value})}this.$element.trigger("change"),this.confirmationEnabled?(t=this.options[this.displayIndex].value,n=this.confirmSelectionChange({selectedOption:t}),_.isFunction(n.then)?n.then(r,(function(){i.displayIndex=i.selectedIndex,i.selectedItem=i.options[i.selectedIndex],_.isFunction(e)&&e()})):r()):r()},Object.defineProperty(o.prototype,"displayName",{get:function(){return 0<=this.displayIndex&&this.displayIndex<this.options.length?this.options[this.displayIndex].text:""},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"activeDescendantID",{get:function(){return 0<=this.displayIndex&&this.displayIndex<this.options.length?this.optionIdPrefix+"-"+this.id+"-"+this.displayIndex.toString():""},enumerable:!0,configurable:!0}),o.prototype.applyChanges=function(){this.expanded?this.collapse():this.selectedIndex!==this.displayIndex&&this.confirmChange()},o.prototype.collapse=function(){this.expanded&&(this.expanded=!1,this.highlightedIndex=-1,this.selectedIndex!==this.displayIndex&&this.confirmChange())},o.prototype.expand=function(){this.expanded||(this.expanded=!0,this.highlightedIndex=this.displayIndex)},o.prototype.toggle=function(){this.expanded?this.collapse():this.expand()},o.prototype.optionId=function(e){return this.optionIdPrefix+"-"+this.id+"-"+e.toString()},o.$inject=["$scope","$element","resources"],o);function o(e,t,n,r){var o=this;this.$scope=e,this.$element=t,this.resources=n,this.$timeout=r,this.showScroll=!1,this.isDisabled=!1,this.selectedIndex=0,this.confirmationEnabled=!1,this.expanded=!1,this.highlightedIndex=-1,this.displayIndex=0,this.optionIdPrefix="option-",this.id=i.generateGuid(),_.isFunction(this.confirmSelectionChange)&&(this.confirmationEnabled=!0),this.$scope.$watch((function(){return o.value}),(function(){if(void 0!==o.value&&null!==o.value&&""!==o.value){if(!o.selectedItem||o.value!==o.selectedItem.value)for(var e=0;e<o.options.length;e++)if(o.options[e].value===o.value){o.selectedIndex=e,o.displayIndex=e,o.selectedItem=o.options[e];break}}else o.placeholderText?(o.selectedIndex=-1,o.displayIndex=-1):o.selectedItem=_.first(o.options)}))}t.DropDownController=r},"./common/components/MediaPlayer/MediaPlayer.html":function(e,t){e.exports='<div class=media-player-controller id={{::$ctrl.mediaPlayerId}}> <video class="azuremediaplayer amp-big-play-centered amp-stream-skin" tabindex=0 crossorigin=anonymous width=100% height=100% preload={{::$ctrl.preloadSetting}} playsinline> <p class=amp-no-js> {{::controller.resources.Directives.Media.Player.noJsMessage}} </p> </video> <error-box ng-if=$ctrl.isErrorOccured class="video-error white-outline-all" title-str={{$ctrl.displayErrorDescription}} no-actions=$ctrl.noActions message={{$ctrl.displayErrorDescriptionSubText}} message-link=$ctrl.displayErrorMessageLink custom-secondary-button-label={{$ctrl.errorBoxSecondaryButtonLabel}} custom-secondary-button-clicked=$ctrl.onReportIssue() error-code={{$ctrl.displayErrorCode}} hide-session-info=$ctrl.hideSessionInfo player-page=true slate=$ctrl.slateShown custom-primary-button-label={{$ctrl.errorBoxPrimaryButtonLabel}} custom-primary-button-clicked=$ctrl.retryMediaPlayer() /> </div> '},"./common/components/MediaPlayer/MediaPlayer.less":function(e,t){},"./common/components/MediaPlayer/MediaPlayer.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./common/components/MediaPlayer/MediaPlayerController.ts"),r=n("./app/utility/appUtil.ts");function o(){this.restrict="E",this.link=function(e,t,n,i){i.loadAzureMediaPlayer(t)},this.controller=i.MediaPlayerController,this.template=n("./common/components/MediaPlayer/MediaPlayer.html"),this.scope={playerOptions:"<",videoLink:"<",enableTheaterMode:"<",enableSearch:"<",onViewed:"&",summaryHeartbeat:"&",playbackSummary:"&",onError:"&",onPlayerRetry:"&",onUserActive:"&",onUserInactive:"&",playerEventsTracker:"&",onPause:"&",onPlay:"&",onCanplaythrough:"&",onInit:"&",onTimeUpdate:"&",enterTheaterMode:"&",exitTheaterMode:"&",preload:"<",onSearch:"&",defaultMuted:"<",onPlayerEnded:"&",onSdnInitSuccess:"&",onSdnInitFailure:"&",onSdnFatalError:"&",onLastAmpErrorChange:"&",mediaPlayerId:"<",onReportIssue:"&",playbackSessionId:"<",isProducerView:"<",isLiveEventCompleted:"<",timedEvents:"<",tracePlayerLogsAndReturnTraceId:"&",videoId:"<",onPlayerCaptionDetected:"&",onFormsTokenPostMessage:"&",onDeletedOrReplaced:"&",onDemandOptions:"<",contentVersion:"<",showEndOfEventOverlay:"&",reloadUpdatedVideo:"&",isLiveEventStopped:"&",isAudioOnly:"<?"},this.controllerAs="$ctrl",this.bindToController=!0}n("./common/components/MediaPlayer/MediaPlayer.less"),t.MediaPlayer=o,r.registerDirective("mediaPlayer",o,angular.module("jumper.common"))},"./common/components/MediaPlayer/MediaPlayerController.ts":function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/utility/appUtil.ts"),o=n("./app/utility/Constants.ts"),s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/utility/KeyCodes.ts"),c=n("./common/components/MediaPlayer/PlaybackErrorHandler.ts"),l=n("./app/utility/VisibilityUtils.ts"),u=n("./Embed/Utility/appUtil.ts");t.playerEvents={analyticsstreamstarted:"analyticsstreamstarted",analyticsheartbeat:"analyticsheartbeat",analyticserror:"analyticserror",analyticsplaybackfinished:"analyticsplaybackfinished",analyticsstreamloaded:"analyticsstreamloaded",analyticsplaybackwarning:"analyticsplaybackwarning",userActiveEvent:"useractive",userInactiveEvent:"userinactive",enterTheaterMode:"enterTheaterMode",exitTheaterMode:"exitTheaterMode",searchEvent:"searchPlugin",ended:"ended",sdnInitSuccess:"sdnInitSuccess",sdnInitFailure:"sdnInitFailure",sdnFatalError:"sdnFatalError",videoPlayerStarted:"started",videoPlayerFullscreen:"fullscreen",videoCaptionsOn:"captionOn",videoCaptionsOff:"captionOff",reportIssue:"reportIssue",embeddedCaptionsShow:"embeddedCaptionsShow",decryptorInitialized:"decryptorInitialized",audioEnhancementStateChanged:"audioEnhancementStateChanged",failedToChangeAudioTrack:"failedToChangeAudioTrack",audioEnhancementFreShown:"audioEnhancementFreShown",audioEnhancementFreClosed:"audioEnhancementFreClosed",audioEnhancementFreOpenedLearnMore:"audioEnhancementFreOpenedLearnMore",rebufferRatioReached:"rebufferRatioReached"};var d,p,A="AudioEnhance";(p=d=d||{}).EncodingProfilePassThrough1LayerPrefix="passthrough_1layer",p.EncodingProfileContentAwarePrefix="cae_",t.getAMPPlayer=function(){var e,t=$(o.Constants.MediaPlayerPostLoadSelector);return t&&0<t.length&&window.amp&&t[0].playerId&&(e=amp(t[0])),e},t.getAllAMPPlayers=function(){var e=[],t=$(o.Constants.MediaPlayerPostLoadSelector);return t&&0<t.length&&window.amp&&_.forEach(t,(function(t){t.playerId&&e.push(amp(t))})),e};var m=(h.prototype.reportPendingTelemetryMediaPlayerDispose=function(){this.playerOptions.enableTelemetry&&(this.shouldSendIntervalHeartbeat()&&this.sendPlayerHeartbeat({data:{telemetryProperties:{triggerType:o.Constants.AnalyticsHeartbeatTriggerTypes.IntervalHeartbeat}}}),this.shouldSendUnloadEvent()&&this.sendPlayerHeartbeat({data:{telemetryProperties:{triggerType:o.Constants.AnalyticsHeartbeatTriggerTypes.Destroy}}}))},h.prototype.shouldSendIntervalHeartbeat=function(){return!this.isFirstPlay&&null==this.lastAMPError&&this.shouldSendUnloadEvent()},h.prototype.shouldSendUnloadEvent=function(){return!(this.lastHeartbeatTriggerType===o.Constants.AnalyticsHeartbeatTriggerTypes.Ended||this.lastHeartbeatTriggerType===o.Constants.AnalyticsHeartbeatTriggerTypes.Unload||this.lastHeartbeatTriggerType===o.Constants.AnalyticsHeartbeatTriggerTypes.Destroy||this.lastHeartbeatTriggerType===o.Constants.AnalyticsHeartbeatTriggerTypes.SourceSetTimeout||this.lastHeartbeatTriggerType===o.Constants.AnalyticsHeartbeatTriggerTypes.Error)},h.prototype.updatePageVisibility=function(){this.documentVisibilityProps&&this.documentVisibilityProps.visibilityChangeEventName&&this.documentVisibilityProps.hiddenPropertyName&&(this.isPageVisible=!document[this.documentVisibilityProps.hiddenPropertyName],this.wasPageVisible=this.wasPageVisible||this.isPageVisible)},h.prototype.getPlayer=function(){return this.mediaPlayer},h.prototype.receiveBroadcast=function(e,t){return this.$rootScope.$on(e,t)},h.prototype.loadAzureMediaPlayer=function(e){var n=this;this.playerOptions&&this.playerOptions.playbackUrls&&this.playerOptions.playbackUrls.length&&this.$q.when().then((function(){n.mediaPlayerId||(n.mediaPlayerId=r.generateSmallId());var c=n.playerOptions.plugins||{};c.analytics_collectData={debug:!1,metricsToTrack:["viewed","heartbeat","error","playbackSummary","downloadInfo","warnings"]},n.videoLink&&(c.streamIconPlugin={externalLink:n.videoLink}),n.enableTheaterMode&&(c.theaterModePlugin={}),n.enableSearch&&(c.searchPlugin={}),n.featureFlagsService.Values.AudioOnlyModeKillSwitch||(c.audioOnlyModeOverlay={},c.audioOnlyMessageBar={}),c.audioOnlyOverlay={isAudioOnly:n.isAudioOnly},n.featureFlagsService.Values.Forms&&(c.timedMediaEventPlugin={videoEvents:n.timedEvents,telemetryTracker:n.telemetryService.getTracker(void 0,s.ResourceType.Video,n.videoId),playbackSessionId:n.playbackSessionId,videoId:n.videoId,formsCallbacks:{onGetFormsToken:n.onFormsTokenPostMessage}}),n.featureFlagsService.Values.AudioEnhancementUI&&n.playerOptions.showEnhancedAudioTrack&&(c.audioEnhancementPlugin={},n.featureFlagsService.Values.AudioEnhancementFirstRunExperience&&(c.audioEnhancementFirstRunExperiencePlugin={},n.shouldShowFirstRunExperienceForAudioEnhancement())),c.retryPlugin={};var l={autoplay:n.playerOptions.autoplay||!1,controls:!n.playerOptions.previewPlayer,heuristicProfile:n.playerOptions.profile||n.defaultProfile,techOrder:["azureHtml5JS","flashSS","html5"],logo:{enabled:!n.playerOptions.disableLogo},plugins:c,traceConfig:{maxLogLevel:1,TraceTargets:[{target:"memory"}]},corsPolicy:n.playerOptions.corsPolicy||o.Constants.PlayerAuthOptions.Anonymous,staleDataTimeLimitInSec:o.Constants.VideoStaleDataTimeLimitInSec,hotKeys:{enableVolumeScroll:!1},manifestFetchAutoRetryForLive:n.playerOptions.isLiveContent,maxRetryCountForLive:15,azureHtml5JS:{infiniteSegmentRetryForPreconditionFailed:!0,maxRetriesForKeyAcquireFailure:o.Constants.HttpRetry.MaxAttemptsForKeyAcquire,maxWaitTimeBetweenRetriesForKeyAcquireMS:o.Constants.HttpRetry.KeyAcquireWaitTimeInMS,allowMixedContent:!n.featureFlagsService.Values.AllowMixedContentKillSwitch},IE11AudioDisabled:n.playerOptions.ie11AudioDisabled,audioOnlyMode:n.playerOptions.audioOnlyMode,audioOnlyTimeThreshold:n.playerOptions.audioOnlyTimeThreshold,audioOnlyRebufferThreshold:n.playerOptions.audioOnlyRebufferThreshold};l.reportIssueEnabled=n.telemetryService.isUserFeedbackSupported(),l.audioEnhancementEnabled=n.featureFlagsService.Values.AudioEnhancementUI,l.defaultAudioTrackIsEnhanced=n.featureFlagsService.Values.DefaultAudioTrackIsEnhanced,(n.playerOptions.muted||n.defaultMuted||n.forceMuted)&&(l.muted=!0),n.featureFlagsService.Values.VerboseLogs&&(l.traceConfig={maxLogLevel:3,TraceTargets:[{target:"memory",maxMemoryTraceCount:portalConfiguration.PlayerMaxLogLines}]}),n.featureFlagsService.Values.EnableCEACaptions&&n.playerOptions.isContentSourceLiveStream&&(l.cea708CaptionsSettings={enabled:!0,srclang:"en",label:n.resources.LiveCaptionsLabel}),n.featureFlagsService.Values.LiveEventOptions&&n.shouldBeLiveOnly()&&(l.hotKeys.rewindKey=function(){return!1},l.hotKeys.forwardKey=function(){return!1},l.hotKeys.enableJogStyle=!1,l.hotKeys.enableNumbers=!1,l.hotKeys.seekStep=0,l.staleDataTimeLimitInSec=0,l.playbackSpeed={enabled:!0,speedLevels:[]}),n.playerOptions.previewPlayer||(n.heuristicsPreroll=5,n.heuristicsLivePlaybackOff=15,l.customPlayerSettings={customHeuristicSettings:{livePlaybackOffsetInWallClockSec:n.heuristicsLivePlaybackOff,preRollInWallClockSec:n.heuristicsPreroll}}),_.isNaN(n.livePlaybackOffsetInWallClockSec)||(n.heuristicsLivePlaybackOff=n.livePlaybackOffsetInWallClockSec,_.merge(l,{customPlayerSettings:{customHeuristicSettings:{livePlaybackOffsetInWallClockSec:n.heuristicsLivePlaybackOff}}})),_.isNaN(n.preRollInWallClockSec)||(n.heuristicsPreroll=n.preRollInWallClockSec,_.merge(l,{customPlayerSettings:{customHeuristicSettings:{preRollInWallClockSec:n.heuristicsPreroll}}})),n.featureFlagsService.Values.VariableFragmentSizeHeuristicKillSwitch&&_.merge(l,{customPlayerSettings:{customHeuristicSettings:{useVariableFragmentSizeMode:!1}}}),n.playerOptions.isTeamsQSEvent&&_.merge(l,{customPlayerSettings:{customHeuristicSettings:{windowSizeHeuristics:!1}}}),n.featureFlagsService.Values.removeCookieErrorKillSwitch||u.isCookiesSupported()||(l.useProtectionInfoForPosterAndTextTrack=!0),n.playerLogLevel&&(l.traceConfig={maxLogLevel:n.playerLogLevel,TraceTargets:[{target:"console"}]}),n.forceTech&&(l.techOrder=[n.forceTech]),n.mediaPlayer=amp(e.find(o.Constants.MediaPlayerPreLoadSelector)[0],l),n.playerOptions.showEnhancedAudioTrack&&n.addEventForSettingDefaultAudioTrack(n.featureFlagsService.Values.AudioEnhancementUI,n.featureFlagsService.Values.DefaultAudioTrackIsEnhanced),window.AzureHtml5JS.WebCryptoUtil.Decryptor.useJavascriptLibrary=!1,n.onInit({seekFunction:n.seek.bind(n),getCurrentTime:n.getCurrentTime.bind(n),play:n.play.bind(n),pause:n.pause.bind(n),toggleTheaterMode:n.toggleTheaterMode.bind(n)}),n.playerOptions.enableTelemetry?(n.mediaPlayer.addEventListener(t.playerEvents.analyticsheartbeat,(function(e){n.sendPlayerHeartbeat(e)})),n.mediaPlayer.addEventListener(t.playerEvents.analyticserror,(function(e){A(e)})),n.mediaPlayer.addEventListener(t.playerEvents.decryptorInitialized,(function(e,t){n.decryptorType=t.type})),n.mediaPlayer.addEventListener("livestartupretry",(function(){n.isPlaybackWaitingOnLiveStreamPublish=!0})),n.mediaPlayer.addEventListener("manifestParsingCompleted",(function(){n.isPlaybackWaitingOnLiveStreamPublish&&(n.dataShareService.videoPlaybackLoadStartInMs=performance.now())})),n.mediaPlayer.addEventListener(t.playerEvents.analyticsplaybackwarning,(function(e){var t=n.tracePlayerLogsAndReturnTraceId({eventName:s.TelemetryEventNames.VideoPlaybackWarning,flushLog:!0,logMediaInternals:!1});e.data.telemetryProperties.traceId=t,n.sendPlayerHeartbeat(e)}))):n.mediaPlayer.addEventListener(amp.eventName.error,(function(e){A(e)})),n.featureFlagsService.Values.UserTextTrackSettings&&n.principalService.getMyPrincipalInfo().then((function(e){var t=e.data.settings;n.mediaPlayer.trigger("receivedUserPrincipalSettings",{userPrincipalSettings:t}),n.mediaPlayer.addEventListener("captionChange",(function(e,t){var r;r=t,n.principalService.patchMySettings({web:{playbackSettings:{textTrackSettings:i({},r)}}})}))})),n.featureFlagsService.Values.AudioEnhancementUI&&n.playerOptions.showEnhancedAudioTrack&&n.featureFlagsService.Values.AudioEnhancementFirstRunExperience&&n.listenerUpdateFirstRunExperienceForAudioEnhancement();var d,p,A=function(e){n.startAtInSec=n.mediaPlayer.currentTime(),n.$scope.$evalAsync((function(){var e,t,i,r=n.mediaPlayer.error();r&&(n.lastAMPError=r,n.onLastAmpErrorChange({lastAmpError:n.lastAMPError}),n.unregisterLoadingHeartbeat(),n.unregisterSourceSetHeartbeat(),e=r.code.toString(16),t=!!r.message&&-1<r.message.indexOf("manifest"),i=!1,n.currentRetryCount<n.maxRetryCount&&n.playbackErrorHandler.attemptRetry(r)&&(i=!0,n.currentRetryCount++),i?f():(n.playbackErrorHandler.shouldCheckForVideoAvailability(r)?m:g)(e,t))}))},m=function(e,t){f(),n.liveIngestState=void 0,n.playerOptions.isLiveContent?n.videoService.getIngest(n.videoId).then((function(e){var t=_.get(e,"data");t&&(n.liveIngestState=t.state)})).finally((function(){h(e,t)})):h(e,t)},h=function(e,t){n.onDeletedOrReplaced().then((function(i){if(i.playbackUrls&&n.contentVersion!=i.contentVersion){n.isUpdated=!0;var r=_.map(i.playbackUrls,(function(e){return{type:e.mimeType,src:e.playbackUrl}}));n.playerSources=r,n.playerOptions.playbackUrls=r,t=!1,n.playbackErrorHandler.isDecryptionError(n.lastAMPError)||(e=n.playbackErrorHandler.getVideoDeletedOrReplacedErrorCode(e))}else if(n.isProducerView)return void n.isLiveEventStopped().then((function(i){i?(n.lastAMPError=null,n.onLastAmpErrorChange({lastAmpError:n.lastAMPError})):g(e,t)}));g(e,t)})).catch((function(i){i==o.Constants.HttpStatusCode.NotFound?(n.isDeleted=!0,t=!1,n.playbackErrorHandler.isDecryptionError(n.lastAMPError)||(e=n.playbackErrorHandler.getVideoDeletedOrReplacedErrorCode(e))):-1==i&&n.playbackErrorHandler.isActiveTechHtml5()&&(e=n.playbackErrorHandler.getNetworkConnectionErrorCode(e)),g(e,t)}))},f=function(){n.mediaPlayer.error(null),n.mediaPlayer.showBusy()},g=function(e,t){var i={};n.updateError(e,t),i.totalRetryCount=n.totalRetryCount,i.isPageVisible=n.isPageVisible,i.wasPageVisible=n.wasPageVisible,n.mediaPlayer.isFullscreen()&&n.mediaPlayer.exitFullscreen(),n.isRetrying=!1,n.lastAMPError&&(n.lastAMPError.code=parseInt(e,16));var r=n.tracePlayerLogsAndReturnTraceId({eventName:s.TelemetryEventNames.VideoPlayerError,flushLog:!0,logMediaInternals:n.shouldLogMediaInternals()});v(r),i.errorCode=e,i.reason=n.lastAMPError&&n.lastAMPError.message||null,n.isUpdated&&(i.isUpdated=!0),n.isDeleted&&(i.isDeleted=!0),n.onError({metrics:i,traceId:r}),n.isUpdated=!1,n.isDeleted=!1},v=function(e){var i={triggerType:"error",resultType:s.ResultType.Failure,traceId:e,loaded:!0},r=n.mediaPlayer.telemetryData;r&&r.downloadFailed&&(i.downloadFailed=n.mediaPlayer.telemetryData.downloadFailed);var o={type:t.playerEvents.analyticsheartbeat,data:{telemetryProperties:i}};n.sendPlayerHeartbeat(o)};function y(e){e.keyCode===a.KeyCodes.Space&&(e.preventDefault(),n.mediaPlayer.paused()?n.mediaPlayer.play():n.mediaPlayer.pause())}n.featureFlagsService.Values.LiveEventOptions&&n.shouldBeLiveOnly()&&(d=!1,p=function(){d||n.mediaPlayer.paused()||(n.isLiveEventCompleted?(n.onPlayerEnd(),d=!0):n.goToLiveEdge())},n.mediaPlayer.addEventListener(amp.eventName.play,p),n.mediaPlayer.addEventListener("playingInDVR",p),n.mediaPlayer.addEventListener(amp.eventName.loadstart,(function(e){var t,i,r;n.$playerProgressControl&&n.$playerPlaybackSpeedControl||(t=$(e.target),n.$playerProgressControl=t.find(o.Constants.MediaPlayerProgressControlSelector),0<n.$playerProgressControl.length&&n.$playerProgressControl.hide(),n.$playerPlaybackSpeedControl=t.find(o.Constants.MediaPlayerPlaybackSpeedControllerSelector),0<n.$playerPlaybackSpeedControl.length&&n.$playerPlaybackSpeedControl.hide(),0<(i=t.find(o.Constants.MediaPlayerTimeControlSelector)).length&&i.addClass("hide"),0<(r=t.find(o.Constants.MediaPlayerLiveControlSelector)).length&&r.attr({tabindex:-1,role:"presentation"}))}))),n.mediaPlayer.addEventListener(t.playerEvents.ended,n.onPlayerEnd),n.mediaPlayer.addEventListener(t.playerEvents.userActiveEvent,(function(){n.onUserActive()})),n.mediaPlayer.addEventListener(t.playerEvents.userInactiveEvent,(function(){n.onUserInactive()})),n.mediaPlayer.addEventListener(amp.eventName.pause,(function(){n.onPause()})),n.mediaPlayer.addEventListener(t.playerEvents.embeddedCaptionsShow,(function(){n.onPlayerCaptionDetected()})),n.mediaPlayer.addEventListener(t.playerEvents.sdnInitSuccess,(function(e,t){n.onSdnInitSuccess({details:t}),n.sdnInitialized=!0})),n.mediaPlayer.addEventListener(t.playerEvents.sdnInitFailure,(function(e,t){n.onSdnInitFailure({details:t}),n.sdnInitialized=!1})),n.mediaPlayer.addEventListener(t.playerEvents.sdnFatalError,(function(e,t){n.onSdnFatalError({details:t})})),n.mediaPlayer.addEventListener(t.playerEvents.videoPlayerFullscreen,(function(){$(".vjs-fullscreen-control").focus()})),n.playerOptions.isLiveContent&&(n.mediaPlayer.addEventListener("segmentsUnavailable",(function(){var e=r.formatAMPErrorCode(n.mediaPlayer.currentTechName(),o.Constants.VideoPlayerErrorCode.ErrorCode_020019C);n.updateError("slate",!1,e),n.slateShown=!0})),n.mediaPlayer.addEventListener("segmentsAvailable",(function(){n.isErrorOccured=!1,n.slateShown=!1,n.isProducerView&&n.$rootScope.$broadcast("producerEncoderConnect")}))),n.isProducerView&&n.mediaPlayer.addEventListener("producerWarnDisconnected",(function(){n.$rootScope.$broadcast("producerEncoderDisconnect")})),n.addEventHandlersForTelemetry(),n.mediaPlayer.addEventListener(amp.eventName.playing,(function(){n.isFirstPlay&&(n.$scope.$emit(o.Constants.Events.PlayerStarted),n.isFirstPlay=!1),n.onPlay(),!n.startAtInSec||isNaN(n.startAtInSec)||n.firstSeekHappenedForStartAt||(n.mediaPlayer.currentTime(n.startAtInSec),n.firstSeekHappenedForStartAt=!0),"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(o.Constants.PostMessages.playerEvent,{eventname:o.Constants.PostMessageSubEventNames.playing,playersessionid:n.playbackSessionId})})),n.mediaPlayer.addEventListener(amp.eventName.canplaythrough,(function(){n.onCanplaythrough(),n.mediaPlayer.controls(!n.playerOptions.previewPlayer),"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(o.Constants.PostMessages.playerEvent,{eventname:o.Constants.PostMessageSubEventNames.canPlaythrough,playersessionid:n.playbackSessionId})})),n.mediaPlayer.addEventListener(amp.eventName.timeupdate,(function(){var e,t;n.isViewed||(t=Math.floor(n.mediaPlayer.currentTime()),0<(e=Math.floor(n.mediaPlayer.duration()))&&(t===n.lastCheckedTime+1&&(n.totalSecondsWatched+=1),n.lastCheckedTime=t,(3<=n.totalSecondsWatched||e<3&&e<=t)&&(n.onViewed(),n.isViewed=!0))),_.isFunction(n.onTimeUpdate)&&(t=Math.floor(n.mediaPlayer.currentTime()),n.onTimeUpdate({currentTime:t}),n.endAtInSec&&!isNaN(n.endAtInSec)&&!n.firstSeekHappenedForEndAt&&t>=n.endAtInSec&&(!n.startAtInSec||isNaN(n.startAtInSec)||n.startAtInSec<n.endAtInSec)&&(n.mediaPlayer.pause(),n.firstSeekHappenedForEndAt=!0)),"undefined"!=typeof MicrosoftStream&&(t=Math.floor(n.mediaPlayer.currentTime()),MicrosoftStream.sendMessageToParent(o.Constants.PostMessages.playerEvent,{eventname:o.Constants.PostMessageSubEventNames.timeupdate,playersessionid:n.playbackSessionId,time:t}))})),n.enableSearch&&n.mediaPlayer.addEventListener(t.playerEvents.searchEvent,(function(){n.onSearch()})),n.mediaPlayer.addEventListener(t.playerEvents.reportIssue,(function(){n.mediaPlayer.paused()||n.mediaPlayer.pause(),n.onReportIssue()})),n.enableTheaterMode&&(n.mediaPlayer.addEventListener(t.playerEvents.enterTheaterMode,(function(){n.enterTheaterMode()})),n.mediaPlayer.addEventListener(t.playerEvents.exitTheaterMode,(function(){n.exitTheaterMode()}))),n.playerOptions.poster&&n.mediaPlayer.poster(n.playerOptions.poster),n.mediaPlayer.ready((function(){var e=document.querySelector(".vjs-progress-holder.vjs-slider");e&&(e.addEventListener("keydown",y),n.$scope.$on("destroy",(function(){return e.removeEventListener("keydown",y)})))})),n.setPlayerSources(),"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(o.Constants.PostMessages.playerEvent,{eventname:o.Constants.PostMessageSubEventNames.setSource,playersessionid:n.playbackSessionId})}))},h.prototype.shouldShowFirstRunExperienceForAudioEnhancement=function(){var e=this;this.principalService.getMyPrincipalInfo().then((function(t){var n=void 0===t.data.settings.general.audioEnhancementFirstTimeExperienceDateShown,i=e.featureFlagsService.Values.DefaultAudioTrackIsEnhanced;e.mediaPlayer.trigger("receivedFirstRunExperienceSettings",{showFirstRunExperience:n,defaultAudioTrackIsEnhanced:i}),e.telemetryService.getTracker(void 0,s.ResourceType.Video,e.videoId).succeed(s.FeatureName.GetPrincipalSettings)}),(function(t){e.telemetryService.getTracker(void 0,s.ResourceType.Video,e.videoId).fail(s.FeatureName.GetPrincipalSettings,s.SubFeatureName.PrincipalService_GetMyPrincipalInfoForFreAudioEnhancement,t)}))},h.prototype.listenerUpdateFirstRunExperienceForAudioEnhancement=function(){var e=this;this.mediaPlayer.addEventListener(t.playerEvents.audioEnhancementFreShown,(function(t){var n;n={general:{audioEnhancementFirstTimeExperienceDateShown:new Date}},e.playerEventsTrackerFunctions[s.TelemetryEventNames.freShown]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.freShown](A),e.principalService.patchMySettings(n).then((function(){e.telemetryService.getTracker(void 0,s.ResourceType.Video,e.videoId).succeed(s.FeatureName.UpdatePrincipalSettings,{subFeatureName:s.SubFeatureName[s.SubFeatureName.PrincipalService_PatchFreForAudioEnhancement]})}),(function(t){e.telemetryService.getTracker(void 0,s.ResourceType.Video,e.videoId).fail(s.FeatureName.UpdatePrincipalSettings,s.SubFeatureName.PrincipalService_PatchFreForAudioEnhancement,t)}))}))},h.prototype.unregisterLoadingHeartbeat=function(){this.loadingHeartbeatInterval&&(this.$interval.cancel(this.loadingHeartbeatInterval),this.loadingHeartbeatInterval=null)},h.prototype.unregisterSourceSetHeartbeat=function(){this.sourceSetTimeout&&(this.$timeout.cancel(this.sourceSetTimeout),this.sourceSetTimeout=null)},h.prototype.convertSrcToHLSv3=function(e){var t=o.Constants.HLSFormatString,n=o.Constants.HLSVersion4String,i=o.Constants.HLSVersion3String;return _.includes(e,n)?_.replace(e,n,i):!_.includes(e,i)&&_.includes(e,t)?_.replace(e,t,i):e},h.prototype.convertSrcToOrigin=function(e){var t=o.Constants.HLSFormatString;return _(e).split("playbackurl=").find((function(e){return _.includes(e,t)}))},h.prototype.setPlayerSources=function(){var e=this;this.playerSources=_.map(this.playerOptions.playbackUrls,(function(t){t.disableUrlRewriter=!0,t.protectionInfo=[{type:amp.protectionType.AES,authenticationToken:"Bearer "+sessionInfo.AccessToken}];var n,i=_.cloneDeep(t);return e.featureFlagsService.Values.ForceHLSv3&&e.playerOptions.isLiveContent&&i.type===o.Constants.VideoMimeTypes.hls&&(i.src=e.convertSrcToHLSv3(i.src)),e.featureFlagsService.Values.HLSToOrigin&&i.type===o.Constants.VideoMimeTypes.hls&&e.shouldGoToOriginForHLS()&&(n=e.convertSrcToOrigin(i.src),i.src=n||i.src),i})),this.isDeleted=!1,this.isUpdated=!1,this.mediaPlayer.src(this.playerSources,this.playerOptions.tracks)},h.prototype.shouldGoToOriginForHLS=function(){var e,t=!1;return this.playerOptions.encodingProfile&&(t=0===(e=this.playerOptions.encodingProfile.toLowerCase()).indexOf(d.EncodingProfilePassThrough1LayerPrefix)||0===e.indexOf(d.EncodingProfileContentAwarePrefix)),!t&&r.isIOS("11")},h.prototype.addEventForSettingDefaultAudioTrack=function(e,t){var n=this;this.mediaPlayer.addEventListener(amp.eventName.loadeddata,(function(){var i=n.mediaPlayer.currentAudioStreamList(),r="OriginalAudio"===i.streams[0].name?0:1,o=1-r,s=i.enabledIndices[0],a=r;e&&t&&n.playerOptions.allowAudioEnhancement&&(a=o),s!=a&&i.switchIndex(a)}))},h.prototype.addEventHandlersForTelemetry=function(){var e=this;this.mediaPlayer.addEventListener(t.playerEvents.ended,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerEnded]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerEnded](e.playerOptions.showEnhancedAudioTrack)})),this.mediaPlayer.addEventListener(t.playerEvents.rebufferRatioReached,(function(){var n=e.tracePlayerLogsAndReturnTraceId({eventName:t.playerEvents.rebufferRatioReached}),i={triggerType:t.playerEvents.rebufferRatioReached,traceId:n},r={type:t.playerEvents.analyticsheartbeat,data:{telemetryProperties:i}};e.sendPlayerHeartbeat(r)})),this.mediaPlayer.addEventListener(amp.eventName.loadstart,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoplayerLoadStart]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoplayerLoadStart](),null==e.loadingHeartbeatInterval&&(e.loadingHeartbeatInterval=e.$interval((function(){var n={type:t.playerEvents.analyticsheartbeat,data:{telemetryProperties:{triggerType:"loading"}}};e.sendPlayerHeartbeat(n)}),o.Constants.LoadingHeartbeatInterval))})),this.mediaPlayer.addEventListener(amp.eventName.sourceset,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerSourceSet]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerSourceSet](),e.sourceSetTimeout=e.$timeout((function(){var n="sourceSetTimeout",i={triggerType:n,traceId:e.tracePlayerLogsAndReturnTraceId({eventName:n,flushLog:!0})},r={type:t.playerEvents.analyticsheartbeat,data:{telemetryProperties:i}};e.sendPlayerHeartbeat(r)}),o.Constants.PlayerSetSourceLoadTimeout)})),this.mediaPlayer.addEventListener(amp.eventName.loadeddata,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerLoaded]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerLoaded](),e.unregisterLoadingHeartbeat(),e.unregisterSourceSetHeartbeat();var t=e.mediaPlayer.currentVideoStreamList();if(t)for(var n=0;n<t.streams.length;n++)t.streams[n].addEventListener(amp.streamEventName.trackselected,(function(t,n){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerManualBitRateChanged]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerManualBitRateChanged]()}))})),this.mediaPlayer.addEventListener(amp.eventName.start,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerStarted]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerStarted](e.playerOptions.showEnhancedAudioTrack,e.featureFlagsService.Values.DefaultAudioTrackIsEnhanced)})),this.mediaPlayer.addEventListener(amp.eventName.play,(function(){e.currentRetryCount=0,e.lastAMPError=null,e.onLastAmpErrorChange({lastAmpError:e.lastAMPError}),e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerPlay]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerPlay]()})),this.mediaPlayer.addEventListener(amp.eventName.playing,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerPlaying]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerPlaying]()})),this.mediaPlayer.addEventListener(amp.eventName.pause,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerPause]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerPause](),"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(o.Constants.PostMessages.playerEvent,{eventname:o.Constants.PostMessageSubEventNames.pause,playersessionid:e.playbackSessionId})})),this.mediaPlayer.addEventListener(amp.eventName.seeking,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerSeeking]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerSeeking]()})),this.mediaPlayer.addEventListener(t.playerEvents.videoPlayerFullscreen,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerFullscreen]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerFullscreen]()})),this.mediaPlayer.addEventListener(t.playerEvents.audioEnhancementStateChanged,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.audioEnhancementStateChanged]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.audioEnhancementStateChanged]()})),this.mediaPlayer.addEventListener(t.playerEvents.failedToChangeAudioTrack,(function(t,n){e.playerEventsTrackerFunctions[s.TelemetryEventNames.failedToChangeAudioTrack]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.failedToChangeAudioTrack](t,n)})),this.mediaPlayer.addEventListener(t.playerEvents.videoCaptionsOn,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoCaptionsOn]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoCaptionsOn]()})),this.mediaPlayer.addEventListener(t.playerEvents.videoCaptionsOff,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoCaptionsOff]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoCaptionsOff]()})),this.mediaPlayer.addEventListener(amp.eventName.waiting,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerWaiting]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerWaiting]()})),this.mediaPlayer.addEventListener(t.playerEvents.analyticsstreamloaded,(function(t){var n=e.mediaPlayer.getEventMetrics(t.type);e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerLoaded]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.videoPlayerLoaded](n)})),this.mediaPlayer.addEventListener(t.playerEvents.audioEnhancementFreClosed,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.freClosed]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.freClosed](A)})),this.mediaPlayer.addEventListener(t.playerEvents.audioEnhancementFreOpenedLearnMore,(function(){e.playerEventsTrackerFunctions[s.TelemetryEventNames.freOpenedLearnMore]&&e.playerEventsTrackerFunctions[s.TelemetryEventNames.freOpenedLearnMore](A)}))},h.prototype.seek=function(e,t){void 0===t&&(t=!0),this.mediaPlayer&&_.isNumber(e)&&!isNaN(e)&&(this.mediaPlayer.currentTime(e),t&&this.mediaPlayer.play(),r.isItemInView(this.mediaPlayerId)||(this.$location.hash(this.mediaPlayerId),this.$anchorScroll()))},h.prototype.play=function(){this.mediaPlayer.play()},h.prototype.pause=function(){this.mediaPlayer.pause()},h.prototype.updateError=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=""),this.isErrorOccured=!0,this.displayErrorMessageLink=null,"slate"===e)this.displayErrorCode="0x"+n,this.noActions=!0,this.hideSessionInfo=!0,this.isProducerView?(this.displayErrorDescription=this.resources.VideoPlayer.EncoderErrorCode,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.EncoderErrorLink,this.displayErrorMessageLink=o.Constants.LiveEncoderLearnMoreLink):(this.displayErrorDescription=this.resources.VideoPlayerErrorCode20019CAudienceSlate,this.displayErrorDescriptionSubText=this.resources.VideoPlayerErrorCode20019CAudience);else switch(this.displayErrorCode="0x"+e,e.substring(1)){case o.Constants.VideoPlayerErrorCode.ErrorCode_0200000:this.displayErrorDescription=this.resources.VideoPlayer.ErrorCode200000,this.displayErrorDescriptionSubText="";break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0200191:this.displayErrorDescription=this.resources.VideoPlayerErrorCode200191,this.displayErrorDescriptionSubText="";break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0200194:this.isDeleted?(this.displayErrorDescription=this.resources.VideoPlayerErrorCode200194Manifest,this.displayErrorDescriptionSubText=this.resources.VideoPlayerErrorCode200194ManifestSubtext,this.noActions=!0):this.isUpdated?(this.displayErrorDescription=this.resources.VideoUpdatedDescription,this.displayErrorDescriptionSubText=this.resources.VideoUpdatedSubtext,this.noActions=!1,this.errorBoxPrimaryButtonLabel=this.resources.VideoUpdatedButtonLabel,this.errorBoxSecondaryButtonLabel=""):t?this.playerOptions.isLiveContent?this.isLiveEventCompleted?this.isProducerView?(this.displayErrorDescription=this.resources.VideoPlayerErrorCode200194LiveCompleteManifest,this.displayErrorDescriptionSubText=this.resources.VideoPlayerErrorCode200194LiveCompleteManifestSubtext,this.displayErrorMessageLink=o.Constants.VideoPlayerErrorMessageLink.PlaybackErrors):(this.displayErrorDescription=this.resources.VideoPlayerErrorCode200194LiveCompleteManifest,this.displayErrorDescriptionSubText=this.resources.VideoPlayerErrorCode200194LiveCompleteManifestAudienceSubtext):this.isProducerView?(this.displayErrorDescription=this.resources.VideoPlayerErrorCode200194Producer,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.EncoderErrorLink,this.displayErrorMessageLink=o.Constants.LiveEncoderLearnMoreLink):(this.displayErrorDescription=this.resources.VideoPlayerErrorCode200194Audience,this.displayErrorDescriptionSubText=this.resources.VideoPlayerErrorCode200194AudienceSubtext):(this.displayErrorDescription=this.resources.VideoPlayerErrorCode200194Manifest,this.displayErrorDescriptionSubText=this.resources.VideoPlayerErrorCode200194ManifestSubtext):(this.playerOptions.isLiveContent?(this.displayErrorDescription=this.resources.VideoPlayerErrorCode200194FragmentPlayback,this.displayErrorDescriptionSubText=this.resources.VideoPlayerErrorCode200194LiveCompleteManifestSubtext):(this.displayErrorDescription=this.resources.VideoPlayerErrorCode200194FragmentPlayback,this.displayErrorDescriptionSubText=this.resources.VideoPlayerErrorCode200194FragmentPlaybackSubtext),this.displayErrorMessageLink=o.Constants.VideoPlayerErrorMessageLink.PlaybackErrors);break;case o.Constants.VideoPlayerErrorCode.ErrorCode_020019C:this.isProducerView?(this.displayErrorDescription=this.resources.VideoPlayerErrorCode20019CProducer,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.EncoderErrorLink,this.displayErrorMessageLink=o.Constants.LiveEncoderLearnMoreLink):(this.displayErrorDescription=this.resources.VideoPlayerErrorCode20019CAudience,this.displayErrorDescriptionSubText="");break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0200258:this.displayErrorDescription=this.resources.VideoPlayer.ErrorCode200000,this.displayErrorDescriptionSubText=this.resources.VideoPlayerErrorCode200258Subtext,this.displayErrorMessageLink=o.Constants.VideoPlayerErrorMessageLink.PlaybackErrors;break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0200259:case o.Constants.VideoPlayerErrorCode.ErrorCode_020025B:this.displayErrorDescription=this.resources.VideoPlayer.ErrorCode200000,this.displayErrorDescriptionSubText=this.resources.VideoPlayerErrorCode200258Subtext,this.displayErrorMessageLink=o.Constants.VideoPlayerErrorMessageLink.PlaybackErrors;break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0300000:this.displayErrorDescription=this.resources.VideoPlayer.ErrorCode300000,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.ErrorCode300000Subtext;break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0400002:this.displayErrorDescription=this.resources.VideoPlayerErrorCode400000,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.ErrorCode300000Subtext;break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0400003:this.displayErrorDescription=this.resources.VideoPlayer.ErrorCode300000,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.ErrorCode600000Subtext;break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0400004:this.displayErrorDescription=this.resources.VideoPlayerErrorCode400000,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.ErrorCode300000Subtext;break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0400005:this.displayErrorDescription=this.resources.VideoPlayerErrorCode400000,this.displayErrorDescriptionSubText=this.resources.VideoPlayerErrorCode400000Subtext;break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0500004:case o.Constants.VideoPlayerErrorCode.ErrorCode_0500005:this.displayErrorDescription=this.resources.VideoPlayerErrorCode200191,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.ErrorCode300000Subtext;break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0600000:this.noActions=!0,this.displayErrorDescription=this.resources.VideoPlayer.ErrorCode600000,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.ErrorCode600000Subtext;break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0600001:r.isUnsupportedFlashVersionInstalled()?(this.displayErrorDescription=this.resources.VideoPlayer.ErrorCode600001UnsupportedFlashInstalled,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.ErrorCode600001UnsupportedFlashInstalledSubtext):(this.displayErrorDescription=this.resources.VideoPlayer.ErrorCode600001,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.ErrorCode600001Subtext),this.noActions=!0,this.displayErrorMessageLink=o.Constants.VideoPlayerErrorMessageLink.PlaybackErrors;break;case o.Constants.VideoPlayerErrorCode.ErrorCode_0600003:this.noActions=!0,this.displayErrorDescription=this.resources.VideoPlayer.ErrorCode600001,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.ErrorCode600001Subtext;break;default:this.displayErrorDescription=this.resources.VideoPlayer.ErrorCodeDefault,this.displayErrorDescriptionSubText=this.resources.VideoPlayer.ErrorCode300000Subtext}},h.prototype.sendPlayerHeartbeat=function(e){e.triggerType===o.Constants.AnalyticsHeartbeatTriggerTypes.CanPlaythrough&&(this.unregisterLoadingHeartbeat(),this.unregisterSourceSetHeartbeat());var t={};this.playerOptions.showEnhancedAudioTrack&&(t.defaultAudioTrackIsEnhanced=this.featureFlagsService.Values.DefaultAudioTrackIsEnhanced),t.playerSourceResetCount=this.totalRetryCount,t.heuristicsPreroll=this.heuristicsPreroll,t.heuristicsLivePlaybackOff=this.heuristicsLivePlaybackOff;var n,i,r=e.data&&e.data.telemetryProperties?e.data.telemetryProperties:null;(t=r?_.extend(t,r):t).isRetrying=this.isRetrying,this.mediaPlayer&&((n=this.mediaPlayer.currentAudioStreamList())&&n.streams&&0<n.streams.length&&(i=n.enabledIndices[0],t.currentAudioTrackName=n.streams[i].name),t.currentVolume=this.getCurrentVolume()),t.sdnInitialized=this.sdnInitialized,t.EmbeddedCaptionNumber=this.liveEventCaptionNumber,t.isPageVisible=this.isPageVisible,t.wasPageVisible=this.wasPageVisible,t.isAudioOnly=this.isAudioOnly,this.isDeleted&&(t.isDeleted=!0),this.isUpdated&&(t.isUpdated=!0),this.decryptorType&&(t.decryptorType=this.decryptorType);try{t.forms=JSON.stringify(this.getFormDataForAnalytics(this.timedEvents||[]))}catch(e){t.forms=""}t.isInteractive=(this.timedEvents||[]).some((function(e){return!e.hidden})),this.lastAMPError&&(t.errorCode=this.lastAMPError.code.toString(16),t.reason=this.lastAMPError.message,this.liveIngestState&&(t.ingestState=this.liveIngestState)),e&&e.data&&e.data.telemetryProperties&&(this.lastHeartbeatTriggerType=e.data.telemetryProperties.triggerType),this.summaryHeartbeat({properties:t})},h.prototype.getFormDataForAnalytics=function(e){return e&&e.filter((function(e){return"form"===e.type&&!e.hidden&&null!==e.eventData})).map((function(e){return{id:e.id,formId:e.eventData.formId,timeCode:e.endTime,viewed:e.eventData.hasBeenShown||!1}}))},h.prototype.sendPlaybackSummary=function(e){var t={};this.totalRetryCount&&(t.totalRetryCount=this.totalRetryCount),this.decryptorType&&(t.decryptorType=this.decryptorType),e&&(t.triggerType=e),this.lastHeartbeatTriggerType=e,this.lastAMPError&&(t.errorCode=this.lastAMPError.code.toString(16),t.reason=this.lastAMPError.message),t.isPageVisible=this.isPageVisible,t.wasPageVisible=this.wasPageVisible,"function"==typeof this.playbackSummary&&this.playbackSummary({properties:t})},h.prototype.retryPlayer=function(e,t,n){void 0===t&&(t={}),this.totalRetryCount=this.totalRetryCount+1;var i=this.tracePlayerLogsAndReturnTraceId({eventName:s.TelemetryEventNames.VideoPlayerRetryOnError,flushLog:!0,logMediaInternals:this.shouldLogMediaInternals()});this.firstSeekHappenedForStartAt=!1,this.firstSeekHappenedForEndAt=!1;var r="",o="";this.lastAMPError&&(r=this.lastAMPError.code.toString(16),o=this.lastAMPError.message),this.onPlayerRetry({retryCount:this.totalRetryCount,metrics:t,traceId:i,eventType:n?n.type:null,enableTelemetry:this.playerOptions.enableTelemetry,manualRetry:e,errorCode:r,reason:o}),this.mediaPlayer.options({sourceSetByRetry:!0}),this.mediaPlayer.error(null),this.setPlayerSources(),this.isRetrying=!1,this.isPlaybackWaitingOnLiveStreamPublish=!1},h.prototype.shouldLogMediaInternals=function(){if(this.lastAMPError&&!this.featureFlagsService.Values.UploadMediaInternalsKillSwitch){var e=c.PlaybackErrorHandler.getTechIndependentErrorCode(this.lastAMPError);if(e&&2<=e.length){var t=e.charAt(1);if(t!==o.Constants.AMPErrorCategoryPrefixForNetworkErrors&&t!==o.Constants.AMPErrorCategoryPrefixForSourcePlayerMismatchErrors)return!0}}return!1},h.prototype.shouldBeLiveOnly=function(){return!this.isProducerView&&this.featureFlagsService.Values.LiveEventOptions&&this.onDemandOptions&&!this.onDemandOptions.enablePlayback&&this.onDemandOptions&&!this.onDemandOptions.enableDownload&&this.playerOptions.isLiveContent&&!this.isLiveEventCompleted},Object.defineProperty(h.prototype,"shouldShowEndEventMsgAfterPlaybackEnd",{get:function(){return this.featureFlagsService.Values.LiveEventOptions&&!this.onDemandOptions.enablePlayback&&this.playerOptions.isLiveContent},enumerable:!0,configurable:!0}),h.prototype.goToLiveEdge=function(){this.mediaPlayer.currentTime(this.mediaPlayer.duration())},h.prototype.getCurrentTime=function(){return this.mediaPlayer.currentTime()},h.prototype.getCurrentVolume=function(){return this.mediaPlayer.volume()},h.prototype.toggleTheaterMode=function(){this.mediaPlayer.toggleTheaterMode()},h.prototype.retryMediaPlayer=function(e,t){void 0===e&&(e=!0),this.isErrorOccured=!1,this.isRetrying=!0,t&&(this.mediaPlayer.options().techOrder=[t],this.mediaPlayer.reset&&this.mediaPlayer.reset()),this.isUpdated?this.reloadUpdatedVideo():this.retryPlayer(e)},h.prototype.isFlashSSTechSupported=function(){var e=amp.getTech(o.Constants.AMPTechNames.Flash);return e&&e.isSupported()},h.prototype.didPlaybackStart=function(){return!this.isFirstPlay},h.$inject=["$q","$scope","$rootScope","$location","navigationService","sessionManager","resources","$anchorScroll","$interval","$timeout","telemetryService","featureFlagsService","sdnUtilService","principalService","dataShareService","videoService"],h);function h(e,n,i,r,s,a,u,d,p,A,m,h,f,g,v,y){var S=this;this.$q=e,this.$scope=n,this.$rootScope=i,this.$location=r,this.navigationService=s,this.sessionManager=a,this.resources=u,this.$anchorScroll=d,this.$interval=p,this.$timeout=A,this.telemetryService=m,this.featureFlagsService=h,this.sdnUtilService=f,this.principalService=g,this.dataShareService=v,this.videoService=y,this.smoothMimeType="application/vnd.ms-sstr+xml",this.defaultProfile="Hybrid",this.noActions=!1,this.onFormsTokenPostMessage=void 0,this.mediaPlayerProperties=null,this.playerLogLevel=0,this.isErrorOccured=!1,this.hideSessionInfo=!1,this.lastCheckedTime=0,this.totalSecondsWatched=0,this.isViewed=!1,this.firstSeekHappenedForStartAt=!1,this.firstSeekHappenedForEndAt=!1,this.startAtInSec=0,this.endAtInSec=0,this.isFirstPlay=!0,this.playerEventsTrackerFunctions={},this.totalRetryCount=0,this.maxRetryCount=0,this.retryResetTimerInSec=0,this.heuristicsPreroll=4,this.heuristicsLivePlaybackOff=8,this.forceMuted=!1,this.isRetrying=!1,this.sdnInitialized=!1,this.slateShown=!1,this.isDeleted=!1,this.isUpdated=!1,this.currentRetryCount=0,this.playbackErrorHandler=null,this.lastAMPError=null,this.isPageVisible=!1,this.wasPageVisible=!1,this.onPlayerEnd=function(){"function"==typeof S.onPlayerEnded&&S.onPlayerEnded(),S.sendPlaybackSummary("ended"),S.shouldShowEndEventMsgAfterPlaybackEnd&&(S.exitTheaterMode(),S.showEndOfEventOverlay())};var b=this.navigationService.getQueryParams();this.forceTech=b.forceTech,this.playerLogLevel=Number(b.playerLogLevel),this.livePlaybackOffsetInWallClockSec=Number(this.featureFlagsService.Values.LivePlaybackOffsetInWallClockSec),this.preRollInWallClockSec=Number(this.featureFlagsService.Values.PreRollInWallClockSec),this.preloadSetting=this.preload?"auto":"none",this.maxRetryCount=Number(b.maxRetryCount)||o.Constants.PlayerConstants.MaxRetryCount,this.retryResetTimerInSec=Number(b.retryResetTimerInSec)||o.Constants.PlayerConstants.RetryResetTimerInSec,this.forceMuted="true"===b.muted,this.currentRetryCount=0,this.errorBoxPrimaryButtonLabel=this.resources.TryAgain,this.errorBoxSecondaryButtonLabel=this.resources.PlayerSkin.ReportAnIssueButtonText,this.startAtInSec=Number(b.st),this.navigationService.removeQueryParam("st"),this.endAtInSec=Number(b.et),this.navigationService.removeQueryParam("et"),this.$scope.$on(o.Constants.Events.EmbeddedLiveEventCaptionNumber,(function(e,t){t&&t.textTracksCount&&(S.liveEventCaptionNumber=t.textTracksCount)})),n.$on("$destroy",(function(){S.mediaPlayer&&(S.mediaPlayer.removeEventListener(t.playerEvents.userActiveEvent),S.mediaPlayer.removeEventListener(t.playerEvents.userInactiveEvent),S.mediaPlayer.removeEventListener(t.playerEvents.analyticserror),S.mediaPlayer.removeEventListener(t.playerEvents.analyticsheartbeat),S.mediaPlayer.removeEventListener(t.playerEvents.analyticsstreamstarted),S.mediaPlayer.removeEventListener(t.playerEvents.analyticsstreamloaded),S.mediaPlayer.removeEventListener(t.playerEvents.ended),S.mediaPlayer.removeEventListener(t.playerEvents.sdnInitSuccess),S.mediaPlayer.removeEventListener(t.playerEvents.sdnInitFailure),S.mediaPlayer.removeEventListener(t.playerEvents.sdnFatalError),S.mediaPlayer.removeEventListener(amp.eventName.sourceset),S.mediaPlayer.removeEventListener(amp.eventName.loadstart),S.mediaPlayer.removeEventListener(amp.eventName.loadeddata),S.mediaPlayer.removeEventListener(amp.eventName.play),S.mediaPlayer.removeEventListener(amp.eventName.pause),S.mediaPlayer.removeEventListener(amp.eventName.start),S.mediaPlayer.removeEventListener(amp.eventName.seeking),S.mediaPlayer.removeEventListener(t.playerEvents.videoPlayerFullscreen),S.mediaPlayer.removeEventListener(amp.eventName.waiting),S.mediaPlayer.removeEventListener(amp.streamEventName.trackselected),S.mediaPlayer.removeEventListener(amp.eventName.playing),S.mediaPlayer.removeEventListener(amp.eventName.canplaythrough),S.mediaPlayer.removeEventListener(t.playerEvents.reportIssue),S.mediaPlayer.removeEventListener(t.playerEvents.videoCaptionsOn),S.mediaPlayer.removeEventListener(t.playerEvents.videoCaptionsOff),S.mediaPlayer.removeEventListener("playingInDVR"),S.mediaPlayer.removeEventListener(t.playerEvents.decryptorInitialized),S.mediaPlayer.removeEventListener("captionChange"),S.mediaPlayer.removeEventListener(t.playerEvents.audioEnhancementStateChanged),S.mediaPlayer.removeEventListener(t.playerEvents.failedToChangeAudioTrack),S.mediaPlayer.removeEventListener(t.playerEvents.audioEnhancementFreClosed),S.mediaPlayer.removeEventListener(t.playerEvents.audioEnhancementFreOpenedLearnMore),S.enableTheaterMode&&(S.mediaPlayer.removeEventListener(t.playerEvents.enterTheaterMode),S.mediaPlayer.removeEventListener(t.playerEvents.exitTheaterMode)),S.enableSearch&&S.mediaPlayer.removeEventListener(t.playerEvents.searchEvent),S.unregisterLoadingHeartbeat(),S.unregisterSourceSetHeartbeat(),S.playerOptions.isLiveContent&&(S.mediaPlayer.removeEventListener("segmentsUnavailable"),S.mediaPlayer.removeEventListener("segmentsAvailable")),S.enable708Caption&&S.mediaPlayer.removeEventListener(t.playerEvents.embeddedCaptionsShow),S.isProducerView&&S.mediaPlayer.removeEventListener("producerWarnDisconnected"),S.featureFlagsService.Values.AudioEnhancementUI&&S.playerOptions.showEnhancedAudioTrack&&S.featureFlagsService.Values.AudioEnhancementFirstRunExperience&&S.mediaPlayer.removeEventListener(t.playerEvents.audioEnhancementFreShown),S.reportPendingTelemetryMediaPlayerDispose(),S.mediaPlayer.dispose(),S.playbackErrorHandler&&S.playbackErrorHandler.dispose(),S.documentVisibilityProps&&S.documentVisibilityProps.visibilityChangeEventName&&S.documentVisibilityProps.hiddenPropertyName&&window.document.removeEventListener&&window.document.removeEventListener(S.documentVisibilityProps.visibilityChangeEventName,S.handleVisibilityChangeBound))}));var C=this.playerEventsTracker();this.playerEventsTrackerFunctions=C||{},this.playbackErrorHandler=new c.PlaybackErrorHandler(this,this.sessionManager,this.$timeout),this.handleVisibilityChangeBound=this.updatePageVisibility.bind(this),this.documentVisibilityProps=l.DocumentVisibilityUtils.getDocumentVisibilityProps(),this.documentVisibilityProps&&this.documentVisibilityProps.visibilityChangeEventName&&this.documentVisibilityProps.hiddenPropertyName&&window.document.addEventListener&&(window.document.addEventListener(this.documentVisibilityProps.visibilityChangeEventName,this.handleVisibilityChangeBound,!1),this.updatePageVisibility())}t.MediaPlayerController=m},"./common/components/MediaPlayer/PlaybackErrorHandler.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/services/SessionManager.ts"),r=n("./app/utility/Constants.ts"),o=n("./app/utility/appUtil.ts"),s=(a.prototype.attemptRetry=function(e){var t=this;if(this.isTokenExpired())return this.refreshTokenAndRestartPlayback(),!0;if(this.isDash401Error(e.message)||this.isFlash401Error(e.message))return sessionInfo.AccessToken=null,this.refreshTokenAndRestartPlayback(),!0;var n=a.getTechIndependentErrorCode(e);if(this.shouldAttemptFlashSSFallback(n))return this.postDelayed(a.retryDelayForAbortErrorFlashSSTechFallbackMS,(function(){t.controller.retryMediaPlayer(!1,r.Constants.AMPTechNames.Flash)})),!0;if(this.isGenericOrMediaError(n)){if(this.isActiveTechDash())return this.postDelayed(a.retryDelayForDashDecodeErrorsMS,(function(){t.controller.retryMediaPlayer(!1)})),!0;if(this.isActiveTechHtml5())return this.postDelayed(a.retryDelayForHLSMS,(function(){t.controller.retryMediaPlayer(!1)})),!0}return!!this.isFlashKeyTimeoutError(e.message)&&(this.postDelayed(a.retryDelayForFlashKeyAcquireTimeout,(function(){t.controller.retryMediaPlayer(!1)})),!0)},a.prototype.postDelayed=function(e,t){this.cancelCallback(),this.callbackTimerPromise=this.timeoutService((function(){t()}),e)},a.prototype.cancelCallback=function(){this.callbackTimerPromise&&(this.timeoutService.cancel(this.callbackTimerPromise),this.callbackTimerPromise=null)},a.prototype.dispose=function(){this.clearTokenRefreshBroadcastListener(),this.cancelCallback()},a.prototype.clearTokenRefreshBroadcastListener=function(){this.unregisterTokenRefreshCall&&this.unregisterTokenRefreshCall()},a.prototype.refreshTokenAndRestartPlayback=function(){var e=this;this.sessionManager.stop(),this.unregisterTokenRefreshCall=this.controller.receiveBroadcast(r.Constants.Events.TokenRenewedWithApiGateway,(function(){e.controller.retryMediaPlayer(!1),e.clearTokenRefreshBroadcastListener()})),this.sessionManager.start()},a.prototype.isActiveTechHtml5=function(){return this.controller.getPlayer().currentTechName()===r.Constants.AMPTechNames.Html5},a.prototype.isActiveTechDash=function(){return this.controller.getPlayer().currentTechName()===r.Constants.AMPTechNames.AzureHtml5JS},a.prototype.isTokenExpired=function(){return i.SessionManager.isTokenExpired()},a.prototype.isDash401Error=function(e){return e&&e.replace(/Http: 0x0/,"")===r.Constants.VideoPlayerErrorCode.ErrorCode_0200191},a.prototype.isFlash401Error=function(e){return e&&e===r.Constants.VideoPlayerErrorMessage.ErrorMessageKeyAcquireAuthFailFlash},a.prototype.isFlashKeyTimeoutError=function(e){return e&&e===r.Constants.VideoPlayerErrorMessage.ErrorMessageKeyAcquireTimeoutFlash},a.prototype.isDash404error=function(e){return e&&e.replace(/Http: 0x0/,"")===r.Constants.VideoPlayerErrorCode.ErrorCode_0200194},a.prototype.shouldAttemptFlashSSFallback=function(e){return e===r.Constants.VideoPlayerErrorCode.ErrorCode_0100000&&o.isIE()&&this.isActiveTechDash()&&this.controller.isFlashSSTechSupported()&&!o.isUnsupportedFlashVersionInstalled()&&!this.controller.didPlaybackStart()},a.prototype.shouldCheckForVideoAvailability=function(e){var t=a.getTechIndependentErrorCode(e);return t===r.Constants.VideoPlayerErrorCode.ErrorCode_0200194||t===r.Constants.VideoPlayerErrorCode.ErrorCode_0500005||this.isDash404error(e.message)||this.isActiveTechHtml5()&&this.isGenericOrMediaError(t)},a.prototype.isDecryptionError=function(e){return a.getTechIndependentErrorCode(e)===r.Constants.VideoPlayerErrorCode.ErrorCode_0500005},a.getTechIndependentErrorCode=function(e){var t=e.code.toString(16);return t&&t.substring(1)},a.prototype.getVideoDeletedOrReplacedErrorCode=function(e){return e.substring(0,1)+r.Constants.VideoPlayerErrorCode.ErrorCode_0200194},a.prototype.getNetworkConnectionErrorCode=function(e){return e.substring(0,1)+r.Constants.VideoPlayerErrorCode.ErrorCode_020025B},a.prototype.isGenericOrMediaError=function(e){return e==r.Constants.VideoPlayerErrorCode.ErrorCode_0300000||e==r.Constants.VideoPlayerErrorCode.ErrorCode_0000000},a.retryDelayForHLSMS=500,a.retryDelayForDashDecodeErrorsMS=1e3,a.retryDelayForAbortErrorFlashSSTechFallbackMS=50,a.retryDelayForFlashKeyAcquireTimeout=100,a);function a(e,t,n){this.controller=e,this.sessionManager=t,this.timeoutService=n,this.unregisterTokenRefreshCall=null}t.PlaybackErrorHandler=s},"./common/components/MediaPlayer/PlayerPageTelemetryBaseClass.ts":function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n("./app/models/TelemetryEventModels.ts"),o=n("./app/utility/Constants.ts"),s=n("./app/utility/appUtil.ts"),a=n("./common/components/MediaPlayer/MediaPlayerController.ts"),c=(l.prototype.setScreenName=function(e){this.telemetryTrackerBase=this.telemetryServiceBase.getTracker(e)},l.prototype.setTrafficSource=function(e){this.trafficSource=e},l.prototype.reportPlayerFeatureSuccess=function(){this.reportTelemetry()},l.prototype.summaryHeartbeat=function(e){e.triggerType!==o.Constants.AnalyticsHeartbeatTriggerTypes.CanPlaythrough||this.additionalTelemetryProperties.loaded||(this.additionalTelemetryProperties.loaded="true"),this.additionalTelemetryProperties.currentAudioTrackName=e.currentAudioTrackName;var t,n=this.extendTelemetryProperties(e),i=this.playerCustomMeasurement(this.heartbeatEventName);n.downloadFailed&&(n.downloadFailed=JSON.stringify(n.downloadFailed)),delete i.bitrateDistributions,n.isRetrying&&(delete n.errorCode,delete n.reason),n.errorCode&&"null"!==n.errorCode||delete n.errorCode,n.reason&&"null"!==n.reason||delete n.reason,n.contentSource=this.contentSource,n.contentType=this.contentType,n.ieAudioIsDisabled=s.isBrowserAudioDisabled(),this.setGOPSize(),n.GOPSize=this.GOPSize,n.timeSinceStartInMs=performance.now()-this.dataShareServiceBase.videoPlaybackLoadStartInMs||0,this.sdnUtilServiceBase.sdnSettings&&(n.sdnName=this.sdnUtilServiceBase.sdnSettings.provider),n.isCyclePresent&&n.triggerType==amp.eventName.canplaythrough&&(n.traceId=this.tracePlayerLogsAndReturnTraceId(n)),this.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.VideoPlayerHeartbeat,n,i),"undefined"!=typeof MicrosoftStream&&(t=_.assign({},n,i),MicrosoftStream.sendMessageToParent(o.Constants.PostMessages.playerEvent,{eventname:o.Constants.PostMessageSubEventNames.heartbeat,message:JSON.stringify(t)})),this.reportPlaybackQualityIssues(n,i)},Object.defineProperty(l.prototype,"playbackSummaryData",{get:function(){this.getAmpPlayer();var e=this.extendTelemetryProperties({}),t=this.playerCustomMeasurement(this.heartbeatEventName);return{playIntervals:e.playIntervals,uniquePlayIntervals:e.uniquePlayIntervals,playbackSessionId:e.playbackSessionId,playbackTech:e.PlaybackTech,playerVersion:e.PlayerVersion,duration:t.duration,currentTime:t.currentTime,currentPlaybackRate:t.CurrentPlaybackRate,endReached:t.endReached,enteredFullscreen:t.EnteredFullscreen,fullscreenTime:t.fullscreenTime,percentPlayed:t.percentPlayed,playTime:t.playTime,uniquePlayTime:t.uniquePlayTime}},enumerable:!0,configurable:!0}),l.prototype.playbackSummary=function(e){this.getAmpPlayer();var t,n=this.extendTelemetryProperties(e),i=this.playerCustomMeasurement(this.heartbeatEventName);this.setGOPSize(),n.GOPSize=this.GOPSize,n.timeSinceStartInMs=performance.now()-this.dataShareServiceBase.videoPlaybackLoadStartInMs||0,!this.playerSummarySent&&this.mediaPlayer&&(delete i.bitrateDistributions,(t={type:this.heartbeatEventName,data:n}).data.telemetryProperties={triggerType:e.triggerType},"destroy"!=e.triggerType&&this.mediaPlayer.trigger(t),this.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.VideoPlayerSummary,n,i),this.isProducerView||(this.reportPlaybackQualityIssues(n,i),this.reportPlaybackQualityNormal(n,i)),this.playerSummarySent=!0)},l.prototype.trackLiveEventStarted=function(){this.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.liveEventStarted,this.additionalTelemetryProperties)},l.prototype.trackLiveEventEnded=function(){this.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.liveEventEnded,this.additionalTelemetryProperties)},l.prototype.resetTelemetryPropertiesForSourceset=function(){this.additionalTelemetryProperties.loading&&delete this.additionalTelemetryProperties.loading,this.additionalTelemetryProperties.loaded&&delete this.additionalTelemetryProperties.loaded},l.prototype.playerEventsTracker=function(){var e=this,t={};return t[r.TelemetryEventNames.videoPlayerSourceSet]=function(){e.resetTelemetryPropertiesForSourceset(),e.timeAtSourceSet=Date.now(),e.playbackHasNotStarted=!0,e.checkPlaybackStarted(),e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoPlayerSourceSet,e.additionalTelemetryProperties)},t[r.TelemetryEventNames.videoplayerLoadStart]=function(){e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoplayerLoadStart,e.additionalTelemetryProperties)},t[r.TelemetryEventNames.videoPlayerLoaded]=function(){e.getAmpPlayer(),e.additionalTelemetryProperties.loaded=!0,e.additionalTelemetryProperties.isLive=a.getAMPPlayer().isLive();var t=angular.copy(e.additionalTelemetryProperties);e.mediaPlayer&&e.mediaPlayer.presentationTimeOffsetInSec&&(t.presentationTimeOffsetInSec=e.mediaPlayer.presentationTimeOffsetInSec()||0);var n=e.getAudioStreamList();n&&(e.additionalTelemetryProperties.currentAudioTrackName=e.getAudioTrackName(n)),e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoPlayerLoaded,t)},t[r.TelemetryEventNames.videoPlayerEnded]=function(t){var n=i({},e.additionalTelemetryProperties,{playbacksessionId:e.playbackSessionId});n=e.setHasAudioEnhancementAndAudioTrackNameValues(n,t);e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoPlayerEnded,n)},t[r.TelemetryEventNames.videoPlayerStarted]=function(t,n){var o=i({},e.additionalTelemetryProperties,{playbacksessionId:e.playbackSessionId});o=e.setHasAudioEnhancementAndAudioTrackNameValues(o,t);t&&(o.defaultAudioTrackIsEnhanced=n),e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoPlayerStarted,o)},t[r.TelemetryEventNames.videoPlayerPlay]=function(){e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoPlayerPlay,e.additionalTelemetryProperties)},t[r.TelemetryEventNames.videoPlayerPlaying]=function(){e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoPlayerPlaying,e.additionalTelemetryProperties)},t[r.TelemetryEventNames.videoPlayerPause]=function(){e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoPlayerPause,e.additionalTelemetryProperties)},t[r.TelemetryEventNames.videoPlayerSeeking]=function(){var t=i({},e.additionalTelemetryProperties);e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoPlayerSeeking,t)},t[r.TelemetryEventNames.videoPlayerFullscreen]=function(){e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoPlayerFullscreen,e.additionalTelemetryProperties)},t[r.TelemetryEventNames.videoCaptionsOn]=function(){var t=i({},e.additionalTelemetryProperties,{playbacksessionId:e.playbackSessionId});e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoCaptionsOn,t)},t[r.TelemetryEventNames.videoCaptionsOff]=function(){var t=i({},e.additionalTelemetryProperties,{playbacksessionId:e.playbackSessionId});e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoCaptionsOff,t)},t[r.TelemetryEventNames.videoPlayerWaiting]=function(){var t=e.tracePlayerLogsAndReturnTraceId(r.TelemetryEventNames.videoPlayerWaiting),n=angular.copy(e.additionalTelemetryProperties);n.traceId=t,e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoPlayerWaiting,n)},t[r.TelemetryEventNames.videoPlayerManualBitRateChanged]=function(){e.additionalTelemetryProperties.manualBitrateChanged=!0},t[r.TelemetryEventNames.audioEnhancementStateChanged]=function(){var t=i({},e.additionalTelemetryProperties,{playbacksessionId:e.playbackSessionId}),n=e.getAudioStreamList();n&&(t.currentAudioTrackName=e.getAudioTrackName(n),t.currentTime=e.mediaPlayer.currentTime()),e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.audioEnhancementStateChanged,t)},t[r.TelemetryEventNames.freClosed]=function(t){var n=i({},e.additionalTelemetryProperties,{playbacksessionId:e.playbackSessionId,feature:t});e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.freClosed,n)},t[r.TelemetryEventNames.freOpenedLearnMore]=function(t){var n=i({},e.additionalTelemetryProperties,{playbacksessionId:e.playbackSessionId,feature:t});e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.freOpenedLearnMore,n)},t[r.TelemetryEventNames.freShown]=function(t){var n=i({},e.additionalTelemetryProperties,{playbacksessionId:e.playbackSessionId,feature:t});e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.freShown,n)},t[r.TelemetryEventNames.failedToChangeAudioTrack]=function(t,n){var o=i({},e.additionalTelemetryProperties,{playbacksessionId:e.playbackSessionId,error:n});e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.failedToChangeAudioTrack,o)},t[r.TelemetryEventNames.videoPlayerAnalyticsstreamloaded]=function(t){var n,i=angular.copy(e.additionalTelemetryProperties);t&&t.loadTime>e.maxPlayerLoadTimeForTelemetryInSec&&(n=e.tracePlayerLogsAndReturnTraceId(r.TelemetryEventNames.videoPlayerAnalyticsstreamloaded),i.traceId=n),e.playbackHasNotStarted=!1,e.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.videoPlayerAnalyticsstreamloaded,i)},t},l.prototype.extendTelemetryProperties=function(e){var t,n;return e=e||{},t=_.extend(e,this.additionalTelemetryProperties),this.playerOptions.enableTelemetry&&(n=_.extend(t,this.playerCustomProperties)),n},l.prototype.sendPlayerTelemetrySummary=function(e){var t;this.mediaPlayer&&(t=this.playerCustomProperties,e&&(t.triggerType=e),t&&this.playbackSummary(t))},l.prototype.setHasAudioEnhancementAndAudioTrackNameValues=function(e,t){e.hasEnhancedAudioTrack=t;var n=this.getAudioStreamList();return n&&(e.audioTrackName=this.getAudioTrackName(n)),e},l.prototype.getAudioStreamList=function(){return this.mediaPlayer?this.mediaPlayer.currentAudioStreamList():null},l.prototype.getAudioTrackName=function(e){if(e&&e.streams&&0<e.streams.length){var t=e.enabledIndices[0];return e.streams[t].name}},l.prototype.cancelPlaybackStartTimer=function(){isNaN(this.playbackTimer)||(clearTimeout(this.playbackTimer),this.playbackTimer=NaN)},l.prototype.checkPlaybackStarted=function(){var e=this;this.cancelPlaybackStartTimer(),this.playbackTimer=setTimeout((function(){var t;e.playbackHasNotStarted||(t=r.FeatureName.VideoPlayback_LoadTimeExceededThreshold,e.isContentSourceLiveStream&&(t=r.FeatureName.LivePlayback_LoadTimeExceededThreshold),e.isProducerView&&(t=r.FeatureName.ProducerPlayback),e.telemetryTrackerBase.fail(t,null,null,e.extendTelemetryProperties({}),{loadTime:e.playbackTimeout})),e.playbackTimer=NaN}),this.playbackTimeout)},Object.defineProperty(l.prototype,"playerCustomProperties",{get:function(){var e,t;return this.getAmpPlayer(),this.mediaPlayer&&this.mediaPlayer.getTelemetryProperties&&(this.staticTelemetryProperties||(this.staticTelemetryProperties=this.mediaPlayer.getTelemetryProperties()),this.mediaPlayer.getDynamicTelemetryProperties&&(e=this.mediaPlayer.getDynamicTelemetryProperties(),this.mediaPlayerProperties=_.extend(this.staticTelemetryProperties,e))),this.mediaPlayer&&this.mediaPlayer.getChronometerData&&(t=this.mediaPlayer.getChronometerData(),this.mediaPlayerProperties=_.extend(this.staticTelemetryProperties,t)),this.playbackSessionId&&this.mediaPlayerProperties&&(this.mediaPlayerProperties.playbackSessionId=this.playbackSessionId),this.mediaPlayerProperties},enumerable:!0,configurable:!0}),l.prototype.playerCustomMeasurement=function(e){this.getAmpPlayer();var t={},n=this.mediaPlayer;return this.mediaPlayer&&n.getEventMetrics&&(t=n.getEventMetrics(e)),t},l.prototype.getAmpPlayer=function(){this.mediaPlayer||(this.mediaPlayer=a.getAMPPlayer())},l.prototype.tracePlayerLogsAndReturnTraceId=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=s.generateGuid();return this.tracePlayerLogs(e,i,t,{},n),i},l.prototype.onError=function(e,t,n,i){void 0===t&&(t=""),void 0===n&&(n=!1),void 0===i&&(i="");var a=angular.copy(this.playerCustomProperties),c=_.extend(e,this.playerCustomMeasurement(i));a.errorCode=a.errorCode||c.errorCode,a.reason=a.reason||c.reason,c.errorCode&&delete c.errorCode,c.reason&&delete c.reason,"undefined"!=typeof MicrosoftStream&&MicrosoftStream.sendMessageToParent(o.Constants.PostMessages.playerEvent,{eventname:o.Constants.PostMessageSubEventNames.error,errorcode:a.errorCode,message:a.reason,playersessionid:this.playbackSessionId}),a.resourceId=this.videoId,this.featureFlagsServiceBase.Values.VerboseLogs&&""===t&&(t=this.tracePlayerLogsAndReturnTraceId(r.TelemetryEventNames.VideoPlayerError,!1)),a.traceId=t;var l,u=a.errorCode;-1!==_.findIndex(this.warningErrorCodes,(function(e){return _.includes(u,e)}))&&(n=!0),a.loaded=!0,this.playbackHasNotStarted&&(a.loadTime=Math.round(Date.now()-this.timeAtSourceSet)),n||!sessionInfo.ApiGatewayUri?this.reportTelemetry(null,a,c,!0):(l=u&&"string"==typeof u?u[0]:null,a.errorCode=u,this.reportTelemetry(s.getErrorBucket(u),a,0===Object.keys(c).length?null:c,!1,l))},l.prototype.onPlayerRetry=function(e,t,n,i,o,s,a,c,l){void 0===n&&(n=""),void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!0),void 0===a&&(a=!1),void 0===c&&(c=""),void 0===l&&(l=""),this.dataShareServiceBase.videoPlaybackLoadStartInMs=performance.now(),this.additionalTelemetryProperties.loadTimeSinceStartInMs=0;var u,d=angular.copy(this.playerCustomProperties);s&&(u=this.playerCustomMeasurement(o));var p=_.extend(t,u);d.resourceId=this.videoId,d.manualRetry=a,c&&(d.errorCode=c),l&&(d.reason=l),d.retryCount=e,this.featureFlagsServiceBase.Values.VerboseLogs&&""===n&&(n=this.tracePlayerLogsAndReturnTraceId(r.TelemetryEventNames.VideoPlayerRetryOnError,!1)),d.traceId=n,this.telemetryTrackerBase.trackEvent(r.TelemetryEventNames.VideoPlayerRetryOnError,d,p)},l.prototype.tracePlayerLogs=function(e,t,n,i,r){if(void 0===n&&(n=!1),void 0===i&&(i={}),void 0===r&&(r=!1),this.featureFlagsServiceBase.Values.VerboseLogs&&(this.getAmpPlayer(),this.mediaPlayer)){var s=this.mediaPlayer.getMemoryLog(n),a=angular.copy(i);if(a.eventName=e,a.traceId=t,a.playbackSessionId=this.playbackSessionId,a.resourceId=this.videoId,i.errorCode&&(a.errorCode=i.errorCode),i.reason&&(a.reason=i.reason),s){for(var c=1,l=0;l<=s.length;){var u=s.substr(l,o.Constants.MaxTraceMessage);u&&(a.partNumber=c,this.telemetryTrackerBase.trackTrace(u,a),l+=o.Constants.MaxTraceMessage,c++)}r&&this.reportMediaInternals(a,e)}else{var d="no verbose traces are generated for this playback event: "+e;this.telemetryTrackerBase.trackTrace(d,a)}}},l.prototype.reportMediaInternals=function(e,t){var n,i,r,s=this;a.getAMPPlayer()&&a.getAMPPlayer().playerElement()&&0<a.getAMPPlayer().playerElement().getElementsByTagName("video").length&&(n=a.getAMPPlayer().playerElement().getElementsByTagName("video").item(0))&&(i=Number(n.getAttribute(o.Constants.ChromiumEdgeRendererIdAttributeName)),r=Number(n.getAttribute(o.Constants.ChromiumEdgePlayerIdAttributeName)),window.chrome&&window.chrome.runtime&&window.chrome.runtime.sendMessage&&window.chrome.runtime.sendMessage(o.Constants.ChromiumEdgeMediaInternalsEditorExtensionId,{api:"getLog",rendererId:i,playerId:r},(function(n){if(n){var i=s.formatMediaInternals(n);if(i)for(var r=1,a=0,c="reported media internals only for : "+t;a<=i.length;){var l=i.substr(a,o.Constants.MaxTraceMessage);l&&(e.mediaInternalsPartNumber=r,e.mediaInternals=l,s.telemetryTrackerBase.trackTrace(c,e),a+=o.Constants.MaxTraceMessage,r++)}}})))},l.prototype.formatMediaInternals=function(e){try{var t='{"value":"',n=JSON.stringify(e).replace(/\\/g,""),i=0,r=n.length;return 0===n.search(t)&&(r-=i=t.length),n.lastIndexOf('"}')==n.length-'"}'.length&&(r-='"}'.length),r!=n.length&&(n=n.substr(i,r)),n}catch(t){return e}},l.prototype.reportTelemetry=function(e,t,n,i,o){void 0===i&&(i=!1),this.telemetryTrackerBase.setResourceId(this.videoId);var s=this.playerCustomMeasurement("analyticsplaybackfinished"),a=this.extendTelemetryProperties(t),c=n||s,l=this.telemetryTrackerBase.addMetricsToProperties(a,c),u=r.FeatureName.VideoPlayback;this.isProducerView?u=r.FeatureName.ProducerPlayback:this.isContentSourceLiveStream&&(u=r.FeatureName.LivePlayback);var d="VideoPlayback_";if(this.isContentSourceLiveStream&&(d="LivePlayback_"),l.isLive=this.isContentSourceLiveStream&&!this.isCompleted&&!this.isStopping,l.playbackType=r.FeatureName[u],l.contentSource=this.contentSource,!this.isProducerView)for(var p=r.VideoPlaybackError.KeyAcquireError,A=r.VideoPlaybackError.UnknownError,m=a.errorCode;p<=A;p++){var h=r.VideoPlaybackError[p],f=d+h;p===e?(l.errorType=h,e===r.VideoPlaybackError.AESDecodeError&&"Html5"!==a.PlaybackTech&&"5"!==o?(this.telemetryTrackerBase.warn(f,null,null,a,c),this.telemetryTrackerBase.trackFeatureResult(r.AriaTelemetryEventNames.VideoPlaybackError,r.ResultType.Warning,l,null,null)):(m&&(a.errorCode=m),this.telemetryTrackerBase.fail(f,null,null,a,c),this.telemetryTrackerBase.trackFeatureResult(r.AriaTelemetryEventNames.VideoPlaybackError,r.ResultType.Failure,l,null,null))):this.cleanupErrorCodeAndReportSuccess(f,a,c)}e||(l.isWarning=i,this.telemetryTrackerBase.trackEvent(r.AriaTelemetryEventNames.VideoViewed,l)),i?this.telemetryTrackerBase.warn(u,null,null,a,c):e?this.telemetryTrackerBase.fail(u,null,null,a,c):this.cleanupErrorCodeAndReportSuccess(u,a,c)},l.prototype.cleanupErrorCodeAndReportSuccess=function(e,t,n){t.errorCode&&delete t.errorCode,this.telemetryTrackerBase.succeed(e,t,n)},l.prototype.unload=function(){this.mediaPlayer=null},l.prototype.reportPlaybackQualityIssues=function(e,t){var n=this,i=[];this.isQualityMonitoringEnabled&&(this.qualityErrorsToReport.loadTime&&t.loadTime&&portalConfiguration.PlaybackLoadTimeThreshold<t.loadTime&&(i.push(this.qualityErrorsToReport.loadTime),delete this.qualityErrorsToReport.loadTime),this.qualityErrorsToReport.failedDownloadCount&&t.failedDownloadCount&&0<t.playTime&&t.failedDownloadCount/t.playTime>portalConfiguration.PlaybackFailedDownloadCountThreshold&&(i.push(this.qualityErrorsToReport.failedDownloadCount),delete this.qualityErrorsToReport.failedDownloadCount),this.qualityErrorsToReport.rebufferCount&&t.rebufferCount&&t.seekCount&&Math.max(t.rebufferCount-t.seekCount,0)>portalConfiguration.PlaybackBufferCountThreshold&&(i.push(this.qualityErrorsToReport.rebufferCount),delete this.qualityErrorsToReport.rebufferCount),i.forEach((function(i){n.telemetryTrackerBase.fail(i+n.liveQualityOffset,null,null,e,t)})))},l.prototype.reportPlaybackQualityNormal=function(e,t){var n=this;this.isQualityMonitoringEnabled&&Object.keys(this.qualityErrorsToReport).forEach((function(e){n.telemetryTrackerBase.succeed(n.qualityErrorsToReport[e]+n.liveQualityOffset)}))},Object.defineProperty(l.prototype,"liveQualityOffset",{get:function(){return this.isContentSourceLiveStream?r.FeatureName.LivePlayback_LoadTimeExceededThreshold-r.FeatureName.VideoPlayback_LoadTimeExceededThreshold:0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isQualityMonitoringEnabled",{get:function(){return this.featureFlagsServiceBase.Values.PlaybackQualityMonitoring&&!this.isProducerView},enumerable:!0,configurable:!0}),l.prototype.setGOPSize=function(){var e,t;this.GOPSize||this.mediaPlayer&&this.mediaPlayer.videoBufferData&&(!(e=this.mediaPlayer.videoBufferData())||(t=e.downloadRequested)&&t.mediaTime&&t.durationInSec&&(this.GOPSize=Math.floor(t.durationInSec)))},l);function l(e,t,n,i,o,a){void 0===o&&(o=null),void 0===a&&(a=void 0),this.telemetryServiceBase=e,this.featureFlagsServiceBase=t,this.sdnUtilServiceBase=n,this.dataShareServiceBase=i,this.screenName=o,this.trafficSource=a,this.isContentSourceLiveStream=!1,this.playerSummarySent=!1,this.additionalTelemetryProperties={},this.additionalMetrics={},this.maxPlayerLoadTimeForTelemetryInSec=5,this.mediaPlayerProperties=null,this.staticTelemetryProperties=null,this.playbackSessionId=null,this.playerOptions={playbackUrls:null},this.playbackHasNotStarted=!0,this.warningErrorCodes=["0200000","060000"],this.playbackTimeout=3e4,this.playbackTimer=NaN,this.timeAtSourceSet=0,this.qualityErrorsToReport={loadTime:r.FeatureName.VideoPlayback_LoadTimeExceededThreshold,rebufferCount:r.FeatureName.VideoPlayback_BufferingExceededThreshold,failedDownloadCount:r.FeatureName.VideoPlayback_ChunkDownloadFailuresExceededThreshold},this.heartbeatEventName="analyticsheartbeat",this.telemetryTrackerBase=this.telemetryServiceBase.getTracker(this.screenName),this.playbackSessionId=s.generateGuid()}t.PlayerPageTelemetryBaseClass=c},"./common/components/RadioButton/RadioButton.html":function(e,t){e.exports='<div class="radio-button radio-button-{{$ctrl.uniqueId}}"> <input type=radio class="radio-button-input {{$ctrl.radioButtonUniqueClassName}} {{$ctrl.buttonModel.innerClassName}}" id={{$ctrl.buttonModel.innerClassName}} ng-model=$ctrl.model name={{$ctrl.buttonName}} value={{$ctrl.buttonModel.value}} aria-describedby={{$ctrl.describedBy}} aria-labelledby={{$ctrl.radioButtonLabelId}} ng-click=$ctrl.handleOnClick() /> <span class="ct-radio-compact {{$ctrl.outerFillUniqueClassName}}"> <span class="ct-radio-compact-inner {{$ctrl.innerFillUniqueClassName}}"></span> </span> <label class="ct-label-compact radio-button-label-wrapper {{$ctrl.buttonModel.innerClassName}}-label-wrapper" for={{$ctrl.buttonModel.innerClassName}}> <span class="radio-button-label {{$ctrl.buttonModel.innerClassName}}-label" id={{$ctrl.radioButtonLabelId}}>{{$ctrl.buttonModel.label}}</span> </label> </div> '},"./common/components/RadioButton/RadioButton.less":function(e,t){},"./common/components/RadioButton/RadioButton.ts":function(e,t,n){function i(){this.restrict="E",this.controller=r.RadioButtonController,this.template=n("./common/components/RadioButton/RadioButton.html"),this.controllerAs="$ctrl",this.bindToController=!0,this.scope={model:"=",buttonName:"@",buttonModel:"<",describedBy:"<"},this.link=function(e,t,n,i){var r=".ct-radio-compact."+i.outerFillUniqueClassName,o=".ct-radio-compact-inner."+i.innerFillUniqueClassName;e.$watch((function(){return i.model}),(function(e,n){var r,s;r=e===i.buttonModel.value?"":"none",(s=t.find(o))&&s.css("display",r)})),setTimeout((function(){var n=t.find("."+i.radioButtonUniqueClassName),o=t.find(r);n.on("focus",(function(){o&&o.addClass("focused")})),n.on("blur",(function(){o&&o.removeClass("focused")})),n.on("keyup",(function(t){t.which===s.Constants.KeyCodes.Enter&&(i.model=i.buttonModel.value,t.stopPropagation(),e.$apply())}))}),0)}}Object.defineProperty(t,"__esModule",{value:!0}),n("./common/components/RadioButton/RadioButton.less");var r=n("./common/components/RadioButton/RadioButtonController.ts"),o=n("./app/utility/appUtil.ts"),s=n("./app/utility/Constants.ts");t.RadioButton=i,o.registerDirective("radioButton",i,angular.module("jumper.common"))},"./common/components/RadioButton/RadioButtonController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./app/utility/string.ts"),o=(s.prototype.isSelected=function(){return this.model===this.buttonModel.label},Object.defineProperty(s.prototype,"radioButtonUniqueClassName",{get:function(){return r.formatString("radio-button-input-{0}",this.uniqueId)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"outerFillUniqueClassName",{get:function(){return r.formatString("ct-radio-compact-{0}",this.uniqueId)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"innerFillUniqueClassName",{get:function(){return r.formatString("radio-compact-inner-{0}",this.uniqueId)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"radioButtonLabelId",{get:function(){return r.formatString("radio-button-label-{0}",this.uniqueId)},enumerable:!0,configurable:!0}),s.prototype.handleOnClick=function(){this.buttonModel&&this.buttonModel.onClick&&this.buttonModel.onClick()},s);function s(){this.uniqueId=i.generateGuid().split("-")[0]}t.RadioButtonController=o},"./common/components/RadioButtonGroup/RadioButtonGroup.html":function(e,t){e.exports='<div class="radio-button-group radio-button-group-{{::$ctrl.id}}"> <div ng-repeat="buttonModel in $ctrl.buttonModels"> <div class="radio-button-wrapper {{buttonModel.wrapperClassName}}"> <radio-button model=$ctrl.model button-name={{$ctrl.groupName}} button-model=buttonModel described-by=$ctrl.ariaDescribedByRadioButton /> </div> </div> </div> '},"./common/components/RadioButtonGroup/RadioButtonGroup.less":function(e,t){},"./common/components/RadioButtonGroup/RadioButtonGroup.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n("./common/components/RadioButtonGroup/RadioButtonGroup.less");var i=n("./common/components/RadioButtonGroup/RadioButtonGroupController.ts"),r=n("./app/utility/appUtil.ts");function o(){this.restrict="E",this.controller=i.RadioButtonGroupController,this.template=n("./common/components/RadioButtonGroup/RadioButtonGroup.html"),this.controllerAs="$ctrl",this.bindToController=!0,this.scope={model:"=",buttonModels:"<",groupName:"@",ariaDescribedByRadioButton:"<"}}t.RadioButtonModel=function(){},t.RadioButtonGroup=o,r.registerDirective("radioButtonGroup",o,angular.module("jumper.common"))},"./common/components/RadioButtonGroup/RadioButtonGroupController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts");t.RadioButtonGroupController=function(){this.uniqueId=i.generateGuid().split("-")[0]}},"./common/components/TabNavigation/TabNavigationController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r,o=n("./common/Directives/Drawer/Drawer.ts"),s=n("./app/models/TelemetryEventModels.ts"),a=n("./app/utility/KeyCodes.ts");(r=i=t.ITabDirection||(t.ITabDirection={}))[r.horizontal=0]="horizontal",r[r.vertical=1]="vertical";var c=(l.prototype.updateDrawer=function(){var e=this;this.activeOption=this.model.options.filter((function(t){return t.value===(void 0!==e.value?e.value:e.model.options[0].value)}))[0],this.drawerItems=[],this.numTabsDisplayed=0,this.model.options.forEach((function(t){t.hide||(e.numTabsDisplayed++,t.displayIndex=e.numTabsDisplayed),t!==e.activeOption&&!0!==t.hide&&(t.afterSvgName?(e.isSvgAfterAvailable=!0,e.afterSvgName=t.afterSvgName,e.svgClassName=t.className):e.drawerItems.push(new o.DrawerItem("drawer-item",t.text,e.onTabClicked.bind(e,t))))}))},Object.defineProperty(l.prototype,"isVertical",{get:function(){return this.direction===i.vertical},enumerable:!0,configurable:!0}),l.prototype.focusActiveTab=function(){this.$element.find("button.f-active:not(.with-drawer)").focus()},l.prototype.logTabUserInteraction=function(e,t,n){this.telemetryTracker.trackEvent(e,{old:t?JSON.stringify({text:t.text,value:t.value}):void 0,new:JSON.stringify({text:n.text,value:n.value})})},l.prototype.onTabChangedInternal=function(e,t){this.logTabUserInteraction(s.TelemetryEventNames.TabChanged,e,t),this.onTabChanged&&this.onTabChanged(e,t)},l.prototype.onTabClicked=function(e){var t=this;if(!e.disable){var n=this.activeOption;return this.logTabUserInteraction(s.TelemetryEventNames.TabClicked,n,e),e.action?e.action():this.value!==e.value?this.$attrs.unSavedChange?this.unSavedChange().then((function(i){i?t.logTabUserInteraction(s.TelemetryEventNames.TabChangedCanceled,n,e):(t.value=e.value,t.onTabChangedInternal(n,e),t.onSelect({value:e.value}))})):(this.value=e.value,this.onTabChangedInternal(n,e),this.onSelect({value:e.value})):(this.value=e.value,this.onSelect({value:e.value})),this.$q.resolve()}},l.$inject=["$scope","$element","resources","$transclude","$q","$attrs","telemetryService"],l);function l(e,t,n,r,o,s,c){var l=this;function u(e){e.keyCode===a.KeyCodes.ArrowLeft&&_.get(document,"activeElement.parentNode.previousElementSibling")?(e.preventDefault(),document.activeElement.parentElement&&document.activeElement.parentElement.previousElementSibling&&document.activeElement.parentElement.previousElementSibling.querySelector("button").focus()):e.keyCode===a.KeyCodes.ArrowRight&&_.get(document,"activeElement.parentNode.nextElementSibling")&&(e.preventDefault(),document.activeElement.parentElement&&document.activeElement.parentElement.nextElementSibling&&document.activeElement.parentElement.nextElementSibling.querySelector("button").focus())}this.$scope=e,this.$element=t,this.resources=n,this.$transclude=r,this.$q=o,this.$attrs=s,this.direction=i.horizontal,this.numTabsDisplayed=0,this.fixedElements=[],this.telemetryTracker=c.getTracker(),this.initFocus&&setTimeout((function(){var e=l.$element.find("button");e.length&&e[0].focus()}),0),this.$scope.$watch((function(){return l.value}),(function(e,t){l.model&&l.updateDrawer()})),this.$scope.$watch((function(){return l.model}),(function(){l.model&&l.updateDrawer()}),!0),t.on("keydown",u),e.$on("$destroy",(function(){t.off("keydown",u),l.onInit&&l.onInit({tabNavigationController:null})})),this.onInit&&this.onInit({tabNavigationController:this})}t.TabNavigationController=c},"./common/components/TimePicker/TimePicker.html":function(e,t){e.exports='<drop-down class="time-picker-dropdown ct-dropdown-compact" options=$ctrl.timeOptions value=$ctrl.selectedTime placeholder-text=$ctrl.placeholderText value-changed=$ctrl.dropDownValueChanged(newValue) aria-label={{::$ctrl.ariaTextValue}} is-disabled=$ctrl.isDisabled show-scroll=$ctrl.showScroll ltr-content=$ctrl.ltrContent></drop-down> '},"./common/components/TimePicker/TimePicker.less":function(e,t){},"./common/components/TimePicker/TimePicker.ts":function(e,t,n){function i(){this.controller=o.TimePickerController,this.template=n("./common/components/TimePicker/TimePicker.html"),this.bindings={timeToSelect:"<",timeInterval:"<",minTime:"<",ariaText:"@?",selectedTimeChanged:"&",showScroll:"<",ltrContent:"<",isDisabled:"<"}}Object.defineProperty(t,"__esModule",{value:!0}),n("./common/components/TimePicker/TimePicker.less");var r=n("./app/utility/appUtil.ts"),o=n("./common/components/TimePicker/TimePickerController.ts");t.TimePicker=i,r.registerComponent("timePicker",i,angular.module("jumper.common"))},"./common/components/TimePicker/TimePickerController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=(r.prototype.createTimeOptions=function(){var e=n("moment"),t=e().startOf("day");this.minTime&&(t.add(this.minTime.getHours(),"hours"),t.add(this.minTime.getMinutes(),"minutes"));for(var i=e().startOf("day").add(1,"day"),r=[];i.isAfter(t);)r.push({text:t.format(this.timeFormat),value:this.convertToTimeNumber(t.toDate())}),t=t.add(this.timeInterval,"minutes");return r},r.prototype.convertToTimeNumber=function(e){return e.setFullYear(1970),e.setMonth(0),e.setDate(1),e.setSeconds(0,0),e.getTime()},r.prototype.dropDownValueChanged=function(e){this.selectedTimeChanged({newTime:new Date(e)})},Object.defineProperty(r.prototype,"ariaTextValue",{get:function(){return this.ariaText?this.ariaText:this.resources.TimePickerAriaText},enumerable:!0,configurable:!0}),r.$inject=["$scope","resources","$element"],r);function r(e,t,n){var i=this;this.$scope=e,this.resources=t,this.$element=n,this.timeFormat="h:mm A",this.timeOptions=this.createTimeOptions(),e.$watch((function(){return i.timeToSelect}),(function(e,t){var n;e&&(n=moment(e),i.selectedTime=i.convertToTimeNumber(n.toDate()),i.placeholderText=n.format(i.timeFormat))})),e.$watch((function(){return i.minTime}),(function(e,t){e!==t&&(i.timeOptions=i.createTimeOptions())})),e.$watch((function(){return i.isDisabled}),(function(e,t){var i=[n,$("drop-down",n)],r=e?function(e){return e.attr("disabled","disabled")}:function(e){return e.removeAttr("disabled")};_.forEach(i,(function(e){return r(e)}))}))}t.TimePickerController=i},"./common/components/VirtualList/VirtualList.html":function(e,t){e.exports="<div class=virtual-list-shadow-mask ng-if=$ctrl.applyShadow></div> <div class=virtual-list> <div class=virtual-list-total-padding ng-style=$ctrl.totalPadding ng-if=$ctrl.isVListEnabled></div> <div class=scrollable-content role=listbox aria-label={{::$ctrl.scrollableContentAriaLabel}} ng-style=$ctrl.scrollTransform id={{::$ctrl.listId}}> <ng-transclude></ng-transclude> </div> </div>"},"./common/components/VirtualList/VirtualList.less":function(e,t){},"./common/components/VirtualList/VirtualList.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts"),r=n("./common/components/VirtualList/VirtualListController.ts");function o(){this.controller=r.VirtualListController,this.template=n("./common/components/VirtualList/VirtualList.html"),this.bindings={items:"=",isAutoScrolling:"<",itemHeight:"<",minItemsForVlist:"<",forceUpdateToIndex:"=?",forceScrollToItem:"=?",userInteracted:"&",listId:"@",applyShadow:"<",videoId:"<",scrollableContentAriaLabel:"<"},this.transclude=!0}n("./common/components/VirtualList/VirtualList.less"),t.VirtualList=o,i.registerComponent("virtualList",o,angular.module("jumper"))},"./common/components/VirtualList/VirtualListController.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/KeyCodes.ts"),r=n("./app/models/TelemetryEventModels.ts"),o="vListUpdatedEvent",s=(Object.defineProperty(a.prototype,"scrollTransform",{get:function(){return this.isVListEnabled?{position:"absolute",transform:"translateY("+this.transformYValue+"px)"}:{position:"relative"}},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"totalPadding",{get:function(){return{height:_.sum(this.itemHeights)+"px"}},enumerable:!0,configurable:!0}),a.prototype.prepareUpdatedItems=function(){var e=this;this.updatedItems=_.map(this.items,(function(e,t){return _.extend(e,{index:t})})),this.itemHeights=_.map(this.updatedItems,(function(){return e.itemHeight||60}))},a.prototype.updateVlistUI=function(e,t){var n=this;if(void 0===t&&(t=!1),!this.isVListEnabled)return this.$scope.$parent.$vs_renderItems=this.updatedItems,void this.$scope.$emit(o);if(e!=this.lastTopIndex||t){if(e>=this.lastTopIndex&&e<=this.lastTopIndex+3)for(var i=0;i<e-this.lastTopIndex;i++)this.transformYValue+=this.itemHeights[i+this.lastTopIndex];else if(e<this.lastTopIndex&&e>=this.lastTopIndex-3)for(i=this.lastTopIndex-1;e<=i;i--)this.transformYValue-=this.itemHeights[i];else this.transformYValue=_.sum(this.itemHeights.slice(0,e));this.lastTopIndex=e;var r=Math.min(this.updatedItems.length-20,this.lastTopIndex),s=this.updatedItems.slice(r,Math.min(this.updatedItems.length,r+20));this.$scope.$parent.$vs_renderItems=s,this.$scope.$emit(o),this.$timeout((function(){for(var e=$("[vlist-index]"),t=0;t<e.length;t++){var i=e[t].getAttribute("vlist-index");n.itemHeights[i]=e[t].scrollHeight}}))}},a.prototype.monitorScroll=function(){var e=this,t=$(".virtual-list");t.scroll(_.debounce((function(){for(var n=0,i=0,r=0;r<e.itemHeights.length&&(n=r,!((i+=e.itemHeights[r])>t[0].scrollTop+t[0].clientHeight/2));r++);var o=Math.min(e.updatedItems.length-20,Math.max(0,n-10));e.updateVlistUI(o)}),10))},a.prototype.monitorUserInteraction=function(){function e(){t.userInteractedWithScroll()}var t=this,n=this.$element.find(".virtual-list");n[0].addEventListener("wheel",e),n.mousedown((function(e){var i=e.pageX-n.offset().left,r=n.css("border-left-width"),o=n.css("border-right-width"),s=0,a=0;try{s=parseInt(r),a=parseInt(o)}catch(e){}var c=n[0].offsetWidth-n[0].clientWidth-s-a,l=s+n[0].clientWidth;l<=i&&i<=l+c&&t.userInteractedWithScroll()})),n.keydown((function(e){e.keyCode!==i.KeyCodes.Tab&&e.keyCode!==i.KeyCodes.PageUp&&e.keyCode!==i.KeyCodes.PageDown||t.userInteractedWithScroll()})),this.$scope.$on("$destroy",(function(){n[0].removeEventListener("wheel",e),n.off("mousedown"),n.off("keydown")})),this.$scope.$watch((function(){return n.scrollTop()}),(function(e,n){if(void 0!==e&&void 0!==n&&e!==n&&!t.isScrollingBecauseOfScrollTo){if(t.wasScrollingBecauseOfScrollTo)return void(t.wasScrollingBecauseOfScrollTo=!1);t.userInteractedWithScroll()}}))},a.prototype.userInteractedWithScroll=function(){this.lastFocusedItem=null,this.userInteracted(),this.featureTelemetryTracker.trackEvent(r.TelemetryEventNames.userScrollTranscriptPane)},Object.defineProperty(a.prototype,"isVListEnabled",{get:function(){return this.updatedItems.length>(this.minItemsForVlist||100)},enumerable:!0,configurable:!0}),a.prototype.scrollTo=function(e){var t,n,i,r,o,s,a,c=this;!e||this.lastFocusedItem===e||-1!==(t=this.items.indexOf(e))&&(n=this.$element.find(".virtual-list"),i=this.$element.find("[vlist-index="+t+"]"),r=this.$element.find(".scrollable-content"),o=n.innerHeight(),s=i.innerHeight(),a=i.position().top+r.position().top-(o-s)/2,n.stop(),this.isScrollingBecauseOfScrollTo=!0,n.animate({scrollTop:a},500,(function(){c.isScrollingBecauseOfScrollTo=!1,c.wasScrollingBecauseOfScrollTo=!0})),this.lastFocusedItem=e)},a.$inject=["$scope","$timeout","$element","telemetryService"],a);function a(e,t,n,i){var o=this;this.$scope=e,this.$timeout=t,this.$element=n,this.telemetryService=i,this.forceUpdateToIndex=-1,this.transformYValue=0,this.lastTopIndex=0,this.itemHeights=[],this.isScrollingBecauseOfScrollTo=!1,this.wasScrollingBecauseOfScrollTo=!1,this.prepareUpdatedItems(),this.updateVlistUI(this.lastTopIndex,!0),this.monitorScroll(),this.monitorUserInteraction(),this.$scope.$watch((function(){return o.forceUpdateToIndex}),(function(e){_.isNumber(e)&&0<=e&&(o.updateVlistUI(Math.max(0,e-10)),o.forceUpdateToIndex=-1)})),this.$scope.$watch((function(){return o.items}),(function(){o.prepareUpdatedItems(),o.updateVlistUI(0,!0)})),this.$scope.$watch((function(){return o.forceScrollToItem}),(function(e){e&&(o.scrollTo(e),o.forceScrollToItem=null)})),this.featureTelemetryTracker=this.telemetryService.getTracker(r.ScreenName.Video,r.ResourceType.VideoEvent,this.videoId,!1)}t.VirtualListController=s},"./common/services/AzureBlobUploaderService/AzureBlobUploader.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r,o=n("./common/services/AzureBlobUploaderService/FileReaderHelper.ts");t.uploadCanceledbyUserError="upload Canceled by user",(r=i=t.UploadStatus||(t.UploadStatus={}))[r.Invalid=0]="Invalid",r[r.Pending=1]="Pending",r[r.Uploading=2]="Uploading",r[r.Paused=3]="Paused",r[r.Complete=4]="Complete",r[r.Canceled=5]="Canceled";var s=function(){this.status=i.Pending,this.progressPercent=0};t.UploadInfo=s;var a=(c.prototype.startUploadToAzureBlob=function(){return this.defer=this.$q.defer(),this.uploadInfo.status=i.Uploading,this._readChunkAndUpload(),this.defer.promise},c.prototype.cancelUpload=function(){if(!this._canceled)switch(this._canceled=!0,this.uploadInfo.status){case i.Pending:case i.Uploading:case i.Paused:this.uploadInfo.status=i.Canceled}this.defer.reject({reason:t.uploadCanceledbyUserError})},c.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._fileReaderHelper&&(this._fileReaderHelper.dispose(),this._fileReaderHelper=null))},c.prototype._readChunkAndUpload=function(){var e=this;this._fileReaderHelper.readNextChunk().then((function(t){e._isCanceledOrDisposed()||setTimeout((function(){e._processFileReadResult(t)}),1)}))},c.prototype._processFileReadResult=function(e){var t=this;switch(e.status){case o.FileReadStatus.Invalid:this._handleUploadRuntimeError(e.errorMessage?e.errorMessage:this.resources.Services.AzureBlobUploader.failedMessage);break;case o.FileReadStatus.Reading:case o.FileReadStatus.Complete:this._uploadBlockBlobToTargetSasUri(e.content).then((function(){var n;t._isCanceledOrDisposed()||(e.endByte!==t.uploadInfo.size?(n=Math.round(100*e.progressPercent),t.uploadInfo.progressPercent=n,t.defer.notify(n),t._readChunkAndUpload()):t._commitBlockBlobUpload().then((function(){t._isCanceledOrDisposed()||t._handleUploadCompletion()}),(function(e){t._handleUploadRuntimeError(e)})))}),(function(e){t._handleUploadRuntimeError(e)}));break;case o.FileReadStatus.Canceled:}},c.prototype._isCanceledOrDisposed=function(){return this._canceled||this._disposed},c.prototype._handleUploadCompletion=function(){this.uploadInfo.progressPercent=100,this.uploadInfo.status=i.Complete,this.defer.resolve()},c.prototype._handleUploadRuntimeError=function(e){this.uploadInfo.status=i.Invalid,this.defer.reject(e)},c.prototype._uploadBlockBlobToTargetSasUri=function(e){var t=this,n=this._generateBlockId(this._blockIds.length);this._blockIds.push(btoa(n));var i=this.sasUrl+"&comp=block&blockid="+this._blockIds[this._blockIds.length-1];return this._retryPromise((function(){return t.$http.put(i,e,{headers:{"x-ms-blob-type":"BlockBlob"},transformRequest:function(e,t){return delete t().Authorization,e}})}))},c.prototype._commitBlockBlobUpload=function(){var e=this,t=this.sasUrl+"&comp=blocklist";return this._retryPromise((function(){var n={headers:{"x-ms-blob-content-type":e.file.type},transformRequest:function(e,t){return delete t().Authorization,e}};return e.$http.put(t,e._createCommitRequest(),n)}))},c.prototype._createCommitRequest=function(){for(var e='<?xml version="1.0" encoding="utf-8"?><BlockList>',t=0;t<this._blockIds.length;t++)e+="<Latest>"+this._blockIds[t]+"</Latest>";return e+"</BlockList>"},c.prototype._generateBlockId=function(e){for(var t=""+e;t.length<8;)t="0"+t;return"block-"+t},c.prototype._retryPromise=function(e,t,n,i){void 0===t&&(t=3),void 0===n&&(n=1e3),void 0===i&&(i=1);var r=this.$q.defer();return this._retryPromiseWorker(e,r,t,1,i,n),r.promise},c.prototype._retryPromiseWorker=function(e,t,n,i,r,o,s){var a=this;void 0===s&&(s=null),n<i?t.reject(this.resources.Services.AzureBlobUploader.failedMessage):e().then(t.resolve,(function(s){a._isTransientHttpError(s.status)?setTimeout((function(){a._retryPromiseWorker(e,t,n,i+1,r,o*(1+r))}),o):t.reject(a.resources.Services.AzureBlobUploader.failedMessage)}))},c.prototype._isTransientHttpError=function(e){switch(e){case 408:case 504:case 502:case 500:case 503:case-1:return!0;default:return!1}},c);function c(e,t,n,i,r,o,a){var c=this;this.$q=e,this.$http=t,this.resources=n,this.file=o,this.sasUrl=a,this._blockIds=new Array,this._canceled=!1,this._disposed=!1,this.uploadInfo=new s,this.uploadInfo.name=o.name,this.uploadInfo.mimetype=o.type,this.uploadInfo.size=o.size,this._fileReaderHelper=i(o),r&&r.$on("$destroy",(function(){c.dispose()}))}t.AzureBlobUploader=a,angular.module("jumper.common").factory("azureBlobUploaderService",["$q","$http","resources","fileReaderHelperService",function(e,t,n,i){return function(r,o,s){return new a(e,t,n,i,r,o,s)}}])},"./common/services/AzureBlobUploaderService/FileReaderHelper.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r,o=n("./app/utility/string.ts");(r=i=t.FileReadStatus||(t.FileReadStatus={}))[r.Invalid=0]="Invalid",r[r.Reading=1]="Reading",r[r.Complete=2]="Complete",r[r.Canceled=3]="Canceled";var s=function(){this.status=i.Reading,this.content=null,this.startByte=0,this.endByte=0,this.progressPercent=0,this.errorMessage=null};t.FileReadResult=s;var a=(c.prototype.readNextChunk=function(e){var t,n=this,r=this.$q.defer(),a=e|this.chunkSize,c=this.startByte+a;0<this.file.size?c>this.file.size&&(c=this.file.size):(t=this._getInvalidFileReadResult(o.formatString(this.resources.Services.FileReaderHelper.fileHasNoContentMessage,this.fileName)),r.reject(t)),this.reader.onload=function(e){var t=new s;n.file?(t.content=e.target.result,t.progressPercent=c/n.file.size,1<=t.progressPercent?(t.progressPercent=1,t.status=i.Complete):t.status=i.Reading,t.startByte=n.startByte,t.endByte=c,n.startByte=c):t=n._getInvalidFileReadResult(o.formatString(n.resources.Services.FileReaderHelper.fileReadAbortedMessage,n.fileName)),r.resolve(t)},this.reader.onerror=function(e){var t=n._getFileReadErrorMessage(e),i=n._getInvalidFileReadResult(t);r.resolve(i)};var l=this.file.slice(this.startByte,c,this.file.type);return this.reader.readAsArrayBuffer(l),r.promise},c.prototype.dispose=function(){this.file&&(this.file=null)},c.prototype._getFileReadErrorMessage=function(e){var t;switch(e.target.error.code){case e.target.error.NOT_FOUND_ERR:t="File is not found: "+e.target.error.code;break;case e.target.error.NOT_READABLE_ERR:t="File is not readable: "+e.target.error.code;break;case e.target.error.ABORT_ERR:t="Reading the file was cancelled: "+e.target.error.code;break;default:t="An error occurred when reading file "+e.target.error.code}return t},c.prototype._getInvalidFileReadResult=function(e){var t=new s;return t.status=i.Invalid,t.errorMessage=e,t},c);function c(e,t,n,i){this.$q=e,this.resources=t,this.file=n,this.resources=t;var r=$.extend({},i);this.startByte=0,this.fileName=n.name,this.chunkSize=4194304|r.chunkSize,this.encoding=r.encoding,this.reader=new FileReader}t.FileReaderHelper=a,angular.module("jumper.common").factory("fileReaderHelperService",["$q","resources",function(e,t){return function(n,i){return new a(e,t,n,i)}}])},"./common/services/SDNPlugin/SDNPluginService.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./app/utility/appUtil.ts");function r(e){return!!(e[t.SdnPluginQueryStringKeys.Url]&&e[t.SdnPluginQueryStringKeys.Name]&&e[t.SdnPluginQueryStringKeys.Providerconfig])}t.SdnPluginQueryStringKeys={Url:"sdnplugintesturl",Name:"sdnpluginname",Providerconfig:"sdnproviderconfig"};var o=(s.prototype.getSdnUrl=function(){return r(this.urlQueryParams)?this.urlQueryParams[t.SdnPluginQueryStringKeys.Url]:null},s.prototype.getSdnPluginName=function(){return r(this.urlQueryParams)?this.urlQueryParams[t.SdnPluginQueryStringKeys.Name]:null},Object.defineProperty(s.prototype,"safeToLoadSdnPlugin",{get:function(){return this.featureFlagsService.Values.SdnPluginPlayer&&"0"===portalConfiguration.RingNumber},enumerable:!0,configurable:!0}),s.prototype.checkIfSdnEnabled=function(){return this.safeToLoadSdnPlugin&&r(this.urlQueryParams)},s.prototype.loadPluginScript=function(){var e;return this.promise||(e=this.getSdnUrl(),$.ajaxSetup({cache:!0}),this.promise=this.$q.when($.getScript(e))),this.promise},s.prototype.getPlayerOptions=function(e,n,i){var r,o=this.getSdnPluginName();return o&&(_.forEach(e.playbackUrls,(function(e){e.sdnList=[{videoId:n,providerAuthenticationToken:i,sdnName:o}]})),(r=this.navigationService.getQueryParamValue(t.SdnPluginQueryStringKeys.Providerconfig,!1))&&(e.plugins=e.plugins||{},e.plugins[o]={sessionId:sessionInfo.ClientSessionId,providerConfiguration:r})),e},s.$inject=["$q","navigationService","featureFlagsService"],s);function s(e,n,i){this.$q=e,this.navigationService=n,this.featureFlagsService=i,this.urlQueryParams={},this.urlQueryParams[t.SdnPluginQueryStringKeys.Url]=this.navigationService.getQueryParamValue(t.SdnPluginQueryStringKeys.Url,!1),this.urlQueryParams[t.SdnPluginQueryStringKeys.Name]=this.navigationService.getQueryParamValue(t.SdnPluginQueryStringKeys.Name,!1),this.urlQueryParams[t.SdnPluginQueryStringKeys.Providerconfig]=this.navigationService.getQueryParamValue(t.SdnPluginQueryStringKeys.Providerconfig,!1)}t.SDNPluginService=o,i.registerService("sdnPluginService",o,angular.module("jumper.common"))},"./cssmodules/cultureInfo.js":function(e,t){e.exports=[{value:"ar",text:"العربية",LCID:"1",LCIDHexa:"0x0001"},{value:"bg",text:"български",LCID:"2",LCIDHexa:"0x0002"},{value:"ca",text:"català",LCID:"3",LCIDHexa:"0x0003"},{value:"cs",text:"čeština",LCID:"5",LCIDHexa:"0x0005"},{value:"da",text:"dansk",LCID:"6",LCIDHexa:"0x0006"},{value:"de",text:"Deutsch",LCID:"7",LCIDHexa:"0x0007"},{value:"el",text:"Ελληνικά",LCID:"8",LCIDHexa:"0x0008"},{value:"en",text:"English",LCID:"9",LCIDHexa:"0x0009"},{value:"es",text:"español",LCID:"10",LCIDHexa:"0x000A"},{value:"et",text:"eesti",LCID:"37",LCIDHexa:"0x0025"},{value:"eu",text:"euskara",LCID:"45",LCIDHexa:"0x002D"},{value:"fi",text:"suomi",LCID:"11",LCIDHexa:"0x000B"},{value:"fr",text:"français",LCID:"12",LCIDHexa:"0x000C"},{value:"gl",text:"galego",LCID:"86",LCIDHexa:"0x0056"},{value:"he",text:"עברית",LCID:"13",LCIDHexa:"0x000D"},{value:"hr",text:"hrvatski",LCID:"26",LCIDHexa:"0x001A"},{value:"hu",text:"magyar",LCID:"14",LCIDHexa:"0x000E"},{value:"id",text:"Indonesia",LCID:"33",LCIDHexa:"0x0021"},{value:"it",text:"italiano",LCID:"16",LCIDHexa:"0x0010"},{value:"ja",text:"日本語",LCID:"17",LCIDHexa:"0x0011"},{value:"ko",text:"한국어",LCID:"18",LCIDHexa:"0x0012"},{value:"lt",text:"lietuvių",LCID:"39",LCIDHexa:"0x0027"},{value:"lv",text:"latviešu",LCID:"38",LCIDHexa:"0x0026"},{value:"nb",text:"norsk bokmål",LCID:"31764",LCIDHexa:"0x7C14"},{value:"nl",text:"Nederlands",LCID:"19",LCIDHexa:"0x0013"},{value:"pl",text:"polski",LCID:"21",LCIDHexa:"0x0015"},{value:"pt-br",text:"português (Brasil)",LCID:"1046",LCIDHexa:"0x0416"},{value:"pt-pt",text:"português (Portugal)",LCID:"2070",LCIDHexa:"0x0816"},{value:"qps",text:"Psuedo Lang",LCID:"0000",LCIDHexa:"0x0"},{value:"ro",text:"română",LCID:"24",LCIDHexa:"0x0018"},{value:"ru",text:"русский",LCID:"25",LCIDHexa:"0x0019"},{value:"sk",text:"slovenčina",LCID:"27",LCIDHexa:"0x001B"},{value:"sl",text:"slovenščina",LCID:"36",LCIDHexa:"0x0024"},{value:"sr-cyrl-rs",text:"српски (Србија)",LCID:"10266",LCIDHexa:"0x281A"},{value:"sr-latn-rs",text:"srpski (Srbija)",LCID:"9242",LCIDHexa:"0x241A"},{value:"sv",text:"svenska",LCID:"29",LCIDHexa:"0x001D"},{value:"th",text:"ไทย",LCID:"30",LCIDHexa:"0x001E"},{value:"tr",text:"Türkçe",LCID:"31",LCIDHexa:"0x001F"},{value:"uk",text:"українська",LCID:"34",LCIDHexa:"0x0022"},{value:"vi",text:"Tiếng Việt",LCID:"42",LCIDHexa:"0x002A"},{value:"zh-hans",text:"中文(简体)",LCID:"4",LCIDHexa:"0x0004"},{value:"zh-hant",text:"中文(繁體)",LCID:"31748",LCIDHexa:"0x7C04"}]},"./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/EventsDiscardedReason.js":function(e,t,n){"use strict";n.r(t),n.d(t,"EventsDiscardedReason",(function(){return i}));var i={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}},"./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/LoggingEnums.js":function(e,t,n){"use strict";var i,r;n.r(t),n.d(t,"LoggingSeverity",(function(){return i})),n.d(t,"_InternalMessageId",(function(){return o})),(r=i=i||{})[r.CRITICAL=1]="CRITICAL",r[r.WARNING=2]="WARNING";var o={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72}},"./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Interfaces/IChannelControls.js":function(e,t,n){"use strict";n.r(t),n.d(t,"MinChannelPriorty",(function(){return i}));var i=100},"./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/AppInsightsCore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AppInsightsCore",(function(){return u}));var i,r=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/BaseCore.js"),s=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/EventsDiscardedReason.js"),a=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/NotificationManager.js"),c=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/CoreUtils.js"),l=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/DiagnosticLogger.js"),u=(i=o.BaseCore,r.__extends(d,i),d.prototype.initialize=function(e,t){this._notificationManager=new a.NotificationManager,this.logger=new l.DiagnosticLogger(e),this.config=e,i.prototype.initialize.call(this,e,t,this.logger,this._notificationManager)},d.prototype.getTransmissionControls=function(){return i.prototype.getTransmissionControls.call(this)},d.prototype.track=function(e){if(null===e)throw this._notifyInvalidEvent(e),Error("Invalid telemetry item");this._validateTelemetryItem(e),i.prototype.track.call(this,e)},d.prototype.addNotificationListener=function(e){this._notificationManager&&this._notificationManager.addNotificationListener(e)},d.prototype.removeNotificationListener=function(e){this._notificationManager&&this._notificationManager.removeNotificationListener(e)},d.prototype.pollInternalLogs=function(e){var t=this,n=this.config.diagnosticLogInterval;return 0<n||(n=1e4),setInterval((function(){var n=t.logger?t.logger.queue:[];n.forEach((function(n){var i={name:e||"InternalMessageId: "+n.messageId,iKey:t.config.instrumentationKey,time:(new Date).toISOString(),baseType:l._InternalLogMessage.dataType,baseData:{message:n.message}};t.track(i)})),n.length=0}),n)},d.prototype._validateTelemetryItem=function(e){if(c.CoreUtils.isNullOrUndefined(e.name))throw this._notifyInvalidEvent(e),Error("telemetry name required")},d.prototype._notifyInvalidEvent=function(e){this._notificationManager&&this._notificationManager.eventsDiscarded([e],s.EventsDiscardedReason.InvalidEvent)},d);function d(){return i.call(this)||this}},"./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/BaseCore.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BaseCore",(function(){return o}));var i=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/CoreUtils.js"),r=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/ChannelController.js"),o=(s.prototype.initialize=function(e,t,n,r){var o=this;if(this._isInitialized)throw Error("Core should not be initialized more than once");if(!e||i.CoreUtils.isNullOrUndefined(e.instrumentationKey))throw Error("Please provide instrumentation key");this.config=e,this._notificationManager=r,this._notificationManager||(this._notificationManager=Object.create({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){}})),this.config.extensions=i.CoreUtils.isNullOrUndefined(this.config.extensions)?[]:this.config.extensions,this.config.extensionConfig=i.CoreUtils.isNullOrUndefined(this.config.extensionConfig)?{}:this.config.extensionConfig,this._notificationManager&&(this.config.extensionConfig.NotificationManager=this._notificationManager),this.logger=n,this.logger||(this.logger=Object.create({throwInternal:function(e,t,n,i,r){void 0===r&&(r=!1)},warnToConsole:function(e){},resetInternalMessageCount:function(){}})),(a=this._extensions).push.apply(a,t.concat(this.config.extensions)),this._extensions.forEach((function(e){var t=!0;if((i.CoreUtils.isNullOrUndefined(e)||i.CoreUtils.isNullOrUndefined(e.initialize))&&(t=!1),!t)throw Error("Extensions must provide callback to initialize")})),this._extensions.push(this._channelController),this._extensions=this._extensions.sort((function(e,t){var n=typeof e.processTelemetry,i=typeof t.processTelemetry;return"function"==n&&"function"==i?e.priority-t.priority:"function"==n&&"function"!=i?1:"function"!=n&&"function"==i?-1:void 0}));var s={};this._extensions.forEach((function(e){var t=e;t&&t.priority&&(i.CoreUtils.isNullOrUndefined(s[t.priority])?s[t.priority]=t.identifier:o.logger&&o.logger.warnToConsole("Two extensions have same priority"+s[t.priority]+", "+t.identifier))}));for(var a,c=-1,l=0;l<this._extensions.length-1;l++){var u=this._extensions[l];if(!u||"function"==typeof u.processTelemetry){if(u.priority===this._channelController.priority){c=l+1;break}this._extensions[l].setNextPlugin(this._extensions[l+1])}}if(this._channelController.initialize(this.config,this,this._extensions),this._extensions.forEach((function(e){e&&e.priority<o._channelController.priority&&e.initialize(o.config,o,o._extensions)})),c<this._extensions.length&&this._extensions.splice(c),0===this.getTransmissionControls().length)throw new Error("No channels available");this._isInitialized=!0},s.prototype.getTransmissionControls=function(){return this._channelController.ChannelControls},s.prototype.track=function(e){e.iKey||(e.iKey=this.config.instrumentationKey),e.time||(e.time=(new Date).toISOString()),i.CoreUtils.isNullOrUndefined(e.ver)&&(e.ver="4.0"),0===this._extensions.length&&this._channelController.processTelemetry(e);for(var t=0;t<this._extensions.length;){if(this._extensions[t].processTelemetry){this._extensions[t].processTelemetry(e);break}t++}},s);function s(){this._isInitialized=!1,this._extensions=new Array,this._channelController=new r.ChannelController}},"./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/ChannelController.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ChannelController",(function(){return r}));var i=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/CoreUtils.js"),r=(o.prototype.processTelemetry=function(e){this.channelQueue.forEach((function(t){0<t.length&&t[0].processTelemetry(e)}))},Object.defineProperty(o.prototype,"ChannelControls",{get:function(){return this.channelQueue},enumerable:!0,configurable:!0}),o.prototype.initialize=function(e,t,n){var r,o=this;e.isCookieUseDisabled&&i.CoreUtils.disableCookies(),this.channelQueue=new Array,e.channels&&e.channels.forEach((function(i){if(i&&0<i.length){i=i.sort((function(e,t){return e.priority-t.priority}));for(var s=1;s<i.length;s++)i[s-1].setNextPlugin(i[s]);if(i.forEach((function(i){i.priority<500&&(r=i.identifier),i.initialize(e,t,n)})),r)throw Error("Channel has invalid priority"+r);o.channelQueue.push(i)}}));for(var s=new Array,a=0;a<n.length;a++){var c=n[a];500<c.priority&&s.push(c)}if(0<s.length){for(s=s.sort((function(e,t){return e.priority-t.priority})),a=1;a<s.length;a++)s[a-1].setNextPlugin(s[a]);s.forEach((function(i){return i.initialize(e,t,n)})),this.channelQueue.push(s)}},o);function o(){this.identifier="ChannelControllerPlugin",this.priority=500}},"./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/CoreUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CoreUtils",(function(){return i}));var i=(r.isNullOrUndefined=function(e){return null==e},r.disableCookies=function(){r._canUseCookies=!1},r.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(o,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},r);function r(){}var o=/[xy]/g},"./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/DiagnosticLogger.js":function(e,t,n){"use strict";n.r(t),n.d(t,"_InternalLogMessage",(function(){return o})),n.d(t,"DiagnosticLogger",(function(){return a}));var i=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/LoggingEnums.js"),r=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/CoreUtils.js"),o=(s.sanitizeDiagnosticText=function(e){return'"'+e.replace(/\"/g,"")+'"'},s.dataType="MessageData",s.AiNonUserActionablePrefix="AI (Internal): ",s.AiUserActionablePrefix="AI: ",s);function s(e,t,n,i){void 0===n&&(n=!1),this.messageId=e,this.message=(n?s.AiUserActionablePrefix:s.AiNonUserActionablePrefix)+e;var r=(t?" message:"+s.sanitizeDiagnosticText(t):"")+(i?" props:"+s.sanitizeDiagnosticText(JSON.stringify(i)):"");this.message+=r}var a=(c.prototype.throwInternal=function(e,t,n,r,s){void 0===s&&(s=!1);var a,c=new o(t,n,s,r);if(this.enableDebugExceptions())throw c;void 0!==c&&c&&void 0!==c.message&&(s?(a=+c.messageId,(!this._messageLogged[a]||this.consoleLoggingLevel()>=i.LoggingSeverity.WARNING)&&(this.warnToConsole(c.message),this._messageLogged[a]=!0)):this.consoleLoggingLevel()>=i.LoggingSeverity.WARNING&&this.warnToConsole(c.message),this.logInternalMessage(e,c))},c.prototype.warnToConsole=function(e){"undefined"!=typeof console&&console&&("function"==typeof console.warn?console.warn(e):"function"==typeof console.log&&console.log(e))},c.prototype.resetInternalMessageCount=function(){this._messageCount=0,this._messageLogged={}},c.prototype.logInternalMessage=function(e,t){var n,r,s,a;this._areInternalMessagesThrottled()||(n=!0,r=this.AIInternalMessagePrefix+t.messageId,this._messageLogged[r]?n=!1:this._messageLogged[r]=!0,n&&(e<=this.telemetryLoggingLevel()&&(this.queue.push(t),this._messageCount++),this._messageCount===this.maxInternalMessageLimit()&&(s="Internal events throttle limit per PageView reached for this app.",a=new o(i._InternalMessageId.MessageLimitPerPVExceeded,s,!1),this.queue.push(a),this.warnToConsole(s))))},c.prototype._areInternalMessagesThrottled=function(){return this._messageCount>=this.maxInternalMessageLimit()},c);function c(e){this.queue=[],this.AIInternalMessagePrefix="AITR_",this._messageCount=0,this._messageLogged={},this.enableDebugExceptions=function(){return!1},this.consoleLoggingLevel=function(){return 0},this.telemetryLoggingLevel=function(){return 1},this.maxInternalMessageLimit=function(){return 25},r.CoreUtils.isNullOrUndefined(e)||(r.CoreUtils.isNullOrUndefined(e.loggingLevelConsole)||(this.consoleLoggingLevel=function(){return e.loggingLevelConsole}),r.CoreUtils.isNullOrUndefined(e.loggingLevelTelemetry)||(this.telemetryLoggingLevel=function(){return e.loggingLevelTelemetry}),r.CoreUtils.isNullOrUndefined(e.maxMessageLimit)||(this.maxInternalMessageLimit=function(){return e.maxMessageLimit}),r.CoreUtils.isNullOrUndefined(e.enableDebugExceptions)||(this.enableDebugExceptions=function(){return e.enableDebugExceptions}))}},"./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/NotificationManager.js":function(e,t,n){"use strict";n.r(t),n.d(t,"NotificationManager",(function(){return i}));var i=(r.prototype.addNotificationListener=function(e){this.listeners.push(e)},r.prototype.removeNotificationListener=function(e){for(var t=this.listeners.indexOf(e);-1<t;)this.listeners.splice(t,1),t=this.listeners.indexOf(e)},r.prototype.eventsSent=function(e){for(var t=this,n=this,i=0;i<this.listeners.length;++i)!function(i){n.listeners[i].eventsSent&&setTimeout((function(){return t.listeners[i].eventsSent(e)}),0)}(i)},r.prototype.eventsDiscarded=function(e,t){for(var n=this,i=this,r=0;r<this.listeners.length;++r)!function(r){i.listeners[r].eventsDiscarded&&setTimeout((function(){return n.listeners[r].eventsDiscarded(e,t)}),0)}(r)},r);function r(){this.listeners=[]}},"./node_modules/@microsoft/applicationinsights-core-js/dist-esm/applicationinsights-core-js.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Interfaces/IChannelControls.js");n.d(t,"MinChannelPriorty",(function(){return i.MinChannelPriorty}));var r=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/EventsDiscardedReason.js");n.d(t,"EventsDiscardedReason",(function(){return r.EventsDiscardedReason}));var o=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/AppInsightsCore.js");n.d(t,"AppInsightsCore",(function(){return o.AppInsightsCore}));var s=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/BaseCore.js");n.d(t,"BaseCore",(function(){return s.BaseCore}));var a=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/CoreUtils.js");n.d(t,"CoreUtils",(function(){return a.CoreUtils}));var c=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/NotificationManager.js");n.d(t,"NotificationManager",(function(){return c.NotificationManager}));var l=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK/DiagnosticLogger.js");n.d(t,"DiagnosticLogger",(function(){return l.DiagnosticLogger})),n.d(t,"_InternalLogMessage",(function(){return l._InternalLogMessage}));var u=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/JavaScriptSDK.Enums/LoggingEnums.js");n.d(t,"_InternalMessageId",(function(){return u._InternalMessageId})),n.d(t,"LoggingSeverity",(function(){return u.LoggingSeverity}))},"./node_modules/@microsoft/load-themed-styles/lib-es6/index.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"loadStyles",(function(){return u})),n.d(t,"configureLoadStyles",(function(){return d})),n.d(t,"configureRunMode",(function(){return p})),n.d(t,"flush",(function(){return A})),n.d(t,"loadTheme",(function(){return h})),n.d(t,"clearStyles",(function(){return f})),n.d(t,"detokenize",(function(){return v})),n.d(t,"splitStyles",(function(){return S}));var i=function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r="undefined"==typeof window?e:window,o=r&&r.CSPSettings&&r.CSPSettings.nonce,s=function(){var e=r.__themeState__||{theme:void 0,lastStyleElement:void 0,registeredStyles:[]};return e.runState||(e=i({},e,{perf:{count:0,duration:0},runState:{flushTimer:0,mode:0,buffer:[]}})),e.registeredThemableStyles||(e=i({},e,{registeredThemableStyles:[]})),r.__themeState__=e}(),a=/[\'\"]\[theme:\s*(\w+)\s*(?:\,\s*default:\s*([\\"\']?[\.\,\(\)\#\-\s\w]*[\.\,\(\)\#\-\w][\"\']?))?\s*\][\'\"]/g,c=function(){return"undefined"!=typeof performance&&performance.now?performance.now():Date.now()};function l(e){var t=c();e();var n=c();s.perf.duration+=n-t}function u(e,t){void 0===t&&(t=!1),l((function(){var n=Array.isArray(e)?e:S(e),i=s.runState,r=i.mode,o=i.buffer,a=i.flushTimer;t||1===r?(o.push(n),a||(s.runState.flushTimer=setTimeout((function(){s.runState.flushTimer=0,A()}),0))):m(n)}))}function d(e){s.loadStyles=e}function p(e){s.runState.mode=e}function A(){l((function(){var e=s.runState.buffer.slice();s.runState.buffer=[];var t=[].concat.apply([],e);0<t.length&&m(t)}))}function m(e){s.loadStyles?s.loadStyles(y(e).styleString,e):function(e){if("undefined"!=typeof document){var t=document.getElementsByTagName("head")[0],n=document.createElement("style"),i=y(e),r=i.styleString,a=i.themable;n.setAttribute("data-load-themed-styles","true"),o&&n.setAttribute("nonce",o),n.appendChild(document.createTextNode(r)),s.perf.count++,t.appendChild(n);var c=document.createEvent("HTMLEvents");c.initEvent("styleinsert",!0,!1),c.args={newStyle:n},document.dispatchEvent(c);var l={styleElement:n,themableStyle:e};a?s.registeredThemableStyles.push(l):s.registeredStyles.push(l)}}(e)}function h(e){s.theme=e,function(){if(s.theme){for(var e=[],t=0,n=s.registeredThemableStyles;t<n.length;t++){var i=n[t];e.push(i.themableStyle)}0<e.length&&(f(1),m([].concat.apply([],e)))}}()}function f(e){void 0===e&&(e=3),3!==e&&2!==e||(g(s.registeredStyles),s.registeredStyles=[]),3!==e&&1!==e||(g(s.registeredThemableStyles),s.registeredThemableStyles=[])}function g(e){e.forEach((function(e){var t=e&&e.styleElement;t&&t.parentElement&&t.parentElement.removeChild(t)}))}function v(e){return e&&y(S(e)).styleString}function y(e){var t=s.theme,n=!1;return{styleString:(e||[]).map((function(e){var i=e.theme;if(i){n=!0;var r=t?t[i]:void 0,o=e.defaultValue||"inherit";return!t||r||!console||i in t||"undefined"==typeof DEBUG||!DEBUG||console.warn('Theming value not provided for "'+i+'". Falling back to "'+o+'".'),r||o}return e.rawString})).join(""),themable:n}}function S(e){var t=[];if(e){for(var n,i=0;n=a.exec(e);){var r=n.index;i<r&&t.push({rawString:e.substring(i,r)}),t.push({theme:n[1],defaultValue:n[2]}),i=a.lastIndex}t.push({rawString:e.substring(i)})}return t}}.call(this,n("./node_modules/webpack-stream/node_modules/webpack/buildin/global.js"))},"./node_modules/@ms/1ds-analytics-js/dist-esm/src/ApplicationInsights.js":function(e,t,n){"use strict";n.r(t);var i,r=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),s=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/Index.js"),a=n("./node_modules/@ms/1ds-post-js/dist-esm/src/Index.js"),c=(i=o.AppInsightsCore,r.__extends(l,i),l.prototype.initialize=function(e,t){this._postChannel=new a.PostChannel,this._propertyManager=new s.PropertiesPlugin;var n=[this._propertyManager];if(t&&(n=n.concat(t)),e.channels&&0<e.channels.length){for(var r=!1,c=0;c<e.channels[0].length;c++)if(e.channels[0][c].identifier===this._postChannel.identifier){r=!0;break}r||e.channels[0].push(this._postChannel)}else e.channels=[[this._postChannel]];e.extensionConfig=e.extensionConfig||[],e.extensionConfig[this._postChannel.identifier]=e?e.channelConfiguration:{},e.extensionConfig[this._propertyManager.identifier]=e?e.propertyConfiguration:{};try{i.prototype.initialize.call(this,e,n)}catch(e){this.logger.throwInternal(o.LoggingSeverity.CRITICAL,o._ExtendedInternalMessageId.FailedToInitializeSDK,"Failed to initialize SDK."+e)}},l.prototype.getPropertyManager=function(){return this._propertyManager},l.prototype.getPostChannel=function(){return this._postChannel},l);function l(){return null!==i&&i.apply(this,arguments)||this}t.default=c},"./node_modules/@ms/1ds-analytics-js/dist-esm/src/Index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js");n.d(t,"MinChannelPriorty",(function(){return i.MinChannelPriorty})),n.d(t,"ValueKind",(function(){return i.ValueKind})),n.d(t,"EventLatency",(function(){return i.EventLatency})),n.d(t,"EventPersistence",(function(){return i.EventPersistence})),n.d(t,"TraceLevel",(function(){return i.TraceLevel})),n.d(t,"NotificationManager",(function(){return i.NotificationManager})),n.d(t,"CoreUtils",(function(){return i.CoreUtils})),n.d(t,"EventsDiscardedReason",(function(){return i.EventsDiscardedReason})),n.d(t,"DiagnosticLogger",(function(){return i.DiagnosticLogger}));var r=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/Index.js");n.d(t,"PropertiesPlugin",(function(){return r.PropertiesPlugin}));var o=n("./node_modules/@ms/1ds-post-js/dist-esm/src/Index.js");n.d(t,"PostChannel",(function(){return o.PostChannel})),n.d(t,"Serializer",(function(){return o.Serializer})),n.d(t,"BE_PROFILE",(function(){return o.BE_PROFILE})),n.d(t,"NRT_PROFILE",(function(){return o.NRT_PROFILE})),n.d(t,"RT_PROFILE",(function(){return o.RT_PROFILE}));var s=n("./node_modules/@ms/1ds-analytics-js/dist-esm/src/ApplicationInsights.js");n.d(t,"ApplicationInsights",(function(){return s.default})),n.d(t,"isValueAssigned",(function(){return i.isValueAssigned})),n.d(t,"isArray",(function(){return i.isArray})),n.d(t,"isBeaconsSupported",(function(){return i.isBeaconsSupported})),n.d(t,"isBoolean",(function(){return i.isBoolean})),n.d(t,"isLatency",(function(){return i.isLatency})),n.d(t,"isNumber",(function(){return i.isNumber})),n.d(t,"isReactNative",(function(){return i.isReactNative})),n.d(t,"isString",(function(){return i.isString})),n.d(t,"isUint8ArrayAvailable",(function(){return i.isUint8ArrayAvailable})),n.d(t,"getISOString",(function(){return i.getISOString})),n.d(t,"cookieAvailable",(function(){return i.cookieAvailable}))},"./node_modules/@ms/1ds-core-js/dist-esm/src/AppInsightsCore.js":function(e,t,n){"use strict";n.r(t);var i,r=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/applicationinsights-core-js.js"),s=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Enums.js"),a=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Utils.js"),c=(i=o.AppInsightsCore,r.__extends(l,i),l.prototype.initialize=function(e,t){if(e){e.endpointUrl||(e.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var n=e.propertyStorageOverride;if(n&&(!n.getProperty||!n.setProperty))throw"Invalid property storage override passed.";if(e.channels)for(var r=0;r<e.channels.length;r++)if(e.channels[r])for(var a=0;a<e.channels[r].length;a++){var c=e.channels[r][a];c.identifier&&c.version&&(l=c.identifier+"="+c.version,this.pluginVersionStringArr.push(l))}}if(this.getWParam=function(){return"undefined"!=typeof document?0:-1},t)for(r=0;r<t.length;r++){var l,u=t[r];u.identifier&&u.version&&(l=u.identifier+"="+u.version,this.pluginVersionStringArr.push(l))}this.pluginVersionString=this.pluginVersionStringArr.join(";");try{i.prototype.initialize.call(this,e,t)}catch(e){this.logger.throwInternal(o.LoggingSeverity.CRITICAL,s._ExtendedInternalMessageId.ErrorProvidedChannels,"Channels must be provided through config.channels only")}this.pollInternalLogs("InternalLog")},l.prototype.track=function(e){e&&(Object(a.isLatency)(e.latency)||(e.latency=s.EventLatency.Normal),e.ext=e.ext||{},e.ext.sdk=e.ext.sdk||{},e.ext.sdk.ver=a.FullVersionString,e.baseData=e.baseData||{},e.baseData.properties||(e.baseData.properties={}),e.baseData.properties.version||(e.baseData.properties.version=""),""!=this.pluginVersionString&&(e.baseData.properties.version=this.pluginVersionString)),i.prototype.track.call(this,e)},l);function l(){var e=null!==i&&i.apply(this,arguments)||this;return e.pluginVersionStringArr=[],e.pluginVersionString="",e}t.default=c},"./node_modules/@ms/1ds-core-js/dist-esm/src/BaseCore.js":function(e,t,n){"use strict";n.r(t);var i,r=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/applicationinsights-core-js.js"),s=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Enums.js"),a=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Utils.js"),c=(i=o.BaseCore,r.__extends(l,i),l.prototype.initialize=function(e,t){e&&(e.endpointUrl||(e.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/")),this.getWParam=function(){return"undefined"!=typeof document?0:-1};try{i.prototype.initialize.call(this,e,t)}catch(e){this.logger.throwInternal(o.LoggingSeverity.CRITICAL,s._ExtendedInternalMessageId.ErrorProvidedChannels,"Channels must be provided through config.channels only")}},l.prototype.track=function(e){e&&(e.ext=e.ext||{},e.ext.sdk=e.ext.sdk||{},e.ext.sdk.ver=a.FullVersionString),i.prototype.track.call(this,e)},l);function l(){return null!==i&&i.apply(this,arguments)||this}t.default=c},"./node_modules/@ms/1ds-core-js/dist-esm/src/Enums.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ValueKind",(function(){return o})),n.d(t,"EventLatency",(function(){return s})),n.d(t,"EventPropertyType",(function(){return a})),n.d(t,"EventPersistence",(function(){return c})),n.d(t,"TraceLevel",(function(){return l})),n.d(t,"_ExtendedInternalMessageId",(function(){return u}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/applicationinsights-core-js.js"),o={NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32},s={Normal:1,CostDeferred:2,RealTime:3},a={Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9},c={Normal:1,Critical:2},l={NONE:0,ERROR:1,WARNING:2,INFORMATION:3},u=i.__assign({},r._InternalMessageId,{AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517})},"./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@microsoft/applicationinsights-core-js/dist-esm/applicationinsights-core-js.js");n.d(t,"MinChannelPriorty",(function(){return i.MinChannelPriorty})),n.d(t,"NotificationManager",(function(){return i.NotificationManager})),n.d(t,"EventsDiscardedReason",(function(){return i.EventsDiscardedReason})),n.d(t,"CoreUtils",(function(){return i.CoreUtils})),n.d(t,"DiagnosticLogger",(function(){return i.DiagnosticLogger})),n.d(t,"LoggingSeverity",(function(){return i.LoggingSeverity}));var r=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Enums.js");n.d(t,"ValueKind",(function(){return r.ValueKind})),n.d(t,"EventLatency",(function(){return r.EventLatency})),n.d(t,"EventPersistence",(function(){return r.EventPersistence})),n.d(t,"TraceLevel",(function(){return r.TraceLevel})),n.d(t,"_ExtendedInternalMessageId",(function(){return r._ExtendedInternalMessageId})),n.d(t,"EventPropertyType",(function(){return r.EventPropertyType}));var o=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Utils.js");n.d(t,"Utils",(function(){return o}));var s=n("./node_modules/@ms/1ds-core-js/dist-esm/src/AppInsightsCore.js");n.d(t,"AppInsightsCore",(function(){return s.default}));var a=n("./node_modules/@ms/1ds-core-js/dist-esm/src/BaseCore.js");n.d(t,"BaseCore",(function(){return a.default})),n.d(t,"isValueAssigned",(function(){return o.isValueAssigned})),n.d(t,"isArray",(function(){return o.isArray})),n.d(t,"isObject",(function(){return o.isObject})),n.d(t,"isBeaconsSupported",(function(){return o.isBeaconsSupported})),n.d(t,"isBoolean",(function(){return o.isBoolean})),n.d(t,"isLatency",(function(){return o.isLatency})),n.d(t,"isNumber",(function(){return o.isNumber})),n.d(t,"isReactNative",(function(){return o.isReactNative})),n.d(t,"isString",(function(){return o.isString})),n.d(t,"isUint8ArrayAvailable",(function(){return o.isUint8ArrayAvailable})),n.d(t,"getISOString",(function(){return o.getISOString})),n.d(t,"cookieAvailable",(function(){return o.cookieAvailable})),n.d(t,"getTenantId",(function(){return o.getTenantId})),n.d(t,"sanitizeProperty",(function(){return o.sanitizeProperty})),n.d(t,"Version",(function(){return o.Version})),n.d(t,"FullVersionString",(function(){return o.FullVersionString})),n.d(t,"Undefined",(function(){return o.Undefined})),n.d(t,"getCommonSchemaMetaData",(function(){return o.getCommonSchemaMetaData})),n.d(t,"getCookie",(function(){return o.getCookie})),n.d(t,"setCookie",(function(){return o.setCookie})),n.d(t,"deleteCookie",(function(){return o.deleteCookie})),n.d(t,"extend",(function(){return o.extend})),n.d(t,"createGuid",(function(){return o.createGuid})),n.d(t,"useXDomainRequest",(function(){return o.useXDomainRequest})),n.d(t,"isDocumentObjectAvailable",(function(){return o.isDocumentObjectAvailable})),n.d(t,"isWindowObjectAvailable",(function(){return o.isWindowObjectAvailable})),n.d(t,"objDefineAccessors",(function(){return o.objDefineAccessors}))},"./node_modules/@ms/1ds-core-js/dist-esm/src/Utils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Version",(function(){return r})),n.d(t,"FullVersionString",(function(){return o})),n.d(t,"Undefined",(function(){return s})),n.d(t,"isDocumentObjectAvailable",(function(){return u})),n.d(t,"isWindowObjectAvailable",(function(){return d})),n.d(t,"isValueAssigned",(function(){return p})),n.d(t,"isString",(function(){return A})),n.d(t,"isNumber",(function(){return m})),n.d(t,"isBoolean",(function(){return h})),n.d(t,"getTenantId",(function(){return f})),n.d(t,"isBeaconsSupported",(function(){return g})),n.d(t,"isUint8ArrayAvailable",(function(){return v})),n.d(t,"isLatency",(function(){return y})),n.d(t,"sanitizeProperty",(function(){return S})),n.d(t,"getISOString",(function(){return b})),n.d(t,"isReactNative",(function(){return C})),n.d(t,"useXDomainRequest",(function(){return E})),n.d(t,"isArray",(function(){return w})),n.d(t,"isObject",(function(){return T})),n.d(t,"getCommonSchemaMetaData",(function(){return P})),n.d(t,"cookieAvailable",(function(){return _})),n.d(t,"setCookie",(function(){return B})),n.d(t,"deleteCookie",(function(){return I})),n.d(t,"getCookie",(function(){return D})),n.d(t,"createGuid",(function(){return k})),n.d(t,"extend",(function(){return F})),n.d(t,"objDefineAccessors",(function(){return U}));var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r="2.1.0",o="1DS-Web-JS-"+r,s="undefined",a=null,c=null,l=Boolean("undefined"!=typeof document&&document)||Boolean("undefined"!=typeof navigator&&navigator.cookieEnabled),u=!("undefined"==typeof document||!document),d=!("undefined"==typeof window||!window);function p(e){return!(null==e||""===e)}function A(e){return"string"==typeof e}function m(e){return"number"==typeof e}function h(e){return"boolean"==typeof e}function f(e){if(e){var t=e.indexOf("-");if(-1<t)return e.substring(0,t)}return""}function g(){return null===a&&(a=typeof navigator!==s&&Boolean(navigator.sendBeacon)),a}function v(){return null===c&&(c=typeof Uint8Array!==s&&!function(){if(typeof navigator!==s&&navigator.userAgent){var e=navigator.userAgent.toLowerCase();if((0<=e.indexOf("safari")||0<=e.indexOf("firefox"))&&e.indexOf("chrome")<0)return!0}return!1}()&&!C()),c}function y(e){return!!(e&&m(e)&&1<=e&&e<=3)}function S(e,t,n){if(!A(e)||null==t||""===t)return null;if(A(t)||m(t)||h(t)||w(t))t={value:t};else if("object"!=typeof t||t.value){if(void 0===t.value||null===t.value||""===t.value||!A(t.value)&&!m(t.value)&&!h(t.value)&&!w(t.value))return null}else t={value:n?JSON.stringify(t):t};if(w(t.value)&&!(0<t.value.length))return null;if(void 0!==t.kind){if(w(t.value)||!function(e){return!!(e&&m(e)&&(0<=e&&e<=13||32===e))}(t.kind))return null;t.value=t.value.toString()}return t}function b(e){return e.getUTCFullYear()+"-"+M(e.getUTCMonth()+1)+"-"+M(e.getUTCDate())+"T"+M(e.getUTCHours())+":"+M(e.getUTCMinutes())+":"+M(e.getUTCSeconds())+"."+function(e){return e<10?"00"+e:e<100?"0"+e:e.toString()}(e.getUTCMilliseconds())+"Z"}function C(){return!(typeof navigator===s||!navigator.product)&&"ReactNative"===navigator.product}function E(){if("undefined"!=typeof XMLHttpRequest){var e=new XMLHttpRequest;return Boolean(void 0===e.withCredentials&&"undefined"!=typeof XDomainRequest)}}function w(e){return e instanceof Array}function T(e){return e instanceof Object}function P(e,t,n){var r=-1;return void 0===e?r:(t&&0<t&&(32===t?r=8192:t<=13&&(r=t<<5)),void 0!==n&&function(e){return!!(m(e)&&0<=e&&e<=9)}(n)?(-1===r&&(r=0),r|n):(w(e)&&(e=e[0]),-1!==r?r|function(e){return void 0===e?-1:m(e)?i.EventPropertyType.Double:A(e)?i.EventPropertyType.String:h(e)?i.EventPropertyType.Bool:-1}(e):m(e)?i.EventPropertyType.Double:r))}function _(){return l}function B(e,t,n){var i,r;l&&((i=new Date).setTime(i.getTime()+24*n*60*60*1e3),r="; expires="+i.toUTCString(),window.document.cookie=e+"="+t+r+"; path=/;")}function I(e){B(e,"",-1)}function D(e){if(l){e+="=";for(var t=decodeURIComponent(document.cookie).split(";"),n=0;n<t.length;n++){for(var i=t[n],r=0;" "===i.charAt(r);)r++;if(0===(i=i.substring(r)).indexOf(e))return i.substring(e.length,i.length)}}return""}function k(){return"xxxxxxxx-xxxx-4xxx-Rxxx-xxxxxxxxxxxx".replace(/x/g,(function(){return Math.floor(16*Math.random()).toString(16)})).replace("R",(8|Math.floor(3*Math.random())).toString(16))}function F(e,t,n,i,r){var o={},s=!1,a=0,c=arguments.length;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(s=arguments[0],a++);a<c;a++)!function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(s&&"[object Object]"===Object.prototype.toString.call(e[t])?o[t]=F(!0,o[t],e[t]):o[t]=e[t])}(arguments[a]);return o}function M(e){return e<10?"0"+e:e.toString()}function U(e,t,n,i){var r=Object.defineProperty;if(r){try{var o={enumerable:!0,configurable:!0};return n&&(o.get=n),i&&(o.set=i),Object.defineProperty,r(e,t,o),!0}catch(e){}return!1}}},"./node_modules/@ms/1ds-cv-js/dist-esm/src/CorrelationVectorPlugin.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r=n("./node_modules/@ms/1ds-cv-js/dist-esm/src/Cv.js"),o=(s.prototype.initialize=function(e,t,n){this._traceLogger=t.logger,this._cv=this._cvInitialValue?new r.Cv(this._cvInitialValue,t):new r.Cv(null,t)},s.prototype.processTelemetry=function(e){e.ext=e.ext||{},e.ext.mscv=e.ext.mscv||{},e.ext.mscv.cV||this._cv&&this._cv.isInit()&&(e.ext.mscv.cV=this._cv.getValue()),this._nextPlugin&&this._nextPlugin.processTelemetry(e)},s.prototype.setNextPlugin=function(e){this._nextPlugin=e},s.prototype.getCv=function(){return!this._cv&&this._traceLogger&&this._traceLogger.throwInternal(i.LoggingSeverity.WARNING,i._ExtendedInternalMessageId.FailedToInitializeCorrelationVector,"Correlation Vector has not been initialized."),this._cv},s);function s(e){this.identifier="CorrelationVectorPlugin",this.priority=159,this.version="2.1.0",this._cvInitialValue=e}t.default=o},"./node_modules/@ms/1ds-cv-js/dist-esm/src/Cv.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Cv",(function(){return o}));var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r=function(){},o=(s.prototype.isInit=function(){return this._isValid(this.storedCv())},s.prototype.storedCv=function(){return this._base.concat(".",this._currentElement.toString())},s.prototype.getValue=function(){var e=this.storedCv();if(this._isValid(e))return e},s.prototype.getRelatedCv=function(){return this._relatedCv},s.prototype.incrementExternal=function(e){if(this._isValid(e)){var t=e.split("."),n=t.length;t[n-1]=(parseInt(t[n-1],10)+1).toString();for(var i="",r=0;r<n;r++)i+=t[r],r<n-1&&(i+=".");var o=t[0].length===this._cv2Constants.baseLength?this._cv2Constants.maxCorrelationVectorLength:this._cv1Constants.maxCorrelationVectorLength;if(i.length<=o)return i}},s.prototype.canExtend=function(){var e=this.storedCv();return!!this._isValid(e)&&this._isLeqThanMaxCorrelationVectorLength(e.length+2)},s.prototype.canIncrement=function(){return!!this._isValid(this.storedCv())&&this._isLeqThanMaxCorrelationVectorLength(this._base.length+1+(this._currentElement+1+"").length)},s.prototype.setValue=function(e){return this._isValid(e)?(1<e.lastIndexOf(".")?(this._relatedCv=e,this._init()):(this._base=e,this._currentElement=0),this.extend(),!0):(this._traceLogger.throwInternal(i.LoggingSeverity.WARNING,i._ExtendedInternalMessageId.InvalidCorrelationValue,"Cannot set invalid correlation vector value"),!1)},s.prototype.seed=function(){for(var e="",t=0;t<this._currentCvConstants.baseLength;t++)e+=this._base64CharSet.charAt(Math.floor(Math.random()*this._base64CharSet.length));return e},s.prototype.extend=function(){if(this.canExtend())return this._base=this._base.concat(".",this._currentElement.toString()),this._currentElement=0,this.storedCv()},s.prototype.increment=function(){if(this.canIncrement())return this._currentElement=this._currentElement+1,this.storedCv()},s.prototype.validateWithCv1=function(e){if(this._cv1Constants.validationPattern.test(e)&&e.length<=this._cv1Constants.maxCorrelationVectorLength)return!0},s.prototype.validateWithCv2=function(e){if(this._cv2Constants.validationPattern.test(e)&&e.length<=this._cv2Constants.maxCorrelationVectorLength)return!0},s.prototype.useCv1=function(){this._currentCvConstants=this._cv1Constants},s.prototype.useCv2=function(){this._currentCvConstants=this._cv2Constants},s.prototype._init=function(e){return e?this.setValue(e):(this._base=this.seed(),this._currentElement=0,this.getValue())},s.prototype._isLeqThanMaxCorrelationVectorLength=function(e){return 1===this._cvVersionAtLatestValidityCheck?e<=this._cv1Constants.maxCorrelationVectorLength:e<=this._cv2Constants.maxCorrelationVectorLength},s.prototype._isValid=function(e){if(e){var t=e.split(".")[0];if(t){if(16===t.length)return this._cvVersionAtLatestValidityCheck=1,this.validateWithCv1(e);if(22===t.length)return this._cvVersionAtLatestValidityCheck=2,this.validateWithCv2(e)}}},s);function s(e,t){this._base="",this._currentElement=0,this._base64CharSet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",this._cv1Constants=new r,this._cv2Constants=new r,this._cvVersionAtLatestValidityCheck=2,this._traceLogger=t.logger,this._cv1Constants.maxCorrelationVectorLength=63,this._cv1Constants.baseLength=16,this._cv1Constants.validationPattern=new RegExp("^["+this._base64CharSet+"]{"+this._cv1Constants.baseLength.toString()+"}(.[0-9]+)*$"),this._cv2Constants.maxCorrelationVectorLength=127,this._cv2Constants.baseLength=22,this._cv2Constants.validationPattern=new RegExp("^["+this._base64CharSet+"]{"+this._cv2Constants.baseLength.toString()+"}(.[0-9]+)*$"),this._currentCvConstants=this._cv2Constants,this._init(e)}},"./node_modules/@ms/1ds-cv-js/dist-esm/src/Index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@ms/1ds-cv-js/dist-esm/src/Cv.js");n.d(t,"Cv",(function(){return i.Cv}));var r=n("./node_modules/@ms/1ds-cv-js/dist-esm/src/CorrelationVectorPlugin.js");n.d(t,"CorrelationVectorPlugin",(function(){return r.default}))},"./node_modules/@ms/1ds-post-js/dist-esm/src/ClockSkewManager.js":function(e,t,n){"use strict";n.r(t);var i=(r.prototype.allowRequestSending=function(){return this._isFirstRequest&&!this._clockSkewSet?(this._isFirstRequest=!1,!(this._allowRequestSending=!1)):this._allowRequestSending},r.prototype.shouldAddClockSkewHeaders=function(){return this._shouldAddClockSkewHeaders},r.prototype.getClockSkewHeaderValue=function(){return this._clockSkewHeaderValue},r.prototype.setClockSkew=function(e){this._clockSkewSet||(e?this._clockSkewHeaderValue=e:this._shouldAddClockSkewHeaders=!1,this._clockSkewSet=!0,this._allowRequestSending=!0)},r);function r(){this._allowRequestSending=!0,this._shouldAddClockSkewHeaders=!0,this._isFirstRequest=!0,this._clockSkewHeaderValue="use-collector-delta",this._clockSkewSet=!1}t.default=i},"./node_modules/@ms/1ds-post-js/dist-esm/src/DataModels.js":function(e,t,n){"use strict";n.r(t),n.d(t,"RT_PROFILE",(function(){return i})),n.d(t,"NRT_PROFILE",(function(){return r})),n.d(t,"BE_PROFILE",(function(){return o}));var i="REAL_TIME",r="NEAR_REAL_TIME",o="BEST_EFFORT"},"./node_modules/@ms/1ds-post-js/dist-esm/src/HttpManager.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r=n("./node_modules/@ms/1ds-post-js/dist-esm/src/Serializer.js"),o=n("./node_modules/@ms/1ds-post-js/dist-esm/src/RetryPolicy.js"),s=n("./node_modules/@ms/1ds-post-js/dist-esm/src/KillSwitch.js"),a=n("./node_modules/@ms/1ds-post-js/dist-esm/src/ClockSkewManager.js"),c="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",l=(u.prototype.initialize=function(e,t,n,r,o){var s=this;this._urlString=e+this._urlString,this._core=t,this._postManager=n,this._httpInterface=r,this._notificationManager=o,this._httpInterface||(this._customHttpInterface=!1,this._useBeacons=!Object(i.isReactNative)(),this._httpInterface={sendPOST:function(e,t,n,r){var o,a,l;Object(i.useXDomainRequest)()?((o=new XDomainRequest).open("POST",e),o.onload=function(){n(200,{},o.responseText),s._handleCollectorResponse(o.responseText)},o.onerror=function(){n(400,{})},o.ontimeout=function(){n(500,{})},o.send(t)):Object(i.isReactNative)()?fetch(e,((l={body:t,method:"POST",credentials:"include"})[c]=!0,l)).then((function(e){var t={},i="";e.headers&&e.headers.forEach((function(e,n){t[n]=e})),e.body&&e.text().then((function(e){i=e})),n(e.status,t,i),s._handleCollectorResponse(i)})).catch((function(e){n(0,{})})):"undefined"!=typeof XMLHttpRequest&&((a=new XMLHttpRequest)[c]=!0,a.withCredentials=!0,a.open("POST",e,!r),a.onload=function(){n(a.status,s._convertAllHeadersToMap(a.getAllResponseHeaders()),a.responseText),s._handleCollectorResponse(a.responseText)},a.onerror=function(){n(a.status,s._convertAllHeadersToMap(a.getAllResponseHeaders()))},a.ontimeout=function(){n(a.status,s._convertAllHeadersToMap(a.getAllResponseHeaders()))},a.send(t))}})},u.prototype.addQueryStringParameter=function(e,t){for(var n=0;n<this._queryStringParameters.length;n++)if(this._queryStringParameters[n].name===e)return void(this._queryStringParameters[n].value=t);this._queryStringParameters.push({name:e,value:t})},u.prototype.hasIdleConnection=function(){return this._activeConnections<2},u.prototype.sendQueuedRequests=function(){for(;this.hasIdleConnection()&&!this._paused&&0<this._requestQueue.length&&this._clockSkewManager.allowRequestSending();)this._activeConnections++,this._sendRequest(this._requestQueue.shift(),0,!1);this.hasIdleConnection()&&this._postManager._scheduleTimer()},u.prototype.isCompletelyIdle=function(){return 0===this._activeConnections},u.prototype.teardown=function(){for(;0<this._requestQueue.length;)this._sendRequest(this._requestQueue.shift(),0,!0)},u.prototype.pause=function(){this._paused=!0},u.prototype.resume=function(){this._paused=!1,this.sendQueuedRequests()},u.prototype.removeQueuedRequests=function(){this._requestQueue.length=0},u.prototype.sendSynchronousRequest=function(e){this._activeConnections++,this._sendRequest(e,0,!1,!0)},u.prototype._sendRequest=function(e,t,n,o){var s=this;if(void 0===o&&(o=!1),e){if(this._paused)return this._activeConnections--,void this._postManager._addBackRequest(e);var a=0,c="";for(var l in e)e.hasOwnProperty(l)&&(this._killSwitch.isTenantKilled(l)?(this._notificationManager&&this._notificationManager.eventsDiscarded(e[l],i.EventsDiscardedReason.KillSwitch),delete e[l]):(0<c.length&&(c+=","),c+=l,a++));if(0<a){var u=r.default.getPayloadBlob(e);u.remainingRequest&&this._requestQueue.push(u.remainingRequest);var d=this._urlString+"&apikey="+c+"&upload-time="+Date.now().toString(),p=this._getMsfpc(e);Object(i.isValueAssigned)(p)&&(d=d+"&ext.intweb.msfpc="+p),this._clockSkewManager.shouldAddClockSkewHeaders()&&(d=d+"&time-delta-to-apply-millis="+this._clockSkewManager.getClockSkewHeaderValue()),this._core.getWParam&&(d=d+"&w="+this._core.getWParam());for(var A=0;A<this._queryStringParameters.length;A++)d=d+"&"+this._queryStringParameters[A].name+"="+this._queryStringParameters[A].value;for(var l in e)if(e.hasOwnProperty(l))for(A=0;A<e[l].length;++A)0<e[l][A].sendAttempt?e[l][A].sendAttempt++:e[l][A].sendAttempt=1;if(!this._customHttpInterface&&this._useBeacons&&Object(i.isBeaconsSupported)()&&n)return void this._sendUsingBeacons(d,u.payloadBlob,e);this._httpInterface&&this._httpInterface.sendPOST(d,u.payloadBlob,(function(i,r){s._retryRequestIfNeeded(i,r,e,a,c,t,n,o)}),n||o)}else n||this._handleRequestFinished(null,{},n,o)}},u.prototype._sendUsingBeacons=function(e,t,n){if(navigator.sendBeacon(e,t))this._handleRequestFinished(!0,n,!0,!0);else for(var i in n)if(n.hasOwnProperty(i))for(var o=0;o<n[i].length;++o){if(!navigator.sendBeacon(e,r.default.getEventBlob(n[i][o])))return;this._notifyEventCompleted(!0,[n[i][o]])}},u.prototype._retryRequestIfNeeded=function(e,t,n,r,s,a,c,l){var u=this,d=!0;if(void 0!==e){if(t){var p=this._killSwitch.setKillSwitchTenants(t["kill-tokens"],t["kill-duration-seconds"]);this._clockSkewManager.setClockSkew(t["time-delta-millis"]);for(var A=0;A<p.length;++A)this._notificationManager&&this._notificationManager.eventsDiscarded(n[p[A]],i.EventsDiscardedReason.KillSwitch),delete n[p[A]],r--}else this._clockSkewManager.setClockSkew("");if(200===e)return void this._handleRequestFinished(!0,n,c,l);(!o.default.shouldRetryForStatus(e)||r<=0)&&(d=!1)}d?l?(this._activeConnections--,this._postManager._addBackRequest(n)):a<1?setTimeout((function(){return u._sendRequest(n,a+1,!1)}),o.default.getMillisToBackoffForRetry(a)):(this._activeConnections--,this._postManager._backOffTransmission(),this._postManager._addBackRequest(n)):this._handleRequestFinished(!1,n,c,l)},u.prototype._handleRequestFinished=function(e,t,n,r){for(var o in e&&this._postManager._clearBackOff(),t)t.hasOwnProperty(o)&&this._notifyEventCompleted(e,t[o],i.EventsDiscardedReason.NonRetryableStatus);this._activeConnections--,r||n||this.sendQueuedRequests()},u.prototype._notifyEventCompleted=function(e,t,n){this._notificationManager&&(e?this._notificationManager.eventsSent(t):this._notificationManager.eventsDiscarded(t,n))},u.prototype._convertAllHeadersToMap=function(e){var t={};if(Object(i.isString)(e))for(var n=e.split("\n"),r=0;r<n.length;++r){var o=n[r].split(": ");t[o[0]]=o[1]}return t},u.prototype._getMsfpc=function(e){for(var t in e)if(e.hasOwnProperty(t))for(var n=0;n<e[t].length;++n)if(e[t][n].ext&&e[t][n].ext.intweb&&Object(i.isValueAssigned)(e[t][n].ext.intweb.msfpc))return encodeURIComponent(e[t][n].ext.intweb.msfpc);return""},u.prototype._handleCollectorResponse=function(e){try{var t=JSON.parse(e);Object(i.isValueAssigned)(t.webResult)&&Object(i.isValueAssigned)(t.webResult.msfpc)&&Object(i.setCookie)("MSFPC",t.webResult.msfpc,365)}catch(e){}},u);function u(e){this._requestQueue=e,this._urlString="?cors=true&content-type=application/x-json-stream&client-id=NO_AUTH&client-version="+i.FullVersionString,this._killSwitch=new s.default,this._paused=!1,this._clockSkewManager=new a.default,this._useBeacons=!1,this._activeConnections=0,this._customHttpInterface=!0,this._queryStringParameters=[]}t.default=l},"./node_modules/@ms/1ds-post-js/dist-esm/src/Index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@ms/1ds-post-js/dist-esm/src/PostChannel.js");n.d(t,"PostChannel",(function(){return i.default}));var r=n("./node_modules/@ms/1ds-post-js/dist-esm/src/Serializer.js");n.d(t,"Serializer",(function(){return r.default}));var o=n("./node_modules/@ms/1ds-post-js/dist-esm/src/DataModels.js");n.d(t,"BE_PROFILE",(function(){return o.BE_PROFILE})),n.d(t,"NRT_PROFILE",(function(){return o.NRT_PROFILE})),n.d(t,"RT_PROFILE",(function(){return o.RT_PROFILE}));var s=n("./node_modules/@ms/1ds-post-js/dist-esm/src/HttpManager.js");n.d(t,"HttpManager",(function(){return s.default}));var a=n("./node_modules/@ms/1ds-post-js/dist-esm/src/RecordBatcher.js");n.d(t,"RecordBatcher",(function(){return a.default}));var c=n("./node_modules/@ms/1ds-post-js/dist-esm/src/RetryPolicy.js");n.d(t,"RetryPolicy",(function(){return c.default}));var l=n("./node_modules/@ms/1ds-post-js/dist-esm/src/ClockSkewManager.js");n.d(t,"ClockSkewManager",(function(){return l.default}));var u=n("./node_modules/@ms/1ds-post-js/dist-esm/src/KillSwitch.js");n.d(t,"KillSwitch",(function(){return u.default}))},"./node_modules/@ms/1ds-post-js/dist-esm/src/KillSwitch.js":function(e,t,n){"use strict";n.r(t);var i=(r.prototype.setKillSwitchTenants=function(e,t){if(e&&t)try{var n=e.split(",");if("this-request-only"===t)return n;for(var i=1e3*parseInt(t,10),r=0;r<n.length;++r)this._killedTokenDictionary[n[r]]=Date.now()+i}catch(e){return[]}return[]},r.prototype.isTenantKilled=function(e){return void 0!==this._killedTokenDictionary[e]&&this._killedTokenDictionary[e]>Date.now()||(delete this._killedTokenDictionary[e],!1)},r);function r(){this._killedTokenDictionary={}}t.default=i},"./node_modules/@ms/1ds-post-js/dist-esm/src/PostChannel.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r=n("./node_modules/@ms/1ds-post-js/dist-esm/src/DataModels.js"),o=n("./node_modules/@ms/1ds-post-js/dist-esm/src/HttpManager.js"),s=n("./node_modules/@ms/1ds-post-js/dist-esm/src/RecordBatcher.js"),a=n("./node_modules/@ms/1ds-post-js/dist-esm/src/RetryPolicy.js"),c=(l.prototype.initialize=function(e,t,n){var r=this;this._core=t,e.extensionConfig=e.extensionConfig||[],e.extensionConfig[this.identifier]=e.extensionConfig[this.identifier]||{},this._config=e.extensionConfig[this.identifier],0<this._config.eventsLimitInMem&&(this._queueSizeLimit=this._config.eventsLimitInMem),this._config.httpXHROverride&&this._config.httpXHROverride.sendPOST&&(this._xhrOverride=this._config.httpXHROverride),Object(i.isValueAssigned)(e.anonCookieName)&&this._httpManager.addQueryStringParameter("anoncknm",e.anonCookieName);var o=this._config.overrideEndpointUrl?this._config.overrideEndpointUrl:e.endpointUrl;this._notificationManager=e.extensionConfig.NotificationManager,this._httpManager.initialize(o,this._core,this,this._xhrOverride,this._notificationManager);for(var s=0;s<n.length;++s)n[s].identifier&&"LocalStorage"===n[s].identifier&&(this._databaseAdded=!0);"undefined"!=typeof window&&(window.addEventListener?(window.addEventListener("beforeunload",(function(){r.releaseAllQueuesUsingBeacons()})),window.addEventListener("unload",(function(){r.releaseAllQueuesUsingBeacons()}))):window.attachEvent&&(window.attachEvent("onbeforeunload",(function(){r.releaseAllQueuesUsingBeacons()})),window.attachEvent("onunload",(function(){r.releaseAllQueuesUsingBeacons()}))))},l.prototype.processTelemetry=function(e){var t=e;if(!this._config.disableTelemetry&&!this._isTeardownCalled){if(this._config.overrideInstrumentationKey&&(t.iKey=this._config.overrideInstrumentationKey),t.sendAttempt||(t.sendAttempt=0),t.latency||(t.latency=i.EventLatency.Normal),t.ext&&t.ext.trace&&delete t.ext.trace,t.ext&&t.ext.user&&t.ext.user.id&&delete t.ext.user.id,t.sync)if(0<this._currentBackoffCount||this._paused)t.latency=i.EventLatency.RealTime,t.sync=!1;else if(this._httpManager)return void this._httpManager.sendSynchronousRequest(this._batcher.addEventToBatch(t));this._queueSize<this._queueSizeLimit||this._dropEventWithLatencyOrLess(t.latency)?this._addEventToProperQueue(t):this._notificationManager&&this._notificationManager.eventsDiscarded([t],i.EventsDiscardedReason.QueueFull),this._scheduleTimer()}this._nextPlugin&&this._nextPlugin.processTelemetry(t)},l.prototype.teardown=function(){this.releaseAllQueuesUsingBeacons(),this._isTeardownCalled=!0},l.prototype.pause=function(){this._clearTimeout(),this._paused=!0,this._httpManager.pause(),this._databaseAdded&&(this._queueSize-=this._inboundQueues[i.EventLatency.RealTime][0].length+this._inboundQueues[i.EventLatency.CostDeferred][0].length+this._inboundQueues[i.EventLatency.Normal][0].length,this._inboundQueues[i.EventLatency.RealTime][0]=[],this._inboundQueues[i.EventLatency.CostDeferred][0]=[],this._inboundQueues[i.EventLatency.Normal][0]=[],this._httpManager.removeQueuedRequests())},l.prototype.resume=function(){this._paused=!1,this._httpManager.resume(),this._scheduleTimer()},l.prototype.setNextPlugin=function(e){this._nextPlugin=e},l.prototype._loadTransmitProfiles=function(e){for(var t in this._resetTransmitProfiles(),e)if(e.hasOwnProperty(t)){if(e[t].length<2)continue;var n;e[t].splice(0,e[t].length-2),e[t][1]<0&&(e[t][0]=-1),0<e[t][1]&&0<e[t][0]&&(n=e[t][0]/e[t][1],e[t][0]=Math.ceil(n)*e[t][1]),this._profiles[t]=e[t]}},l.prototype.flush=function(e,t){var n=this;if(void 0===e&&(e=!0),!this._paused)if(this._clearTimeout(),e)this._addEmptyQueues(),this._isCurrentlyFlushingNow?this._flushQueue.push(t):(this._isCurrentlyFlushingNow=!0,setTimeout((function(){return n._flushImpl(t)}),0));else{this._batchEvents(i.EventLatency.Normal,this._syncFlushBatcher);for(var r=0;r<this._flushOutboundQueue.length;r++)this._httpManager.sendSynchronousRequest(this._flushOutboundQueue[r]);null!=t&&t()}},l.prototype.setMsaAuthTicket=function(e){this._httpManager.addQueryStringParameter("AuthMsaDeviceTicket",e)},l.prototype._setTransmitProfile=function(e){this._currentProfile!==e&&void 0!==this._profiles[e]&&(this._clearTimeout(),this._currentProfile=e,this._scheduleTimer())},l.prototype._sendEventsForLatencyAndAbove=function(e){this._batchEvents(e),this._httpManager.sendQueuedRequests()},l.prototype._hasEvents=function(){return(0<this._inboundQueues[i.EventLatency.RealTime][0].length||0<this._inboundQueues[i.EventLatency.CostDeferred][0].length||0<this._inboundQueues[i.EventLatency.Normal][0].length||this._batcher.hasBatch())&&this._httpManager.hasIdleConnection()},l.prototype._addBackRequest=function(e){if(!this._paused||!this._databaseAdded)for(var t in e)if(e.hasOwnProperty(t)){1===e[t].length&&e[t][0].sync&&(e[t][0].latency=i.EventLatency.RealTime,e[t][0].sync=!1);for(var n=0;n<e[t].length;++n)e[t][n].sendAttempt<6?this.processTelemetry(e[t][n]):this._notificationManager&&this._notificationManager.eventsDiscarded([e[t][n]],i.EventsDiscardedReason.NonRetryableStatus)}},l.prototype._scheduleTimer=function(){var e,t=this,n=this._profiles[this._currentProfile][1];!this._timeout&&0<=n&&!this._paused&&(this._hasEvents()?(0===n&&0<this._currentBackoffCount&&(n=1),e=1e3,0<this._currentBackoffCount&&(e=a.default.getMillisToBackoffForRetry(this._currentBackoffCount-1)),this._timeout=setTimeout((function(){return t._batchAndSendEvents()}),n*e)):this._timerCount=0)},l.prototype._backOffTransmission=function(){this._currentBackoffCount<4&&(this._currentBackoffCount++,this._clearTimeout(),this._scheduleTimer())},l.prototype._clearBackOff=function(){0<this._currentBackoffCount&&(this._currentBackoffCount=0,this._clearTimeout(),this._scheduleTimer())},l.prototype._clearTimeout=function(){this._timeout&&(clearTimeout(this._timeout),this._timeout=null,this._timerCount=0)},l.prototype._batchAndSendEvents=function(){var e=i.EventLatency.RealTime;this._timerCount++,2===this._timerCount&&(e=i.EventLatency.Normal,this._timerCount=0),this._sendEventsForLatencyAndAbove(e),this._timeout=null,this._scheduleTimer()},l.prototype.releaseAllQueuesUsingBeacons=function(){this._clearTimeout(),0<this._flushCallback&&clearTimeout(this._flushCallback),this._paused||this._databaseAdded||(this._mergeQueues(),this._batchEvents(i.EventLatency.Normal),this._httpManager.teardown())},l.prototype._removeFirstQueues=function(){this._inboundQueues[i.EventLatency.RealTime].shift(),this._inboundQueues[i.EventLatency.CostDeferred].shift(),this._inboundQueues[i.EventLatency.Normal].shift()},l.prototype._addEmptyQueues=function(){this._inboundQueues[i.EventLatency.RealTime].push([]),this._inboundQueues[i.EventLatency.CostDeferred].push([]),this._inboundQueues[i.EventLatency.Normal].push([])},l.prototype._mergeQueues=function(){for(var e=i.EventLatency.Normal;e<=i.EventLatency.RealTime;e++)for(var t=1;t<this._inboundQueues[e].length;t++)for(;0<this._inboundQueues[e][t].length;)this._inboundQueues[e][0].push(this._inboundQueues[e][t].pop())},l.prototype._addEventToProperQueue=function(e){this._paused&&this._databaseAdded||(this._queueSize++,this._inboundQueues[e.latency][this._inboundQueues[e.latency].length-1].push(e))},l.prototype._dropEventWithLatencyOrLess=function(e){for(var t=i.EventLatency.Normal;t<=e;){if(0<this._inboundQueues[t][this._inboundQueues[t].length-1].length){var n=this._inboundQueues[t][this._inboundQueues[t].length-1].splice(0,20);return this._notificationManager&&this._notificationManager.eventsDiscarded(n,i.EventsDiscardedReason.QueueFull),!0}t++}return!1},l.prototype._batchEvents=function(e,t){void 0===t&&(t=this._batcher);for(var n=i.EventLatency.RealTime;e<=n;){for(;0<this._inboundQueues[n][0].length;){var r=this._inboundQueues[n][0].pop();this._queueSize--,t.addEventToBatch(r)}n--}t.flushBatch()},l.prototype._flushImpl=function(e){var t=this;this._hasEvents()&&this._sendEventsForLatencyAndAbove(i.EventLatency.Normal),this._checkOutboundQueueEmptyAndSent((function(){t._removeFirstQueues(),null!=e&&e(),0<t._flushQueue.length?t._flushCallback=setTimeout((function(){return t._flushImpl(t._flushQueue.shift())}),0):(t._isCurrentlyFlushingNow=!1,t._hasEvents()&&t._scheduleTimer())}))},l.prototype._checkOutboundQueueEmptyAndSent=function(e){var t=this;this._httpManager.isCompletelyIdle()?e():this._flushCallback=setTimeout((function(){return t._checkOutboundQueueEmptyAndSent(e)}),250)},l.prototype._resetTransmitProfiles=function(){this._clearTimeout(),this._initializeProfiles(),this._currentProfile=r.RT_PROFILE,this._scheduleTimer()},l.prototype._initializeProfiles=function(){this._profiles={},this._profiles[r.RT_PROFILE]=[2,1],this._profiles[r.NRT_PROFILE]=[6,3],this._profiles[r.BE_PROFILE]=[18,9]},l);function l(){this.identifier="PostChannel",this.priority=1011,this.version="2.1.0",this._isTeardownCalled=!1,this._isCurrentlyFlushingNow=!1,this._flushQueue=[],this._databaseAdded=!1,this._paused=!1,this._queueSize=0,this._queueSizeLimit=1e4,this._profiles={},this._currentProfile=r.RT_PROFILE,this._timeout=null,this._currentBackoffCount=0,this._timerCount=0,this._flushCallback=-1,this._flushOutboundQueue=[],this._outboundQueue=[],this._inboundQueues={},this._inboundQueues[i.EventLatency.RealTime]=[],this._inboundQueues[i.EventLatency.CostDeferred]=[],this._inboundQueues[i.EventLatency.Normal]=[],this._initializeProfiles(),this._addEmptyQueues(),this._batcher=new s.default(this._outboundQueue,500),this._syncFlushBatcher=new s.default(this._flushOutboundQueue,500),this._httpManager=new o.default(this._outboundQueue)}t.default=c},"./node_modules/@ms/1ds-post-js/dist-esm/src/RecordBatcher.js":function(e,t,n){"use strict";n.r(t);var i=(r.prototype.addEventToBatch=function(e){var t=e.iKey;if(t){if(e.sync){var n={};return n[t]=[e],n}this._currentNumEventsInBatch>=this._maxNumberOfEvents&&this.flushBatch(),void 0===this._currentBatch[t]&&(this._currentBatch[t]=[]),this._currentBatch[t].push(e),this._currentNumEventsInBatch++}return null},r.prototype.flushBatch=function(){0<this._currentNumEventsInBatch&&(this._outboundQueue.push(this._currentBatch),this._currentBatch={},this._currentNumEventsInBatch=0)},r.prototype.hasBatch=function(){return 0<this._currentNumEventsInBatch},r);function r(e,t){this._outboundQueue=e,this._maxNumberOfEvents=t,this._currentBatch={},this._currentNumEventsInBatch=0}t.default=i},"./node_modules/@ms/1ds-post-js/dist-esm/src/RetryPolicy.js":function(e,t,n){"use strict";n.r(t);var i=(r.shouldRetryForStatus=function(e){return!(300<=e&&e<500&&408!==e&&429!==e||501===e||505===e)},r.getMillisToBackoffForRetry=function(e){var t=Math.floor(1200*Math.random())+2400,n=Math.pow(2,e)*t;return Math.min(n,6e5)},r);function r(){}t.default=i},"./node_modules/@ms/1ds-post-js/dist-esm/src/Serializer.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r=(o.getPayloadBlob=function(e){var t="",n={};for(var i in e)if(e.hasOwnProperty(i))for(var r=0;r<e[i].length;++r){t&&(t+="\n");var o=t.length;if(2e6<(t+=this.getEventBlob(e[i][r])).length-o&&(delete e[i][r],t=t.substring(0,o)),3984588<t.length){n={};var s=e[i];e[i]=s.splice(0,r),n[i]=s;break}}return{payloadBlob:t,remainingRequest:n}},o.getEventBlob=function(e){var t,n="baseData",r={};if(r.name=e.name,r.time=e.time,r.ver=e.ver,r.iKey="o:"+Object(i.getTenantId)(e.iKey),e.ext)for(var o in r.ext={},e.ext)if(e.ext.hasOwnProperty(o))for(var s in r.ext[o]={},e.ext[o])e.ext[o].hasOwnProperty(s)&&e.ext[o][s]&&(r.ext[o][s]=Object(i.sanitizeProperty)(s,e.ext[o][s]).value);if(r.data={},r.data[n]={},r.data.baseType=e.baseType,e.baseData)for(var o in e.baseData)e.baseData.hasOwnProperty(o)&&(t=Object(i.sanitizeProperty)(o,e.baseData[o]),this._addJSONProperty(r.data[n],o,t),this._addJSONPropertyMetaData(r.ext,n+"."+o,t));if(e.data)for(var o in e.data)e.data.hasOwnProperty(o)&&(t=Object(i.sanitizeProperty)(o,e.data[o]),this._addJSONProperty(r.data,o,t),this._addJSONPropertyMetaData(r.ext,o,t));return JSON.stringify(r)},o._addJSONProperty=function(e,t,n){if(n){for(var i=e,r=t.split("."),o=0;o<r.length-1;++o)i[r[o]]||(i[r[o]]={}),i=i[r[o]];i[r[r.length-1]]=n.value}},o._addJSONPropertyMetaData=function(e,t,n){if(n){var r="metadata",o=Object(i.getCommonSchemaMetaData)(n.value,n.kind,n.propertyType);if(-1<o){var s=e;s[r]||(s[r]={f:{}}),s=s[r].f;for(var a=t.split("."),c=0;c<a.length-1;++c)s[a[c]]||(s[a[c]]={f:{}}),s=s[a[c]].f;Object(i.isArray)(n.value)?s[a[a.length-1]]={a:{t:o}}:s[a[a.length-1]]={t:o}}}},o);function o(){}t.default=r},"./node_modules/@ms/1ds-properties-js/dist-esm/src/ExtensionKeys.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AppExtensionKeys",(function(){return i})),n.d(t,"WebExtensionKeys",(function(){return o})),n.d(t,"UserExtensionKeys",(function(){return a})),n.d(t,"OSExtKeys",(function(){return l})),n.d(t,"SDKExtKeys",(function(){return d})),n.d(t,"IntWebExtKeys",(function(){return A})),n.d(t,"UtcExtKeys",(function(){return h})),n.d(t,"LocExtKeys",(function(){return g})),n.d(t,"SessionExtKeys",(function(){return y})),n.d(t,"DeviceExtKeys",(function(){return b})),n.d(t,"TraceExtKeys",(function(){return E}));var i=(r.id="id",r.ver="ver",r.appName="name",r.locale="locale",r.expId="expId",r.env="env",r);function r(){}var o=(s.domain="domain",s.browser="browser",s.browserVer="browserVer",s.screenRes="screenRes",s.userConsent="userConsent",s);function s(){}var a=(c.locale="locale",c.localId="localId",c.id="id",c);function c(){}var l=(u.osName="name",u.ver="ver",u);function u(){}var d=(p.ver="ver",p.seq="seq",p.installId="installId",p.epoch="epoch",p);function p(){}var A=(m.msfpc="msfpc",m.anid="anid",m.serviceName="serviceName",m);function m(){}var h=(f.popSample="popSample",f);function f(){}var g=(v.tz="tz",v);function v(){}var y=(S.sessionId="sesId",S);function S(){}var b=(C.localId="localId",C.deviceClass="deviceClass",C.make="make",C.model="model",C);function C(){}var E=(w.traceId="traceID",w.traceName="name",w.parentId="parentID",w);function w(){}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/Extensions.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Extensions",(function(){return i}));var i=(r.UserExt="user",r.DeviceExt="device",r.TraceExt="trace",r.WebExt="web",r.AppExt="app",r.OSExt="os",r.SdkExt="sdk",r.IntWebExt="intweb",r.UtcExt="utc",r.LocExt="loc",r);function r(){}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/Index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/PropertiesPlugin.js");n.d(t,"PropertiesPlugin",(function(){return i.default}))},"./node_modules/@ms/1ds-properties-js/dist-esm/src/PropertiesPlugin.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/TelemetryContext.js"),r=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/Extensions.js"),o=(s.prototype.initialize=function(e,t,n){var r=e.extensionConfig=e.extensionConfig||[];this._config=r[this.identifier]||{},r[this.identifier]=this._config,this.context=new i.TelemetryContext(e,this._config,t)},s.prototype.processTelemetry=function(e){var t=e.ext=e.ext?e.ext:{};e.data=e.data?e.data:{},t[r.Extensions.AppExt]=t[r.Extensions.AppExt]||{},t[r.Extensions.UserExt]=t[r.Extensions.UserExt]||{},t[r.Extensions.WebExt]=t[r.Extensions.WebExt]||{},t[r.Extensions.OSExt]=t[r.Extensions.OSExt]||{},t[r.Extensions.SdkExt]=t[r.Extensions.SdkExt]||{},t[r.Extensions.IntWebExt]=t[r.Extensions.IntWebExt]||{},t[r.Extensions.UtcExt]=t[r.Extensions.UtcExt]||{},t[r.Extensions.LocExt]=t[r.Extensions.LocExt]||{},t[r.Extensions.DeviceExt]=t[r.Extensions.DeviceExt]||{},t[r.Extensions.TraceExt]=t[r.Extensions.TraceExt]||{};var n=this.context;n.applyApplicationContext(e),n.applyUserContext(e),n.applyWebContext(e),n.applyOsContext(e),n.applySdkContext(e),n.applyIntWebContext(e),n.applyUtcContext(e),n.applyLocContext(e),n.applySessionContext(e),n.applyDeviceContext(e),n.applyAITraceContext(e),Object.keys(t).forEach((function(e){0===Object.keys(t[e]).length&&delete t[e]})),this._addPropertiesIfAbsent(this._properties,e.data),this._nextPlugin&&this._nextPlugin.processTelemetry(e)},s.prototype.setNextPlugin=function(e){this._nextPlugin=e},s.prototype.getPropertiesContext=function(){return this.context},s.prototype.setProperty=function(e,t){this._properties[e]=t},s.prototype._addPropertiesIfAbsent=function(e,t){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]||(t[n]=e[n]))},s);function s(){this.identifier="SystemPropertiesCollector",this.priority=3,this.version="2.1.0",this._properties={}}t.default=o},"./node_modules/@ms/1ds-properties-js/dist-esm/src/SessionManager.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SessionManager",(function(){return s}));var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Session.js"),o=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/Utils.js"),s=(a.prototype.update=function(){this.automaticSession.id||this.initializeAutomaticSession();var e,t=this.automaticSession,n=this.config,i=o.DateTimeUtils.Now(),r=i-t.acquisitionDate>n.sessionExpirationMs(),s=i-t.renewalDate>n.sessionRenewalMs();r||s?this.renew():(!(e=this.cookieUpdatedTimestamp)||a.cookieUpdateInterval<i-e)&&(t.renewalDate=i,this.setCookie(t.id,t.acquisitionDate,t.renewalDate))},a.prototype.getDefaultConfig=function(e){return{sessionRenewalMs:e.sessionRenewalMs&&function(){return e.sessionRenewalMs},sessionExpirationMs:e.sessionExpirationMs&&function(){return e.sessionExpirationMs},cookieDomain:e.cookieDomain&&function(){return e.cookieDomain},namePrefix:e.namePrefix&&function(){return e.namePrefix}}},a.prototype.backup=function(){this.setStorage(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate)},a.prototype.initializeAutomaticSession=function(){var e,t=Object(i.getCookie)(this._storageNamePrefix());t&&"function"==typeof t.split?this.initializeAutomaticSessionWithData(t):(e=o.getStorage(this._logger,this._storageNamePrefix()))&&this.initializeAutomaticSessionWithData(e),this.automaticSession.id||this.renew()},a.prototype.initializeAutomaticSessionWithData=function(e){var t,n,r=e.split("|");0<r.length&&(this.automaticSession.id=r[0]);try{1<r.length&&(t=+r[1],this.automaticSession.acquisitionDate=+new Date(t),this.automaticSession.acquisitionDate=0<this.automaticSession.acquisitionDate?this.automaticSession.acquisitionDate:0),2<r.length&&(n=+r[2],this.automaticSession.renewalDate=+new Date(n),this.automaticSession.renewalDate=0<this.automaticSession.renewalDate?this.automaticSession.renewalDate:0)}catch(e){this._logger.throwInternal(i.LoggingSeverity.CRITICAL,i._ExtendedInternalMessageId.ErrorParsingAISessionCookie,"Error parsing ai_session cookie, session will be reset: "+e)}0==this.automaticSession.renewalDate&&this._logger.throwInternal(i.LoggingSeverity.WARNING,i._ExtendedInternalMessageId.SessionRenewalDateIsZero,"AI session renewal date is 0, session will be reset.")},a.prototype.renew=function(){var e=o.DateTimeUtils.Now();this.automaticSession.id=o.newId(),this.automaticSession.acquisitionDate=e,this.automaticSession.renewalDate=e,this.setCookie(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate),o.canUseLocalStorage()||this._logger.throwInternal(i.LoggingSeverity.WARNING,i._ExtendedInternalMessageId.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")},a.prototype.setCookie=function(e,t,n){var i=t+this.config.sessionExpirationMs(),r=n+this.config.sessionRenewalMs(),s=new Date,a=[e,t,n];i<r?s.setTime(i):s.setTime(r);var c=this.config.cookieDomain?this.config.cookieDomain():null;o._setCookie(this._logger,this._storageNamePrefix(),a.join("|")+";expires="+s.toUTCString(),c),this.cookieUpdatedTimestamp=o.DateTimeUtils.Now()},a.prototype.setStorage=function(e,t,n){o.setStorage(this._logger,this._storageNamePrefix(),[e,t,n].join("|"))},a.acquisitionSpan=864e5,a.renewalSpan=18e5,a.cookieUpdateInterval=6e4,a.cookieNameConst="ai_session",a);function a(e,t){var n=this,o=this.getDefaultConfig(e);i.CoreUtils.isNullOrUndefined(t)?this._logger=new i.DiagnosticLogger:this._logger=t,"function"!=typeof e.sessionExpirationMs&&(o.sessionExpirationMs=function(){return a.acquisitionSpan}),"function"!=typeof e.sessionRenewalMs&&(o.sessionRenewalMs=function(){return a.renewalSpan}),this.config=o,this._storageNamePrefix=function(){return n.config.namePrefix&&n.config.namePrefix()?a.cookieNameConst+n.config.namePrefix():a.cookieNameConst},this.automaticSession=new r.Session}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/TelemetryContext.js":function(e,t,n){"use strict";n.r(t),n.d(t,"TelemetryContext",(function(){return y}));var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Application.js"),o=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/User.js"),s=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Web.js"),a=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/OperatingSystem.js"),c=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/IntWeb.js"),l=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Utc.js"),u=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Loc.js"),d=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Device.js"),p=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Session.js"),A=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Trace.js"),m=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/ExtensionKeys.js"),h=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/Extensions.js"),f=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Sdk.js"),g=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/SessionManager.js"),v=i.isString,y=(S.prototype.applyApplicationContext=function(e){var t=this.app;v(t.id)&&(e.ext[h.Extensions.AppExt][m.AppExtensionKeys.id]=t.id),v(t.ver)&&(e.ext[h.Extensions.AppExt][m.AppExtensionKeys.ver]=t.ver),v(t.name)&&(e.ext[h.Extensions.AppExt][m.AppExtensionKeys.appName]=t.name),v(t.locale)&&(e.ext[h.Extensions.AppExt][m.AppExtensionKeys.locale]=t.locale);var n=t.expId;v(n)&&(e.ext[h.Extensions.AppExt][m.AppExtensionKeys.expId]=n),v(t.env)&&(e.ext[h.Extensions.AppExt][m.AppExtensionKeys.env]=t.env)},S.prototype.applyUserContext=function(e){var t=this.user,n=t.localId;v(n)&&(e.ext[h.Extensions.UserExt][m.UserExtensionKeys.localId]=n),v(t.locale)&&(e.ext[h.Extensions.UserExt][m.UserExtensionKeys.locale]=t.locale),v(t.id)&&(e.ext[h.Extensions.UserExt][m.UserExtensionKeys.id]=t.id)},S.prototype.applyWebContext=function(e){var t=this.web;v(t.domain)&&(e.ext[h.Extensions.WebExt][m.WebExtensionKeys.domain]=t.domain),v(t.browser)&&(e.ext[h.Extensions.WebExt][m.WebExtensionKeys.browser]=t.browser),v(t.browserVer)&&(e.ext[h.Extensions.WebExt][m.WebExtensionKeys.browserVer]=t.browserVer),v(t.screenRes)&&(e.ext[h.Extensions.WebExt][m.WebExtensionKeys.screenRes]=t.screenRes),e.ext[h.Extensions.WebExt][m.WebExtensionKeys.userConsent]=t.userConsent},S.prototype.applyOsContext=function(e){var t=this.os;v(t.name)&&(e.ext[h.Extensions.OSExt][m.OSExtKeys.osName]=t.name),v(t.ver)&&(e.ext[h.Extensions.OSExt][m.OSExtKeys.ver]=t.ver)},S.prototype.applySdkContext=function(e){var t=this.sdk;e.ext[h.Extensions.SdkExt][m.SDKExtKeys.seq]=t.getSequenceId(),e.ext[h.Extensions.SdkExt][m.SDKExtKeys.epoch]=t.epoch,v(t.installId)&&(e.ext[h.Extensions.SdkExt][m.SDKExtKeys.installId]=t.installId)},S.prototype.applyIntWebContext=function(e){var t=this.intWeb,n=t.getMsfpc();v(n)&&(e.ext[h.Extensions.IntWebExt][m.IntWebExtKeys.msfpc]=n);var i=t.getAnid();v(i)&&(e.ext[h.Extensions.IntWebExt][m.IntWebExtKeys.anid]=i),v(t.serviceName)&&(e.ext[h.Extensions.IntWebExt][m.IntWebExtKeys.serviceName]=t.serviceName)},S.prototype.applyUtcContext=function(e){e.ext[h.Extensions.UtcExt][m.UtcExtKeys.popSample]=this.utc.popSample},S.prototype.applyLocContext=function(e){e.ext[h.Extensions.LocExt][m.LocExtKeys.tz]=this.loc.tz},S.prototype.applySessionContext=function(e){var t=this.session,n=this.sessionManager;t&&(v(t.id)||n.update());var i=n.automaticSession;i&&i.id&&v(i.id)&&(e.ext[h.Extensions.AppExt][m.SessionExtKeys.sessionId]=i.id),t&&t.id&&v(t.id)&&(e.ext[h.Extensions.AppExt][m.SessionExtKeys.sessionId]=t.id)},S.prototype.applyDeviceContext=function(e){var t=this.device;v(t.localId)&&(e.ext[h.Extensions.DeviceExt][m.DeviceExtKeys.localId]=t.localId),v(t.make)&&(e.ext[h.Extensions.DeviceExt][m.DeviceExtKeys.make]=t.make),v(t.model)&&(e.ext[h.Extensions.DeviceExt][m.DeviceExtKeys.model]=t.model),v(t.deviceClass)&&(e.ext[h.Extensions.DeviceExt][m.DeviceExtKeys.deviceClass]=t.deviceClass)},S.prototype.applyAITraceContext=function(e){var t=this.telemetryTrace;v(t.traceId)&&(e.ext[h.Extensions.TraceExt][m.TraceExtKeys.traceId]=t.traceId),v(t.name)&&(e.ext[h.Extensions.TraceExt][m.TraceExtKeys.traceName]=t.name),v(t.parentId)&&(e.ext[h.Extensions.TraceExt][m.TraceExtKeys.parentId]=t.parentId)},S);function S(e,t,n){this.app=new r.Application(t),this.user=new o.User(e,t,n&&n.logger),this.os=new a.OperatingSystem(t),this.web=new s.Web(t),this.sdk=new f.Sdk(e),this.intWeb=new c.IntWeb(t),this.utc=new l.Utc,this.loc=new u.Loc,this.device=new d.Device,this.telemetryTrace=new A.Trace(t),this.sessionManager=new g.SessionManager(t,n&&n.logger),this.session=new p.Session}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/Utils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"StorageType",(function(){return i})),n.d(t,"_setCookie",(function(){return a})),n.d(t,"newId",(function(){return c})),n.d(t,"canUseLocalStorage",(function(){return l})),n.d(t,"setStorage",(function(){return p})),n.d(t,"getStorage",(function(){return A})),n.d(t,"random32",(function(){return m})),n.d(t,"generateW3CId",(function(){return h})),n.d(t,"DateTimeUtils",(function(){return f})),n.d(t,"isDate",(function(){return v})),n.d(t,"toISOString",(function(){return y}));var i,r,o=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),s=void 0;function a(e,t,n,i){var r="",s="";o.isWindowObjectAvailable&&(i&&(r=";domain="+i),window.document.location&&"https:"===window.document.location.protocol&&(s=";secure"),Object(o.cookieAvailable)()&&(window.document.cookie=t+"="+n+r+";path=/"+s))}function c(){for(var e="",t=1073741824*Math.random();0<t;)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t%64),t=Math.floor(t/64);return e}function l(){return void 0===s&&(s=!!d(i.LocalStorage)),s}function u(){return l()?d(i.LocalStorage):null}function d(e){var t,n,r=null;try{if("undefined"==typeof window)return null;n=new Date,(r=e===i.LocalStorage?window.localStorage:window.sessionStorage).setItem(n,n),t=r.getItem(n)!=n,r.removeItem(n),t&&(r=null)}catch(e){r=null}return r}function p(e,t,n){var i=u();if(null!==i)try{return i.setItem(t,n),!0}catch(t){s=!1,e.throwInternal(o.LoggingSeverity.CRITICAL,o._ExtendedInternalMessageId.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+t)}return!1}function A(e,t){var n=u();if(null!==n)try{return n.getItem(t)}catch(t){s=!1,e.throwInternal(o.LoggingSeverity.CRITICAL,o._ExtendedInternalMessageId.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+t)}return null}function m(){return 4294967296*Math.random()|0}function h(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",i=0;i<4;i++)n+=t[15&(e=m())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var r=t[8+4*Math.random()|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+r+n.substr(16,3)+n.substr(19,12)}(r=i=i||{})[r.LocalStorage=0]="LocalStorage",r[r.SessionStorage=1]="SessionStorage";var f=(g.Now="undefined"!=typeof window&&window.performance&&window.performance.now&&window.performance.timing?function(){return window.performance.now()+window.performance.timing.navigationStart}:function(){return(new Date).getTime()},g.GetDuration=function(e,t){var n=null;return 0===e||0===t||o.CoreUtils.isNullOrUndefined(e)||o.CoreUtils.isNullOrUndefined(t)||(n=t-e),n},g);function g(){}function v(e){return"[object Date]"===Object.prototype.toString.call(e)}function y(e){if(v(e)){if(Date.prototype.toISOString)return e.toISOString();var t=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Application.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Application",(function(){return r}));var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r=(o.prototype.getExpId=function(){return this._propertiesConfig.expId?this._readExpIdFromCoreData(this._propertiesConfig.expId):this._readExpIdFromCookie()},o.prototype._getMetaDataFromDOM=function(e){for(var t={},n="undefined"!=typeof document&&document.querySelectorAll("meta"),i=0;i<n.length;i++){var r=n[i];r.name&&0===r.name.toLowerCase().indexOf(e)&&(t[r.name.replace(e,"")]=r.content)}return t},o.prototype._setAppExpId=function(e){if(e){if(e!==this.appExpId){this.appExpId=null;for(var t=e.split(","),n=0;n<t.length;n++)this._isValidAppFlightId(t[n])&&(this.appExpId?this.appExpId+=","+t[n]:this.appExpId=t[n])}}else this.appExpId=null},o.prototype._getAppExpId=function(){return this.appExpId},o.prototype._readExpIdFromCookie=function(){return this._setAppExpId(Object(i.getCookie)(this.expIdCookieName)),this._getAppExpId()},o.prototype._readExpIdFromCoreData=function(e){return this._setAppExpId(e),this._getAppExpId()},o.prototype._isValidAppFlightId=function(e){if(!e||e.length<4)return!1;for(var t=!1,n=e.substring(0,3).toString().toUpperCase(),i=this.flightIdNameSpaces,r=0;r<i.length;r++)if(i[r]+":"===n&&e.length<=256){t=!0;break}return t},o._staticInit=void Object(i.objDefineAccessors)(o.prototype,"expId",o.prototype.getExpId),o);function o(e){var t;this.appExpId=null,this.flightIdNameSpaces=["AX","EX","SF","CS","CF","CT","CU","DC","DF","H5","HL","WS","WP"],this.expIdCookieName="Treatments",this._propertiesConfig=e,"undefined"==typeof document||(t=document.documentElement)&&(this.locale=t.lang),this.env=e.env?e.env:this._getMetaDataFromDOM("awa-").env}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Device.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Device",(function(){return i}));var i=function(){}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/context/IntWeb.js":function(e,t,n){"use strict";n.r(t),n.d(t,"IntWeb",(function(){return r}));var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r=(o.prototype.getMsfpc=function(){return Object(i.getCookie)("MSFPC")},o.prototype.getAnid=function(){return Object(i.getCookie)("ANON").slice(0,34)},o._staticInit=(Object(i.objDefineAccessors)(o.prototype,"msfpc",o.prototype.getMsfpc),void Object(i.objDefineAccessors)(o.prototype,"anid",o.prototype.getAnid)),o);function o(e){this.serviceName=e.serviceName?e.serviceName:""}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Loc.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Loc",(function(){return i}));var i=function(){var e=(new Date).getTimezoneOffset(),t=0<(n=(e-(i=e%60))/60)?"-":"+",n=Math.abs(n),i=Math.abs(i);this.tz=t+(n<10?"0"+n:n.toString())+":"+(i<10?"0"+i:i.toString())}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/context/OperatingSystem.js":function(e,t,n){"use strict";n.r(t),n.d(t,"OperatingSystem",(function(){return f}));var i="Windows",r="Mac OS X",o="Android",s=/(windows|win32)/i,a=/ arm;/i,c=/windows\sphone\s\d+\.\d+/i,l=/(macintosh|mac os x)/i,u=/(ipad|iphone|ipod)(?=.*like mac os x)/i,d=/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,p=/android/i,A=/CrOS/i,m={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},h="Unknown",f=(g.prototype._getOsName=function(e){return e.match(c)?"Windows Phone":e.match(a)?"Windows RT":e.match(s)?i:e.match(u)?"iOS":e.match(p)?o:e.match(d)?"Linux":-1!==e.indexOf("x11")?"Unix":-1!==e.indexOf("blackberry")?"BlackBerry":-1!==e.indexOf("symbian")?"Symbian":-1!==e.indexOf("nokia")?"Nokia":e.match(l)?r:e.match(A)?"Chrome OS":h},g.prototype._getOsVersion=function(e,t){return t===i?this._getGenericOsVersion(e,"Windows NT"):t===o?this._getGenericOsVersion(e,t):t===r?this._getMacOsxVersion(e):h},g.prototype._getGenericOsVersion=function(e,t){var n=e.match(new RegExp(t+" ([\\d,.]+)"));return n?m[n[1]]?m[n[1]]:n[1]:h},g.prototype._getMacOsxVersion=function(e){var t=e.match(new RegExp(r+" ([\\d,_,.]+)"));if(t){var n=t[1].replace(/_/g,".");if(n){var i=this._getDelimiter(n);return i?n.split(i)[0]:n}}return h},g.prototype._getDelimiter=function(e){return-1<e.indexOf(".")?".":-1<e.indexOf("_")?"_":null},g);function g(e){var t,n="undefined"!=typeof navigator?navigator.userAgent:"";e.userAgent&&(n=e.userAgent),n&&e.populateOperatingSystemInfo&&(t=this._getOsName(n.toLowerCase()),this.name=t,this.ver=this._getOsVersion(n,t))}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Sdk.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Sdk",(function(){return o}));var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r="MicrosoftApplicationsTelemetryDeviceId",o=(s.prototype.getSequenceId=function(){return++this._sequenceId},s.prototype._saveData=function(e,t){var n=this._propertyStorage;n?n.setProperty(e,t):Object(i.setCookie)(e,t,365)},s.prototype._getData=function(e){return this._propertyStorage?this._propertyStorage.getProperty(e)||"":Object(i.getCookie)(e)},s);function s(e){var t;this._sequenceId=0,this._propertyStorage=e.propertyStorageOverride,this.seq=this._sequenceId,this.epoch=(new Date).getTime().toString(),!e.disableCookiesUsage&&Object(i.cookieAvailable)()||this._propertyStorage?(t=(t=this._getData(r))||i.CoreUtils.newGuid(),this._saveData(r,t),this.installId=t):Object(i.deleteCookie)(r)}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Session.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Session",(function(){return i}));var i=function(){}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Trace.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Trace",(function(){return o}));var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/Utils.js"),o=function(e,t,n,o){e.enableApplicationInsightsTrace&&(this.traceId=t||Object(r.generateW3CId)(),this.parentId=n,this.name=o,i.isWindowObjectAvailable&&window.location&&window.location.pathname&&(this.name=window.location.pathname))}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/context/User.js":function(e,t,n){"use strict";n.r(t),n.d(t,"User",(function(){return o}));var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r=n("./node_modules/@ms/1ds-properties-js/dist-esm/src/Utils.js"),o=(s.prototype.getLocalId=function(){if(this._customLocalId)return this._customLocalId;var e=Object(i.getCookie)("MUID");e&&this.setLocalId("t:"+e)},s.prototype.setLocalId=function(e){this._customLocalId=e},s.cookieSeparator="|",s.userCookieName="ai_user",s._staticInit=void Object(i.objDefineAccessors)(s.prototype,"localId",s.prototype.getLocalId,s.prototype.setLocalId),s);function s(e,t,n){var o,a,c,l,u,d,p,A;this._logger=n,!e.disableCookiesUsage&&Object(i.cookieAvailable)()&&((o=Object(i.getCookie)("MUID"))&&this.setLocalId("t:"+o),t.enableApplicationInsightsUser&&(!(a=Object(i.getCookie)(s.userCookieName))||0<(c=a.split(s.cookieSeparator)).length&&(this.id=c[0]),this.id||(this.id=r.newId(),l=new Date,u=r.toISOString(l),this.accountAcquisitionDate=u,l.setTime(l.getTime()+31536e6),d=[this.id,u],p=t.cookieDomain?t.cookieDomain:void 0,r._setCookie(this._logger,s.userCookieName,d.join(s.cookieSeparator)+";expires="+l.toUTCString(),p)))),"undefined"!=typeof navigator&&(A=navigator,this.locale=A.userLanguage||A.language)}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Utc.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Utc",(function(){return i}));var i=function(){this.popSample=100}},"./node_modules/@ms/1ds-properties-js/dist-esm/src/context/Web.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Web",(function(){return A}));var i=n("./node_modules/@ms/1ds-core-js/dist-esm/src/Index.js"),r="MSIE",o="Chrome",s="Firefox",a="Safari",c="Edge",l="Electron",u="SkypeShell",d="PhantomJS",p="([\\d,.]+)",A=(m.prototype.getUserConsent=function(){return this._propertiesConfig.userConsented||!!Object(i.getCookie)(this._propertiesConfig.userConsentCookieName)},m.prototype._getBrowserName=function(e){return this._userAgentContainsString("OPR/",e)?"Opera":this._userAgentContainsString(d,e)?d:this._userAgentContainsString(c,e)?c:this._userAgentContainsString(l,e)?l:this._userAgentContainsString(o,e)?o:this._userAgentContainsString("Trident",e)?r:this._userAgentContainsString(s,e)?s:this._userAgentContainsString(a,e)?a:this._userAgentContainsString(u,e)?u:"Unknown"},m.prototype._userAgentContainsString=function(e,t){return-1<t.indexOf(e)},m.prototype._getBrowserVersion=function(e,t){return t===r?this._getIeVersion(e):this._getOtherVersion(t,e)},m.prototype._getIeVersion=function(e){var t=e.match(new RegExp(r+" "+p));if(t)return t[1];var n=e.match(new RegExp("rv:"+p));return n?n[1]:void 0},m.prototype._getOtherVersion=function(e,t){e===a&&(e="Version");var n=t.match(new RegExp(e+"/"+p));return n?n[1]:"Unknown"},m.prototype._getScreenResolution=function(){var e={h:0,w:0};return window.screen&&(e.h=screen.height,e.w=screen.width),e},m._staticInit=void Object(i.objDefineAccessors)(m.prototype,"userConsent",m.prototype.getUserConsent),m);function m(e){var t,n;this._propertiesConfig=e,"undefined"!=typeof window&&(!(t=window.location)||(n=t.hostname)&&(this.domain="file:"===t.protocol?"local":n));var i,r,o="undefined"!=typeof navigator?navigator.userAgent:"";e.userAgent&&(o=e.userAgent),e.populateBrowserInfo&&(o&&(i=this._getBrowserName(o),this.browser=i,this.browserVer=this._getBrowserVersion(o,i)),r=this._getScreenResolution(),this.screenRes=r.w+"X"+r.h)}},"./node_modules/@msstream/core/esm/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/core/esm/init.js");n.d(t,"initLoggingAndUI",(function(){return i.initLoggingAndUI})),n.d(t,"setTheme",(function(){return i.setTheme})),n.d(t,"ensureUIInitialized",(function(){return i.ensureUIInitialized}));var r=n("./node_modules/@msstream/core/esm/styles/Colors.js");n.d(t,"ProductBrandColor",(function(){return r.ProductBrandColor})),n.d(t,"ProductBackgroundColor",(function(){return r.ProductBackgroundColor})),n.d(t,"ProductBorderColor",(function(){return r.ProductBorderColor})),n.d(t,"ProductPrimaryThemeColor",(function(){return r.ProductPrimaryThemeColor})),n.d(t,"NamedColors",(function(){return r.NamedColors}));var o=n("./node_modules/@msstream/core/esm/styles/Controls.js");n.d(t,"buttonStyle",(function(){return o.buttonStyle})),n.d(t,"singleLineEllipsis",(function(){return o.singleLineEllipsis})),n.d(t,"inactiveElementStyle",(function(){return o.inactiveElementStyle}));var s=n("./node_modules/@msstream/core/esm/styles/PositionHelpers.js");n.d(t,"absoluteCenter",(function(){return s.absoluteCenter})),n.d(t,"xSmallBreakPoint",(function(){return s.xSmallBreakPoint})),n.d(t,"smallBreakPoint",(function(){return s.smallBreakPoint})),n.d(t,"mediumBreakPoint",(function(){return s.mediumBreakPoint})),n.d(t,"largeBreakPoint",(function(){return s.largeBreakPoint})),n.d(t,"xlargeBreakPoint",(function(){return s.xlargeBreakPoint}));var a=n("./node_modules/@msstream/core/esm/styles/Fonts.js");n.d(t,"SegoeUI",(function(){return a.SegoeUI})),n.d(t,"SegoeUILight",(function(){return a.SegoeUILight})),n.d(t,"SegoeUISemilight",(function(){return a.SegoeUISemilight})),n.d(t,"SegoeUIBold",(function(){return a.SegoeUIBold})),n.d(t,"SegoeUISemibold",(function(){return a.SegoeUISemibold})),n.d(t,"loadAndRegisterFonts",(function(){return a.loadAndRegisterFonts}));var c=n("./node_modules/@msstream/core/esm/styles/FontFamilyNames.js");n.d(t,"FontFamilySegoeUI",(function(){return c.FontFamilySegoeUI})),n.d(t,"FontFamilySegoeUILight",(function(){return c.FontFamilySegoeUILight})),n.d(t,"FontFamilySegoeUISemilight",(function(){return c.FontFamilySegoeUISemilight})),n.d(t,"FontFamilySegoeUIBold",(function(){return c.FontFamilySegoeUIBold})),n.d(t,"FontFamilySegoeUISemibold",(function(){return c.FontFamilySegoeUISemibold}));var l=n("./node_modules/@msstream/core/esm/styles/Themes.js");n.d(t,"streamTheme",(function(){return l.streamTheme})),n.d(t,"streamDarkTheme",(function(){return l.streamDarkTheme}));var u=n("./node_modules/@msstream/core/esm/telemetry/StreamLoggingService.js");n.d(t,"StreamLoggingService",(function(){return u.StreamLoggingService})),n.d(t,"setupLoggingService",(function(){return u.setupLoggingService}));var d=n("./node_modules/@msstream/core/esm/utilities/index.js");n.d(t,"convertISOTimeSpanDurationToSeconds",(function(){return d.convertISOTimeSpanDurationToSeconds})),n.d(t,"durationToSeconds",(function(){return d.durationToSeconds})),n.d(t,"convertDurationInSecondsToString",(function(){return d.convertDurationInSecondsToString})),n.d(t,"generateGuid",(function(){return d.generateGuid})),n.d(t,"HttpStatusCode",(function(){return d.HttpStatusCode})),n.d(t,"formatISODuration",(function(){return d.formatISODuration})),n.d(t,"formatISODurationToSeconds",(function(){return d.formatISODurationToSeconds})),n.d(t,"formatSecondsToISODuration",(function(){return d.formatSecondsToISODuration})),n.d(t,"formatISODateTimeToFullDateTimeLocaleString",(function(){return d.formatISODateTimeToFullDateTimeLocaleString})),n.d(t,"formatISODateTimeToTwoDigitDate",(function(){return d.formatISODateTimeToTwoDigitDate})),n.d(t,"formatISODateTimeToLocalTime",(function(){return d.formatISODateTimeToLocalTime})),n.d(t,"formatISODateTime",(function(){return d.formatISODateTime})),n.d(t,"setTimeOnDate",(function(){return d.setTimeOnDate})),n.d(t,"setDateOnDate",(function(){return d.setDateOnDate})),n.d(t,"convertNumberToShortNumber",(function(){return d.convertNumberToShortNumber})),n.d(t,"localizeNumber",(function(){return d.localizeNumber})),n.d(t,"shortNumber",(function(){return d.shortNumber})),n.d(t,"getUserRegionInfo",(function(){return d.getUserRegionInfo})),n.d(t,"formatString",(function(){return d.formatString})),n.d(t,"handleStringCardinality",(function(){return d.handleStringCardinality})),n.d(t,"strHash",(function(){return d.strHash})),n.d(t,"debounce",(function(){return d.debounce})),n.d(t,"throttle",(function(){return d.throttle})),n.d(t,"fromEventRegistry",(function(){return d.fromEventRegistry})),n.d(t,"fromEventRegistryWithTimeout",(function(){return d.fromEventRegistryWithTimeout})),n.d(t,"fromTimeout",(function(){return d.fromTimeout})),n.d(t,"makeCancellable",(function(){return d.makeCancellable})),n.d(t,"isPositiveInt",(function(){return d.isPositiveInt})),n.d(t,"isStrictlyPositiveInt",(function(){return d.isStrictlyPositiveInt})),n.d(t,"isPositive",(function(){return d.isPositive})),n.d(t,"isStrictlyPositive",(function(){return d.isStrictlyPositive})),n.d(t,"isFiniteNumber",(function(){return d.isFiniteNumber})),n.d(t,"isFinitePositive",(function(){return d.isFinitePositive})),n.d(t,"isFiniteStrictlyPositive",(function(){return d.isFiniteStrictlyPositive})),n.d(t,"isFiniteRange",(function(){return d.isFiniteRange})),n.d(t,"isIntegralRange",(function(){return d.isIntegralRange})),n.d(t,"isFiniteExclusiveRange",(function(){return d.isFiniteExclusiveRange})),n.d(t,"RemoteResourceError",(function(){return d.RemoteResourceError})),n.d(t,"DomainError",(function(){return d.DomainError})),n.d(t,"CancellationError",(function(){return d.CancellationError})),n.d(t,"TimeoutError",(function(){return d.TimeoutError})),n.d(t,"getNarratorFriendlyTime",(function(){return d.getNarratorFriendlyTime}))},"./node_modules/@msstream/core/esm/init.js":function(e,t,n){"use strict";n.r(t),n.d(t,"initLoggingAndUI",(function(){return c})),n.d(t,"setTheme",(function(){return u})),n.d(t,"ensureUIInitialized",(function(){return d}));var i=n("./node_modules/@msstream/utilities-icons/esm/index.js"),r=n("./node_modules/@uifabric/styling/lib/index.js"),o=n("./node_modules/@msstream/core/esm/styles/Fonts.js"),s=n("./node_modules/@msstream/core/esm/styles/Themes.js"),a=n("./node_modules/@msstream/core/esm/telemetry/StreamLoggingService.js");function c(e,t,n,i){d(i),Object(a.setupLoggingService)(e,t,n)}var l="none",u=function(e){var t="standard"===e?s.streamTheme:s.streamDarkTheme;Object(r.loadTheme)(t)};function d(e){void 0===e&&(e="standard"),"none"!==l&&l===e||(u(e),i.init(),Object(o.loadAndRegisterFonts)(),l=e)}},"./node_modules/@msstream/core/esm/styles/Colors.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ProductBrandColor",(function(){return i})),n.d(t,"ProductBackgroundColor",(function(){return r})),n.d(t,"ProductBorderColor",(function(){return o})),n.d(t,"ProductPrimaryThemeColor",(function(){return s})),n.d(t,"NamedColors",(function(){return a}));var i="#C30052",r="#FAF9F8",o="#E1DFDD",s="#BC1948",a={Black:"black",BlackReddishBackground:"rgba(27, 26, 25, 0.75)",BlackReddishBackgroundHover:"rgba(50, 49, 48, 0.75)",DarkGray:"#414141",DimGray:"#666666",LightBlue:"#E3ECFA",LightGray:"#C8C8C8",Link:i,MedGray1:"#BEBBB8",MedGray2:"#A19F9D",OffGray:"#D2D0CE",White:"white",WhiteHover:"rgba(255, 255, 255, 0.15)",WhiteFocus:"rgba(255, 255, 255, 0.30)",Gray130:"#605E5C",Gray160:"#323130",Gray120:"#797775",Gray110:"#8a8886",Gray90:"#A19F9D",Gray80:"#B3B0AD",Gray50:"#d2d0ce",Gray40:"#E1DFDD",Gray30:"#EDEBE9",Gray20:"#F3F2F1",VeryDarkGray:"#4a4a4a",VeryLightGray:"#EAEAEA",EvenLighterGray:"#F4F3F2",EvenDarkerGray:"#212121",Disabled:"#C2C2C2",linkColorDarkBg:"#D2D0CE",linkColorDarkBgHover:"#BEBBB8",linkColorDarkBgActive:"#A19F9D",linkHoverColor:s,slate:"rgba(31, 26, 26, 0.85)",transparentBlack:"rgba(0, 0, 0, 0.6)",Background:r,Border:o,OverlayPanelBackground:"rgba(37, 36, 35, 0.95)",themeLight:"#eda6c3"}},"./node_modules/@msstream/core/esm/styles/Controls.js":function(e,t,n){"use strict";n.r(t),n.d(t,"buttonStyle",(function(){return i})),n.d(t,"singleLineEllipsis",(function(){return r})),n.d(t,"inactiveElementStyle",(function(){return o}));var i={background:n("./node_modules/@msstream/core/esm/styles/Colors.js").NamedColors.LightGray,borderRadius:"3px",height:"28px",marginRight:"16px",width:"116px"},r={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},o={visibility:"hidden",opacity:0,transition:"visibility 1.5s, opacity 1.5s"}},"./node_modules/@msstream/core/esm/styles/FontFamilyNames.js":function(e,t,n){"use strict";n.r(t),n.d(t,"FontFamilySegoeUI",(function(){return i})),n.d(t,"FontFamilySegoeUILight",(function(){return r})),n.d(t,"FontFamilySegoeUISemilight",(function(){return o})),n.d(t,"FontFamilySegoeUIBold",(function(){return s})),n.d(t,"FontFamilySegoeUISemibold",(function(){return a}));var i="'Segoe UI', 'Stream Segoe UI', 'Helvetica Neue', Helvetica, Arial, sans-serif",r="'Segoe UI Light', 'Stream Segoe UI Light', 'Helvetica Neue', Helvetica, Arial, sans-serif",o="'Segoe UI Semilight', 'Stream Segoe UI Semilight', 'Helvetica Neue', Helvetica, Arial, sans-serif",s="'Segoe UI Bold', 'Stream Segoe UI Bold', 'Helvetica Neue', Helvetica, Arial, sans-serif",a="'Segoe UI Semibold', 'Stream Segoe UI Semibold', 'Helvetica Neue', Helvetica, Arial, sans-serif"},"./node_modules/@msstream/core/esm/styles/Fonts.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SegoeUI",(function(){return o})),n.d(t,"SegoeUILight",(function(){return s})),n.d(t,"SegoeUISemilight",(function(){return a})),n.d(t,"SegoeUIBold",(function(){return c})),n.d(t,"SegoeUISemibold",(function(){return l})),n.d(t,"loadAndRegisterFonts",(function(){return u}));var i=n("./node_modules/@uifabric/merge-styles/lib/index.js"),r=n("./node_modules/@msstream/core/esm/styles/FontFamilyNames.js"),o={fontFamily:r.FontFamilySegoeUI},s={fontFamily:r.FontFamilySegoeUILight},a={fontFamily:r.FontFamilySegoeUISemilight},c={fontFamily:r.FontFamilySegoeUIBold},l={fontFamily:r.FontFamilySegoeUISemibold};function u(){var e=n("./node_modules/@msstream/core/fonts/segoeui.woff");Object(i.fontFace)({fontFamily:'"Stream Segoe UI"',src:"url('"+e+"')",fontWeight:"normal",fontStyle:"normal"});var t=n("./node_modules/@msstream/core/fonts/segoeuil.woff");Object(i.fontFace)({fontFamily:'"Stream Segoe UI Light"',src:"url('"+t+"')",fontWeight:"normal",fontStyle:"normal"});var r=n("./node_modules/@msstream/core/fonts/segoeuil.woff");Object(i.fontFace)({fontFamily:'"Stream Segoe UI Semilight"',src:"url('"+r+"')",fontWeight:"normal",fontStyle:"normal"});var o=n("./node_modules/@msstream/core/fonts/segoeuib.woff");Object(i.fontFace)({fontFamily:'"Stream Segoe UI Bold"',src:"url('"+o+"')",fontWeight:"normal",fontStyle:"normal"});var s=n("./node_modules/@msstream/core/fonts/segoeuisb.woff");Object(i.fontFace)({fontFamily:'"Stream Segoe UI Semibold"',src:"url('"+s+"')",fontWeight:"normal",fontStyle:"normal"})}},"./node_modules/@msstream/core/esm/styles/PositionHelpers.js":function(e,t,n){"use strict";n.r(t),n.d(t,"absoluteCenter",(function(){return i})),n.d(t,"xSmallBreakPoint",(function(){return r})),n.d(t,"smallBreakPoint",(function(){return o})),n.d(t,"mediumBreakPoint",(function(){return s})),n.d(t,"largeBreakPoint",(function(){return a})),n.d(t,"xlargeBreakPoint",(function(){return c}));var i={top:"50%",left:"50%",transform:"translateY(-50%) translateX(-50%)",position:"absolute"},r=320,o=540,s=768,a=960,c=1200},"./node_modules/@msstream/core/esm/styles/Themes.js":function(e,t,n){"use strict";n.r(t),n.d(t,"streamTheme",(function(){return r})),n.d(t,"streamDarkTheme",(function(){return o}));var i=n("./node_modules/@uifabric/styling/lib/index.js"),r=Object(i.createTheme)({palette:{themeDarker:"#6a0e28",black:"#000000",neutralTertiaryAlt:"#c8c6c4",themeDark:"#8f1336",neutralDark:"#201f1e",themeDarkAlt:"#aa1640",neutralPrimary:"#323130",neutralQuaternaryAlt:"#e1dfdd",themePrimary:"#BC1948",neutralPrimaryAlt:"#3b3a39",neutralLight:"#edebe9",themeSecondary:"#c52e59",neutralSecondary:"#605e5c",neutralLighter:"#f3f2f1",themeTertiary:"#d76787",neutralTertiary:"#a19f9d",neutralLighterAlt:"#faf9f8",themeLight:"#ebaebf",white:"#ffffff",themeLighter:"#f4d2dc",themeLighterAlt:"#fcf4f6"}}),o=Object(i.createTheme)({palette:{themePrimary:"#e8467c",themeLighterAlt:"#fef7f9",themeLighter:"#fbdfe9",themeLight:"#f8c4d5",themeTertiary:"#f18cae",themeSecondary:"#eb5a8a",themeDarkAlt:"#d13f6f",themeDark:"#b0355e",themeDarker:"#822745",neutralLighterAlt:"#262523",neutralLighter:"#2f2d2c",neutralLight:"#3d3b39",neutralQuaternaryAlt:"#464442",neutralQuaternary:"#4d4b49",neutralTertiaryAlt:"#6b6966",neutralTertiary:"#a2a1a1",neutralSecondary:"#888786",neutralPrimaryAlt:"#6d6c6c",neutralPrimary:"#f3f2f1",neutralDark:"#383737",black:"#1d1d1d",white:"#1b1a19"}})},"./node_modules/@msstream/core/esm/telemetry/StreamLoggingService.js":function(e,t,n){"use strict";n.r(t),n.d(t,"StreamLoggingService",(function(){return r})),n.d(t,"setupLoggingService",(function(){return o}));var i=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),r=new i.LoggingService;function o(e,t,n,o){var s,a;e?a=(s=Object(i.createOneDSLogger)(e)).PrivacyScrubber:s=Object(i.createConsoleLogger)(),a&&r.setupPrivacyScrubber(a),r.setupLogger(s,new i.LegacyLogging(s),t,n,o);var c={groupings:{features:[i.FeatureNames.Telemetry]},loggerConfiguration:e};r.appLogicThin("StreamLoggingServiceInitialized",c),i.RestCallLogger.initialize(r)}},"./node_modules/@msstream/core/esm/utilities/Accessibility.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getNarratorFriendlyTime",(function(){return o}));var i=n("./node_modules/@msstream/core/esm/utilities/Region.js"),r=n("./node_modules/@msstream/core/esm/utilities/String.js");function o(e,t){if(!e)return"";var n=[t.Second,t.Minute,t.Hour,t.Day,t.Month,t.Year],o=e.split(t.Seperator);if(o.some((function(e){return Number.isNaN(+e)})))return"";for(var s="",a=0,c=o.length-1;a<o.length&&0<=c;a++,c--){var l=parseInt(o[a],10);(0===a||0<l)&&(s+=l+" "+Object(r.handleStringCardinality)(l,n[c],Object(i.getUserRegionInfo)()))," "!==s.charAt(s.length-1)&&(s+=" ")}return s.trim()}},"./node_modules/@msstream/core/esm/utilities/Debounce.js":function(e,t,n){"use strict";n.r(t),n.d(t,"debounce",(function(){return i})),n.d(t,"throttle",(function(){return r}));var i=function(e,t,n){void 0===n&&(n={});var i=0,r=0;function o(t){r=Date.now(),e.apply(null,t)}return function(){for(var e,s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];e=Date.now()-r,(n.maxWait&&e>=n.maxWait||!r&&n.invokeOnFirstCall)&&o(s),window.clearTimeout(i),i=window.setTimeout((function(){return o(s)}),t)}},r=function(e,t){return i(e,t,{invokeOnFirstCall:!0,maxWait:t})}},"./node_modules/@msstream/core/esm/utilities/Duration.js":function(e,t,n){"use strict";n.r(t),n.d(t,"convertISOTimeSpanDurationToSeconds",(function(){return s})),n.d(t,"durationToSeconds",(function(){return c})),n.d(t,"convertDurationInSecondsToString",(function(){return l}));var i,r,o=new RegExp(/^PT(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?$/);function s(e){var t=o.exec(e);return t?3600*a(t[i.Hour])+60*a(t[i.Minute])+a(t[i.Second]):NaN}function a(e){if(!e)return 0;var t=parseFloat(e);return isNaN(t)?NaN:t}function c(e){var t=e.split(":").reverse(),n=0;return t[0]&&(n+=parseInt(t[0],10)),t[1]&&(n+=60*parseInt(t[1],10)),t[2]&&(n+=60*parseInt(t[2],10)*60),n}function l(e){var t=Math.floor(e/3600),n=t%24;return Math.floor(t/24)+"."+n+":"+Math.floor(e%3600/60)+":"+(e%60).toFixed(4)}(r=i=i||{})[r.Hour=1]="Hour",r[r.Minute=2]="Minute",r[r.Second=3]="Second"},"./node_modules/@msstream/core/esm/utilities/Errors.types.js":function(e,t,n){"use strict";n.r(t),n.d(t,"RemoteResourceError",(function(){return s})),n.d(t,"DomainError",(function(){return l})),n.d(t,"CancellationError",(function(){return p})),n.d(t,"TimeoutError",(function(){return h}));var i=n("./node_modules/tslib/tslib.es6.js");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,s=(o=Error,Object(i.__extends)(a,o),a);function a(e,t){var n=o.call(this,"Fetch "+e+" failed with status code: "+t)||this;return void 0!==r(Object.setPrototypeOf)&&Object.setPrototypeOf(n,a.prototype),n}var c,l=(c=Error,Object(i.__extends)(u,c),u);function u(e,t){var n=c.call(this,"Domain error: "+e+" does not satisfy "+t)||this;return void 0!==r(Object.setPrototypeOf)&&Object.setPrototypeOf(n,u.prototype),n}var d,p=(d=Error,Object(i.__extends)(A,d),A);function A(e){var t=d.call(this,"Operation was cancelled. Reason: "+e)||this;return void 0!==r(Object.setPrototypeOf)&&Object.setPrototypeOf(t,A.prototype),t}var m,h=(m=Error,Object(i.__extends)(f,m),f);function f(e){var t=m.call(this,"Exceeded timeout of "+e+" ms.")||this;return void 0!==r(Object.setPrototypeOf)&&Object.setPrototypeOf(t,f.prototype),t}},"./node_modules/@msstream/core/esm/utilities/Guid.js":function(e,t,n){"use strict";function i(){var e="",t=0;for(t=0;t<32;t+=1){var n=16*Math.random()|0;switch(t){case 8:case 12:case 16:case 20:e+="-"}e+=n.toString(16)}return e}n.r(t),n.d(t,"generateGuid",(function(){return i}))},"./node_modules/@msstream/core/esm/utilities/Http.js":function(e,t,n){"use strict";n.r(t),n.d(t,"HttpStatusCode",(function(){return i}));var i={ClientNetworkError:"-1",Unauthorized:"401",Forbidden:"403",NotFound:"404",OperationNotAllowed:"405",Conflict:"409",Accepted:"202",OK:"200",BadRequest:"400",PreConditionFailed:"412"}},"./node_modules/@msstream/core/esm/utilities/ISO8601.js":function(e,t,n){"use strict";n.r(t),n.d(t,"formatISODuration",(function(){return r})),n.d(t,"formatISODurationToSeconds",(function(){return o})),n.d(t,"formatSecondsToISODuration",(function(){return s})),n.d(t,"formatISODateTimeToFullDateTimeLocaleString",(function(){return a})),n.d(t,"formatISODateTimeToTwoDigitDate",(function(){return c})),n.d(t,"formatISODateTimeToLocalTime",(function(){return l})),n.d(t,"formatISODateTime",(function(){return u})),n.d(t,"setTimeOnDate",(function(){return d})),n.d(t,"setDateOnDate",(function(){return p}));var i=n("./node_modules/@msstream/core/esm/utilities/Region.js");function r(e,t){var n=Object(i.getUserRegionInfo)(t).timeSeperator,r=/^P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?))$/.exec(e);if(null===r)return"";var o=new function(){this.alreadyHaveValue=!1,this.retVal=""};function s(e,t,i){var r;void 0===t?!0!==e.alreadyHaveValue&&!i||(e.retVal+="00"+n):(e.alreadyHaveValue=!0,r=parseInt(t),e.retVal+=r<10?"0"+r+n:t.substr(0,2)+n)}for(var a=1;a<5;a++)s(o,r[a],!1);for(a=5;a<7;a++)s(o,r[a],!0);return o.retVal.slice(0,o.retVal.length-1)}function o(e){var t=r(e);if(!t)return 0;var n=t.split(":").reverse(),i=0;return n[0]&&(i+=parseInt(n[0])),n[1]&&(i+=60*parseInt(n[1])),n[2]&&(i+=60*parseInt(n[2])*60),i}function s(e){var t=Math.floor(e/3600),n=Math.floor((e-60*t*60)/60),i=e-60*t*60-60*n;return t?"PT"+t+"H"+n+"M"+i+"S":"PT"+n+"M"+i+"S"}function a(e,t){return new Date(e).toLocaleString(t,{weekday:"long",year:"2-digit",month:"2-digit",day:"2-digit",hour12:!0,hour:"numeric",minute:"numeric",timeZoneName:"short"})}function c(e,t){return new Date(e).toLocaleString(t,{year:"2-digit",month:"2-digit",day:"2-digit"})}function l(e,t){return new Date(e).toLocaleString(t,{hour:"2-digit",minute:"2-digit"})}function u(e){return e.toISOString().split(".")[0]+"Z"}function d(e,t){return e.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e}function p(e,t){return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e}},"./node_modules/@msstream/core/esm/utilities/Number.js":function(e,t,n){"use strict";function i(e,t,n,i){if(t<=0)return"0";(!n||n<0)&&(n=1);var r=Math.abs(t);if(r<1e3)return r.toString();var o=Math.pow(10,n),s=i?[{key:e.thousands,value:1e3},{key:e.lakhs,value:Math.pow(10,5)},{key:e.crores,value:Math.pow(10,7)}]:[{key:e.thousands,value:1e3},{key:e.millions,value:Math.pow(10,6)},{key:e.billions,value:Math.pow(10,9)},{key:e.trillions,value:Math.pow(10,12)}],a=i?r/10:r;i&&1e6===a&&(a+=.1);var c=i?100:1e3,l=Math.floor(Math.log(a)/Math.log(c))-1;s.length<=l&&(l=s.length-1);var u=r/s[l].value,d=s[l].key;return(r=u<10?Math.floor(u*o)/o:Math.floor(u))+d}function r(e,t){if(e&&0<=e){var n=t.numberDigitSeperator||",",i=e.toString();if(t.numberSeperatorPosition){if(3<i.length){var r=n+i.substring(i.length-3);return i.substring(0,i.length-3).replace(/\B(?=(\d{2})+(?!\d))/g,n)+r}return i}return i.replace(/\B(?=(\d{3})+(?!\d))/g,n)}return"0"}function o(e,t,n,r,o){return i(n,e,r,o||t.numberSeperatorPosition)}n.r(t),n.d(t,"convertNumberToShortNumber",(function(){return i})),n.d(t,"localizeNumber",(function(){return r})),n.d(t,"shortNumber",(function(){return o}))},"./node_modules/@msstream/core/esm/utilities/NumberValidation.js":function(e,t,n){"use strict";function i(e){return 0<=e&&Number.isInteger(e)}function r(e){return 0<e&&Number.isInteger(e)}function o(e){return 0<=e}function s(e){return 0<e}function a(e){return isFinite(e)&&!isNaN(e)}function c(e){return 0<=e&&Number.isFinite(e)}function l(e){return 0<e&&Number.isFinite(e)}function u(e,t,n){void 0===n&&(n=0);var i=t-e;return 0<=i&&n<=i&&Number.isFinite(e)&&Number.isFinite(t)}function d(e,t,n){void 0===n&&(n=0);var i=t-e;return 0<=i&&n<=i&&Number.isInteger(e)&&Number.isInteger(t)}function p(e,t){return Number.isFinite(e)&&Number.isFinite(t)&&e<t}n.r(t),n.d(t,"isPositiveInt",(function(){return i})),n.d(t,"isStrictlyPositiveInt",(function(){return r})),n.d(t,"isPositive",(function(){return o})),n.d(t,"isStrictlyPositive",(function(){return s})),n.d(t,"isFiniteNumber",(function(){return a})),n.d(t,"isFinitePositive",(function(){return c})),n.d(t,"isFiniteStrictlyPositive",(function(){return l})),n.d(t,"isFiniteRange",(function(){return u})),n.d(t,"isIntegralRange",(function(){return d})),n.d(t,"isFiniteExclusiveRange",(function(){return p}))},"./node_modules/@msstream/core/esm/utilities/Promise.js":function(e,t,n){"use strict";n.r(t),n.d(t,"fromEventRegistry",(function(){return r})),n.d(t,"fromEventRegistryWithTimeout",(function(){return o})),n.d(t,"fromTimeout",(function(){return s})),n.d(t,"makeCancellable",(function(){return a}));var i=n("./node_modules/@msstream/core/esm/utilities/Errors.types.js");function r(e,t){return new Promise((function(n){e((function e(){t(e),n()}))}))}function o(e,t,n){return new Promise((function(r,o){function s(){clearTimeout(a),t(s),r()}e(s);var a=setTimeout((function(){o(new i.TimeoutError(n)),t(s)}),n)}))}function s(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))}function a(e,t){var n=!1;return{promise:new Promise((function(t,i){return e.then((function(e){return n?i({isCancelled:!0}):t(e)})).catch((function(e){return i(n?{isCancelled:!0,error:e}:e)}))})),payload:t,cancel:function(){n=!0}}}},"./node_modules/@msstream/core/esm/utilities/Region.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getUserRegionInfo",(function(){return s}));var i=n("./node_modules/@msstream/core/esm/utilities/regionInfo.js"),r=a(i.regionInfo["en-us"]),o=r;function s(e){var t;return e&&(t=i.regionInfo[e.toLowerCase()],o=t?a(t,r):r),o}function a(e,t){return{shortDateformats:e.d||t&&t.shortDateformats||"",timeSeperator:e.ts||t&&t.timeSeperator||"",timeFormat:e.t||t&&t.timeFormat||"",numberDigitSeperator:e.ns||t&&t.numberDigitSeperator||"",numberSeperatorPosition:void 0!==e.gs?e.gs:t&&t.numberSeperatorPosition||!1}}},"./node_modules/@msstream/core/esm/utilities/String.js":function(e,t,n){"use strict";n.r(t),n.d(t,"formatString",(function(){return r})),n.d(t,"handleStringCardinality",(function(){return o})),n.d(t,"strHash",(function(){return s}));var i=n("./node_modules/hash.js/lib/hash/sha/256.js"),r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Array.prototype.slice.call(e,1);return e[0].replace(/{(\d+)}/g,(function(e,t){return void 0!==n[t]?n[t]:e}))};function o(e,t,n,i){void 0===i&&(i=!1);var o,s,a=0;return"string"==typeof e?(o=n.numberDigitSeperator||",",s=e.replace(new RegExp(o,"g"),""),a=Number(s)):"number"==typeof e&&(a=e),a<0&&!i&&(a=0),r(1===a?t.Singular:t.Plural,e.toString())}function s(e){return i().update(e).digest("hex")}},"./node_modules/@msstream/core/esm/utilities/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/core/esm/utilities/Duration.js");n.d(t,"convertISOTimeSpanDurationToSeconds",(function(){return i.convertISOTimeSpanDurationToSeconds})),n.d(t,"durationToSeconds",(function(){return i.durationToSeconds})),n.d(t,"convertDurationInSecondsToString",(function(){return i.convertDurationInSecondsToString}));var r=n("./node_modules/@msstream/core/esm/utilities/Guid.js");n.d(t,"generateGuid",(function(){return r.generateGuid}));var o=n("./node_modules/@msstream/core/esm/utilities/Http.js");n.d(t,"HttpStatusCode",(function(){return o.HttpStatusCode}));var s=n("./node_modules/@msstream/core/esm/utilities/ISO8601.js");n.d(t,"formatISODuration",(function(){return s.formatISODuration})),n.d(t,"formatISODurationToSeconds",(function(){return s.formatISODurationToSeconds})),n.d(t,"formatSecondsToISODuration",(function(){return s.formatSecondsToISODuration})),n.d(t,"formatISODateTimeToFullDateTimeLocaleString",(function(){return s.formatISODateTimeToFullDateTimeLocaleString})),n.d(t,"formatISODateTimeToTwoDigitDate",(function(){return s.formatISODateTimeToTwoDigitDate})),n.d(t,"formatISODateTimeToLocalTime",(function(){return s.formatISODateTimeToLocalTime})),n.d(t,"formatISODateTime",(function(){return s.formatISODateTime})),n.d(t,"setTimeOnDate",(function(){return s.setTimeOnDate})),n.d(t,"setDateOnDate",(function(){return s.setDateOnDate}));var a=n("./node_modules/@msstream/core/esm/utilities/Number.js");n.d(t,"convertNumberToShortNumber",(function(){return a.convertNumberToShortNumber})),n.d(t,"localizeNumber",(function(){return a.localizeNumber})),n.d(t,"shortNumber",(function(){return a.shortNumber}));var c=n("./node_modules/@msstream/core/esm/utilities/Region.js");n.d(t,"getUserRegionInfo",(function(){return c.getUserRegionInfo}));var l=n("./node_modules/@msstream/core/esm/utilities/String.js");n.d(t,"formatString",(function(){return l.formatString})),n.d(t,"handleStringCardinality",(function(){return l.handleStringCardinality})),n.d(t,"strHash",(function(){return l.strHash}));var u=n("./node_modules/@msstream/core/esm/utilities/Debounce.js");n.d(t,"debounce",(function(){return u.debounce})),n.d(t,"throttle",(function(){return u.throttle}));var d=n("./node_modules/@msstream/core/esm/utilities/Promise.js");n.d(t,"fromEventRegistry",(function(){return d.fromEventRegistry})),n.d(t,"fromEventRegistryWithTimeout",(function(){return d.fromEventRegistryWithTimeout})),n.d(t,"fromTimeout",(function(){return d.fromTimeout})),n.d(t,"makeCancellable",(function(){return d.makeCancellable}));var p=n("./node_modules/@msstream/core/esm/utilities/NumberValidation.js");n.d(t,"isPositiveInt",(function(){return p.isPositiveInt})),n.d(t,"isStrictlyPositiveInt",(function(){return p.isStrictlyPositiveInt})),n.d(t,"isPositive",(function(){return p.isPositive})),n.d(t,"isStrictlyPositive",(function(){return p.isStrictlyPositive})),n.d(t,"isFiniteNumber",(function(){return p.isFiniteNumber})),n.d(t,"isFinitePositive",(function(){return p.isFinitePositive})),n.d(t,"isFiniteStrictlyPositive",(function(){return p.isFiniteStrictlyPositive})),n.d(t,"isFiniteRange",(function(){return p.isFiniteRange})),n.d(t,"isIntegralRange",(function(){return p.isIntegralRange})),n.d(t,"isFiniteExclusiveRange",(function(){return p.isFiniteExclusiveRange}));var A=n("./node_modules/@msstream/core/esm/utilities/Errors.types.js");n.d(t,"RemoteResourceError",(function(){return A.RemoteResourceError})),n.d(t,"DomainError",(function(){return A.DomainError})),n.d(t,"CancellationError",(function(){return A.CancellationError})),n.d(t,"TimeoutError",(function(){return A.TimeoutError}));var m=n("./node_modules/@msstream/core/esm/utilities/Accessibility.js");n.d(t,"getNarratorFriendlyTime",(function(){return m.getNarratorFriendlyTime}))},"./node_modules/@msstream/core/esm/utilities/regionInfo.js":function(e,t,n){"use strict";n.r(t),n.d(t,"regionInfo",(function(){return i}));var i={"af-za":{d:"YYYY-MM-DD",ns:" "},"am-et":{d:"DD/MM/YYYY"},"ar-ae":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-bh":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-dz":{d:"DD-MM-YYYY",t:"H:mm"},"ar-eg":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-iq":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-jo":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-kw":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-lb":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-ly":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-ma":{d:"DD-MM-YYYY",t:"H:mm"},"ar-om":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-qa":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-sa":{d:"DD/MM/YY",t:"hh:mm tt"},"ar-sy":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ar-tn":{d:"DD-MM-YYYY",t:"H:mm"},"ar-ye":{d:"DD/MM/YYYY",t:"hh:mm tt"},"arn-cl":{d:"DD-MM-YYYY",t:"H:mm",ns:"."},"as-in":{d:"DD-MM-YYYY",t:"tt h:mm",gs:!0},"az-cyrl-az":{d:"DD.MM.YYYY",t:"H:mm",ns:" "},"az-latn-az":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"ba-ru":{d:"DD.MM.YY",t:"H:mm",ns:" "},"be-by":{d:"DD.MM.YY",t:"HH:mm",ns:" "},"bg-bg":{d:"D.M.YYYY 'Г.'",t:"H:mm",ns:" "},"bin-ng":{d:"D/M/YYYY",t:"h:mmtt"},"bn-bd":{d:"DD-MM-YY",t:"HH.mm",ts:".",gs:!0},"bn-in":{d:"DD-MM-YY",t:"HH.mm",ts:".",gs:!0},"bo-cn":{d:"YYYY/M/D",t:"HH:mm",gs:!0},"br-fr":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"bs-cyrl-ba":{d:"D.M.YYYY",t:"H:mm",ns:"."},"bs-latn-ba":{d:"DD.MM.YYYY.",t:"HH:mm",ns:"."},"ca-es":{d:"D/M/YYYY",t:"H:mm",ns:"."},"ca-es-valencia":{d:"D/M/YYYY",t:"H:mm",ns:"."},"chr-cher-us":{},"co-fr":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"cs-cz":{d:"DD.MM.YYYY",t:"H:mm",ns:" "},"cy-gb":{d:"DD/MM/YYYY",t:"HH:mm"},"da-dk":{d:"DD-MM-YYYY",t:"HH:mm",ns:"."},"de-at":{d:"DD.MM.YYYY",t:"HH:mm",ns:" "},"de-ch":{d:"DD.MM.YYYY",t:"HH:mm",ns:"'"},"de-de":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"de-li":{d:"DD.MM.YYYY",t:"HH:mm",ns:"'"},"de-lu":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"dsb-de":{d:"D. M. YYYY",t:"HH:mm",ns:"."},"dv-mv":{d:"DD/MM/YY",t:"HH:mm"},"dz-bt":{d:"YYYY-MM-DD",t:"ཆུ་ཚོད་ h སྐར་མ་ mm tt",gs:!0},"el-gr":{d:"D/M/YYYY",ns:"."},"en-029":{d:"DD/MM/YYYY",t:"HH:mm"},"en-au":{d:"D/MM/YYYY"},"en-bz":{d:"DD/MM/YYYY",t:"HH:mm"},"en-ca":{d:"YYYY-MM-DD"},"en-gb":{d:"DD/MM/YYYY",t:"HH:mm"},"en-hk":{d:"D/M/YYYY"},"en-id":{d:"DD/MM/YYYY",t:"H:mm",ns:"."},"en-ie":{d:"DD/MM/YYYY",t:"HH:mm"},"en-in":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0},"en-jm":{d:"D/M/YYYY"},"en-my":{d:"D/M/YYYY"},"en-nz":{d:"D/MM/YYYY"},"en-ph":{d:"DD/MM/YYYY"},"en-sg":{d:"D/M/YYYY"},"en-tt":{d:"DD/MM/YYYY"},"en-us":{d:"M/D/YYYY",t:"h:mm tt",ts:":",gs:!1,ns:","},"en-za":{d:"YYYY/MM/DD",ns:" "},"en-zw":{d:"D/M/YYYY"},"es-419":{d:"D/M/YYYY",t:"HH:mm"},"es-ar":{d:"D/M/YYYY",t:"HH:mm",ns:"."},"es-bo":{d:"D/M/YYYY",t:"HH:mm",ns:"."},"es-cl":{d:"DD-MM-YYYY",t:"H:mm",ns:"."},"es-co":{d:"D/MM/YYYY",ns:"."},"es-cr":{d:"D/M/YYYY",t:"HH:mm",ns:" "},"es-cu":{d:"D/M/YYYY",t:"HH:mm"},"es-do":{d:"D/M/YYYY"},"es-ec":{d:"D/M/YYYY",t:"H:mm",ns:"."},"es-es":{d:"DD/MM/YYYY",t:"H:mm",ns:"."},"es-gt":{d:"D/MM/YYYY",t:"HH:mm"},"es-hn":{d:"D/M/YYYY",t:"HH:mm"},"es-mx":{d:"DD/MM/YYYY",t:"hh:mm tt"},"es-ni":{d:"D/M/YYYY",t:"HH:mm"},"es-pa":{d:"MM/DD/YYYY"},"es-pe":{d:"D/MM/YYYY",t:"HH:mm"},"es-pr":{d:"MM/DD/YYYY"},"es-py":{d:"D/M/YYYY",t:"HH:mm",ns:"."},"es-sv":{d:"D/M/YYYY",t:"HH:mm"},"es-us":{},"es-uy":{d:"D/M/YYYY",t:"H:mm",ns:"."},"es-ve":{d:"D/M/YYYY",ns:"."},"et-ee":{d:"DD.MM.YYYY",t:"H:mm",ns:" "},"eu-es":{d:"YYYY/MM/DD",t:"HH:mm",ns:"."},"fa-ir":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ff-latn-sn":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"ff-ng":{d:"D/M/YYYY",t:"H:mm"},"fi-fi":{d:"D.M.YYYY",t:"H.mm",ts:".",ns:" "},"fil-ph":{},"fo-fo":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"fr-029":{d:"DD/MM/YYYY",t:"H:mm",ns:" "},"fr-be":{d:"DD-MM-YY",t:"HH:mm",ns:"."},"fr-ca":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"fr-cd":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"fr-ch":{d:"DD.MM.YYYY",t:"HH:mm",ns:" "},"fr-ci":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"fr-cm":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"fr-fr":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"fr-ht":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"fr-lu":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"fr-ma":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"fr-mc":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"fr-ml":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"fr-re":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"fr-sn":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"fy-nl":{d:"DD-MM-YYYY",t:"HH:mm",ns:"."},"ga-ie":{d:"DD/MM/YYYY",t:"HH:mm"},"gd-gb":{d:"DD/MM/YYYY",t:"HH:mm"},"gl-es":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"gn-py":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"gsw-fr":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"gu-in":{d:"DD-MM-YY",t:"HH:mm",gs:!0},"ha-latn-ng":{d:"D/M/YYYY"},"haw-us":{d:"D/M/YYYY"},"he-il":{d:"DD/MM/YYYY",t:"HH:mm"},"hi-in":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0},"hr-ba":{d:"DD.MM.YYYY.",t:"HH:mm",ns:"."},"hr-hr":{d:"D.M.YYYY.",t:"H:mm",ns:"."},"hsb-de":{d:"D.M.YYYY",t:"H:mm 'hodź'.",ns:"."},"hu-hu":{d:"YYYY. MM. DD.",t:"H:mm",ns:" "},"hy-am":{d:"DD.MM.YYYY",t:"HH:mm"},"ibb-ng":{d:"D/M/YYYY",t:"h:mmtt"},"id-id":{d:"DD/MM/YYYY",t:"HH.mm",ts:".",ns:"."},"ig-ng":{d:"DD/MM/YYYY"},"ii-cn":{d:"YYYY/M/D",t:"tt h:mm"},"is-is":{d:"D.M.YYYY",t:"HH:mm",ns:"."},"it-ch":{d:"DD.MM.YYYY",t:"HH:mm",ns:"'"},"it-it":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"iu-cans-ca":{d:"D/M/YYYY"},"iu-latn-ca":{d:"D/MM/YYYY"},"ja-jp":{d:"YYYY/MM/DD",t:"H:mm"},"ka-ge":{d:"DD.MM.YYYY",t:"HH:mm",ns:" "},"kk-kz":{d:"DD.MM.YYYY",t:"HH:mm",ns:" "},"kl-gl":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0,ns:"."},"km-kh":{d:"DD/MM/YY",t:"H:mm"},"kn-in":{d:"DD-MM-YY",t:"HH:mm",gs:!0},"ko-kr":{d:"YYYY-MM-DD",t:"tt h:mm"},"kok-in":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0},"kr-ng":{d:"D/M/YYYY"},"ks-deva-in":{d:"DD-MM-YYYY",t:"H:mm",gs:!0},"ku-arab-iq":{d:"YYYY/MM/DD",t:"hh:mm tt"},"ky-kg":{d:"D-MMM YY",t:"HH:mm",ns:" "},"la-001":{d:"DD/MM/YYYY",t:"H:mm"},"lb-lu":{d:"DD.MM.YY",t:"HH:mm",ns:" "},"lo-la":{d:"D/M/YYYY",t:"H:mm",ns:"."},"lt-lt":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"lv-lv":{d:"DD.MM.YYYY",t:"HH:mm",ns:" "},"mi-nz":{d:"DD/MM/YYYY"},"mk-mk":{d:"DD.M.YYYY",t:"HH:mm",ns:"."},"ml-in":{d:"D/M/YYYY"},"mn-mn":{d:"YYYY-MM-DD",t:"HH:mm"},"mn-mong-cn":{d:"YYYY/M/D",t:"H:mm",gs:!0},"mn-mong-mn":{d:"YYYY/M/D",t:"H:mm",gs:!0},"mni-in":{d:"DD/MM/YYYY",t:"HH:mm"},"moh-ca":{},"mr-in":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0},"ms-bn":{d:"D/MM/YYYY",ns:"."},"ms-my":{d:"D/MM/YYYY"},"mt-mt":{d:"DD/MM/YYYY",t:"HH:mm"},"my-mm":{d:"DD-MM-YYYY",t:"HH:mm"},"nb-no":{d:"DD.MM.YYYY",t:"HH.mm",ts:".",ns:" "},"ne-in":{d:"YYYY-MM-DD"},"ne-np":{},"nl-be":{d:"D/MM/YYYY",t:"H:mm",ns:" "},"nl-nl":{d:"D-M-YYYY",t:"HH:mm",ns:"."},"nn-no":{d:"DD.MM.YYYY",t:"HH:mm",ns:" "},"nso-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"oc-fr":{d:"DD/MM/YYYY",t:"HH' h 'mm",ts:".",ns:" "},"om-et":{d:"DD/MM/YYYY"},"or-in":{d:"DD-MM-YY",t:"HH:mm",gs:!0},"pa-arab-pk":{d:"DD-MM-YY",t:"h.mm tt",ts:"."},"pa-in":{d:"DD-MM-YY",t:"tt hh:mm",gs:!0},"pap-029":{d:"D-M-YYYY",t:"H:mm"},"pl-pl":{d:"DD.MM.YYYY",t:"HH:mm",ns:" "},"prs-af":{d:"YYYY/M/D",ns:"."},"ps-af":{d:"YYYY/M/D",t:"H:mm",ns:"."},"pt-br":{d:"DD/MM/YYYY",t:"HH:mm",ns:"."},"pt-pt":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"quc-latn-gt":{d:"DD/MM/YYYY"},"quz-bo":{d:"DD/MM/YYYY",t:"hh:mm tt",ns:"."},"quz-ec":{d:"DD/MM/YYYY",t:"H:mm",ns:"."},"quz-pe":{d:"DD/MM/YYYY",t:"hh:mm tt"},"rm-ch":{d:"DD-MM-YYYY",t:"HH:mm",ns:"’"},"ro-md":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"ro-ro":{d:"DD.MM.YYYY",t:"HH:mm",ns:"."},"ru-md":{d:"DD.MM.YYYY",t:"H:mm",ns:" "},"ru-ru":{d:"DD.MM.YYYY",t:"H:mm",ns:" "},"rw-rw":{d:"YYYY/MM/DD",t:"HH:mm",ns:"."},"sa-in":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0},"sah-ru":{d:"DD.MM.YYYY",t:"H:mm",ns:" "},"sd-arab-pk":{d:"DD/MM/YYYY"},"sd-deva-in":{d:"DD/MM/YYYY",t:"H:mm"},"se-fi":{d:"D.M.YYYY",t:"H:mm",ns:" "},"se-no":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"se-se":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"si-lk":{d:"YYYY-MM-DD",t:"HH.mm",ts:"."},"sk-sk":{d:"D.M.YYYY",t:"H:mm",ns:" "},"sl-si":{d:"D. MM. YYYY",t:"HH:mm",ns:"."},"sma-no":{d:"DD.MM.YYYY",t:"HH:mm",ns:" "},"sma-se":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"smj-no":{d:"DD.MM.YYYY",t:"HH:mm",ns:" "},"smj-se":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"smn-fi":{d:"D.M.YYYY",t:"H:mm",ns:" "},"sms-fi":{d:"D.M.YYYY",t:"H:mm",ns:" "},"so-so":{d:"DD/MM/YYYY"},"sq-al":{d:"D.M.YYYY",ns:" "},"sr-cyrl-ba":{d:"D.M.YYYY.",t:"H:mm",ns:"."},"sr-cyrl-me":{d:"D.M.YYYY.",t:"H:mm",ns:"."},"sr-cyrl-rs":{d:"DD.MM.YYYY.",t:"H:mm",ns:"."},"sr-latn-ba":{d:"D.M.YYYY.",t:"HH.mm",ts:".",ns:"."},"sr-latn-me":{d:"D.M.YYYY.",t:"HH.mm",ts:".",ns:"."},"sr-latn-rs":{d:"D.M.YYYY.",t:"HH.mm",ts:".",ns:"."},"st-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"sv-fi":{d:"DD-MM-YYYY",t:"HH:mm",ns:" "},"sv-se":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"sw-ke":{d:"DD/MM/YYYY",t:"HH:mm"},"syr-sy":{d:"DD/MM/YYYY",t:"hh:mm tt"},"ta-in":{d:"DD-MM-YYYY",t:"HH:mm",gs:!0},"ta-lk":{d:"D/M/YYYY",t:"HH:mm",gs:!0},"te-in":{d:"DD-MM-YY",t:"HH:mm",gs:!0},"tg-cyrl-tj":{d:"DD.MM.YYYY",t:"HH:mm",ns:" "},"th-th":{d:"D/M/YYYY",t:"H:mm"},"ti-er":{d:"DD/MM/YYYY"},"ti-et":{d:"DD/MM/YYYY"},"tk-tm":{d:"DD.MM.YY 'Ý.'",t:"HH:mm",ns:" "},"tn-bw":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"tn-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"tr-tr":{d:"D.MM.YYYY",t:"HH:mm",ns:"."},"ts-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"tt-ru":{d:"DD.MM.YYYY",t:"HH:mm",ns:" "},"tzm-arab-ma":{d:"D/M/YYYY",t:"H:mm",ns:" "},"tzm-latn-dz":{d:"DD-MM-YYYY",t:"H:mm",ns:" "},"tzm-tfng-ma":{d:"DD-MM-YYYY",t:"H:mm",ns:" "},"ug-cn":{d:"YYYY-M-D",t:"H:mm"},"uk-ua":{d:"DD.MM.YYYY",t:"H:mm",ns:" "},"ur-in":{d:"D/M/YY",gs:!0},"ur-pk":{d:"DD/MM/YYYY"},"uz-cyrl-uz":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"uz-latn-uz":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"ve-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"vi-vn":{d:"DD/MM/YYYY",ns:"."},"wo-sn":{d:"DD/MM/YYYY",t:"HH:mm",ns:" "},"xh-za":{d:"YYYY-MM-DD",t:"HH:mm",ns:" "},"yi-001":{d:"DD/MM/YYYY",t:"HH:mm"},"yo-ng":{d:"DD/MM/YYYY"},"zh-cn":{d:"YYYY/M/D",t:"H:mm"},"zh-hk":{d:"D/M/YYYY",t:"H:mm"},"zh-mo":{d:"D/M/YYYY",t:"H:mm"},"zh-sg":{d:"D/M/YYYY",t:"tt h:mm"},"zh-tw":{d:"YYYY/M/D",t:"tt hh:mm"},"zu-za":{}}},"./node_modules/@msstream/core/fonts/segoeui.woff":function(e,t,n){e.exports=n.p+"bundles/app/generated/segoeui.woff"},"./node_modules/@msstream/core/fonts/segoeuib.woff":function(e,t,n){e.exports=n.p+"bundles/app/generated/segoeuib.woff"},"./node_modules/@msstream/core/fonts/segoeuil.woff":function(e,t,n){e.exports=n.p+"bundles/app/generated/segoeuil.woff"},"./node_modules/@msstream/core/fonts/segoeuisb.woff":function(e,t,n){e.exports=n.p+"bundles/app/generated/segoeuisb.woff"},"./node_modules/@msstream/services-one-customer-voice/index.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/services-one-customer-voice/src/Constants.ts");t.OCVPrivacyUrl=i.OCVPrivacyUrl,t.OCVResultsUrl=i.OCVResultsUrl;var r=n("./node_modules/@msstream/services-one-customer-voice/src/IOneCustomerVoiceService.ts");t.IOneCustomerVoiceService=r.IOneCustomerVoiceService;var o=n("./node_modules/@msstream/services-one-customer-voice/src/OneCustomerVoiceService.ts");t.OneCustomerVoiceService=o.OneCustomerVoiceService;var s=n("./node_modules/@msstream/services-one-customer-voice/src/Screenshot/index.ts");t.Screenshot=s.Screenshot;var a=n("./node_modules/@msstream/services-one-customer-voice/src/FeedbackTypes/index.ts");t.MicroFeedbackType=a.MicroFeedbackType,t.RatingSurveyType=a.RatingSurveyType,t.SimpleSurveyType=a.SimpleSurveyType,t.UserInitiatedFeedbackType=a.UserInitiatedFeedbackType},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/AdalAuthProvider.ts":function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n=n||Promise)((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=0<(r=o.trys).length&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/@msstream/shared-services/dist/index.js"),s=n("./node_modules/adal-angular/lib/adal.js"),a=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/IAuthProvider.ts"),c=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/TelemetryPayload/TelemetryPayloadFactory.ts");t.AdalAuthProvider=function(e,t,n,l,u){void 0===n&&(n=!1);var d=this;if(this.aadConfig=e,this.loggingService=t,this.portalLogin=n,this.tenantId=l,this.loginHint=u,this.tryAuthenticate=function(e){return i(d,void 0,Promise,(function(){var t,n,i,o,s,a,c,l;return r(this,(function(r){switch(r.label){case 0:this.loggingService.debug("tryAuthenticate"),t=this.loggingService.startUniquePerformance(),(n=this.telemetryPayloadFactory.startSilentSSO()).setIsInitialAuth(e),r.label=1;case 1:if(r.trys.push([1,,6,7]),!this.tenantId&&!this.loginHint){if(i=this.adalAuthContext.getCachedToken(this.aadConfig.resourceId),n.setFoundCachedAccessToken(!!i),i)return[2,this.formatToken(i)];this.loggingService.debug("no cached token")}return(o=this.adalAuthContext.getCachedUser())&&this.isCachedUserValid(o,this.tenantId,this.loginHint)?(n.setFoundCachedIdentityToken(!0),[3,4]):[3,2];case 2:return n.setFoundCachedIdentityToken(!1),this.adalAuthContext.clearCache(),s=this.loggingService.startUniquePerformance(),[4,this.acquireIdentityToken()];case 3:if(a=r.sent(),n.setAcquireIdentityTokenResult(a),this.loggingService.endPerformance(s,"AdalAcquireIdentityToken",n.createPayloadForAcquireIdentity()),void 0!==a.error)return[2,a];r.label=4;case 4:return c=this.loggingService.startUniquePerformance(),[4,this.acquireAccessToken()];case 5:return l=r.sent(),n.setAcquireAccessTokenResult(l),this.loggingService.endPerformance(c,"AdalAcquireAccessToken",n.createPayloadForAcquireAccess()),[2,l];case 6:return this.loggingService.endPerformance(t,"AdalSilentSSO",n.createPayloadForSSO()),[7];case 7:return[2]}}))}))},this.tryGetAuthTokenFromCache=function(){d.loggingService.debug("tryGetAuthTokenFromCache");var e=d.adalAuthContext.getCachedToken(d.aadConfig.resourceId);return e?d.formatToken(e):{token:a.InvalidToken}},this.performLogin=function(){d.adalAuthContext.login()},this.formatToken=function(e){var t=d.adalAuthContext.CONSTANTS.STORAGE.EXPIRATION_KEY+d.aadConfig.resourceId,n=d.adalAuthContext._getItem(t),i={token:e,expiry:new Date(1e3*n)},r=d.adalAuthContext.getCachedUser();return{token:i,user:{tenantId:r?r.profile.tid:"",uniqueId:r?r.profile.oid:""}}},this.onUserLoggedIn=function(e,t,n){var i;d.loggingService.debug("callback called"),t&&(d.loggingService.debug("received identity token: "+t),(i=d.adalAuthContext.getCachedUser())?(d.loggingService.debug("user found: "+i),d.acquireAccessToken()):d.loggingService.debug("user login failed, cannot find user info")),n&&d.loggingService.debug("callback error: "+n)},this.verboseAdalLog=function(e,t,n,i){t&&d.loggingService.debug("ADAL message: "+t),n&&d.loggingService.debug("ADAL error: "+n)},this.silentSignIn=function(){return d.loggingService.debug("start silentSignIn"),new Promise((function(e){d.adalAuthContext._renewIdToken((function(t,n,i){t?(d.loggingService.debug("silentSignIn failed: ["+(null===i?"no code":i)+"] "+(null===t?"no description":t)),e(d.getAdalErrorCode(i,t))):(d.loggingService.debug("silentSignIn succeeded"),d.adalAuthContext._createUser(n),e(null))}))}))},this.acquireIdentityToken=function(){return i(d,void 0,Promise,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return this.loggingService.debug("no cached user - try silent sign in"),[4,this.silentSignIn()];case 1:if(e=t.sent(),!this.adalAuthContext.getCachedUser()){if(this.loggingService.debug("no cached user - interaction required"),!this.portalLogin)return[2,{error:a.AuthError.UserInteractionRequired,adalErrorCode:e||void 0}];this.adalAuthContext.login()}return[2,{}]}}))}))},this.acquireAccessToken=function(){return d.loggingService.debug("acquireAccessToken"),new Promise((function(e){d.adalAuthContext.acquireToken(d.aadConfig.resourceId,(function(t,n,i){var r;n?(d.loggingService.debug("token acquired: "+n),e(d.formatToken(n))):(d.loggingService.debug("no token acquired: ["+(null===i?"no code":i)+"] "+(null===t?"no description":t)),e({error:(r=i)&&r.length&&(-1<r.indexOf("consent_required")||-1<r.indexOf("interaction_required")||-1<r.indexOf("login_required"))?a.AuthError.UserInteractionRequired:a.AuthError.Failed,adalErrorCode:d.getAdalErrorCode(i,t)||void 0}))}))}))},this.isCachedUserValid=function(e,t,n){return!(t&&e.profile.tid!==t||n&&e.userName.toLowerCase()!==n.toLowerCase())},this.getAdalErrorCode=function(e,t){return t&&"Token renewal operation failed due to timeout"===t?t:e},"/"!==e.instance.slice(-1))throw new Error("AadConfig: aadInstance must end with slash! ["+e.instance+"]");if("/"===e.resourceId.slice(-1))throw new Error("AadConfig: resourceId cannot end with slash! ["+e.resourceId+"]");var p={instance:e.instance,clientId:e.clientId,expireOffsetSeconds:e.expireOffsetSeconds,redirectUri:e.redirectUri,callback:this.onUserLoggedIn,popUp:o.isEmbedded(),loadFrameTimeout:12e4,cacheLocation:o.isLocalStorageSupported()?"localStorage":"sessionStorage",tenant:l,extraQueryParameter:u?"login_hint="+u:void 0,correlationId:e.correlationId};this.telemetryPayloadFactory=new c.TelemetryPayloadFactory,this.telemetryPayloadFactory.setOptions(p),this.adalAuthContext=new s.default(p),this.adalAuthContext.log=this.verboseAdalLog}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/IAuthProvider.ts":function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidToken={token:"",expiry:new Date(0)},(n=t.AuthError||(t.AuthError={})).UserInteractionRequired="UserInteractionRequired",n.Failed="Failed"},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/TelemetryPayload/SilentSSOPayloadFactory.ts":function(e,t){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=(r.prototype.setIsInitialAuth=function(e){this.isInitialAuth=e},r.prototype.setFoundCachedAccessToken=function(e){this.foundCachedAccessToken=e},r.prototype.setFoundCachedIdentityToken=function(e){this.foundCachedIdentityToken=e},r.prototype.setAcquireIdentityTokenResult=function(e){this.acquireIdentityTokenResult=e},r.prototype.setAcquireAccessTokenResult=function(e){this.acquireAccessTokenResult=e},r.prototype.createPayloadForSSO=function(){return n({name:"AdalSilentSSO",foundCachedIdentityToken:this.foundCachedIdentityToken,foundCachedAccessToken:this.foundCachedAccessToken},this.createCommon(),this.createIdentity(),this.createAccess())},r.prototype.createPayloadForAcquireIdentity=function(){return n({name:"AdalAcquireIdentityToken"},this.createCommon(),this.createIdentity())},r.prototype.createPayloadForAcquireAccess=function(){return n({name:"AdalAcquireAccessToken"},this.createCommon(),this.createAccess())},r.prototype.createCommon=function(){return{isInitialAuth:this.isInitialAuth,popUp:this.options.popUp,expireOffsetSeconds:this.options.expireOffsetSeconds,loadFrameTimeout:this.options.loadFrameTimeout}},r.prototype.createIdentity=function(){return void 0===this.acquireIdentityTokenResult?{}:{acquireIdentityTokenSuccess:void 0===this.acquireIdentityTokenResult.error,acquireIdentityTokenError:this.acquireIdentityTokenResult.adalErrorCode}},r.prototype.createAccess=function(){return void 0===this.acquireAccessTokenResult?{}:{acquireAccessTokenSuccess:void 0===this.acquireAccessTokenResult.error,acquireAccessTokenError:this.acquireAccessTokenResult.adalErrorCode}},r);function r(e){this.options=e}t.SilentSSOPayloadFactory=i},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/TelemetryPayload/TelemetryPayloadFactory.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/TelemetryPayload/SilentSSOPayloadFactory.ts"),r=(o.prototype.setOptions=function(e){this.options=e},o.prototype.startSilentSSO=function(){return new i.SilentSSOPayloadFactory(this.options)},o);function o(){}t.TelemetryPayloadFactory=r},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/index.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/IAuthProvider.ts");t.AuthError=i.AuthError,t.InvalidToken=i.InvalidToken;var r=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/AdalAuthProvider.ts");t.AdalAuthProvider=r.AdalAuthProvider},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-post-messaging/src/Constants.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.PostMessagesNames={GetStreamToken:"getStreamToken",GetStreamTokenLower:"getstreamtoken",signInEvent:"signinevent",loadData:"loaddata",playerEvent:"playerevent",playerFunction:"playerfunction",prefetchNewVideos:"prefetchnewvideos",fetchVideoThumbnails:"fetchvideothumbnails",fetchVideoThumbnailResult:"fetchvideothumbnailresult"},t.PostMessageSubEventNames={signInSuccessful:"signinsuccessful",signInFailed:"signinfailed",signInIncomplete:"signinincomplete",setSource:"setsource",canPlayThrough:"canplaythrough",cookieBlocked:"cookieblocked",dataLoaded:"dataloaded",error:"error",heartbeat:"heartbeat",timeupdate:"timeupdate",pause:"pause",playing:"playing",ready:"ready"}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-post-messaging/src/PostMessagingService.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.initialize=function(e,t,n){MicrosoftStream?MicrosoftStream.initialize(e,t,n):n&&n("Post messaging sdk not found")},i.prototype.sendMessageToParent=function(e,t,n,i,r){MicrosoftStream?MicrosoftStream.sendMessageToParent(e,t,n,i,r):i&&i("Post messaging sdk not found")},i.prototype.addChildMessageHandler=function(e,t,n){if(!MicrosoftStream)throw new Error("Post messaging sdk not found");MicrosoftStream.addChildMessageHandler(e,t,n)},i.prototype.addHostMessageHandlers=function(e,t){if(!MicrosoftStream)throw new Error("Post messaging sdk not found");MicrosoftStream.addHostMessageHandlers(e,t)},i.prototype.nativeJavacriptBridge=function(e){if(!MicrosoftStream)throw new Error("Post messaging sdk not found");MicrosoftStream.nativeJavacriptBridge(e)},i);function i(){}t.PostMessagingService=n},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-post-messaging/src/PostMessagingService.types.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-post-messaging/src/index.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-post-messaging/src/PostMessagingService.ts");t.PostMessagingService=i.PostMessagingService;var r=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-post-messaging/src/Constants.ts");t.PostMessagesNames=r.PostMessagesNames,t.PostMessageSubEventNames=r.PostMessageSubEventNames,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-post-messaging/src/PostMessagingService.types.ts"))},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/Constants.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.TokenRefreshBeforeExpiryMs=9e5,t.AuthenticationCachePollingIntervalMs=50,t.RefreshTokenUrlPath="refreshtoken",t.InjectedTokenAuthTimeoutInMs=15e3,t.DefaultLanguage="en",t.ResourcesScriptId="resourcesScriptId",t.SessionManagerBucketName="SM::",t.SessionKey="Session",t.DefaultSessionCacheExpiryMs=5e3},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/ISessionManager.ts":function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.AuthState||(t.AuthState={}))[n.Unknown=0]="Unknown",n[n.Authenticated=1]="Authenticated",n[n.Error=2]="Error",n[n.LoginRequired=3]="LoginRequired",n[n.Waiting=4]="Waiting",n[n.TenantPatchSuccess=5]="TenantPatchSuccess",n[n.TenantPatchThrottled=6]="TenantPatchThrottled",n[n.TenantPatchThrottleFailed=7]="TenantPatchThrottleFailed"},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/SessionManager.ts":function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n=n||Promise)((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=0<(r=o.trys).length&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/@msstream/core/esm/index.js"),s=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/index.ts"),a=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-post-messaging/src/index.ts"),c=n("./node_modules/@msstream/services-rest/src/index.ts"),l=n("./node_modules/@msstream/services-tenant/src/index.ts"),u=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),d=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/Constants.ts"),p=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/ISessionManager.ts"),A=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/TelemetryPayload/SessionManagerPayloadFactory.ts"),m=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/UserSession.ts"),h=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/Utils.ts");t.SessionManager=function e(t,n,f,g,v,y,S,b,C,E,w,T,P){void 0===P&&(P=!1);var _=this;this.authProvider=t,this.tenantService=n,this.injectedAuthProvider=f,this.postMessagingService=g,this.clientSessionId=v,this.userSessionId=y,this.principalService=S,this.localeHelper=b,this.loggingService=C,this.viewContext=E,this.resourceUpdatedCallback=w,this.resourceReadyCallback=T,this.portalLogin=P,this.onAuthStateChangedListeners=new Map,this.nextSubscription=0,this.authFailures=0,this.resourcesSet=!1,this.injectedTokenAuthTimer=void 0,this.getState=function(){return _.authState},this.getStateReason=function(){return _.authStateReason},this.isSessionValid=function(){return _.isAuthTokenValid(_.userSession.authToken)&&!!_.userSession.apiGatewayUrl},this.start=function(e){return i(_,void 0,Promise,(function(){var t;return r(this,(function(n){return void 0!==this.timer||this.isSessionValid()?[2]:(t={groupings:{features:[u.FeatureNames.SessionManager]},viewContext:this.viewContext,isInitialAuth:e},this.loggingService.appLogicThin("AuthenticationStarted",t),this.setAuthState(p.AuthState.Waiting),[2,this.ensureSessionValidity(e)])}))}))},this.addStateChangedListener=function(e){return _.onAuthStateChangedListeners.set(_.nextSubscription,e),_.nextSubscription++},this.removeStateChangedListener=function(e){return _.onAuthStateChangedListeners.delete(e)},this.getUserSession=function(){return _.userSession},this.isAuthTokenValid=function(e){return _.loggingService.debug("isAuthTokenValid: "+e),void 0!==e&&""!==e.token&&Date.now()<e.expiry.valueOf()},this.setAuthState=function(t,n){var i;void 0===n&&(n=""),h.cacheAuthMasterState(_.userSession,t,n,_.loggingService),t!==_.authState?(_.loggingService.debug(p.AuthState[_.authState],"=>",p.AuthState[t]," ",n),i={groupings:{features:[u.FeatureNames.SessionManager]},viewContext:_.viewContext,sessionType:e.name,oldState:p.AuthState[_.authState],newState:p.AuthState[t]},_.loggingService.appLogicThin("SessionAuthStateChanged",i),_.authState=t,_.authStateReason=n,_.authState===p.AuthState.Authenticated&&(_.authFailures=0),_.onAuthStateChangedListeners.forEach((function(e){return e(_.authState,n)}))):_.loggingService.debug("setAuthState called without change:",p.AuthState[t])},this.shouldRenewBackendToken=function(){return _.timeToNextTokenRefreshMs()<=0},this.timeToNextTokenRefreshMs=function(){return _.timeToTokenExpiration()-d.TokenRefreshBeforeExpiryMs},this.timeToNextAuthAttemptMs=function(){return Math.min(3e5,250*Math.pow(2,_.authFailures))},this.timeToTokenExpiration=function(){return _.userSession.accessTokenExpiryDate.valueOf()-Date.now()},this.doTenantPatch=function(e){return i(_,void 0,Promise,(function(){var t,n,i,o,s;return r(this,(function(r){switch(r.label){case 0:if(this.userSession.apiGatewayUrl&&this.userSession.apiGatewayVersion)return this.loggingService.debug("tenantPatch: Already on gateway:",this.userSession.apiGatewayUrl,this.userSession.apiGatewayVersion),[2,{success:!0,reason:""}];if(!this.isAuthTokenValid(this.userSession.authToken))return t="doTenantPatch failed because the auth token is invalid",this.loggingService.warnThin("DoTenantPatchError",A.payloadForDoTenantPatchError(this.viewContext,t)),[2,{success:!1,reason:t}];n=this.loggingService.startUniquePerformance(),i="DoTenantPatch",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.tenantService.patchTenant(this.userSession,this.tenantPatchStateChanged,!1)];case 2:return o=r.sent(),this.userSession.apiGatewayUrl=o.apiEndpoint,this.userSession.apiGatewayVersion=this.tenantService.getApiVersion(),this.userSession.notificationEndPoint=o.notificationEndpoint,this.loggingService.endPerformance(n,i,A.payloadForTenantPatchPerformance(this.viewContext,e,!0)),this.loggingService.debug("tenantPatch: New gateway:",o.apiEndpoint),[2,{success:!0,reason:""}];case 3:return s=r.sent(),this.loggingService.endPerformance(n,i,A.payloadForTenantPatchPerformance(this.viewContext,e,!1)),this.injectedAuthProvider&&this.injectedAuthProvider.signInFailed({reason:s&&s.data?s.data:s.toString(),errorcode:s.status,customReasonText:"Stream tenant patch failed"}),[2,{success:!1,reason:s&&s.data&&s.data.error&&s.data.error.details&&0<s.data.error.details.length&&s.data.error.details[0].code?s.data.error.details[0].code:""}];case 4:return[2]}}))}))},this.refreshBrowserSessionCookies=function(e){return i(_,void 0,Promise,(function(){var t,n,i,o;return r(this,(function(r){switch(r.label){case 0:if(!(t=this.userSession.apiGatewayUrl))return this.loggingService.warnThin("RefreshSessionCookiesError",A.payloadForRefreshCookiesError(this.viewContext,"refreshBrowserSessionCookies failed because apiUrl is undefined")),[2,!1];n=this.loggingService.startUniquePerformance(),i="RefreshSessionCookies",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,c.RestService.getWithCorsSupport(t,d.RefreshTokenUrlPath,this.userSession.getApiGatewayParameters(),this.userSession.generateHeaders())];case 2:return r.sent(),this.loggingService.endPerformance(n,i,A.payloadForRefreshCookiesPerformance(this.viewContext,e,!0)),[3,4];case 3:return o=r.sent(),this.loggingService.endPerformance(n,i,A.payloadForRefreshCookiesPerformance(this.viewContext,e,!1)),this.injectedAuthProvider&&this.injectedAuthProvider.signInFailed({reason:o&&o.data?o.data:o.toString(),errorcode:o.status,customReasonText:"Failed to refresh backend tokens"}),[2,!1];case 4:return[2,!0]}}))}))},this.setResources=function(e){return i(_,void 0,Promise,(function(){var t,n,i,o,s,a,c;return r(this,(function(r){switch(r.label){case 0:if(this.resourcesSet)return this.loggingService.debug("setResource: Resources already set: "+this.userSession.userLanguage+this.userSession.userRegion+this.userSession.isRightToLeft),[2,!0];t=this.loggingService.startUniquePerformance(),n="GetLocaleInfo",i="GetPrincipalSettings",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.principalService.getPrincipalSettings(this.userSession)];case 2:o=r.sent(),this.loggingService.endPerformance(t,i,A.payloadForGetPrincipalPerformance(this.viewContext,e,!0)),s=this.loggingService.startUniquePerformance();try{a=this.localeHelper.getLocaleInfo(o),this.loggingService.endPerformance(s,n,A.payloadForGetLocaleInfoPerformance(this.viewContext,e,!0)),this.loggingService.debug("Locale info: "+JSON.stringify(a)),this.userSession.applyLocaleInfo(a),this.resourcesSet=!0,(c=this.loggingService.getStandardContextsDeepCopy())&&c.userContext&&(c.userContext.language=this.userSession.userLanguage,c.userContext.region=this.userSession.userRegion,this.loggingService.setStandardContexts(c)),h.loadResources(this.userSession.userLanguage,e,this.viewContext,this.loggingService,this.resourceReadyCallback,this.resourceUpdatedCallback)}catch(r){return this.loggingService.endPerformance(s,n,A.payloadForGetLocaleInfoPerformance(this.viewContext,e,!1)),[2,!1]}return[3,4];case 3:return r.sent(),this.loggingService.endPerformance(t,i,A.payloadForGetPrincipalPerformance(this.viewContext,e,!1)),[2,!1];case 4:return[2,!0]}}))}))},this.enqueueNextSessionValidityCheck=function(){var e;_.tenantService.hasTenantPatchThrottleFailed()||(0,e=_.authState===p.AuthState.Authenticated?_.timeToNextTokenRefreshMs():(_.authFailures++,_.timeToNextAuthAttemptMs()),_.loggingService.debug("next check in: "+e+"ms"),_.timer=window.setTimeout((function(){_.ensureSessionValidity(!1)}),e))},this.enqueueNextCachedCredentialsCheck=function(){_.timer=window.setTimeout((function(){_.checkForCachedCredentials(!1)}),d.AuthenticationCachePollingIntervalMs)},this.checkForCachedCredentials=function(e){return i(_,void 0,Promise,(function(){var t,n,i,o;return r(this,(function(r){switch(r.label){case 0:return t=this.authProvider.tryGetAuthTokenFromCache(),this.isAuthTokenValid(t.token)?(this.userSession.authToken=t.token,t.user&&(this.userSession.tenantId=t.user.tenantId,this.userSession.uniqueId=t.user.uniqueId,this.userSession.hashedId=this.hashedUserId()),[4,this.completeExtraAuthTasks(e)]):(this.enqueueNextCachedCredentialsCheck(),[2]);case 1:return n=r.sent(),i=n.success,o=n.reason,i?this.setAuthState(p.AuthState.Authenticated):this.setAuthState(p.AuthState.Error,o),this.enqueueNextSessionValidityCheck(),[2]}}))}))},this.ensureSessionValidity=function(e){return i(_,void 0,Promise,(function(){var t,n,i,o,a;return r(this,(function(r){switch(r.label){case 0:return i=u.TelemetryAuthResult.AdalSuccess,o=this.loggingService.startUniquePerformance(),a="AuthenticationEndToEnd",this.isSessionValid()&&(this.setAuthState(p.AuthState.Authenticated),!this.shouldRenewBackendToken())?(this.enqueueNextSessionValidityCheck(),this.loggingService.endPerformance(o,a,A.payloadForAuthentication(this.viewContext,e,this.getState(),u.TelemetryAuthResult.SessionValid,t)),[2]):this.shouldRenewBackendToken()?[4,this.authProvider.tryAuthenticate(e)]:[3,6];case 1:return t=r.sent(),this.loggingService.debug("authresult: "+t),this.portalLogin||t.error!==s.AuthError.Failed&&t.error!==s.AuthError.UserInteractionRequired?[3,3]:[4,this.getTokenViaInjectedAuth(e)];case 2:(n=r.sent())&&n.token&&(t=n,i=u.TelemetryAuthResult.InjectedSuccess),r.label=3;case 3:return t.error!==s.AuthError.UserInteractionRequired?[3,5]:(this.setAuthState(p.AuthState.LoginRequired),[4,this.checkForCachedCredentials(e)]);case 4:return r.sent(),this.loggingService.endPerformance(o,a,A.payloadForAuthentication(this.viewContext,e,this.getState(),u.TelemetryAuthResult.LoginRequired,t)),[2];case 5:if(t.error===s.AuthError.Failed)return this.setAuthState(p.AuthState.Error),this.enqueueNextSessionValidityCheck(),this.loggingService.endPerformance(o,a,A.payloadForAuthentication(this.viewContext,e,this.getState(),u.TelemetryAuthResult.Failed,t)),[2];r.label=6;case 6:return[4,this.processOnAuth(t,e)];case 7:return r.sent(),this.loggingService.endPerformance(o,a,A.payloadForAuthentication(this.viewContext,e,this.getState(),i,t)),[2]}}))}))},this.processOnAuth=function(e,t){return i(_,void 0,Promise,(function(){var n,i,o;return r(this,(function(r){switch(r.label){case 0:if(e&&e.token){if(!this.isAuthTokenValid(e.token))return this.setAuthState(p.AuthState.Error,"new token is invalid, something has gone very wrong"),this.enqueueNextSessionValidityCheck(),[2];if(this.userSession.authToken=e.token,e.user&&(this.userSession.tenantId=e.user.tenantId,this.userSession.uniqueId=e.user.uniqueId,this.userSession.hashedId=this.hashedUserId()),this.shouldRenewBackendToken())return this.setAuthState(p.AuthState.Error,"new token requires refresh; check token expiry offset config"),this.enqueueNextSessionValidityCheck(),[2]}return[4,this.completeExtraAuthTasks(t)];case 1:return n=r.sent(),i=n.success,o=n.reason,i?(this.postMessagingService&&this.postMessagingService.sendMessageToParent(a.PostMessagesNames.signInEvent,{eventname:a.PostMessageSubEventNames.signInSuccessful}),this.setAuthState(p.AuthState.Authenticated,o)):this.setAuthState(p.AuthState.Error,o),this.enqueueNextSessionValidityCheck(),[2]}}))}))},this.completeExtraAuthTasks=function(e){return i(_,void 0,Promise,(function(){var t,n,i;return r(this,(function(r){switch(r.label){case 0:return[4,this.doTenantPatch(e)];case 1:return t=r.sent(),n=t.success,i=t.reason,n?[4,this.refreshBrowserSessionCookies(e)]:[2,{success:!1,reason:i}];case 2:return!1===r.sent()?[2,{success:!1,reason:"refresh cookies failed"}]:[4,this.setResources(e)];case 3:return!1===r.sent()&&this.loggingService.debug("set resources failed"),[2,{success:this.isSessionValid(),reason:""}]}}))}))},this.getTokenViaInjectedAuth=function(e){return i(_,void 0,Promise,(function(){var t=this;return r(this,(function(n){return[2,new Promise((function(n,i){t.injectedTokenAuthTimer=window.setTimeout((function(){t.injectedTokenAuthTimer=void 0,t.postMessagingService&&t.postMessagingService.sendMessageToParent(a.PostMessagesNames.signInEvent,{eventname:a.PostMessageSubEventNames.signInIncomplete});var i={groupings:{features:[u.FeatureNames.SessionManager]},viewContext:t.viewContext,isInitialAuth:e};t.loggingService.appLogicThin("SignInMessageSentToParent",i),n()}),d.InjectedTokenAuthTimeoutInMs),t.startTokenAuth(n,i,e)}))]}))}))},this.startTokenAuth=function(e,t,n){return i(_,void 0,Promise,(function(){var t,i,o=this;return r(this,(function(r){switch(r.label){case 0:t=this.loggingService.startUniquePerformance(),i="InjectedAuthentication",r.label=1;case 1:return r.trys.push([1,4,,5]),this.injectedAuthProvider?[4,this.injectedAuthProvider.connectWithParent(n)]:[3,3];case 2:r.sent(),this.injectedAuthProvider.getApiGatewayToken(n).then((function(r){o.injectedTokenAuthTimer?(clearTimeout(o.injectedTokenAuthTimer),o.injectedTokenAuthTimer=void 0,e(r)):!o.isSessionValid()&&r.token&&(o.timer&&(clearTimeout(o.timer),o.timer=void 0),o.processOnAuth(r,n)),o.loggingService.endPerformance(t,i,A.payloadForTokenAuth(o.viewContext,n,!0))})).catch((function(r){o.loggingService.endPerformance(t,i,A.payloadForTokenAuth(o.viewContext,n,!1)),e()})),r.label=3;case 3:return[3,5];case 4:return r.sent(),this.loggingService.endPerformance(t,i,A.payloadForTokenAuth(this.viewContext,n,!1)),e(),[3,5];case 5:return[2]}}))}))},this.hashedUserId=function(){return o.strHash(_.userSession.tenantId+_.userSession.uniqueId)},this.tenantPatchStateChanged=function(e){switch(e){case l.TenantPatchState.Success:_.setAuthState(p.AuthState.TenantPatchSuccess);break;case l.TenantPatchState.Throttled:_.setAuthState(p.AuthState.TenantPatchThrottled);break;case l.TenantPatchState.ThrottleFailed:_.setAuthState(p.AuthState.TenantPatchThrottleFailed)}},this.loggingService.debug("constructor"),this.userSession=new m.UserSession(this.clientSessionId,this.userSessionId),this.authState=p.AuthState.Unknown,this.timer=void 0}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/SessionSubscriber.ts":function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n=n||Promise)((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=0<(r=o.trys).length&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/@msstream/shared-services/dist/index.js"),s=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),a=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/ISessionManager.ts"),c=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/TelemetryPayload/SessionManagerPayloadFactory.ts"),l=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/UserSession.ts"),u=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/Utils.ts"),d=(p.prototype.start=function(e){return e&&void 0===this.authPerfEvent&&(this.authPerfEvent=this.loggingService.startUniquePerformance()),this.enterPollingMode(),window.addEventListener("storage",this.onStorageEvent),this.renewOnTimeout(),Promise.resolve()},p.prototype.renewOnTimeout=function(){var e=this;void 0!==this.heartbeatTimeout&&window.clearTimeout(this.heartbeatTimeout),this.heartbeatTimeout=window.setTimeout((function(){var t;if(e.authMaster.isHeld())return e.enterPollingMode(),e.hasLoggedBrokenStorageEvents||(e.hasLoggedBrokenStorageEvents=!0,t={groupings:{features:[s.FeatureNames.SessionManager]},viewContext:e.viewContext},e.loggingService.appLogicThin("SubscriberDetectedBrokenStorageEvents",t)),void e.renewOnTimeout();e.stop();var n=void 0!==e.authPerfEvent;n&&(e.loggingService.endPerformance(e.authPerfEvent,"AuthenticationEndToEnd",c.payloadForAuthentication(e.viewContext,!0,e.getState(),s.TelemetryAuthResult.SubscribeTimeout)),e.authPerfEvent=void 0),e.requireRenewCallback(n)}),o.keepAliveMs+500)},p.prototype.stop=function(){window.removeEventListener("storage",this.onStorageEvent),this.exitPollingMode()},p.prototype.enterPollingMode=function(){var e,t=this;this.isInPollingMode||(this.isInPollingMode=!0,(e=function(){return i(t,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.processMasterCachedState()];case 1:return t.sent(),this.masterPollTimeout=window.setTimeout(e,250),[2]}}))}))})())},p.prototype.exitPollingMode=function(){window.clearTimeout(this.masterPollTimeout),this.isInPollingMode=!1},p.prototype.processMasterCachedState=function(){return i(this,void 0,Promise,(function(){var e,t,n,i=this;return r(this,(function(r){switch(r.label){case 0:return(e=u.getCachedAuthMasterState(this.loggingService))?(Object.getOwnPropertyNames(this.userSession).map((function(t){var n=Object.getOwnPropertyDescriptor(i.userSession,t);n&&n.writable&&(i.userSession[t]=e.userSession[t])})),e.authState!==a.AuthState.Authenticated||this.resourcesLoaded?[3,1]:(this.resourcesLoaded=!0,u.loadResources(this.userSession.userLanguage,!0,this.viewContext,this.loggingService,this.resourceReadyCallback),[3,3])):[2];case 1:return e.authState!==a.AuthState.LoginRequired||this.authState===e.authState?[3,3]:[4,this.authProvider.tryAuthenticate(!1)];case 2:(t=r.sent()).token&&!t.error&&(e.authState=a.AuthState.Waiting),r.label=3;case 3:return e.authState===a.AuthState.Authenticated&&void 0!==this.authPerfEvent&&(this.loggingService.endPerformance(this.authPerfEvent,"AuthenticationEndToEnd",c.payloadForAuthentication(this.viewContext,!0,e.authState,s.TelemetryAuthResult.SubscribeSuccess)),this.authPerfEvent=void 0),this.authState!==e.authState&&(n={groupings:{features:[s.FeatureNames.SessionManager]},viewContext:this.viewContext,sessionType:p.name,oldState:a.AuthState[this.authState],newState:a.AuthState[e.authState]},this.loggingService.appLogicThin("SessionAuthStateChanged",n),this.authState=e.authState,this.authStateReason=e.authStateReason,this.onAuthStateChangedListeners.forEach((function(e){return e(i.authState,i.authStateReason)}))),[2]}}))}))},p);function p(e,t,n,i,r,o,s,c){var d=this;this.authProvider=e,this.clientSessionId=t,this.userSessionId=n,this.loggingService=i,this.viewContext=r,this.authMaster=o,this.requireRenewCallback=s,this.resourceReadyCallback=c,this.nextSubscription=0,this.onAuthStateChangedListeners=new Map,this.resourcesLoaded=!1,this.isInPollingMode=!1,this.hasLoggedBrokenStorageEvents=!1,this.addStateChangedListener=function(e){return d.onAuthStateChangedListeners.set(d.nextSubscription,e),d.nextSubscription++},this.removeStateChangedListener=function(e){return d.onAuthStateChangedListeners.delete(e)},this.getUserSession=function(){return d.userSession},this.getState=function(){return d.authState},this.getStateReason=function(){return d.authStateReason},this.onStorageEvent=function(e){e.key&&(e.key.match(u.CacheKeyRegex)&&e.newValue?(d.exitPollingMode(),d.loggingService.debug("Received StorageEvent for cached state: ",JSON.stringify(e)),d.processMasterCachedState()):-1<e.key.indexOf("_lslock::authmaster")&&(d.exitPollingMode(),d.renewOnTimeout()))},this.userSession=new l.UserSession(this.clientSessionId,this.userSessionId),this.authState=a.AuthState.Unknown,this.authStateReason=""}t.SessionSubscriber=d},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/SharedSessionManager.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/shared-services/dist/index.js"),r=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),o=n("./node_modules/lscache/lscache.js"),s=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/index.ts"),a=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/SessionSubscriber.ts"),c=(l.prototype.getUserSession=function(){return this.internalSessionManager.getUserSession()},l.prototype.getState=function(){return this.internalSessionManager.getState()},l.prototype.getStateReason=function(){return this.internalSessionManager.getStateReason()},l.prototype.start=function(e){return this.hasStarted=!0,this.internalSessionManager.start(e)},l.prototype.shutdown=function(){this.authMaster.unlock()},l.prototype.createNewManager=function(e){this.internalSessionManager&&this.internalSessionManager.removeStateChangedListener(this.internalStateChangedSubscription),this.authMaster.lock()||!o.supported()?this.internalSessionManager=new s.SessionManager(this.authProvider,this.tenantService,this.injectedAuthProvider,this.postMessagingService,this.clientSessionId,this.userSessionId,this.principalService,this.localeHelper,this.loggingService,this.viewContext,this.resourceUpdatedCallback,this.resourceReadyCallback):this.internalSessionManager=new a.SessionSubscriber(this.authProvider,this.clientSessionId,this.userSessionId,this.loggingService,this.viewContext,this.authMaster,this.requireRenewCallback,this.resourceReadyCallback),this.internalStateChangedSubscription=this.internalSessionManager.addStateChangedListener(this.wrappedStateChangedListener),this.hasStarted&&this.internalSessionManager.start(e)},l);function l(e,t,n,s,a,c,l,u,d,p,A,m){var h=this;this.authProvider=e,this.tenantService=t,this.injectedAuthProvider=n,this.postMessagingService=s,this.clientSessionId=a,this.userSessionId=c,this.principalService=l,this.localeHelper=u,this.loggingService=d,this.viewContext=p,this.resourceUpdatedCallback=A,this.resourceReadyCallback=m,this.externalAuthStateChangedListeners=new Map,this.internalStateChangedSubscription=-1,this.nextExternalStateChangedSubscription=0,this.hasStarted=!1,this.addStateChangedListener=function(e){return h.externalAuthStateChangedListeners.set(h.nextExternalStateChangedSubscription,e),h.nextExternalStateChangedSubscription++},this.removeStateChangedListener=function(e){return h.externalAuthStateChangedListeners.delete(e)},this.wrappedStateChangedListener=function(){var e=h.getState(),t=h.getStateReason();h.externalAuthStateChangedListeners.forEach((function(n){n(e,t)}))},this.requireRenewCallback=function(e){var t={stack:r.StackTraceStatus.NotApplicable,message:r.ErrorMessageStatus.NotApplicable,staticMessage:"Communication with SessionManager lost, taking over as SessionManager"};h.createNewManager(e),h.loggingService.warnThin("FallbackUtilized",t)},o.flushExpired(),this.authMaster=new i.LocalStorageLock("authmaster"),this.createNewManager(!0)}t.SharedSessionManager=c},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/TelemetryPayload/SessionManagerPayloadFactory.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),r=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/ISessionManager.ts");t.payloadForAuthentication=function(e,t,n,i,o){return{name:"AuthenticationEndToEnd",viewContext:e,isInitialAuth:t,authState:r.AuthState[n],authResult:i,adalErrorCode:o?o.adalErrorCode:void 0}},t.payloadForTokenAuth=function(e,t,n){return{name:"InjectedAuthentication",viewContext:e,isInitialAuth:t,success:n}},t.payloadForLoadResourcesPerformance=function(e,t,n,i){return{name:"LoadLocaleResources",viewContext:e,isInitialAuth:t,language:i,success:n}},t.payloadForTenantPatchPerformance=function(e,t,n){return{name:"DoTenantPatch",viewContext:e,isInitialAuth:t,success:n}},t.payloadForRefreshCookiesPerformance=function(e,t,n){return{name:"RefreshSessionCookies",viewContext:e,isInitialAuth:t,success:n}},t.payloadForGetPrincipalPerformance=function(e,t,n){return{name:"GetPrincipalSettings",viewContext:e,isInitialAuth:t,success:n}},t.payloadForGetLocaleInfoPerformance=function(e,t,n){return{name:"GetLocaleInfo",viewContext:e,isInitialAuth:t,success:n}},t.payloadForDoTenantPatchError=function(e,t){return{viewContext:e,message:t instanceof Error&&void 0!==t.message?t.message:i.ErrorMessageStatus.Missing,stack:t instanceof Error&&void 0!==t.stack?t.stack:(new Error).stack||i.StackTraceStatus.Missing,errorDetails:t}},t.payloadForRefreshCookiesError=function(e,t){return{viewContext:e,message:t instanceof Error&&void 0!==t.message?t.message:i.ErrorMessageStatus.Missing,stack:t instanceof Error&&void 0!==t.stack?t.stack:(new Error).stack||i.StackTraceStatus.Missing,errorDetails:t}}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/UserSession.ts":function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-auth-provider/src/index.ts"),o=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/Constants.ts"),s=(Object.defineProperty(a.prototype,"accessToken",{get:function(){return this.authToken.token},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"accessTokenExpiryDate",{get:function(){return new Date(this.authToken.expiry.valueOf())},enumerable:!0,configurable:!0}),a.prototype.generateHeaders=function(){return{Authorization:"Bearer "+this.accessToken,"x-ms-client-session-id":this.clientSessionId,"Accept-Language":this.userLanguage}},a.prototype.getApiGatewayParameters=function(){return{id:this.tenantId,apiVersion:this.apiGatewayVersion}},a.prototype.applyLocaleInfo=function(e){this.userLanguage=e.userLanguage,this.userRegion=e.userRegion,this.isRightToLeft=e.isRightToLeft},a);function a(e,t,n){void 0===n&&(n=!1),this.clientSessionIdFromSession=e,this.userSessionIdFromSession=t,this.isAnonymous=n,this.tenantId="",this.apiGatewayUrl="",this.apiGatewayVersion="",this.notificationEndPoint="",this.userLanguage=o.DefaultLanguage,this.userRegion="",this.isRightToLeft=!1,this.uniqueId="",this.hashedId="",this.authToken=i({},r.InvalidToken),this.clientSessionId=this.clientSessionIdFromSession,this.userSessionId=this.userSessionIdFromSession}t.UserSession=s},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/UserSessionBridge.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/UserSession.ts");t.createUserSessionFromBridgedData=function(e){var t=new i.UserSession(e.clientSessionIdFromSession,e.userSessionIdFromSession);return t.authToken={token:e.accessToken,expiry:e.accessTokenExpiry},t.tenantId=e.tenantId,t.apiGatewayUrl=e.apiGatewayUri,t.apiGatewayVersion=e.apiGatewayVersion,t.notificationEndPoint=e.notificationEndPoint,t.userLanguage=e.userLanguage,void 0!==e.userRegion&&(t.userRegion=e.userRegion),void 0!==e.isRightToLeft&&(t.isRightToLeft=e.isRightToLeft),t.uniqueId=e.uniqueId,t}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/Utils.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),r=n("./node_modules/@msstream/utilities-type-safety/esm/index.js"),o=n("./node_modules/lscache/lscache.js"),s=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/Constants.ts"),a=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/TelemetryPayload/SessionManagerPayloadFactory.ts"),c=o.supported(),l=r.rtt.object({authState:r.rtt.number,authStateReason:r.rtt.string,userSession:r.rtt.object({})});t.CacheKeyRegex="\\S*"+s.SessionManagerBucketName+s.SessionKey+"$";var u="SessionManagerStorageErrorAlert";t.cacheAuthMasterState=function e(t,n,r,a){try{if(o.supported()){var c={authState:n,authStateReason:r,userSession:t};if(o.setBucket(s.SessionManagerBucketName),!o.set(s.SessionKey,c))throw new Error("lscache.set failed")}}catch(t){var l={groupings:{features:[i.FeatureNames.SessionManager]},viewContext:new i.ViewContext("lscache"),message:"lscache write failed",stack:e.name};a.warnThin(u,l)}},t.getCachedAuthMasterState=function e(t){var n=null;try{if(c&&(o.setBucket(s.SessionManagerBucketName),n=o.get(s.SessionKey),!r.validate(n,l)))return null}catch(n){var a={groupings:{features:[i.FeatureNames.SessionManager]},viewContext:new i.ViewContext("lscache"),message:"lscache read failed",stack:e.name};t.warnThin(u,a)}return n},t.loadResources=function(e,t,n,r,o,c){var l,u,d,p,A;e!==s.DefaultLanguage?(l=document.getElementById(s.ResourcesScriptId))&&(u=r.startUniquePerformance(),d="LoadLocaleResources",p=(l.src?l.src:"").replace("/en/","/"+e+"/"),(A=document.createElement("script")).src=p,A.async=!0,A.onload=function(){r.endPerformance(u,d,a.payloadForLoadResourcesPerformance(n,t,!0,e)),c&&c(),o&&o()},A.onerror=function(s){var c={message:s,stack:i.StackTraceStatus.Missing};r.endPerformance(u,d,a.payloadForLoadResourcesPerformance(n,t,!1,e)),r.fatalThin("SessionManagerLocaleErrorAlert",c),o&&o()},document.head.appendChild(A)):o&&o()}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/index.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/SessionManager.ts");t.SessionManager=i.SessionManager;var r=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/SharedSessionManager.ts");t.SharedSessionManager=r.SharedSessionManager;var o=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/ISessionManager.ts");t.AuthState=o.AuthState;var s=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/Constants.ts");t.TokenRefreshBeforeExpiryMs=s.TokenRefreshBeforeExpiryMs;var a=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/test/FakeUserSession.ts");t.generateFakeUserSession=a.generateFakeUserSession;var c=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/UserSession.ts");t.UserSession=c.UserSession;var l=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/UserSessionBridge.ts");t.createUserSessionFromBridgedData=l.createUserSessionFromBridgedData},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/test/FakeUserSession.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.generateFakeUserSession=function(e){return{accessToken:"fake.accessToken",accessTokenExpiryDate:new Date(0),clientSessionId:"fake.clientSessionId",tenantId:"fake.tenantId",apiGatewayUrl:"fake.apiGatewayUrl",apiGatewayVersion:"fake.apiGatewayVersion",userLanguage:"fake.userLanguage",uniqueId:e,hashedId:"fake.hashedId",generateHeaders:function(){return[[""]]},getApiGatewayParameters:function(){return{}}}}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/ConfigurationFormatter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ConfigurationFormatter",(function(){return r}));var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js"),r=(o.format=function(e){e.PassThroughTokens=o.stringArrayToLowerCase(e.PassThroughTokens),e.ScrubQueryParametersHostNames=o.stringArrayToLowerCase(e.ScrubQueryParametersHostNames),e.ScrubToPartialHostNames=o.stringArrayToLowerCase(e.ScrubToPartialHostNames),e.UriQueryParameters.PassThroughQueryParameters=o.stringArrayToLowerCase(e.UriQueryParameters.PassThroughQueryParameters);var t={};Object.keys(e.UriQueryParameters.ScrubQueryParameters).forEach((function(n){var r=e.UriQueryParameters.ScrubQueryParameters[n];r&&r.type===i.RecognizedUriQueryParameterType.string&&r.acceptedValues&&(r.acceptedValues=o.stringArrayToLowerCase(r.acceptedValues)),t[n.toLowerCase()]=r})),e.UriQueryParameters.ScrubQueryParameters=t},o.stringArrayToLowerCase=function(e){return e.map((function(e){return e.toLowerCase()}))},o);function o(){}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/ConfigurationValidator.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ConfigurationValidator",(function(){return r}));var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js"),r=(o.validate=function(e){var t=this,n="";if(e){if(e.PassThroughTokens||(n+="PassThroughTokens is undefined, define it explicitly as empty if you want to scrubb all tokens.\n"),e.ScrubQueryParametersHostNames||(n+="ScrubQueryParametersHostNames is undefined, define it explicitely as empty if            you do not want any host name's params to be scrubbed. \n"),e.ScrubToPartialHostNames||(n+="ScrubQueryParametersHostNames is undefined, define it explicitely as empty if            you do not want any partial host name's to be kept. \n"),e.UriQueryParameters)if(e.UriQueryParameters.PassThroughQueryParameters)if(e.UriQueryParameters.ScrubQueryParameters)for(var r in e.UriQueryParameters.ScrubQueryParameters){var o=e.UriQueryParameters.ScrubQueryParameters[r];o&&o.type===i.RecognizedUriQueryParameterType.number&&o.acceptedValues&&(n+="param "+r+" in ScrubQueryParameters is of type number and has accepted values.                'number' type does not support accepted values")}else n+="UriQueryParameters.ScrubQueryParameters is undefined, define it explicitely as empty if         you do not want any recognized uri query params names to be kept. \n";else n+="UriQueryParameters.PassThroughQueryParameters is undefined, define it explicitely as empty if         you do not want any UriQueryParameters value to be always kept. \n";else n+="UriQueryParameters is undefined, define it explicitely as empty if         you do not want any UriQueryParameters to be kept. \n";e.DropEventNames||(n+="DropEventNames is undefined, define it explicitely as empty if you do not want any event to be dropped. \n"),e.GlobalFieldsDictionary?n=this.validateFieldScrubbingDictionary(e.GlobalFieldsDictionary,"GlobalFieldsDictionary",n):n+="GlobalFieldsDictionary is undefined, define it explicitely as empty if you do not want any field to be scrubbed. \n",e.EventFieldsDictionary?Object.keys(e.EventFieldsDictionary).forEach((function(i){var r=e.EventFieldsDictionary[i];n=t.validateFieldScrubbingDictionary(r,"EventFieldsDictionary."+i,n)})):n+="EventFieldsDictionary is undefined, define it explicitely as empty if         you do not want any field to be scrubbed. \n"}else n="PrivacyScrubbingConfig object is undefined and cannot be validated";if(""!==n)throw new Error(n)},o.validateFieldScrubbingDictionary=function(e,t,n){return Object.keys(e).forEach((function(r){var s=e[r];Object(i.isNestedFieldArray)(s)?s.forEach((function(e){n+=o.validateNestedField(e,t,n)})):Object(i.isEventFieldScrubbingStategy)(s)||(n+="Entry in FieldScrubbingDictionary was neither a Strategy or complete NestedField under "+t+". \n")})),n},o.validateNestedField=function(e,t,n){return n=o.validateFullPath(e.FullPath,t,n),o.validateEventFieldScrubbingStrategy(e.Strategy,t,n)},o.validateEventFieldScrubbingStrategy=function(e,t,n){return n+(Object(i.isEventFieldScrubbingStategy)(e)?"":"Invalid scrubbing strategy: "+e+" was added as part of dictionary "+t+". \n")},o.validateFullPath=function(e,t,n){e||(n+="Empty or undefined FullPath provided as part of dictionary "+t+" \n");var i=e.match(o.fullPathValidationRegex);return!i||i.length<=0?n+="No match found for the FullPath provided as part of dictionary "+t+" \n":i[0].length!==e.length&&(n+="Incomplete match found for the FullPath provided as part of dictionary "+t+".\n      Verify that your FullPath entry is valid using the following regex: "+o.fullPathValidationRegex.toString()+" \n"),n},o.fullPathValidationRegex=new RegExp(/[a-z][a-zA-Z]*(\.[a-z][a-zA-Z]*)*/),o);function o(){}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/Constants.js":function(e,t,n){"use strict";n.r(t),n.d(t,"emptyPrivacyScrubbingConfig",(function(){return s})),n.d(t,"testPrivacyScrubbingConfig",(function(){return a})),n.d(t,"DefaultScrubbedValue",(function(){return c})),n.d(t,"InvalidUrlFormatScrubbedValue",(function(){return l})),n.d(t,"DefaultScrubbedGuidValue",(function(){return u})),n.d(t,"DefaultRedactedText",(function(){return d})),n.d(t,"PrivacyScrubberStubUrls",(function(){return i}));var i,r,o=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js"),s={PassThroughTokens:[],ScrubQueryParametersHostNames:[],ScrubToPartialHostNames:[],UriQueryParameters:{PassThroughQueryParameters:[],ScrubQueryParameters:{}},DropEventNames:[],EventFieldsDictionary:{},GlobalFieldsDictionary:{}},a={PassThroughTokens:["spo","spo-app-ios","microsoftteams","yammer","onenote","powerpoint","ppt","sbc","stream portal","stream embed","msteams","msteamsbot"],ScrubQueryParametersHostNames:["microsoftstream.com","microsoftstream.us","stream.azure-test.net","hos-barcelonaportal-1-1.cloudapp.net"],ScrubToPartialHostNames:["sharepoint.com","teams.microsoft.com","signup.microsoft.com","learn.microsoft.com","microsoft.com","hubblecontent.osi.office.net","sway.office.com","delve.office.com","forms.office.com","tasks.office.com","office.com","yammer.com","onenote.officeapps.live.com","powerpoint.officeapps.live.com","officeapps.live.com","botframework.com"],UriQueryParameters:{PassThroughQueryParameters:["adminMode","appcorrelation","appplatform","autoPlay","BrowseBack","channelId","mode","displaymode","entryPoint","hasPlayed","id","isInAdminMode","isInDevMode","isInVideoTrimMode","noSignUpCheck","popular","privacy","recommendationVer","refId","showdescription","showheader","signout","sort","srcScreen","st","top","uploadstatus","vid","videoId","videoIsPublished","videoPrivacy"],ScrubQueryParameters:{App:{type:o.RecognizedUriQueryParameterType.string,acceptedValues:["powerpoint"]},ChannelName:void 0,ErrorRedirectedFrom:void 0,fileName:void 0,List:void 0,open:void 0,referrer:void 0,Scope:void 0,SearchTerm:void 0,SearchTermLongKey:void 0,Search:void 0,Source:void 0,State:void 0,src:void 0,UserId:void 0,UserName:void 0,num:{type:o.RecognizedUriQueryParameterType.number},a2:{type:o.RecognizedUriQueryParameterType.string,acceptedValues:["ppt","spo"]},view:{type:o.RecognizedUriQueryParameterType.string,acceptedValues:["video","channel","people","group","highlights","videos","channels","membership","userchannels","uservideos","administrators","spotlightvideos","companypolicies","usagedetails","group","support","comments","facedetection","forgottenusers","personaldata","contentcreation","streamaccess","liveevents","networkcaching","recyclebin","browsechannels","groupchannels","browsegroups","browsevideos","grouphome","groupvideos","groupprincipals"]}}},DropEventNames:[],EventFieldsDictionary:{},GlobalFieldsDictionary:{url:o.EventFieldScrubbingStrategy.scrub,pageUrl:o.EventFieldScrubbingStrategy.scrub,trafficReferrer:o.EventFieldScrubbingStrategy.scrub,app:o.EventFieldScrubbingStrategy.scrub,viewContext:[{FullPath:"viewContext.url",Strategy:o.EventFieldScrubbingStrategy.scrub}]}},c="SCRUBBED",l="INVALID",u="[GUID]",d="[redacted]";(r=i=i||{}).NotLoadedUrl="https://privacyScrubberNotLoaded/",r.InvalidUriErrorUrl="https://privacyScrubberInvalidUriError/"},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/EventScrubbers/EventScrubber.js":function(e,t,n){"use strict";n.r(t),n.d(t,"EventScrubber",(function(){return r}));var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js"),r=(o.prototype.scrub=function(e){var t=!1;return e&&e.data&&(this.scrubGlobalFields(e),this.scrubEventFields(e),t=!0),t},o.prototype.inDropEventList=function(e){return void 0!==e&&-1<this.config.DropEventNames.indexOf(e.name)},o.prototype.scrubEventFields=function(e){e.name in this.config.EventFieldsDictionary&&this.scrubFields(e,this.config.EventFieldsDictionary[e.name])},o.prototype.scrubGlobalFields=function(e){this.scrubFields(e,this.config.GlobalFieldsDictionary)},o.prototype.scrubFields=function(e,t){var n,r=this;if(t&&0<Object.keys(t).length)for(var o in e.data)o in t&&(n=t[o],Object(i.isNestedFieldArray)(n)?n.forEach((function(t){var n=r.getParentObjectByPath(e.data,t.FullPath);n&&r.applyStrategy(n,t.Strategy)})):Object(i.isEventFieldScrubbingStategy)(n)&&this.applyStrategy({parent:e.data,fieldName:o},n))},o.prototype.applyStrategy=function(e,t){var n,r,o=e.parent,s=e.fieldName;try{t===i.EventFieldScrubbingStrategy.drop?delete o[s]:t!==i.EventFieldScrubbingStrategy.scrub||(n=o[s])&&(r=this.tokenScrubber.scrub(n),o[s]=r)}catch(e){o&&s&&(o[s]=null)}},o.prototype.getParentObjectByPath=function(e,t){if(e&&t){var n=e,i=t.split("."),r=i.pop();if(r){for(var o=0,s=i;o<s.length;o++)if(!(n=n[s[o]]))return;if(n[r])return{parent:n,fieldName:r}}}},o);function o(e,t){this.config=e,this.tokenScrubber=t}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/SafePathValues.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SafePathValues",(function(){return i}));var i=["admin","adminsettings","browse","channel","channels","create","embed","error","fallback","followingchannels","group","groups","meetings","recyclebin","studio","update","upload","user","usersettings","video","videos","videoupdate","watchlist","welcome",n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/Constants.js").DefaultScrubbedGuidValue]},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/TokenScrubber.js":function(e,t,n){"use strict";n.r(t),n.d(t,"TokenScrubber",(function(){return i}));var i=(r.prototype.scrub=function(e){var t=this;return e?e instanceof Array?e.map((function(e){return t.scrubTokenInternal(e)})):this.scrubTokenInternal(e):""},r.prototype.scrubTokenInternal=function(e){return void 0===e||-1!==this.config.PassThroughTokens.indexOf(e.toLowerCase())?e:this.uriScrubber.scrub(e)},r);function r(e,t){this.config=e,this.uriScrubber=t}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/UriScrubber.js":function(e,t,n){"use strict";n.r(t),n.d(t,"UriScrubber",(function(){return a}));var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/Constants.js"),r=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js"),o=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/SafePathValues.js"),s=n("./node_modules/url-parse/index.js"),a=(c.prototype.scrub=function(e){var t=this,n=new s(e," ",(function(e){return t.parseAndCleanQueryString(e)}));if(n&&(n.hostname||n.pathname)){var r=n.protocol?n.hostname:this.truncatePathToHostname(n.pathname);if(""===n.hostname&&n.pathname&&(n.hostname=r,n.pathname=this.truncatePathname(n.pathname,r),n.host=r),!r.match(this.validHostNameRegex))return i.InvalidUrlFormatScrubbedValue;if(this.isScrubQueryParametersHostName(r)){var o=this.scrubPathname(n.pathname,n.hostname);return o&&o!==n.pathname&&n.set("pathname",o),(n.protocol?"":c.defaultProtocol+"//")+n.toString()}return this.tryKeepPartialHostName(r,n.protocol)}return i.InvalidUrlFormatScrubbedValue},c.prototype.truncatePathToHostname=function(e){var t=e.indexOf("/");return-1===t?e:e.substr(0,t)},c.prototype.truncatePathname=function(e,t){var n=e.indexOf(t);return-1===n?e:e.substr(n+t.length)},c.prototype.parseAndCleanQueryString=function(e){var t=[];if(e){"?"===e[0]&&(e=e.slice(1,e.length));for(var n=0,r=e.split("&");n<r.length;n++){var o=r[n].split("="),s=void 0,a=void 0;a=2===o.length?(s=o[0],o[1]):void(s=o[0]);if(-1===this.config.UriQueryParameters.PassThroughQueryParameters.indexOf(s.toLowerCase())){if(!(s.toLowerCase()in this.config.UriQueryParameters.ScrubQueryParameters))continue;a&&this.isRecognizedParamAcceptedValue(s,a)||(a=i.DefaultScrubbedValue)}a?t.push(s+"="+a):t.push(s+"=")}}return 0<t.length?"?"+t.join("&"):""},c.prototype.isRecognizedParamAcceptedValue=function(e,t){var n=!1,i=this.config.UriQueryParameters.ScrubQueryParameters[e.toLowerCase()];return i&&(i.type===r.RecognizedUriQueryParameterType.number?n=!0:i.type===r.RecognizedUriQueryParameterType.string&&i.acceptedValues&&(n=-1!==i.acceptedValues.indexOf(t.toLowerCase()))),n},c.prototype.isScrubQueryParametersHostName=function(e){if(e){e=e.toLowerCase();for(var t=0,n=this.config.ScrubQueryParametersHostNames;t<n.length;t++){var i=n[t];if(-1!==e.indexOf(i,e.length-i.length))return!0}}return!1},c.prototype.scrubPathname=function(e,t){return e&&t&&(e=e.replace(this.validGuidRegex,i.DefaultScrubbedGuidValue),t.endsWith("api.microsoftstream.com")||e.split("/").forEach((function(t){t&&o.SafePathValues.indexOf(t)<0&&(e=e.replace(t,i.DefaultRedactedText))}))),e},c.prototype.tryKeepPartialHostName=function(e,t){var n=""!==t?t:c.defaultProtocol;if(e){e=e.toLowerCase();for(var r=0,o=this.config.ScrubToPartialHostNames;r<o.length;r++){var s=o[r];if(-1!==e.indexOf(s,e.length-s.length))return n+"//"+s}}return n+"//"+i.DefaultScrubbedValue},c.defaultProtocol="https:",c);function c(e){this.validHostNameRegex=new RegExp(/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/gm),this.validGuidRegex=/(([0-9a-fA-F]){8}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){12})/g,this.config=e}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubber.js":function(e,t,n){"use strict";n.r(t),n.d(t,"PrivacyScrubber",(function(){return c}));var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/ConfigurationFormatter.js"),r=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/ConfigurationValidator.js"),o=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/EventScrubbers/EventScrubber.js"),s=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/TokenScrubber.js"),a=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/UriScrubber.js"),c=(Object.defineProperty(l.prototype,"InitializationError",{get:function(){return this.initializationError},enumerable:!0,configurable:!0}),l.prototype.scrubUri=function(e){return this.uriScrubber?this.uriScrubber.scrub(e):void 0},l.prototype.scrubEvent=function(e){return!!this.eventScrubber&&(!(!e||e.data)||this.eventScrubber.scrub(e))},l.prototype.inDropEventList=function(e){return!this.eventScrubber||this.eventScrubber.inDropEventList(e)},l);function l(e){try{r.ConfigurationValidator.validate(e)}catch(e){this.initializationError=e.message,this.eventScrubber=void 0}var t;this.initializationError||(i.ConfigurationFormatter.format(e),this.uriScrubber=new a.UriScrubber(e),t=new s.TokenScrubber(e,this.uriScrubber),this.eventScrubber=new o.EventScrubber(e,t))}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js":function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r,o,s,a;n.r(t),n.d(t,"RecognizedUriQueryParameterType",(function(){return r})),n.d(t,"EventFieldScrubbingStrategy",(function(){return s})),n.d(t,"NestedField",(function(){return c})),n.d(t,"isNestedFieldArray",(function(){return l})),n.d(t,"isEventFieldScrubbingStategy",(function(){return u})),(o=r=r||{}).string="string",o.number="number",(a=s=s||{}).scrub="scrub",a.drop="drop";var c=function(){this.FullPath="",this.Strategy=s.scrub};function l(e){var t=!0,n=new c;return null!==e&&"object"===i(e)&&Array.isArray(e)?e.forEach((function(e){Object.keys(n).forEach((function(n){t=t&&n in e}))})):t=!1,t}function u(e){return"string"==typeof e&&e in s}},"./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubber.js");n.d(t,"PrivacyScrubber",(function(){return i.PrivacyScrubber}));var r=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js");n.d(t,"RecognizedUriQueryParameterType",(function(){return r.RecognizedUriQueryParameterType})),n.d(t,"EventFieldScrubbingStrategy",(function(){return r.EventFieldScrubbingStrategy})),n.d(t,"NestedField",(function(){return r.NestedField})),n.d(t,"isNestedFieldArray",(function(){return r.isNestedFieldArray})),n.d(t,"isEventFieldScrubbingStategy",(function(){return r.isEventFieldScrubbingStategy}));var o=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/Constants.js");n.d(t,"emptyPrivacyScrubbingConfig",(function(){return o.emptyPrivacyScrubbingConfig})),n.d(t,"testPrivacyScrubbingConfig",(function(){return o.testPrivacyScrubbingConfig})),n.d(t,"DefaultScrubbedValue",(function(){return o.DefaultScrubbedValue})),n.d(t,"InvalidUrlFormatScrubbedValue",(function(){return o.InvalidUrlFormatScrubbedValue})),n.d(t,"DefaultScrubbedGuidValue",(function(){return o.DefaultScrubbedGuidValue})),n.d(t,"DefaultRedactedText",(function(){return o.DefaultRedactedText})),n.d(t,"PrivacyScrubberStubUrls",(function(){return o.PrivacyScrubberStubUrls}))},"./node_modules/@msstream/services-one-customer-voice/src/Constants.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.appId=2264,t.maxCommentLength=5e3,t.unknownDefaultValue="Unknown",t.unknownDefaultNumberValue=-1,t.clientSourceString="Client",t.OCVPrivacyUrl="/feedback/privacyLink",t.OCVResultsUrl="/feedback"},"./node_modules/@msstream/services-one-customer-voice/src/FeedbackTypes/MicroFeedbackType.ts":function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.MicroFeedbackType||(t.MicroFeedbackType={})).Smile="Smile",n.Frown="Frown"},"./node_modules/@msstream/services-one-customer-voice/src/FeedbackTypes/RatingSurveyType.ts":function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.RatingSurveyType||(t.RatingSurveyType={})).NetPromoterScore="Nps",n.NaturalLanguageQuality="Nlqs",n.ProductSatisfaction="Psat",n.BuildPromotion="Bps"},"./node_modules/@msstream/services-one-customer-voice/src/FeedbackTypes/SimpleSurveyType.ts":function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.SimpleSurveyType||(t.SimpleSurveyType={})).FeaturePromotion="Fps",n.Diagnostics="DiagnosticsSurvey"},"./node_modules/@msstream/services-one-customer-voice/src/FeedbackTypes/UserInitiatedFeedbackType.ts":function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.UserInitiatedFeedbackType||(t.UserInitiatedFeedbackType={})).Smile="Smile",n.Frown="Frown",n.Suggestion="Idea",n.Bug="Bug"},"./node_modules/@msstream/services-one-customer-voice/src/FeedbackTypes/index.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/services-one-customer-voice/src/FeedbackTypes/MicroFeedbackType.ts");t.MicroFeedbackType=i.MicroFeedbackType;var r=n("./node_modules/@msstream/services-one-customer-voice/src/FeedbackTypes/RatingSurveyType.ts");t.RatingSurveyType=r.RatingSurveyType;var o=n("./node_modules/@msstream/services-one-customer-voice/src/FeedbackTypes/SimpleSurveyType.ts");t.SimpleSurveyType=o.SimpleSurveyType;var s=n("./node_modules/@msstream/services-one-customer-voice/src/FeedbackTypes/UserInitiatedFeedbackType.ts");t.UserInitiatedFeedbackType=s.UserInitiatedFeedbackType},"./node_modules/@msstream/services-one-customer-voice/src/IOneCustomerVoiceService.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/@msstream/services-one-customer-voice/src/OneCustomerVoiceAdditionalDataTypes.td.ts":function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.OCVCustomColumnKeys||(t.OCVCustomColumnKeys={})).UserSessionId="userSession_Id",n.BrowserEngineName="browserEngineName",n.BrowserEngineVersion="browserEngineVersion",n.FeedbackCorrelationId="feedbackCorrelationId"},"./node_modules/@msstream/services-one-customer-voice/src/OneCustomerVoiceService.ts":function(e,t,n){var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@msstream/core/esm/index.js"),o=n("./node_modules/@msstream/services-rest/src/index.ts"),s=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/services-session-manager/src/index.ts"),a=n("./node_modules/@msstream/services-one-customer-voice/node_modules/@msstream/utilities-privacy-scrubber/esm/index.js"),c=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),l=n("./node_modules/@msstream/services-one-customer-voice/src/OneCustomerVoiceSurveyDataParser.ts"),u=n("./node_modules/ua-parser-js/src/ua-parser.js"),d=n("./node_modules/@msstream/services-one-customer-voice/src/Constants.ts"),p=n("./node_modules/@msstream/services-one-customer-voice/src/FeedbackTypes/index.ts"),A=n("./node_modules/@msstream/services-one-customer-voice/src/OneCustomerVoiceAdditionalDataTypes.td.ts"),m=(Object.defineProperty(h.prototype,"maxCommentLength",{get:function(){return d.maxCommentLength},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"privacyUrl",{get:function(){return this.endpointBase.concat(d.OCVPrivacyUrl)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"resultsUrl",{get:function(){return this.endpointBase.concat(d.OCVResultsUrl)},enumerable:!0,configurable:!0}),h.prototype.postUIF=function(e,t,n,i,r,o){return this.postResults("postUIF","Sas",e.toString(),void 0,t,n,i,r,o)},h.prototype.postMicroFeedback=function(e,t,n,i,r){return this.postResults("postMicroFeedback","Mfb",e.toString(),void 0,t,n,void 0,i,r)},h.prototype.postSurveyResponse=function(e,t){return this.postResults("postSurveyResponse",e.surveyType.toString(),"Survey",e,void 0,void 0,void 0,t)},h.prototype.getManifestForSDK=function(e,t){var n=e||r.generateGuid(),i=this.getPartialManifest(n,t);return{id:n,manifest:{applicationGroup:i.application,telemetryGroup:i.telemetry,webGroup:i.web}}},h.prototype.postResults=function(e,t,n,s,a,u,A,m,h){var f=r.generateGuid(),g=i({},this.getPartialManifest(f,m),{manifestType:t.toString(),appId:d.appId,submitTime:(new Date).toISOString(),source:d.clientSourceString,type:n.toString(),clientFeedbackId:f});if(a&&(g.comment=a.slice(0,d.maxCommentLength)),u&&(g.email=u),A&&A.errorCode&&(g.telemetry.errorCode=A.errorCode),A&&A.errorName&&(g.telemetry.errorName=A.errorName),s){if(g.survey={surveyId:s.id},typeof s.surveyType==typeof p.RatingSurveyType){if(!s.genericRating)throw new Error("No generic rating provided for survey with RatingSurveyType!");g.rating=s.genericRating}s.title&&(s.textFields||s.ratings||s.multipleChoices||s.emailOptions)&&(g.application.extendedManifestData=l.OneCustomerVoiceSurveyDataParser.getExtendedManifestDataFrom(s))}var v=new FormData,y=new Blob([JSON.stringify(g)],{type:"application/json"});v.append("Manifest",y),h&&v.append("Screenshot",h.getContent());var S=this.endpointBase,b=d.OCVResultsUrl;return o.RestService.post(S,b,{},v,void 0).then((function(){return f})).catch((function(t){return c.RestCallLogger.logError({method:c.RestCallMethodNames.POST,staticMessage:"OneCustomerVoiceService."+e,urlBase:S,urlPath:b,error:t}),Promise.reject(t)}))},h.prototype.getPartialManifest=function(e,t){t=t||{};var n=new u.UAParser,i=n.getEngine();t[A.OCVCustomColumnKeys.FeedbackCorrelationId]||(t[A.OCVCustomColumnKeys.FeedbackCorrelationId]=e),t[A.OCVCustomColumnKeys.UserSessionId]||(t[A.OCVCustomColumnKeys.UserSessionId]=this.userSessionId),t[A.OCVCustomColumnKeys.BrowserEngineName]||(t[A.OCVCustomColumnKeys.BrowserEngineName]=i.name),t[A.OCVCustomColumnKeys.BrowserEngineVersion]||(t[A.OCVCustomColumnKeys.BrowserEngineVersion]=i.version);var r={appData:JSON.stringify(t)},o={flights:this.ecsConfigIds,flightSource:"ECS",audience:this.audience,audienceGroup:this.audienceGroup,isUserSubscriber:!0,platform:"web",processSessionId:this.clientSessionId},s=this.ringId,l=this.tenantId,d=this.userId;s&&(o.ringId=s),l&&(o.tenantId=l),d&&(o.loggableUserId=d);var p,m=a.PrivacyScrubberStubUrls.NotLoadedUrl;c.RestCallLogger.loggingService&&c.RestCallLogger.loggingService.PrivacyScrubber&&(p=c.RestCallLogger.loggingService.PrivacyScrubber.scrubUri(this.getAbsoluteUrl()))&&(m=p===a.InvalidUrlFormatScrubbedValue?a.PrivacyScrubberStubUrls.InvalidUriErrorUrl:p);var h=n.getBrowser();return{application:r,telemetry:o,web:{dataCenter:this.clusterName,sourcePageURI:m,browser:h.name,browserVersion:h.version}}},h.prototype.parsePortalConfigurationValues=function(e){this.endpointBase=e.PetrolApiEndpoint||"",this.ecsConfigIds=e.ECSConfiguration&&e.ECSConfiguration.telemetryRecord&&e.ECSConfiguration.telemetryRecord.configIds?JSON.stringify(e.ECSConfiguration.telemetryRecord.configIds):"",this.clusterName=e.ClusterName,this.audience=e.ECSConfiguration&&e.ECSConfiguration.telemetryRecord&&e.ECSConfiguration.telemetryRecord.audience&&""!==e.ECSConfiguration.telemetryRecord.audience?e.ECSConfiguration.telemetryRecord.audience:d.unknownDefaultValue,this.audienceGroup=e.ECSConfiguration&&e.ECSConfiguration.telemetryRecord&&e.ECSConfiguration.telemetryRecord.audienceGroup&&""!==e.ECSConfiguration.telemetryRecord.audienceGroup?e.ECSConfiguration.telemetryRecord.audienceGroup:d.unknownDefaultValue,this.ringId=e.ECSConfiguration&&e.ECSConfiguration.telemetryRecord&&e.ECSConfiguration.telemetryRecord.ringId?e.ECSConfiguration.telemetryRecord.ringId:d.unknownDefaultNumberValue},h.prototype.parseUserSessionValues=function(e){this.userId=e.uniqueId,this.tenantId=e.tenantId,this.clientSessionId=e.clientSessionId,this.userSessionId=e.userSessionId},h.prototype.getAbsoluteUrl=function(){return window.location.href},h);function h(e,t,n){!t&&n&&(t=s.createUserSessionFromBridgedData(n)),this.parsePortalConfigurationValues(e),this.parseUserSessionValues(t)}t.OneCustomerVoiceService=m},"./node_modules/@msstream/services-one-customer-voice/src/OneCustomerVoiceSurveyDataParser.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(i.getExtendedManifestDataFrom=function(e){var t,n,i,r,o={},s={};e.multipleChoices&&(t=this.convertMultipleChoicesToPetrolApiExpectedFormat(e.multipleChoices),s.multipleChoice=t.questions,o.multipleChoice=t.answers),e.ratings&&(n=this.convertRatingsToPetrolApiExpectedFormat(e.ratings),s.rating=n.questions,o.rating=n.answers),e.textFields&&(i=this.convertTextFieldsToPetrolApiExpectedFormat(e.textFields),s.comment=i.questions,o.comment=i.answers),e.title&&e.buttonValues&&(r={title:e.title,buttons:e.buttonValues},s.prompt=r),e.emailOptions&&(s.emailConsentTitle=e.emailOptions.consentTitle,o.userEmail=e.emailOptions.userEmail);var a={surveySpecificData:JSON.stringify(o),surveyStrings:JSON.stringify(s)};return JSON.stringify(a)},i.convertMultipleChoicesToPetrolApiExpectedFormat=function(e){var t={questions:[],answers:[]};return e.forEach((function(e){var n=[],i=[];e.choices.forEach((function(e){n.push(e.value),i.push(e.selected)}));var r={question:e.title,options:n};t.questions.push(r),t.answers.push(i)})),t},i.convertRatingsToPetrolApiExpectedFormat=function(e){var t={questions:[],answers:[]};return e.forEach((function(e){var n={question:e.title,options:e.options},i=e.options.indexOf(e.selected);if(i<0&&e.selected)throw new Error("Selected rating "+e.selected+" is not among the options ["+e.options.join(",")+"] for "+e.title+"!");var r={numberOfOptions:e.options.length,selectedRating:i};t.questions.push(n),t.answers.push(r)})),t},i.convertTextFieldsToPetrolApiExpectedFormat=function(e){var t={questions:[],answers:[]};return e.forEach((function(e){var n={question:e.title},i=e.userSubmittedText?e.userSubmittedText:"";t.questions.push(n),t.answers.push(i)})),t},i);function i(){}t.OneCustomerVoiceSurveyDataParser=n},"./node_modules/@msstream/services-one-customer-voice/src/Screenshot/Constants.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorScreenshot="iVBORw0KGgoAAAANSUhEUgAAAN0AAAA+AQMAAACV2ox1AAAABGdBTUEAALGPC/xhBQAAAAZQTFRFAAAA////pdmf3QAAAAlwSFlzAAAOwgAADsIBFShKgAAAAjtJREFUSMfV1M1rE0EUAHDBa5r8A9vkL6giFiI0JH+Ih9KLx8TaukkJugShHgrJzYvkVPQkUqgwSePLEELaU+zBg8JKVvSQQNydlsadwCQzziRZ82ETxYMfc3gD8+MxjzcfV8T80f0vkQ8i68tAPSMSQ0PkI6QDpEPkZBHy1Wp1/zjni2lrZq2T2uikDG17A54Hr0vsvwXIl3WXt02zeIHQBSq3DxHk7VO55zIFgLLrcmaaQBGiqCwQArBVQTbNZODNBB5Ee2EEr5eGiDG4k5mcqcy+Ksh+N8K2+bRI1Z68fRMVoV+XmcFwpQJZGohpkds1WtjppGLaq51a2b8yp310UW9/H8VfRj68CIKRsWCFPCCEM419S4bSAOmPmdb3TBrQ4lmnt9n4/Hiv5fTunsOzXbJfLR2rU3Fd5ugOe9mw0lvNOCNxyDdIHkpHCv0S3a+MS0yT+4wkAKx1gBJeVxeMRhSeNZpXJfY+zqAVl+g0mCFRJMgs6oy9+MCMrWZaJJwiWFjuWcIShf+Wk2W9e59OHu21WPdsswZNLKs9wV77mJiaMVbBQ+/1jGZDofFLuOBU/jzG6OQKnkLOZ5EvwolMX2Q19TAX9MWyy/aNarewfZptechdLn8B3TatB/YXB2j4MKw3jTHKX4AO0CbqaSddMokHUbr0PpSXmFG4O4WIu86asCVihfoM6nUmse5gGkbJOyThVesX4UI0d00LBYMr55VuIZl8MkY1uOiTy9v3c+ShuXj5+NdQdL8B+5gmw8WZuREAAAAASUVORK5CYII="},"./node_modules/@msstream/services-one-customer-voice/src/Screenshot/IScreenshot.td.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/@msstream/services-one-customer-voice/src/Screenshot/Screenshot.ts":function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n=n||Promise)((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=0<(r=o.trys).length&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/html2canvas/dist/html2canvas.js"),s=n("./node_modules/@msstream/services-one-customer-voice/src/Screenshot/Constants.ts"),a=(c.take=function(){return i(this,void 0,Promise,(function(){return r(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,o.default(document.body)];case 1:return[2,new c(e.sent())];case 2:return e.sent(),[2,new c(void 0)];case 3:return[2]}}))}))},c.prototype.getContent=function(){var e=this.getImgString();return this.getContentFromImgString(e)},c.prototype.getContentFromImgString=function(e){for(var t=e||s.ErrorScreenshot,n=atob(t),i=[],r=0;r<n.length;r++)i.push(n.charCodeAt(r));return new Blob([new Uint8Array(i)],{type:"image/jpeg"})},c.prototype.getImgString=function(){var e;if(this.screenshot)try{e=this.screenshot.toDataURL("image/jpeg").split(",")[1]}catch(t){e=void 0}return e},c.prototype.getElement=function(){return this.screenshot},c);function c(e){this.screenshot=e}t.Screenshot=a},"./node_modules/@msstream/services-one-customer-voice/src/Screenshot/index.ts":function(e,t,n){function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n("./node_modules/@msstream/services-one-customer-voice/src/Screenshot/IScreenshot.td.ts")),i(n("./node_modules/@msstream/services-one-customer-voice/src/Screenshot/Screenshot.ts"))},"./node_modules/@msstream/services-rest/src/Constants.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.QueryConfigDefaults={DefaultSkip:0,DefaultTop:8,DefaultFaceTop:3,MaxTop:100},t.RequestVerificationToken="__RequestVerificationToken",t.QueryParams={Filter:"$filter",OrderBy:"$orderby",Skip:"$skip",Top:"$top",Select:"$select",Expand:"$expand",AdminMode:"adminmode",ApiVersion:"apiVersion",Id:"id",IsInAdminMode:"isInAdminMode"}},"./node_modules/@msstream/services-rest/src/Rest.ts":function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n=n||Promise)((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=0<(r=o.trys).length&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/@msstream/core/esm/index.js"),s=n("./node_modules/@msstream/shared-services/dist/index.js"),a=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),c=n("./node_modules/@msstream/utilities-type-safety/esm/index.js"),l=n("./node_modules/query-string/index.js"),u=n("./node_modules/uuid/index.js"),d=n("./node_modules/@msstream/services-rest/src/Constants.ts"),p=n("./node_modules/@msstream/services-rest/src/UrlFormatter.ts"),A=(m.get=function(e,t,n,i,r){return void 0===r&&(r=c.rtt.any),m.makeRequest("GET",r,e,t,n,void 0,i)},m.getWithCorsSupport=function(e,t,n,i,r){return void 0===r&&(r=c.rtt.any),m.makeRequest("GET",r,e,t,n,void 0,i,"cors")},m.getContent=function(e,t,n){return void 0===n&&(n=c.rtt.any),m.makeRequestForURL("GET",n,e,void 0,t)},m.put=function(e,t,n,i,r,o){return void 0===o&&(o=c.rtt.any),m.makeRequest("PUT",o,e,t,n,i,r)},m.patch=function(e,t,n,i,r,o){return void 0===o&&(o=c.rtt.any),m.makeRequest("PATCH",o,e,t,n,i,r)},m.post=function(e,t,n,i,r,o){return void 0===o&&(o=c.rtt.any),m.makeRequest("POST",o,e,t,n,i,r)},m.delete=function(e,t,n,i,r){return void 0===r&&(r=c.rtt.any),m.makeRequest("DELETE",r,e,t,n,void 0,i)},m.query=function(e,t,n,i,r){var s,a;return void 0===r&&(r=c.rtt.any),n&&void 0!==n.$top&&(s=parseInt(n.$top,10),o.isFiniteNumber(s)?n.$top=Math.min(d.QueryConfigDefaults.MaxTop,0<s?s:d.QueryConfigDefaults.DefaultTop).toString():n.$top=d.QueryConfigDefaults.DefaultTop.toString(),n.$top=n.$top.toString()),n&&void 0!==n.$skip&&(a=parseInt(n.$skip,10),o.isFiniteNumber(a)?n.$skip=Math.max(d.QueryConfigDefaults.DefaultSkip,a).toString():n.$skip=d.QueryConfigDefaults.DefaultSkip.toString(),n.$skip=n.$skip.toString()),m.makeRequest("GET",r,e,t,n,void 0,i,"cors")},m.makeRequest=function(e,t,n,i,r,o,s,a){var c=l.parse(window.location.search.toLowerCase());return c.hostcorrelationid&&(r.hostcorrelationid=c.hostcorrelationid),m.formRequest(e,t,p.formatUrl(n,i,r,o),s,o,a)},m.makeRequestForURL=function(e,t,n,i,r,o){return m.formRequest(e,t,n,r,i,o)},m.formRequest=function(e,t,n,i,r,o){var s="ReactTestCall"+m.generateGuid(),a=r&&/^(POST|PUT|PATCH)$/i.test(e);(i=i||{})["x-ms-client-request-id"]=m.generateGuid(),i["x-ms-correlation-request-id"]=s,!a||r instanceof FormData||(i["Content-Type"]="application/json;charset=UTF-8");var c=a?r instanceof FormData?r:JSON.stringify(r):void 0;return m.executeWithRetry(n,t,{method:e,headers:i,body:c,mode:o,credentials:"cors"===o?"include":"same-origin"})},m.executeWithRetry=function(e,t,n,o){var c=this;return void 0===o&&(o=0),new Promise((function(l,u){return i(c,void 0,void 0,(function(){var i,c,d,p,A,h;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,this.fetchWithTimeout(e,n)];case 1:return i=r.sent(),[4,m.handleResponse(i,t)];case 2:return d=r.sent(),l(d),[3,4];case 3:return p=r.sent(),A=!1,c="Rest.executeWithRetry","Timeout"===p.message||"Network request failed"===p.message?(c+=". Network issue",A=!0):p.message&&p.message.startsWith("Malformed")?(c+=". Malformed response",A=!0):i||(c+=". Failed to fetch",A=!0),A&&(h=s.getLocationOrigin(),a.RestCallLogger.logError({method:a.RestCallMethodNames[n.method],staticMessage:c,clientRequestId:n.headers["x-ms-client-request-id"],urlBase:h,urlPath:e.substring(h.length+1),statusCode:i?i.status:void 0,message:i?i.statusText:void 0,error:p})),i&&i.status<500?u(p):o=m.retry(o,p,l,e,n,u,t),[3,4];case 4:return[2]}}))}))}))},m.fetchWithTimeout=function(e,t){return i(this,void 0,Promise,(function(){var n,i;return r(this,(function(r){return n=fetch(e,t),i=new Promise((function(e,t){return setTimeout((function(){return t(new Error("Timeout"))}),15e3)})),[2,Promise.race([n,i])]}))}))},m.handleResponse=function(e,t){return i(this,void 0,Promise,(function(){var n,i,o;return r(this,(function(r){switch(r.label){case 0:return e.ok?!(n=e.headers.get("content-type"))||-1===n.indexOf("application/json")&&-1===n.indexOf("text/html")?[3,2]:[4,e.json()]:[3,6];case 1:if(i=r.sent(),c.validate(i,t))return[2,i];throw new TypeError("Malformed. Response validation failed");case 2:return n&&-1!==n.indexOf("application/octet-stream")?[4,e.text()]:[3,4];case 3:return[2,o=r.sent()];case 4:if(c.validate(void 0,t))return[2,void 0];throw new TypeError("Malformed. Response had content-type: '"+n+"', expected "+t.type);case 5:return[3,11];case 6:o=void 0,r.label=7;case 7:return r.trys.push([7,9,,10]),[4,e.json()];case 8:return o=r.sent(),[3,10];case 9:return r.sent(),o={},[3,10];case 10:throw{status:e.status,statusText:e.statusText,headers:e.headers,data:o};case 11:return[2]}}))}))},m.retry=function(e,t,n,i,r,o,s){return e<3?(e++,setTimeout((function(){n(m.executeWithRetry(i,s,r,e))}),200*Math.pow(2,e))):o(t),e},m.generateGuid=function(){return u.v4()},m);function m(){}t.RestService=A},"./node_modules/@msstream/services-rest/src/Rest.types.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/@msstream/services-rest/src/UrlFormatter.ts":function(e,t){var n,i;function r(e){return e&&e.length?e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():""}function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}Object.defineProperty(t,"__esModule",{value:!0}),(i=n=t.internal||(t.internal={})).lookupDottedPath=function(e,t){try{return""+(t||"").split(".").reduce((function(e,t){return e[t]}),e)}catch(e){return""}},i.getQueryString=function(e){return Object.keys(e).map((function(t){return o(r(t))+"="+o(e[t])})).join("&")},i.camelCaseToHypens=r,i.encodeUri=function(e){return encodeURI(e).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+").replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")},i.encodeQueryStringComponent=o,t.formatUrl=function(e,t,i,r){i=i||{},r=r||{};var o=[e,t].filter((function(e){return e.length})).join("/"),s={id:"",apiVersion:""},a=o.replace(/:(\w+?)(\W|$)/g,(function(e,t,o){if(!i[t])return""+o;var a=i[t];return"string"==typeof a&&"@"===a[0]&&(a=n.lookupDottedPath(r||{},a)),"function"==typeof a&&(a=a()),(s[t]=a)+o})),c={};Object.keys(i).forEach((function(e){s[e]||(c[e]="function"==typeof i[e]?i[e]():i[e])})),a=a.split("://").map((function(e){return e.replace(/[\/]{2,}/g,"/")})).join("://"),a=n.encodeUri(a);var l=n.getQueryString(c);return l&&(a=a+(/\?/.test(a)?"&":"?")+l),a}},"./node_modules/@msstream/services-rest/src/index.ts":function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@msstream/services-rest/src/Rest.ts");t.RestService=i.RestService;var r=n("./node_modules/@msstream/services-rest/src/Rest.types.ts");t.RequestBody=r.RequestBody,t.IRequestParameters=r.IRequestParameters;var o=n("./node_modules/@msstream/services-rest/src/Constants.ts");t.QueryConfigDefaults=o.QueryConfigDefaults,t.QueryParams=o.QueryParams},"./node_modules/@msstream/services-tenant/src/Constants.ts":function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AssetPaths={Tenant:"/tenants/:id"},t.TenantActions={Settings:"settings"},t.CacheSettings={BucketName:"Tenant",GetSettingsKey:"TenantSettings",GetSettingsLifetimeMinutes:720,PatchTenantKey:"TenantPatch",PatchTenantLifetimeMinutes:720},t.MaxTenantPatchRetries=10,t.DefaultRetryAfterInSeconds=15,(n=t.Status||(t.Status={}))[n.TooManyRequests=429]="TooManyRequests",n[n.ServiceUnavailable=503]="ServiceUnavailable"},"./node_modules/@msstream/services-tenant/src/ITenant.ts":function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.TenantPatchState||(t.TenantPatchState={}))[n.Success=0]="Success",n[n.ThrottleFailed=1]="ThrottleFailed",n[n.Throttled=2]="Throttled"},"./node_modules/@msstream/services-tenant/src/Tenant.ts":function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n=n||Promise)((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=0<(r=o.trys).length&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/@msstream/services-rest/src/index.ts"),s=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),a=n("./node_modules/@msstream/utilities-type-safety/esm/index.js"),c=n("./node_modules/lscache/lscache.js"),l=n("./node_modules/@msstream/services-tenant/src/Constants.ts"),u=n("./node_modules/@msstream/services-tenant/src/ITenant.ts"),d=(p.prototype.getApiVersion=function(){return this.tenantServiceApiVersion},p.prototype.hasTenantPatchThrottleFailed=function(){return this.tenantPatchThrottleFailed},p.prototype.getSettings=function(e,t){return void 0===t&&(t=!1),i(this,void 0,Promise,(function(){var n,i,u,d,p,A;return r(this,(function(r){switch(r.label){case 0:return n=null,t||(c.setBucket(e.hashedId),i=c.get(l.CacheSettings.GetSettingsKey),a.validate(i,a.rtt.object({}))&&(n=i)),n?[3,2]:(u={id:e.tenantId,apiVersion:this.tenantServiceApiVersion},d=e.apiGatewayUrl,p=l.AssetPaths.Tenant+"/"+l.TenantActions.Settings,[4,o.RestService.getWithCorsSupport(d,p,u,e.generateHeaders(),a.rtt.object({})).catch((function(e){return s.RestCallLogger.logError({method:s.RestCallMethodNames.GET,staticMessage:"Tenant.getSettings",urlBase:d,urlPath:p,error:e}),Promise.reject(e)}))]);case 1:A=r.sent(),t||c.set(l.CacheSettings.GetSettingsKey,A,l.CacheSettings.GetSettingsLifetimeMinutes),n=A,r.label=2;case 2:return[2,n]}}))}))},p.prototype.patchTenant=function(e,t,n){return void 0===n&&(n=!1),i(this,void 0,Promise,(function(){var i,d,p,m,h,f,g,v,y,S,b;return r(this,(function(r){switch(r.label){case 0:if(i=a.rtt.object({apiEndpoint:a.rtt.string,dataLocation:a.rtt.string,id:a.rtt.string,notificationEndpoint:a.rtt.string,region:a.rtt.string,state:a.rtt.string}),this.tenantPatchThrottleFailed=!1,d=null,n||(c.setBucket(e.hashedId),p=c.get(l.CacheSettings.PatchTenantKey),a.validate(p,i)&&(d=p)),d)return[3,8];m={id:e.tenantId,apiVersion:this.tenantServiceApiVersion},h=this.tenantServiceUrl,f="api"+l.AssetPaths.Tenant,g=null,v=0,y=!1,r.label=1;case 1:if(y||!(v<l.MaxTenantPatchRetries))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,o.RestService.patch(h,f,m,{},e.generateHeaders(),i)];case 3:return g=r.sent(),d=g,y=!0,[3,6];case 4:return S=r.sent(),s.RestCallLogger.logError({method:s.RestCallMethodNames.PATCH,staticMessage:"Tenant.patchTenant",urlBase:h,urlPath:f,error:S}),S.status!==l.Status.TooManyRequests&&S.status!==l.Status.ServiceUnavailable?[2,Promise.reject(S)]:(1==++v&&t&&t(u.TenantPatchState.Throttled),b=void 0,S.headers&&(b=S.headers.get("retry-after")),b=b||l.DefaultRetryAfterInSeconds,[4,A(1e3*b)]);case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:if(!y)return s.RestCallLogger.logError({method:s.RestCallMethodNames.PATCH,staticMessage:"Tenant.patchTenant exceeded maximum number of retries",urlBase:h,urlPath:f}),this.tenantPatchThrottleFailed=!0,t&&t(u.TenantPatchState.ThrottleFailed),[2,Promise.reject("Maximum number of retries exceeded")];n||c.set(l.CacheSettings.PatchTenantKey,d,l.CacheSettings.PatchTenantLifetimeMinutes),r.label=8;case 8:return t&&t(u.TenantPatchState.Success),[2,d]}}))}))},p.prototype.getSdnSettingsIfSupported=function(e){return i(this,void 0,Promise,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.getSettings(e)];case 1:return(t=n.sent())&&t.system&&t.system.networkCaching&&t.system.networkCaching.provider&&t.system.networkCaching.licenseId?[2,t.system.networkCaching]:[2,void 0];case 2:return n.sent(),[2,void 0];case 3:return[2]}}))}))},p);function p(e,t){this.tenantServiceUrl=e,this.tenantServiceApiVersion=t,this.tenantPatchThrottleFailed=!1,c.enableWarnings(!0),c.flushExpired()}t.TenantService=d;var A=function(e){return new Promise((function(t){return setTimeout(t,e)}))}},"./node_modules/@msstream/services-tenant/src/Tenant.types.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/@msstream/services-tenant/src/index.ts":function(e,t,n){function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n("./node_modules/@msstream/services-tenant/src/ITenant.ts"));var r=n("./node_modules/@msstream/services-tenant/src/Tenant.ts");t.TenantService=r.TenantService,i(n("./node_modules/@msstream/services-tenant/src/Tenant.types.ts"))},"./node_modules/@msstream/shared-services/dist/Browser/BrowserTiming.td.js":function(e,t,n){"use strict";var i,r;n.r(t),n.d(t,"BrowserTimingMethod",(function(){return i})),(r=i=i||{}).PerformanceNavigationTiming="PerformanceNavigationTiming",r.NavigationTiming="NavigationTiming",r.Estimated="Estimated"},"./node_modules/@msstream/shared-services/dist/Browser/BrowserUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"isLocalStorageSupported",(function(){return o})),n.d(t,"generateSmallId",(function(){return s})),n.d(t,"isCookiesSupported",(function(){return a})),n.d(t,"isIOS",(function(){return c})),n.d(t,"isIphone",(function(){return l})),n.d(t,"isEmbedded",(function(){return u})),n.d(t,"isMinimumVersionInstalled",(function(){return d})),n.d(t,"isIE",(function(){return p})),n.d(t,"isUnsupportedFlashVersionInstalled",(function(){return A})),n.d(t,"getLocationOrigin",(function(){return m})),n.d(t,"getBrowserTiming",(function(){return h})),n.d(t,"ensureLocalStorageIsSynced",(function(){return f})),n.d(t,"trapFocusInElement",(function(){return g})),n.d(t,"getBrowserLanguages",(function(){return v})),n.d(t,"createEventTarget",(function(){return y}));var i=n("./node_modules/@msstream/shared-services/dist/Browser/BrowserTiming.td.js"),r=n("./node_modules/@msstream/shared-services/dist/Browser/Constants/index.js"),o=function(){try{var e=window.localStorage;return void 0!==e&&(e.setItem("key","value"),e.removeItem("key"),!0)}catch(e){return!1}};function s(){for(var e="0123456789abcdefghijklmnopqrstuvwxyz",t="A",n=0;n<10;n++)t+=e[Math.floor(Math.random()*e.length)];return t}function a(){try{var e,t="__cookie_test_key__",n="secure; samesite=none";return document.cookie=t+"=1; "+n,document.cookie=t+"=1",e=-1!==document.cookie.indexOf(t),document.cookie=t+"=1;  expires=Thu, 01-Jan-1970 00:00:01 GMT; "+n,document.cookie=t+"=1;  expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}}function c(e){if(window.MSStream)return!1;if(!/iPad|iPhone|iPod/.test(navigator.userAgent)||window.MSStream)return!1;if(e){var t=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);return!!t&&d([parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||"0",10)].join("."),e)}return!0}function l(){return/iPhone/.test(navigator.userAgent)&&!window.MSStream}var u=function(){try{return window.top!==window.self}catch(e){return!0}};function d(e,t){for(var n=e.split("."),i=t.split("."),r=Math.max(n.length,i.length),o=0;o<r;o++){var s=parseInt(n[o],10)||0,a=parseInt(i[o],10)||0;if(a<s)return!0;if(s<a)return!1}return!0}function p(){return/msie\s|trident\/|edge\//i.test(window.navigator.userAgent)&&!!(document.uniqueID||document.documentMode||window.ActiveXObject||window.MSInputMethodContext)}function A(e){return!(!e||!0!==d(e,"30")||!1!==d(e,"30.0.0.154"))}function m(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function h(){if(window.performance&&window.performance.measure){window.performance.measure("MsSinceNavigationStart");var e=window.performance.getEntriesByName("MsSinceNavigationStart","measure");if(1===e.length)return window.performance.clearMeasures("MsSinceNavigationStart"),{Method:i.BrowserTimingMethod.PerformanceNavigationTiming,MsSinceNavigationStart:e[0].duration}}return window.performance&&window.performance.timing?{Method:i.BrowserTimingMethod.NavigationTiming,MsSinceNavigationStart:Date.now()-window.performance.timing.navigationStart}:window.estimatedNavigationStartTime?{Method:i.BrowserTimingMethod.Estimated,MsSinceNavigationStart:Date.now()-window.estimatedNavigationStartTime.getTime()}:void 0}function f(){var e=window.localStorage;void 0!==e&&p()&&e.setItem("bugfix_forceSync",Date.now().toString())}function g(e,t){var n,i;"Tab"===t.code&&(n=e.querySelectorAll(r.focusableElements.join(", ")),i=document.activeElement,t.shiftKey&&i===n[0]?(t.preventDefault(),n[n.length-1].focus()):t.shiftKey||i!==n[n.length-1]||(t.preventDefault(),n[0].focus()))}function v(){return navigator.languages||[navigator.language]}function y(){try{return new EventTarget}catch(e){return document.createElement("div")}}window.estimatedNavigationStartTime||(window.estimatedNavigationStartTime=new Date)},"./node_modules/@msstream/shared-services/dist/Browser/Constants/browserConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,"focusableElements",(function(){return i}));var i=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])']},"./node_modules/@msstream/shared-services/dist/Browser/Constants/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/shared-services/dist/Browser/Constants/browserConstants.js");n.d(t,"focusableElements",(function(){return i.focusableElements}))},"./node_modules/@msstream/shared-services/dist/Browser/CustomPolyfill.js":function(e,t,n){"use strict";function i(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}function r(){"function"!=typeof window.CustomEvent&&(window.CustomEvent=i),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e,t){if(null==this)throw TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if("function"!=typeof e)throw TypeError("predicate must be a function");for(var r=t,o=0;o<i;){var s=n[o];if(e.call(r,s,o,n))return s;o++}},configurable:!0,writable:!0}),Element.prototype.hasOwnProperty("remove")||Object.defineProperty(Element.prototype,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})}n.r(t),n.d(t,"applyCustomPolyfills",(function(){return r}))},"./node_modules/@msstream/shared-services/dist/Browser/StorageLock.js":function(e,t,n){"use strict";n.r(t),n.d(t,"keepAliveMs",(function(){return r})),n.d(t,"LocalStorageLock",(function(){return o}));var i=n("./node_modules/@msstream/shared-services/dist/Browser/BrowserUtils.js"),r=2500,o=(Object.defineProperty(s.prototype,"itemName",{get:function(){return"_lslock::"+this.lockId},enumerable:!0,configurable:!0}),s.prototype.lock=function(){return!i.isLocalStorageSupported()||!this.isHeld()&&this.touchLock()},s.prototype.released=function(){var e=this;return i.isLocalStorageSupported()?Promise.resolve():new Promise((function(t){var n=setInterval((function(){e.isHeld()||(clearInterval(n),t())}),500)}))},s.prototype.isMine=function(){return void 0!==this.keepAliveTimerId},s.prototype.unlock=function(){i.isLocalStorageSupported()&&this.keepAliveTimerId&&(this.cancelKeepAliveTimer(),s.storage.removeItem(this.itemName))},s.prototype.isHeld=function(){i.ensureLocalStorageIsSynced();var e=s.storage.getItem(this.itemName);if(e){var t=Number(e);return!isNaN(t)&&Date.now()-t<=r}return!1},s.prototype.touchLock=function(){try{s.storage.setItem(this.itemName,Date.now().toString())}catch(e){return!1}return this.scheduleNextTouchLock(),!0},s.prototype.scheduleNextTouchLock=function(){var e=this;this.cancelKeepAliveTimer(),this.keepAliveTimerId=window.setTimeout((function(){e.touchLock()}),r/2)},s.prototype.cancelKeepAliveTimer=function(){this.keepAliveTimerId&&(clearTimeout(this.keepAliveTimerId),this.keepAliveTimerId=void 0)},s.storage=i.isLocalStorageSupported()?window.localStorage:null,s);function s(e){this.lockId=e,this.keepAliveTimerId=void 0}},"./node_modules/@msstream/shared-services/dist/Browser/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/shared-services/dist/Browser/BrowserUtils.js");n.d(t,"isLocalStorageSupported",(function(){return i.isLocalStorageSupported})),n.d(t,"generateSmallId",(function(){return i.generateSmallId})),n.d(t,"isCookiesSupported",(function(){return i.isCookiesSupported})),n.d(t,"isIOS",(function(){return i.isIOS})),n.d(t,"isIphone",(function(){return i.isIphone})),n.d(t,"isEmbedded",(function(){return i.isEmbedded})),n.d(t,"isMinimumVersionInstalled",(function(){return i.isMinimumVersionInstalled})),n.d(t,"isIE",(function(){return i.isIE})),n.d(t,"isUnsupportedFlashVersionInstalled",(function(){return i.isUnsupportedFlashVersionInstalled})),n.d(t,"getLocationOrigin",(function(){return i.getLocationOrigin})),n.d(t,"getBrowserTiming",(function(){return i.getBrowserTiming})),n.d(t,"ensureLocalStorageIsSynced",(function(){return i.ensureLocalStorageIsSynced})),n.d(t,"trapFocusInElement",(function(){return i.trapFocusInElement})),n.d(t,"getBrowserLanguages",(function(){return i.getBrowserLanguages})),n.d(t,"createEventTarget",(function(){return i.createEventTarget}));var r=n("./node_modules/@msstream/shared-services/dist/Browser/BrowserTiming.td.js");n.d(t,"BrowserTimingMethod",(function(){return r.BrowserTimingMethod}));var o=n("./node_modules/@msstream/shared-services/dist/Browser/StorageLock.js");n.d(t,"keepAliveMs",(function(){return o.keepAliveMs})),n.d(t,"LocalStorageLock",(function(){return o.LocalStorageLock}));var s=n("./node_modules/@msstream/shared-services/dist/Browser/CustomPolyfill.js");n.d(t,"applyCustomPolyfills",(function(){return s.applyCustomPolyfills}))},"./node_modules/@msstream/shared-services/dist/FilterService/TenantFilterService.js":function(e,t,n){"use strict";n.r(t),n.d(t,"TenantFilterService",(function(){return i}));var i=(r.prototype.getTenantFilterRedirect=function(e){return e&&!1!==this.shouldRedirect(e)?this.getRedirectUrl():null},r.prototype.shouldRedirect=function(e){if(!this.TenantFilterRedirectUrl)return!1;if(this.queryStringBypassStrings.some((function(e){return new RegExp(e,"i").test(window.location.search)})))return!1;var t=this.isTenantAllowed(e),n=this.isTenantDisallowed(e);return!t||n},r.prototype.isTenantAllowed=function(e){return!this.AllowedTenants||0===this.AllowedTenants.length||-1<this.AllowedTenants.indexOf(e)},r.prototype.isTenantDisallowed=function(e){return this.DisallowedTenants&&-1<this.DisallowedTenants.indexOf(e)},r.prototype.getRedirectUrl=function(){return this.TenantFilterRedirectUrl+window.location.pathname},r);function r(e,t,n,i){void 0===i&&(i=[]),this.TenantFilterRedirectUrl=e,this.AllowedTenants=t,this.DisallowedTenants=n,this.queryStringBypassStrings=i,this.queryStringBypassStrings.push("bypass_tenant_redirect")}},"./node_modules/@msstream/shared-services/dist/FilterService/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/shared-services/dist/FilterService/TenantFilterService.js");n.d(t,"TenantFilterService",(function(){return i.TenantFilterService}))},"./node_modules/@msstream/shared-services/dist/Math/Math.js":function(e,t,n){"use strict";function i(e,t,n){return void 0===n&&(n=.001),Math.abs(e*t/r(e,t,n))}function r(e,t,n){return void 0===n&&(n=.001),e<t?r(t,e):Math.abs(t)<n?e:r(t,e-Math.floor(e/t)*t,n)}n.r(t),n.d(t,"lcm_f",(function(){return i})),n.d(t,"gcd_f",(function(){return r}))},"./node_modules/@msstream/shared-services/dist/Math/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/shared-services/dist/Math/Math.js");n.d(t,"lcm_f",(function(){return i.lcm_f})),n.d(t,"gcd_f",(function(){return i.gcd_f}))},"./node_modules/@msstream/shared-services/dist/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/shared-services/dist/Browser/index.js");n.d(t,"isLocalStorageSupported",(function(){return i.isLocalStorageSupported})),n.d(t,"generateSmallId",(function(){return i.generateSmallId})),n.d(t,"isCookiesSupported",(function(){return i.isCookiesSupported})),n.d(t,"isIOS",(function(){return i.isIOS})),n.d(t,"isIphone",(function(){return i.isIphone})),n.d(t,"isEmbedded",(function(){return i.isEmbedded})),n.d(t,"isMinimumVersionInstalled",(function(){return i.isMinimumVersionInstalled})),n.d(t,"isIE",(function(){return i.isIE})),n.d(t,"isUnsupportedFlashVersionInstalled",(function(){return i.isUnsupportedFlashVersionInstalled})),n.d(t,"getLocationOrigin",(function(){return i.getLocationOrigin})),n.d(t,"getBrowserTiming",(function(){return i.getBrowserTiming})),n.d(t,"ensureLocalStorageIsSynced",(function(){return i.ensureLocalStorageIsSynced})),n.d(t,"trapFocusInElement",(function(){return i.trapFocusInElement})),n.d(t,"getBrowserLanguages",(function(){return i.getBrowserLanguages})),n.d(t,"createEventTarget",(function(){return i.createEventTarget})),n.d(t,"BrowserTimingMethod",(function(){return i.BrowserTimingMethod})),n.d(t,"keepAliveMs",(function(){return i.keepAliveMs})),n.d(t,"LocalStorageLock",(function(){return i.LocalStorageLock})),n.d(t,"applyCustomPolyfills",(function(){return i.applyCustomPolyfills}));var r=n("./node_modules/@msstream/shared-services/dist/Math/index.js");n.d(t,"lcm_f",(function(){return r.lcm_f})),n.d(t,"gcd_f",(function(){return r.gcd_f}));var o=n("./node_modules/@msstream/shared-services/dist/FilterService/index.js");n.d(t,"TenantFilterService",(function(){return o.TenantFilterService}))},"./node_modules/@msstream/utilities-icons/esm/IconNames.js":function(e,t,n){"use strict";var i,r;n.r(t),n.d(t,"StreamIconNames",(function(){return i})),(r=i=i||{}).Webcam2Off="Webcam2Off",r.Hamburger="Hamburger",r.Wifi="Wifi",r.ChevronDown="ChevronDown",r.ChevronUp="ChevronUp",r.Edit="Edit",r.Add="Add",r.Cancel="Cancel",r.More="More",r.Settings="Settings",r.Video="Video",r.Mail="Mail",r.People="People",r.Filter="Filter",r.Microphone="Microphone",r.Search="Search",r.Camera="Camera",r.Send="Send",r.SendFill="SendFill",r.FavoriteList="FavoriteList",r.Refresh="Refresh",r.Share="Share",r.FavoriteStar="FavoriteStar",r.FavoriteStarFill="FavoriteStarFill",r.CheckMark="CheckMark",r.BackToWindow="BackToWindow",r.FullScreen="FullScreen",r.Delete="Delete",r.Mute="Mute",r.Volume="Volume",r.Play="Play",r.Pause="Pause",r.ChevronLeft="ChevronLeft",r.ChevronRight="ChevronRight",r.Smile="Emoji2",r.Globe="Globe",r.Contact="Contact",r.MegaPhone="MegaPhone",r.Trim="Trim",r.Undo="Undo",r.LiveView="RedEye",r.Warning="Warning",r.BrowsePhotos="BrowsePhotos",r.CircleFill="Record",r.Admin="Admin",r.CC="CC",r.Home="Home",r.Recent="Recent",r.View="View",r.Clear="Clear",r.Download="Download",r.Help="Help",r.Upload="Upload",r.OpenInNewWindow="OpenInNewWindow",r.ChromeClose="ChromeClose",r.BlockContact="BlockContact",r.AddFriend="AddFriend",r.Group="Group",r.Comment="Comment",r.Completed="Completed",r.Streaming="Streaming",r.PlaylistMusic="PlaylistMusic",r.Info="Info",r.Webcam2="Webcam2",r.ChevronLeftSmall="ChevronLeftSmall",r.ChevronRightSmall="ChevronRightSmall",r.Volume1="Volume1",r.Volume2="Volume2",r.LockSolid="LockSolid",r.Ribbon="Ribbon",r.LineChart="LineChart",r.Equalizer="Equalizer",r.CircleRing="Record2",r.HelpMirrored="HelpMirrored",r.HomeSolid="HomeSolid",r.Ringer="Ringer",r.AddToPlaylist="AddToShoppingList",r.CirclePlay="MSNVideos",r.Like="Heart",r.Unlike="HeartFill",r.CloudDownload="CloudDownload",r.MicOff="MicOff",r.CloudUpload="CloudUpload",r.Embed="Embed",r.YammerLogo="YammerLogo",r.Hide="Hide",r.SeekBack10="SeekBack10",r.SeekForward30="SeekForward30",r.PeopleBlock="PeopleBlock",r.ShareiOS="ShareiOS",r.Speech="Speech",r.ScreenPreviewOn="ScreenPreviewOn",r.StatusCircleCheckmark="StatusCircleCheckmark",r.StatusCircleBlock="StatusCircleBlock",r.PIP="PIP",r.TwoKeys="TwoKeys",r.MoreVertical="MoreVertical",r.StreamLogo="StreamLogo",r.VideoOff="VideoOff",r.WebPublish="WebPublish",r.PlaySolid="PlaySolid",r.Leave="Leave",r.RedEyeAdd="RedEyeAdd",r.Hide3="Hide3",r.MicOff2="MicOff2",r.VideoInfo="VideoInfo",r.RemoveFromPlaylist="RemoveFromShoppingList",r.VideoRemove="VideoRemove",r.SheildAlert="SheildAlert",r.DashProgressRing="DashProgressRing",r.StreamDiscover="StreamDiscover",r.VideoCapture="VideoCapture",r.TranscriptSearch="TranscriptSearch",r.VideoInteractive="VideoInteractive",r.SpeechOff="SpeechOff",r.ErrorBadge="ErrorBadge",r.OfficeFormsLogo="OfficeFormsLogo"},"./node_modules/@msstream/utilities-icons/esm/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"init",(function(){return o}));var i=n("./node_modules/@msstream/utilities-icons/esm/stream-subset/src/stream-icons.js"),r=n("./node_modules/@msstream/utilities-icons/esm/IconNames.js");function o(){Object(i.initializeIcons)()}n.d(t,"StreamIconNames",(function(){return r.StreamIconNames}))},"./node_modules/@msstream/utilities-icons/esm/stream-subset/src/stream-icons.js":function(e,t,n){"use strict";n.r(t),n.d(t,"initializeIcons",(function(){return r}));var i=n("./node_modules/@uifabric/styling/lib/index.js");function r(e){var t={style:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontStyle:"normal",fontWeight:"normal",speak:"none"},fontFace:{fontFamily:'"StreamMDL2Icons"',src:"url('"+n("./node_modules/@msstream/utilities-icons/fonts/StrmMDL2.woff")+"') format('woff')"},icons:{Webcam2Off:"",Hamburger:"",Wifi:"",ChevronDown:"",ChevronUp:"",Edit:"",Add:"",Cancel:"",More:"",Settings:"",Video:"",Mail:"",People:"",Filter:"",Microphone:"",Search:"",Camera:"",Send:"",SendFill:"",FavoriteList:"",Refresh:"",Share:"",FavoriteStar:"",FavoriteStarFill:"",CheckMark:"",BackToWindow:"",FullScreen:"",Delete:"",Mute:"",Volume:"",Play:"",Pause:"",ChevronLeft:"",ChevronRight:"",Emoji2:"",Globe:"",Contact:"",MegaPhone:"",Trim:"",Undo:"",RedEye:"",Warning:"",BrowsePhotos:"",Record:"",Admin:"",CC:"",Home:"",Recent:"",View:"",Clear:"",Download:"",Help:"",Upload:"",OpenInNewWindow:"",ChromeClose:"",BlockContact:"",AddFriend:"",Group:"",Comment:"",Completed:"",Streaming:"",PlaylistMusic:"",Info:"",Webcam2:"",ChevronLeftSmall:"",ChevronRightSmall:"",Volume1:"",Volume2:"",LockSolid:"",Ribbon:"",LineChart:"",Equalizer:"",Record2:"",HelpMirrored:"",HomeSolid:"",Ringer:"",AddToShoppingList:"",MSNVideos:"",Heart:"",HeartFill:"",CloudDownload:"",MicOff:"",CloudUpload:"",Embed:"",YammerLogo:"",Hide:"",SeekBack10:"",SeekForward30:"",PeopleBlock:"",ShareiOS:"",Speech:"",ScreenPreviewOn:"",StatusCircleCheckmark:"",StatusCircleBlock:"",PIP:"",TwoKeys:"",MoreVertical:"",StreamLogo:"",VideoOff:"",OfficeFormsLogo:"",WebPublish:"",PlaySolid:"",Leave:"",RedEyeAdd:"",Hide3:"",MicOff2:"",VideoInfo:"",RemoveFromShoppingList:"",VideoRemove:"",SheildAlert:"",DashProgressRing:"",StreamDiscover:"",VideoCapture:"",TranscriptSearch:"",VideoInteractive:"",SpeechOff:"",ErrorBadge:""}};Object(i.registerIcons)(t,e)}},"./node_modules/@msstream/utilities-icons/fonts/StrmMDL2.woff":function(e,t,n){e.exports=n.p+"bundles/app/generated/StrmMDL2.woff"},"./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Groupings/Components.td.js":function(e,t,n){"use strict";var i,r,o,s,a,c,l;n.r(t),n.d(t,"ReactComponents",(function(){return i})),n.d(t,"AngularComponents",(function(){return o})),n.d(t,"ThinEmbedComponents",(function(){return s})),n.d(t,"ApplicationComponents",(function(){return a})),n.d(t,"PortalComponents",(function(){return c})),(r=i=i||{}).CapturePanel="CapturePanel",r.EditPanel="EditPanel",r.EmbedVideo="EmbedVideo",r.FakePlayer="FakePlayer",r.Forms="Forms",r.MediaPlayerContainer="MediaPlayerContainer",r.O365Groups="O365Groups",r.Playlist="Playlist",r.ReportIssue="ReportIssue",r.SingleVideo="SingleVideo",r.Transcript="Transcript",r.WatchNext="WatchNext",r.UploadPanel="UploadPanel",r.VideoMetaOverlay="VideoMetaOverlay",r.VideoAnalytics="VideoAnalytics",r.WaffleBar="WaffleBar",r.ShareDialog="ShareDialog",(o=o||{}).TopBar="TopBar",(s=s||{}).ThinEmbedVideoPlayer="ThinEmbedVideoPlayer",(a=a||{}).ScreenRecorder="ScreenRecorder",(l=c=c||{}).Comments="Comments",l.SidebarMenu="SidebarMenu",l.AddToGroupsAndChannels="AddToGroupsAndChannels",l.Yammer="Yammer",l.NavBar="NavBar"},"./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Groupings/Features.td.js":function(e,t,n){"use strict";var i,r;n.r(t),n.d(t,"FeatureNames",(function(){return i})),(r=i=i||{}).Navigation="Navigation",r.Sharing="Sharing",r.Telemetry="Telemetry",r.FeatureFlagsFactory="FeatureFlagsFactory",r.VideoPlayback="VideoPlayback",r.ProducerPlayback="ProducerPlayback",r.LivePlayback="LivePlayback",r.Forms="Forms",r.Search="Search",r.Transcript="Transcript",r.Playlist="Playlist",r.SessionManager="SessionManager",r.InjectedAuth="InjectedAuth",r.Chaptering="Chaptering"},"./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Groupings/Scenarios.td.js":function(e,t,n){"use strict";var i;n.r(t),n.d(t,"SESHVetoes",(function(){return i})),(i=i||{}).SESH_test1="SESH_test1"},"./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/InjectedAuthPayloads.td.js":function(e,t,n){"use strict";var i,r;n.r(t),n.d(t,"InjectedAuthErrorStrings",(function(){return i})),(r=i=i||{}).ConnectionFailed="Post message connection to host failed",r.GatewayTokenFailed="Getting API gateway token failed",r.HostAuthTokenFailed="Host unable to provide token for Stream",r.ExchangeTokenFailed="Stream exchange token for service using webrole failed",r.NoTenandId="No tenant ID present on the user claim from the server token",r.NoUserId="No user ID present on the user information from the server token"},"./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/LocaleHelperPayloads.td.js":function(e,t,n){"use strict";var i,r;n.r(t),n.d(t,"LocaleRetrievalMethod",(function(){return i})),(r=i=i||{}).QueryString="query string",r.Cookie="cookie",r.Principal="principal",r.BrowserLanguages="browser languages",r.Default="default english"},"./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/O365GroupsPayloads.td.js":function(e,t,n){"use strict";var i,r;n.r(t),n.d(t,"O365GroupsUserActionResults",(function(){return i})),(r=i=i||{}).Success="Success",r.Failure="Failure",r.Dismissed="Dismissed"},"./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/Playback/PlaybackPayloads.td.js":function(e,t,n){"use strict";var i,r,o,s,a,c;n.r(t),n.d(t,"PlaybackErrorPrefix",(function(){return i})),n.d(t,"PlaybackErrorType",(function(){return o})),n.d(t,"VideoStateChangeDetectionMethod",(function(){return a})),(r=i=i||{}).VideoPlayback="VideoPlayback_",r.LivePlayback="LivePlayback_",(s=o=o||{}).KeyAcquireError="KeyAcquireError",s.NetworkTimeoutError="NetworkTimeoutError",s.SegmentDecryptError="SegmentDecryptError",s.MediaAbortedError="MediaAbortedError",s.ClientNetworkError="ClientNetworkError",s.ServerNetworkError="ServerNetworkError",s.GenericNetworkError="GenericNetworkError",s.NoInternetConnectionError="NoInternetConnectionError",s.AESDecodeError="AESDecodeError",s.SourceNotSupportedError="SourceNotSupportedError",s.GenericDecryptError="GenericDecryptError",s.PlayerMismatchError="PlayerMismatchError",s.UnknownError="UnknownError",(c=a=a||{}).ManifestAvailable="ManifestAvailable",c.SignalRNotification="SignalRNotification",c.PollVideoService="PollVideoService",c.PlayerEvent="PlayerEvent"},"./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/PortalPayloads.td.js":function(e,t,n){"use strict";var i,r;n.r(t),n.d(t,"PortalTelemetryPayloadNames",(function(){return i})),(r=i=i||{}).CommentUserActionPayload="CommentUserActionPayload",r.SidebarUserActionPayload="SidebarUserActionPayload"},"./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/SessionManagerPayloads.td.js":function(e,t,n){"use strict";var i,r;n.r(t),n.d(t,"TelemetryAuthResult",(function(){return i})),(r=i=i||{}).SessionValid="SessionValid",r.AdalSuccess="AdalSuccess",r.InjectedSuccess="InjectedSuccess",r.SubscribeSuccess="SubscribeSuccess",r.LoginRequired="LoginRequired",r.Failed="Failed",r.SubscribeTimeout="SubscribeTimeout"},"./node_modules/@msstream/utilities-telemetry/esm/contexts/StandardContexts.js":function(e,t,n){"use strict";n.r(t),n.d(t,"standardContextVersion",(function(){return i}));var i="2.3"},"./node_modules/@msstream/utilities-telemetry/esm/contexts/ViewContext.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ViewContext",(function(){return r}));var i=n("./node_modules/@msstream/utilities-telemetry/esm/utils/UtilEvent.js"),r=function(e,t){this.viewName=e,this.details=t,this.url=Object(i.getUrl)()}},"./node_modules/@msstream/utilities-telemetry/esm/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/utilities-telemetry/esm/services/LoggingService.js");n.d(t,"LoggingService",(function(){return i.LoggingService}));var r=n("./node_modules/@msstream/utilities-telemetry/esm/loggers/LoggerFactory.js");n.d(t,"createOneDSLogger",(function(){return r.createOneDSLogger})),n.d(t,"createConsoleLogger",(function(){return r.createConsoleLogger}));var o=n("./node_modules/@msstream/utilities-telemetry/esm/loggers/OneDSLogger.js");n.d(t,"OneDSLogger",(function(){return o.OneDSLogger}));var s=n("./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/Logging.types.js");n.d(t,"BasePayloadTypeNames",(function(){return s.BasePayloadTypeNames}));var a=n("./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/LegacyLogging/LegacyLogging.js");n.d(t,"LegacyLogging",(function(){return a.LegacyLogging}));var c=n("./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/ErrorAlertLogging/ErrorAlertLogging.js");n.d(t,"ErrorAlertLogging",(function(){return c.ErrorAlertLogging}));var l=n("./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/ErrorAlertLogging/ErrorAlertLogging.types.js");n.d(t,"ErrorMessageStatus",(function(){return l.ErrorMessageStatus})),n.d(t,"StackTraceStatus",(function(){return l.StackTraceStatus})),n.d(t,"ErrorAlertType",(function(){return l.ErrorAlertType}));var u=n("./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/PerformanceLogging/PerformanceLogging.js");n.d(t,"PerformanceLogging",(function(){return u.PerformanceLogging}));var d=n("./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/ApplicationLogicLogging/ApplicationLogicLogging.js");n.d(t,"ApplicationLogicLogging",(function(){return d.ApplicationLogicLogging}));var p=n("./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/TraceLogging/TraceLogging.js");n.d(t,"MaxTraceMessageLength",(function(){return p.MaxTraceMessageLength})),n.d(t,"TraceLogging",(function(){return p.TraceLogging}));var A=n("./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/UserActionLogging/UserActionLogging.js");n.d(t,"UserActionLogging",(function(){return A.UserActionLogging}));var m=n("./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/UserActionLogging/UserActionLogging.types.js");n.d(t,"ActionType",(function(){return m.ActionType}));var h=n("./node_modules/@msstream/utilities-telemetry/esm/utils/UtilEvent.js");n.d(t,"replaceInvalidFields",(function(){return h.replaceInvalidFields})),n.d(t,"getChildrenProperties",(function(){return h.getChildrenProperties})),n.d(t,"filterObjectProperties",(function(){return h.filterObjectProperties})),n.d(t,"getUrl",(function(){return h.getUrl})),n.d(t,"createGuid",(function(){return h.createGuid}));var f=n("./node_modules/@msstream/utilities-telemetry/esm/utils/RestCallLogger.js");n.d(t,"RestCallMethodNames",(function(){return f.RestCallMethodNames})),n.d(t,"RestCallLogger",(function(){return f.RestCallLogger}));var g=n("./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Groupings/Features.td.js");n.d(t,"FeatureNames",(function(){return g.FeatureNames}));var v=n("./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Groupings/Scenarios.td.js");n.d(t,"SESHVetoes",(function(){return v.SESHVetoes}));var y=n("./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Groupings/Components.td.js");n.d(t,"ReactComponents",(function(){return y.ReactComponents})),n.d(t,"AngularComponents",(function(){return y.AngularComponents})),n.d(t,"ThinEmbedComponents",(function(){return y.ThinEmbedComponents})),n.d(t,"ApplicationComponents",(function(){return y.ApplicationComponents})),n.d(t,"PortalComponents",(function(){return y.PortalComponents}));var S=n("./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/Playback/PlaybackPayloads.td.js");n.d(t,"PlaybackErrorPrefix",(function(){return S.PlaybackErrorPrefix})),n.d(t,"PlaybackErrorType",(function(){return S.PlaybackErrorType})),n.d(t,"VideoStateChangeDetectionMethod",(function(){return S.VideoStateChangeDetectionMethod}));var b=n("./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/InjectedAuthPayloads.td.js");n.d(t,"InjectedAuthErrorStrings",(function(){return b.InjectedAuthErrorStrings}));var C=n("./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/LocaleHelperPayloads.td.js");n.d(t,"LocaleRetrievalMethod",(function(){return C.LocaleRetrievalMethod}));var E=n("./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/SessionManagerPayloads.td.js");n.d(t,"TelemetryAuthResult",(function(){return E.TelemetryAuthResult}));var w=n("./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/O365GroupsPayloads.td.js");n.d(t,"O365GroupsUserActionResults",(function(){return w.O365GroupsUserActionResults}));var T=n("./node_modules/@msstream/utilities-telemetry/esm/StreamLoggingTypes/Payloads/PortalPayloads.td.js");n.d(t,"PortalTelemetryPayloadNames",(function(){return T.PortalTelemetryPayloadNames}));var P=n("./node_modules/@msstream/utilities-telemetry/esm/services/__mocks__/MockLoggingService.js");n.d(t,"MockLoggingService",(function(){return P.MockLoggingService}));var _=n("./node_modules/@msstream/utilities-telemetry/esm/contexts/ViewContext.js");n.d(t,"ViewContext",(function(){return _.ViewContext}));var B=n("./node_modules/@msstream/utilities-telemetry/esm/contexts/StandardContexts.js");n.d(t,"standardContextVersion",(function(){return B.standardContextVersion}))},"./node_modules/@msstream/utilities-telemetry/esm/loggers/ConsoleLogger.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ConsoleLogger",(function(){return i}));var i=(r.prototype.trackEvent=function(e){window.console.log(e)},r.prototype.userSignedIn=function(e){},r.prototype.userSignedOut=function(){},r);function r(){}},"./node_modules/@msstream/utilities-telemetry/esm/loggers/LoggerConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,"PrivacyInitializationErrorMessage",(function(){return i}));var i="The privacy event scrubber was not initialized properly.\n\n ERROR: "},"./node_modules/@msstream/utilities-telemetry/esm/loggers/LoggerFactory.js":function(e,t,n){"use strict";n.r(t),n.d(t,"createOneDSLogger",(function(){return o})),n.d(t,"createConsoleLogger",(function(){return s}));var i=n("./node_modules/@msstream/utilities-telemetry/esm/loggers/ConsoleLogger.js"),r=n("./node_modules/@msstream/utilities-telemetry/esm/loggers/OneDSLogger.js");function o(e){return new r.OneDSLogger(e)}function s(){return new i.ConsoleLogger}},"./node_modules/@msstream/utilities-telemetry/esm/loggers/OneDSLogger.js":function(e,t,n){"use strict";n.r(t),n.d(t,"OneDSLogger",(function(){return a}));var i=n("./node_modules/@ms/1ds-analytics-js/dist-esm/src/Index.js"),r=n("./node_modules/@ms/1ds-cv-js/dist-esm/src/Index.js"),o=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/index.js"),s=n("./node_modules/@msstream/utilities-telemetry/esm/loggers/LoggerConstants.js"),a=(Object.defineProperty(c.prototype,"PrivacyScrubber",{get:function(){return this.privacyScrubber.InitializationError?void 0:this.privacyScrubber},enumerable:!0,configurable:!0}),c.prototype.trackEvent=function(e){try{!this.privacyScrubber.inDropEventList(e)&&this.privacyScrubber.scrubEvent(e)&&this.logger.track(e)}catch(i){var t,n=void 0!==e?e.name:"undefined";this.hasErroringEventBeenPreviouslyLogged(n)&&(t=void 0===e,this.logger.track({name:"TrackingEventError",data:{eventName:n,isEventUndefined:t}}),this.markErroringEventAsLogged(n))}},c.prototype.userSignedIn=function(e){var t=this.logger.getPropertyManager(),n="a"!==e[0]&&":"!==e[1]?"a:"+e:e;t.getPropertiesContext().user.localId=n},c.prototype.userSignedOut=function(){this.logger.getPropertyManager().getPropertiesContext().user.localId=this.unauthenticatedLocalUserId},c.prototype.signalIncompletePrivacyConfig=function(){var e=this.privacyScrubber.InitializationError;e&&(console.log(s.PrivacyInitializationErrorMessage+e),this.logger.track({name:"IncompletePrivacyScrubberConfig",data:{errorMessage:e}}))},c.prototype.markErroringEventAsLogged=function(e){this.erroringEventNamesLogged.push(e)},c.prototype.hasErroringEventBeenPreviouslyLogged=function(e){return-1===this.erroringEventNamesLogged.indexOf(e)},c);function c(e){var t;this.logger=new i.ApplicationInsights,this.unauthenticatedLocalUserId="a:unauthenticatedUser",this.erroringEventNamesLogged=[],e&&e.privacyScrubbingConfig&&(t=e.privacyScrubbingConfig),this.privacyScrubber=new o.PrivacyScrubber(t),this.cvPlugin=new r.CorrelationVectorPlugin,e.localUserId||(e.localUserId=this.unauthenticatedLocalUserId);var n={channelConfiguration:{disableTelemetry:!e.ingestionKey},disableCookiesUsage:!0,extensions:[this.cvPlugin],extensionConfig:[],instrumentationKey:e.ingestionKey};e.overrideEndpointUrl&&(n.endpointUrl=e.overrideEndpointUrl),this.logger.initialize(n,[]);var s=this.logger.getPropertyManager();s.getPropertiesContext().user.localId=e.localUserId,s.getPropertiesContext().app.name=e.appName,s.getPropertiesContext().app.ver=e.version,s.setProperty("UserAgent",window.navigator.userAgent),this.signalIncompletePrivacyConfig()}},"./node_modules/@msstream/utilities-telemetry/esm/services/LoggingService.js":function(e,t,n){"use strict";n.r(t),n.d(t,"LoggingService",(function(){return a}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),o=n("./node_modules/@msstream/utilities-telemetry/esm/utils/UtilEvent.js"),s=n("./node_modules/@msstream/shared-services/dist/index.js"),a=(c.prototype.setupLogger=function(e,t,n,i,o){this.logger=e,this.setStandardContexts(n),this.errorAlertLogging=new r.ErrorAlertLogging(this,e,o),this.setupUnhandledExceptionLogging(),this.performanceLogging=new r.PerformanceLogging(this,e),this.applicationLogicLogging=new r.ApplicationLogicLogging(this,e),this.userActionLogging=new r.UserActionLogging(this,e),this.traceLogging=new r.TraceLogging(this,e),i&&(this.onTrack=i),this.legacyLogging=t},c.prototype.appLogicThin=function(e,t,n){this.applicationLogicLogging?(this.applicationLogicLogging.logApplicationLogic(e,t,n),this.onTrack(e)):this.assert("applicationLogicLogging not initialized")},c.prototype.userActionThin=function(e,t,n){this.userActionLogging?(this.userActionLogging.logUserAction(e,t,n),this.onTrack(e)):this.assert("userActionLogging not initialized")},c.prototype.warnThin=function(e,t,n){this.errorAlertLogging?(this.errorAlertLogging.logWarning(e,t,n),this.onTrack(e)):this.assert("errorAlertLogging not initialized")},c.prototype.fatalThin=function(e,t,n){this.errorAlertLogging?(this.errorAlertLogging.logFatal(e,t,n),this.onTrack(e)):this.assert("errorAlertLogging not initialized")},c.prototype.traceThin=function(e,t,n){if(!this.traceLogging)return this.assert("traceLogging not initialized"),"";var i=t||"DefaultTrace";return this.traceLogging.logTrace(i,e,n)},c.prototype.userSignedIn=function(e,t){var n=this.getStandardContextsDeepCopy();n&&(n.userContext=e,n.expContext=t||n.expContext,this.setStandardContexts(n)),this.logger&&this.logger.userSignedIn(e.userId)},c.prototype.userSignedOut=function(e){var t=this.getStandardContextsDeepCopy();t&&t.userContext&&(t.userContext.userId="",t.userContext.userType=e,this.setStandardContexts(t)),this.logger&&this.logger.userSignedOut()},Object.defineProperty(c.prototype,"PrivacyScrubber",{get:function(){return this.privacyScrubber},enumerable:!0,configurable:!0}),c.prototype.setIncludeTimingFields=function(e){this.includeTimingFields=e},c.prototype.getIsDevelopmentMode=function(){var e=null;try{e=window.localStorage.getItem("disableDevelopmentMode")}catch(e){}return this.isDevelopmentMode&&!e},c.prototype.setupPrivacyScrubber=function(e){this.privacyScrubber=e},c.prototype.getStandardContextsDeepCopy=function(){return this.standardContexts?JSON.parse(JSON.stringify(this.standardContexts)):void 0},c.prototype.setStandardContexts=function(e){(this.standardContexts=e)&&void 0!==e.isDevelopmentMode&&(this.isDevelopmentMode=e.isDevelopmentMode),this.updateStandardContextsFields()},c.prototype.getStandardContextsFields=function(){var e=this.standardContextsFields?this.standardContextsFields:{};return this.includeTimingFields&&(e=Object(i.__assign)(Object(i.__assign)({},this.calculateTimingFields()),e)),e},c.prototype.legacy=function(e){this.legacyLogging.logEvent(e),this.onTrack(e.name)},c.prototype.getPerformance=function(e){if(this.performanceLogging)return this.performanceLogging.getPerformance(e);this.assert("performanceLogging not initialized")},c.prototype.setPerformance=function(e,t,n){return this.performanceLogging?this.performanceLogging.setPerformance(e,t,n):(this.assert("performanceLogging not initialized"),!1)},c.prototype.registerEarlyStartPerformance=function(e,t){this.performanceLogging?this.performanceLogging.registerEarlyStart(e,t):this.assert("performanceLogging not initialized")},c.prototype.startPerformance=function(e,t){this.performanceLogging?this.performanceLogging.start(e,t):this.assert("performanceLogging not initialized")},c.prototype.startUniquePerformance=function(e,t){return this.performanceLogging?this.performanceLogging.startUnique(e,t):(this.assert("performanceLogging not initialized"),"")},c.prototype.endPerformance=function(e,t,n,i){if(this.performanceLogging)return this.onTrack(t||e),this.performanceLogging.end(e,n,i);this.assert("performanceLogging not initialized")},c.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.standardContexts&&this.standardContexts.streamContext&&this.standardContexts.streamContext.isDebugLoggingEnabled&&console.log.apply(console,Object(i.__spreadArrays)(["["+(new Date).toISOString()+"]"],e))},c.prototype.assert=function(e){this.isDevelopmentMode&&console.debug(e)},c.prototype.updateStandardContextsFields=function(){var e,t;this.standardContextsFields={},this.standardContexts&&(this.standardContexts.expContext&&!0!==this.standardContexts.expContext.isExpSessionOverridden&&delete this.standardContexts.expContext.isExpSessionOverridden,delete(e=JSON.parse(JSON.stringify(this.standardContexts))).expContext,t=this.standardContexts.expContext?this.standardContexts.expContext:{},this.standardContextsFields=Object(i.__assign)(Object(i.__assign)({standardContextVersion:r.standardContextVersion},Object(o.getChildrenProperties)(e)),{expContext:t}))},c.prototype.calculateTimingFields=function(){var e=Object(s.getBrowserTiming)();return void 0===e?{}:{browserTimingMethod:e.Method,msSinceAppStart:e.MsSinceNavigationStart}},c.prototype.setupUnhandledExceptionLogging=function(){var e=this;window.onerror=function(t,n,i,r,o){var s;e.errorAlertLogging&&(s="src: "+n+" line: "+i+" col: "+r,e.errorAlertLogging.logUnhandled(o||new Error,s))}},c);function c(){this.legacyLogging=void 0,this.isDevelopmentMode=!0,this.includeTimingFields=!0,this.onTrack=function(){}}},"./node_modules/@msstream/utilities-telemetry/esm/services/__mocks__/MockLoggingService.js":function(e,t,n){"use strict";n.r(t),n.d(t,"MockLoggingService",(function(){return i}));var i=(r.prototype.setupPrivacyScrubber=function(e){},r.prototype.setupLogger=function(e,t,n){},r.prototype.getIsDevelopmentMode=function(){return!0},r.prototype.userSignedIn=function(e,t){},r.prototype.userSignedOut=function(e){},r.prototype.getStandardContextsDeepCopy=function(){},r.prototype.setStandardContexts=function(e){},r.prototype.legacy=function(e){},r.prototype.getPerformance=function(e){},r.prototype.setPerformance=function(e,t,n){return!0},r.prototype.registerEarlyStartPerformance=function(e,t){},r.prototype.startPerformance=function(e,t,n){},r.prototype.startUniquePerformance=function(e,t){return"fake-perf-identifier"},r.prototype.endPerformance=function(e,t,n,i){},r.prototype.debug=function(e){},Object.defineProperty(r.prototype,"PrivacyScrubber",{get:function(){},enumerable:!0,configurable:!0}),r.prototype.appLogicThin=function(e,t,n){},r.prototype.userActionThin=function(e,t,n){},r.prototype.warnThin=function(e,t,n){},r.prototype.fatalThin=function(e,t,n){},r.prototype.traceThin=function(e,t,n){return""},r);function r(){}},"./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/ApplicationLogicLogging/ApplicationLogicLogging.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ApplicationLogicLogging",(function(){return r}));var i=n("./node_modules/tslib/tslib.es6.js"),r=(o.prototype.logApplicationLogic=function(e,t,n){this.logger.trackEvent({name:e,data:Object(i.__assign)(Object(i.__assign)({eventType:this.eventType},this.loggingService.getStandardContextsFields()),t),sync:n})},o);function o(e,t){this.loggingService=e,this.logger=t,this.eventType="ApplicationLogic"}},"./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/ErrorAlertLogging/ErrorAlertLogging.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ErrorAlertLogging",(function(){return s}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/index.js"),o=n("./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/ErrorAlertLogging/ErrorAlertLogging.types.js"),s=(a.prototype.logUnhandled=function(e,t){var n={message:e&&e.message?e.message:o.ErrorMessageStatus.Missing,stack:e&&e.stack?e.stack:o.StackTraceStatus.Missing,staticMessage:t};return this.log("UnhandledError",Object(i.__assign)({errorAlertType:o.ErrorAlertType.Unhandled},n))},a.prototype.logWarning=function(e,t,n){return this.log(e,Object(i.__assign)({errorAlertType:o.ErrorAlertType.Warning},t),n)},a.prototype.logFatal=function(e,t,n){return this.loggingService.getIsDevelopmentMode(),this.log(e,Object(i.__assign)({errorAlertType:o.ErrorAlertType.Fatal},t),n)},a.prototype.log=function(e,t,n){var o=Object(i.__assign)(Object(i.__assign)({},t),{message:r.DefaultScrubbedValue,stack:this.scrubStack(t.stack,t.message)}),s={name:e,data:Object(i.__assign)(Object(i.__assign)({eventType:this.eventType},this.loggingService.getStandardContextsFields()),o),sync:n};this.logger.trackEvent(s)},a.prototype.scrubStack=function(e,t){return this.tryLogErrorAlertStacks&&!this.anyDisallowedUrlsDetected(e)?(t&&(e=e.replace(t,r.DefaultScrubbedValue)),e):r.DefaultScrubbedValue},a.prototype.anyDisallowedUrlsDetected=function(e){for(var t=/\b(https?:\/\/(?:[a-zA-Z0-9\-\.:])+)\/?/g,n=t.exec(e);n&&2===n.length;){if(!this.isAllowableUrl(n[1]))return!0;n=t.exec(e)}return!1},a.prototype.isAllowableUrl=function(e){for(var t=0,n=this.allowableHostSuffixes;t<n.length;t++){var i=n[t];if(e.endsWith(i))return!0}return!1},a);function a(e,t,n){this.loggingService=e,this.logger=t,this.tryLogErrorAlertStacks=n,this.eventType="ErrorAlert",this.allowableHostSuffixes=[".microsoftstream.com",".microsoftstream.us",".stream.azure-test.net"]}},"./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/ErrorAlertLogging/ErrorAlertLogging.types.js":function(e,t,n){"use strict";var i,r,o,s,a,c;n.r(t),n.d(t,"ErrorMessageStatus",(function(){return i})),n.d(t,"StackTraceStatus",(function(){return o})),n.d(t,"ErrorAlertType",(function(){return a})),(r=i=i||{}).Missing="mis",r.NotApplicable="n/a",(s=o=o||{}).Missing="mis",s.NotApplicable="n/a",(c=a=a||{}).Warning="Warning",c.Fatal="Fatal",c.Unhandled="Unhandled"},"./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/LegacyLogging/LegacyLogging.js":function(e,t,n){"use strict";n.r(t),n.d(t,"LegacyLogging",(function(){return r}));var i=n("./node_modules/@msstream/utilities-telemetry/esm/utils/UtilEvent.js"),r=(o.prototype.logEvent=function(e){e=Object(i.replaceInvalidFields)({name:e.name,data:e.data}),this.logger.trackEvent(e)},o);function o(e){this.logger=e}},"./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/Logging.types.js":function(e,t,n){"use strict";var i,r;n.r(t),n.d(t,"BasePayloadTypeNames",(function(){return i})),(r=i=i||{}).Performance="Performance",r.UserAction="UserAction",r.Assert="Assert",r.ApplicationLogic="ApplicationLogic",r.Trace="Trace",r.ErrorAlert="ErrorAlert"},"./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/PerformanceLogging/PerformanceLogging.js":function(e,t,n){"use strict";n.r(t),n.d(t,"PerformanceLogging",(function(){return s}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@msstream/utilities-telemetry/esm/index.js"),o=n("./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/PerformanceLogging/SafePerformanceAPI.js"),s=(a.prototype.registerEarlyStart=function(e,t,n){void 0===n&&(n=e),void 0===t&&(t={name:e}),this.performanceDictionary[n]=t},a.prototype.start=function(e,t,n){void 0===n&&(n=e),void 0===t&&(t={name:e}),o.SafePerformanceAPI.removePerformanceMark(n),o.SafePerformanceAPI.addPerformanceMark(n),this.performanceDictionary[n]=t},a.prototype.startUnique=function(e,t){var n=void 0===e?"unnamed":e,i=this.getUniqueTagName(n);return this.start(n,t,i),i},a.prototype.end=function(e,t,n){var r;o.SafePerformanceAPI.addPerformanceMeasure(e,e);var s=o.SafePerformanceAPI.getPerformanceMeasure(e);return void 0===t&&(t=this.getPerformance(e)),s&&t&&(r=Object(i.__assign)(Object(i.__assign)({},t),{startTimeMs:s.startTime,endTimeMs:s.startTime+s.duration,durationMs:s.duration}),this.logPerformance(t.name,r,n),o.SafePerformanceAPI.removePerformanceMark(e),o.SafePerformanceAPI.removePerformanceMeasure(e)),delete this.performanceDictionary[e],r},a.prototype.getPerformance=function(e){if(e in this.performanceDictionary)return this.performanceDictionary[e]},a.prototype.setPerformance=function(e,t,n){void 0===n&&(n=e);var i=!1;return n in this.performanceDictionary&&(i=!0,this.performanceDictionary[n]=t),i},a.prototype.getUniqueTagName=function(e){var t=this.uniqueTagCounters[e]?this.uniqueTagCounters[e]:0;return this.uniqueTagCounters[e]=t+1,e+"-"+t},a.prototype.logPerformance=function(e,t,n){this.logger.trackEvent({name:e,data:Object(i.__assign)(Object(i.__assign)({eventType:this.eventType},this.loggingService.getStandardContextsFields()),Object(r.filterObjectProperties)(t,["name"])),sync:n})},a);function a(e,t){this.loggingService=e,this.logger=t,this.performanceDictionary={},this.uniqueTagCounters={},this.eventType="Performance"}},"./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/PerformanceLogging/SafePerformanceAPI.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SafePerformanceAPI",(function(){return i}));var i=(r.addPerformanceMark=function(e){this.isPerformanceAPIUnavailable()||performance.mark(e)},r.removePerformanceMark=function(e){this.isPerformanceAPIUnavailable()||performance.clearMarks(e)},r.addPerformanceMeasure=function(e,t){this.isPerformanceAPIUnavailable()||performance.measure(e,t)},r.removePerformanceMeasure=function(e){this.isPerformanceAPIUnavailable()||performance.clearMeasures(e)},r.getPerformanceMeasure=function(e){if(!this.isPerformanceAPIUnavailable()){for(var t,n=0,i=performance.getEntriesByName(e,"measure");n<i.length;n++){var r=i[n];if(r.name===e){t=r;break}}return t||void 0}},r.isPerformanceAPIUnavailable=function(){return!(performance.getEntriesByType&&performance.getEntriesByName&&performance.mark&&performance.measure&&performance.clearMarks&&performance.clearMeasures)},r);function r(){}},"./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/TraceLogging/TraceLogging.js":function(e,t,n){"use strict";n.r(t),n.d(t,"MaxTraceMessageLength",(function(){return o})),n.d(t,"TraceLogging",(function(){return s}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@msstream/utilities-telemetry/esm/utils/UtilEvent.js"),o=32500,s=(a.prototype.logTrace=function(e,t,n){var s=t.traceId?t.traceId:Object(r.createGuid)(),a=Object(i.__assign)(Object(i.__assign)({},t),{traceId:s,partNumber:0}),c=1,l=0,u=t.message;if(u)for(;l<=u.length;){var d=u.substr(l,o);a.message=d,a.partNumber=c,this.logTracePart(e,a,n),l+=o,c++}return s},a.prototype.logTracePart=function(e,t,n){this.logger.trackEvent({name:e,data:Object(i.__assign)(Object(i.__assign)({eventType:this.eventType},this.loggingService.getStandardContextsFields()),t),sync:n})},a);function a(e,t){this.loggingService=e,this.logger=t,this.eventType="Trace"}},"./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/UserActionLogging/UserActionLogging.js":function(e,t,n){"use strict";n.r(t),n.d(t,"UserActionLogging",(function(){return r}));var i=n("./node_modules/tslib/tslib.es6.js"),r=(o.prototype.logUserAction=function(e,t,n){this.logger.trackEvent({name:e,data:Object(i.__assign)(Object(i.__assign)({eventType:this.eventType},this.loggingService.getStandardContextsFields()),t),sync:n})},o);function o(e,t){this.loggingService=e,this.logger=t,this.eventType="UserAction"}},"./node_modules/@msstream/utilities-telemetry/esm/services/loggingTypes/UserActionLogging/UserActionLogging.types.js":function(e,t,n){"use strict";var i,r;n.r(t),n.d(t,"ActionType",(function(){return i})),(r=i=i||{}).KeyDown="KeyDown",r.LeftClick="LeftClick",r.Submit="Submit",r.Touch="Touch",r.Unknown="Unknown"},"./node_modules/@msstream/utilities-telemetry/esm/utils/RestCallLogger.js":function(e,t,n){"use strict";n.r(t),n.d(t,"RestCallMethodNames",(function(){return i})),n.d(t,"RestCallLogger",(function(){return a}));var i,r,o=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/index.js"),s=n("./node_modules/@msstream/utilities-telemetry/esm/index.js");(r=i=i||{})[r.GET=0]="GET",r[r.POST=1]="POST",r[r.PUT=2]="PUT",r[r.PATCH=3]="PATCH",r[r.DELETE=4]="DELETE";var a=(c.initialize=function(e){c.loggingService=e},c.logError=function(e){if(null===c.loggingService)throw TypeError("RestCallLogger.logError: loggingService not initialized! Make sure initializeRestCallLogging is called.");var t,n,r=o.PrivacyScrubberStubUrls.NotLoadedUrl;c.loggingService.PrivacyScrubber&&(t=[e.urlBase,e.urlPath].join("/"),(n=c.loggingService.PrivacyScrubber.scrubUri(t))&&(r=n===o.InvalidUrlFormatScrubbedValue?o.PrivacyScrubberStubUrls.InvalidUriErrorUrl:n));var a=i[e.method],l=s.StackTraceStatus.Missing,u=e.message?e.message:"";void 0!==u&&""!==u||e.error&&("string"==typeof e.error?u=e.error:e.error instanceof Error&&(u=e.error.message,e.error.stack&&(l=e.error.stack))),!e.statusCode&&e.error&&e.error.status&&(e.statusCode=e.error.status),!e.clientRequestId&&e.error&&e.error.headers&&(e.clientRequestId=e.error.headers.get("x-ms-client-request-id"));var d={methodName:a,message:u,statusCode:e.statusCode,staticMessage:e.staticMessage,url:r,stack:l,groupings:e.groupings,navbarCorrelationId:e.navbarCorrelationId,clientRequestId:e.clientRequestId},p="RestCallError";e.isFatal?c.loggingService.fatalThin(p,d):c.loggingService.warnThin(p,d)},c.loggingService=null,c);function c(){}},"./node_modules/@msstream/utilities-telemetry/esm/utils/UtilEvent.js":function(e,t,n){"use strict";n.r(t),n.d(t,"replaceInvalidFields",(function(){return s})),n.d(t,"getChildrenProperties",(function(){return a})),n.d(t,"filterObjectProperties",(function(){return c})),n.d(t,"getUrl",(function(){return l})),n.d(t,"createGuid",(function(){return u}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/uuid/index.js");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return e?e.name||(e.name="undefinedNullOrEmptyEventName"):e={name:"undefinedOrNullEvent"},e}function a(e){var t={};return Object.keys(e).forEach((function(n){"object"!==o(e[n])?t[n]=e[n]:t=Object(i.__assign)(Object(i.__assign)({},t),e[n])})),t}function c(e,t){var n={};return e&&Object.getOwnPropertyNames(e).forEach((function(i){-1===t.indexOf(i)&&(n[i]=e[i])})),n}function l(){var e=null;return document&&document.location&&(e=document.location.href),e}function u(){return Object(r.v4)()}},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/ConfigurationFormatter.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ConfigurationFormatter",(function(){return r}));var i=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js"),r=(o.format=function(e){e.PassThroughTokens=o.stringArrayToLowerCase(e.PassThroughTokens),e.ScrubQueryParametersHostNames=o.stringArrayToLowerCase(e.ScrubQueryParametersHostNames),e.ScrubToPartialHostNames=o.stringArrayToLowerCase(e.ScrubToPartialHostNames),e.UriQueryParameters.PassThroughQueryParameters=o.stringArrayToLowerCase(e.UriQueryParameters.PassThroughQueryParameters);var t={};Object.keys(e.UriQueryParameters.ScrubQueryParameters).forEach((function(n){var r=e.UriQueryParameters.ScrubQueryParameters[n];r&&r.type===i.RecognizedUriQueryParameterType.string&&r.acceptedValues&&(r.acceptedValues=o.stringArrayToLowerCase(r.acceptedValues)),t[n.toLowerCase()]=r})),e.UriQueryParameters.ScrubQueryParameters=t},o.stringArrayToLowerCase=function(e){return e.map((function(e){return e.toLowerCase()}))},o);function o(){}},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/ConfigurationValidator.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ConfigurationValidator",(function(){return r}));var i=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js"),r=(o.validate=function(e){var t=this,n="";if(e){if(e.PassThroughTokens||(n+="PassThroughTokens is undefined, define it explicitly as empty if you want to scrubb all tokens.\n"),e.ScrubQueryParametersHostNames||(n+="ScrubQueryParametersHostNames is undefined, define it explicitely as empty if            you do not want any host name's params to be scrubbed. \n"),e.ScrubToPartialHostNames||(n+="ScrubQueryParametersHostNames is undefined, define it explicitely as empty if            you do not want any partial host name's to be kept. \n"),e.UriQueryParameters)if(e.UriQueryParameters.PassThroughQueryParameters)if(e.UriQueryParameters.ScrubQueryParameters)for(var r in e.UriQueryParameters.ScrubQueryParameters){var o=e.UriQueryParameters.ScrubQueryParameters[r];o&&o.type===i.RecognizedUriQueryParameterType.number&&o.acceptedValues&&(n+="param "+r+" in ScrubQueryParameters is of type number and has accepted values.                'number' type does not support accepted values")}else n+="UriQueryParameters.ScrubQueryParameters is undefined, define it explicitely as empty if         you do not want any recognized uri query params names to be kept. \n";else n+="UriQueryParameters.PassThroughQueryParameters is undefined, define it explicitely as empty if         you do not want any UriQueryParameters value to be always kept. \n";else n+="UriQueryParameters is undefined, define it explicitely as empty if         you do not want any UriQueryParameters to be kept. \n";e.DropEventNames||(n+="DropEventNames is undefined, define it explicitely as empty if you do not want any event to be dropped. \n"),e.GlobalFieldsDictionary?n=this.validateFieldScrubbingDictionary(e.GlobalFieldsDictionary,"GlobalFieldsDictionary",n):n+="GlobalFieldsDictionary is undefined, define it explicitely as empty if you do not want any field to be scrubbed. \n",e.EventFieldsDictionary?Object.keys(e.EventFieldsDictionary).forEach((function(i){var r=e.EventFieldsDictionary[i];n=t.validateFieldScrubbingDictionary(r,"EventFieldsDictionary."+i,n)})):n+="EventFieldsDictionary is undefined, define it explicitely as empty if         you do not want any field to be scrubbed. \n"}else n="PrivacyScrubbingConfig object is undefined and cannot be validated";if(""!==n)throw new Error(n)},o.validateFieldScrubbingDictionary=function(e,t,n){return Object.keys(e).forEach((function(r){var s=e[r];Object(i.isNestedFieldArray)(s)?s.forEach((function(e){n+=o.validateNestedField(e,t,n)})):Object(i.isEventFieldScrubbingStategy)(s)||(n+="Entry in FieldScrubbingDictionary was neither a Strategy or complete NestedField under "+t+". \n")})),n},o.validateNestedField=function(e,t,n){return n=o.validateFullPath(e.FullPath,t,n),o.validateEventFieldScrubbingStrategy(e.Strategy,t,n)},o.validateEventFieldScrubbingStrategy=function(e,t,n){return n+(Object(i.isEventFieldScrubbingStategy)(e)?"":"Invalid scrubbing strategy: "+e+" was added as part of dictionary "+t+". \n")},o.validateFullPath=function(e,t,n){e||(n+="Empty or undefined FullPath provided as part of dictionary "+t+" \n");var i=e.match(o.fullPathValidationRegex);return!i||i.length<=0?n+="No match found for the FullPath provided as part of dictionary "+t+" \n":i[0].length!==e.length&&(n+="Incomplete match found for the FullPath provided as part of dictionary "+t+".\n      Verify that your FullPath entry is valid using the following regex: "+o.fullPathValidationRegex.toString()+" \n"),n},o.fullPathValidationRegex=new RegExp(/[a-z][a-zA-Z]*(\.[a-z][a-zA-Z]*)*/),o);function o(){}},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/Constants.js":function(e,t,n){"use strict";n.r(t),n.d(t,"emptyPrivacyScrubbingConfig",(function(){return s})),n.d(t,"testPrivacyScrubbingConfig",(function(){return a})),n.d(t,"DefaultScrubbedValue",(function(){return c})),n.d(t,"InvalidUrlFormatScrubbedValue",(function(){return l})),n.d(t,"DefaultScrubbedGuidValue",(function(){return u})),n.d(t,"DefaultRedactedText",(function(){return d})),n.d(t,"PrivacyScrubberStubUrls",(function(){return i}));var i,r,o=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js"),s={PassThroughTokens:[],ScrubQueryParametersHostNames:[],ScrubToPartialHostNames:[],UriQueryParameters:{PassThroughQueryParameters:[],ScrubQueryParameters:{}},DropEventNames:[],EventFieldsDictionary:{},GlobalFieldsDictionary:{}},a={PassThroughTokens:["spo","spo-app-ios","microsoftteams","yammer","onenote","powerpoint","ppt","sbc","stream portal","stream embed","msteams","msteamsbot"],ScrubQueryParametersHostNames:["microsoftstream.com","microsoftstream.us","stream.azure-test.net","hos-barcelonaportal-1-1.cloudapp.net"],ScrubToPartialHostNames:["sharepoint.com","teams.microsoft.com","signup.microsoft.com","learn.microsoft.com","microsoft.com","hubblecontent.osi.office.net","sway.office.com","delve.office.com","forms.office.com","tasks.office.com","office.com","yammer.com","onenote.officeapps.live.com","powerpoint.officeapps.live.com","officeapps.live.com","botframework.com"],UriQueryParameters:{PassThroughQueryParameters:["adminMode","appcorrelation","appplatform","autoPlay","BrowseBack","channelId","mode","displaymode","entryPoint","hasPlayed","id","isInAdminMode","isInDevMode","isInVideoTrimMode","noSignUpCheck","popular","privacy","recommendationVer","refId","showdescription","showheader","signout","sort","srcScreen","st","top","uploadstatus","vid","videoId","videoIsPublished","videoPrivacy"],ScrubQueryParameters:{App:{type:o.RecognizedUriQueryParameterType.string,acceptedValues:["powerpoint"]},ChannelName:void 0,ErrorRedirectedFrom:void 0,fileName:void 0,List:void 0,open:void 0,referrer:void 0,Scope:void 0,SearchTerm:void 0,SearchTermLongKey:void 0,Search:void 0,Source:void 0,State:void 0,src:void 0,UserId:void 0,UserName:void 0,num:{type:o.RecognizedUriQueryParameterType.number},a2:{type:o.RecognizedUriQueryParameterType.string,acceptedValues:["ppt","spo"]},view:{type:o.RecognizedUriQueryParameterType.string,acceptedValues:["video","channel","people","group","highlights","videos","channels","membership","userchannels","uservideos","administrators","spotlightvideos","companypolicies","usagedetails","group","support","comments","facedetection","forgottenusers","personaldata","contentcreation","streamaccess","liveevents","networkcaching","recyclebin","browsechannels","groupchannels","browsegroups","browsevideos","grouphome","groupvideos","groupprincipals"]}}},DropEventNames:[],EventFieldsDictionary:{},GlobalFieldsDictionary:{url:o.EventFieldScrubbingStrategy.scrub,pageUrl:o.EventFieldScrubbingStrategy.scrub,trafficReferrer:o.EventFieldScrubbingStrategy.scrub,app:o.EventFieldScrubbingStrategy.scrub,viewContext:[{FullPath:"viewContext.url",Strategy:o.EventFieldScrubbingStrategy.scrub}]}},c="SCRUBBED",l="INVALID",u="[GUID]",d="[redacted]";(r=i=i||{}).NotLoadedUrl="https://privacyScrubberNotLoaded/",r.InvalidUriErrorUrl="https://privacyScrubberInvalidUriError/"},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/EventScrubbers/EventScrubber.js":function(e,t,n){"use strict";n.r(t),n.d(t,"EventScrubber",(function(){return r}));var i=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js"),r=(o.prototype.scrub=function(e){var t=!1;return e&&e.data&&(this.scrubGlobalFields(e),this.scrubEventFields(e),t=!0),t},o.prototype.inDropEventList=function(e){return void 0!==e&&-1<this.config.DropEventNames.indexOf(e.name)},o.prototype.scrubEventFields=function(e){e.name in this.config.EventFieldsDictionary&&this.scrubFields(e,this.config.EventFieldsDictionary[e.name])},o.prototype.scrubGlobalFields=function(e){this.scrubFields(e,this.config.GlobalFieldsDictionary)},o.prototype.scrubFields=function(e,t){var n,r=this;if(t&&0<Object.keys(t).length)for(var o in e.data)o in t&&(n=t[o],Object(i.isNestedFieldArray)(n)?n.forEach((function(t){var n=r.getParentObjectByPath(e.data,t.FullPath);n&&r.applyStrategy(n,t.Strategy)})):Object(i.isEventFieldScrubbingStategy)(n)&&this.applyStrategy({parent:e.data,fieldName:o},n))},o.prototype.applyStrategy=function(e,t){var n,r,o=e.parent,s=e.fieldName;try{t===i.EventFieldScrubbingStrategy.drop?delete o[s]:t!==i.EventFieldScrubbingStrategy.scrub||(n=o[s])&&(r=this.tokenScrubber.scrub(n),o[s]=r)}catch(e){o&&s&&(o[s]=null)}},o.prototype.getParentObjectByPath=function(e,t){if(e&&t){var n=e,i=t.split("."),r=i.pop();if(r){for(var o=0,s=i;o<s.length;o++)if(!(n=n[s[o]]))return;if(n[r])return{parent:n,fieldName:r}}}},o);function o(e,t){this.config=e,this.tokenScrubber=t}},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/SafePathValues.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SafePathValues",(function(){return i}));var i=["admin","adminsettings","browse","channel","channels","create","embed","error","fallback","followingchannels","group","groups","meetings","recyclebin","studio","update","upload","user","usersettings","video","videos","videoupdate","watchlist","welcome",n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/Constants.js").DefaultScrubbedGuidValue]},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/TokenScrubber.js":function(e,t,n){"use strict";n.r(t),n.d(t,"TokenScrubber",(function(){return i}));var i=(r.prototype.scrub=function(e){var t=this;return e?e instanceof Array?e.map((function(e){return t.scrubTokenInternal(e)})):this.scrubTokenInternal(e):""},r.prototype.scrubTokenInternal=function(e){return void 0===e||-1!==this.config.PassThroughTokens.indexOf(e.toLowerCase())?e:this.uriScrubber.scrub(e)},r);function r(e,t){this.config=e,this.uriScrubber=t}},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/UriScrubber.js":function(e,t,n){"use strict";n.r(t),n.d(t,"UriScrubber",(function(){return a}));var i=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/Constants.js"),r=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js"),o=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/SafePathValues.js"),s=n("./node_modules/url-parse/index.js"),a=(c.prototype.scrub=function(e){var t=this,n=new s(e," ",(function(e){return t.parseAndCleanQueryString(e)}));if(n&&(n.hostname||n.pathname)){var r=n.protocol?n.hostname:this.truncatePathToHostname(n.pathname);if(""===n.hostname&&n.pathname&&(n.hostname=r,n.pathname=this.truncatePathname(n.pathname,r),n.host=r),!r.match(this.validHostNameRegex))return i.InvalidUrlFormatScrubbedValue;if(this.isScrubQueryParametersHostName(r)){var o=this.scrubPathname(n.pathname,n.hostname);return o&&o!==n.pathname&&n.set("pathname",o),(n.protocol?"":c.defaultProtocol+"//")+n.toString()}return this.tryKeepPartialHostName(r,n.protocol)}return i.InvalidUrlFormatScrubbedValue},c.prototype.truncatePathToHostname=function(e){var t=e.indexOf("/");return-1===t?e:e.substr(0,t)},c.prototype.truncatePathname=function(e,t){var n=e.indexOf(t);return-1===n?e:e.substr(n+t.length)},c.prototype.parseAndCleanQueryString=function(e){var t=[];if(e){"?"===e[0]&&(e=e.slice(1,e.length));for(var n=0,r=e.split("&");n<r.length;n++){var o=r[n].split("="),s=void 0,a=void 0;a=2===o.length?(s=o[0],o[1]):void(s=o[0]);if(-1===this.config.UriQueryParameters.PassThroughQueryParameters.indexOf(s.toLowerCase())){if(!(s.toLowerCase()in this.config.UriQueryParameters.ScrubQueryParameters))continue;a&&this.isRecognizedParamAcceptedValue(s,a)||(a=i.DefaultScrubbedValue)}a?t.push(s+"="+a):t.push(s+"=")}}return 0<t.length?"?"+t.join("&"):""},c.prototype.isRecognizedParamAcceptedValue=function(e,t){var n=!1,i=this.config.UriQueryParameters.ScrubQueryParameters[e.toLowerCase()];return i&&(i.type===r.RecognizedUriQueryParameterType.number?n=!0:i.type===r.RecognizedUriQueryParameterType.string&&i.acceptedValues&&(n=-1!==i.acceptedValues.indexOf(t.toLowerCase()))),n},c.prototype.isScrubQueryParametersHostName=function(e){if(e){e=e.toLowerCase();for(var t=0,n=this.config.ScrubQueryParametersHostNames;t<n.length;t++){var i=n[t];if(-1!==e.indexOf(i,e.length-i.length))return!0}}return!1},c.prototype.scrubPathname=function(e,t){return e&&t&&(e=e.replace(this.validGuidRegex,i.DefaultScrubbedGuidValue),t.endsWith("api.microsoftstream.com")||e.split("/").forEach((function(t){t&&o.SafePathValues.indexOf(t)<0&&(e=e.replace(t,i.DefaultRedactedText))}))),e},c.prototype.tryKeepPartialHostName=function(e,t){var n=""!==t?t:c.defaultProtocol;if(e){e=e.toLowerCase();for(var r=0,o=this.config.ScrubToPartialHostNames;r<o.length;r++){var s=o[r];if(-1!==e.indexOf(s,e.length-s.length))return n+"//"+s}}return n+"//"+i.DefaultScrubbedValue},c.defaultProtocol="https:",c);function c(e){this.validHostNameRegex=new RegExp(/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/gm),this.validGuidRegex=/(([0-9a-fA-F]){8}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){12})/g,this.config=e}},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubber.js":function(e,t,n){"use strict";n.r(t),n.d(t,"PrivacyScrubber",(function(){return c}));var i=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/ConfigurationFormatter.js"),r=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/ConfigurationValidator.js"),o=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/EventScrubbers/EventScrubber.js"),s=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/TokenScrubber.js"),a=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/FieldScrubbers/UriScrubber.js"),c=(Object.defineProperty(l.prototype,"InitializationError",{get:function(){return this.initializationError},enumerable:!0,configurable:!0}),l.prototype.scrubUri=function(e){return this.uriScrubber?this.uriScrubber.scrub(e):void 0},l.prototype.scrubEvent=function(e){return!!this.eventScrubber&&(!(!e||e.data)||this.eventScrubber.scrub(e))},l.prototype.inDropEventList=function(e){return!this.eventScrubber||this.eventScrubber.inDropEventList(e)},l);function l(e){try{r.ConfigurationValidator.validate(e)}catch(e){this.initializationError=e.message,this.eventScrubber=void 0}var t;this.initializationError||(i.ConfigurationFormatter.format(e),this.uriScrubber=new a.UriScrubber(e),t=new s.TokenScrubber(e,this.uriScrubber),this.eventScrubber=new o.EventScrubber(e,t))}},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js":function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r,o,s,a;n.r(t),n.d(t,"RecognizedUriQueryParameterType",(function(){return r})),n.d(t,"EventFieldScrubbingStrategy",(function(){return s})),n.d(t,"NestedField",(function(){return c})),n.d(t,"isNestedFieldArray",(function(){return l})),n.d(t,"isEventFieldScrubbingStategy",(function(){return u})),(o=r=r||{}).string="string",o.number="number",(a=s=s||{}).scrub="scrub",a.drop="drop";var c=function(){this.FullPath="",this.Strategy=s.scrub};function l(e){var t=!0,n=new c;return null!==e&&"object"===i(e)&&Array.isArray(e)?e.forEach((function(e){Object.keys(n).forEach((function(n){t=t&&n in e}))})):t=!1,t}function u(e){return"string"==typeof e&&e in s}},"./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubber.js");n.d(t,"PrivacyScrubber",(function(){return i.PrivacyScrubber}));var r=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/PrivacyScrubbingConfig.js");n.d(t,"RecognizedUriQueryParameterType",(function(){return r.RecognizedUriQueryParameterType})),n.d(t,"EventFieldScrubbingStrategy",(function(){return r.EventFieldScrubbingStrategy})),n.d(t,"NestedField",(function(){return r.NestedField})),n.d(t,"isNestedFieldArray",(function(){return r.isNestedFieldArray})),n.d(t,"isEventFieldScrubbingStategy",(function(){return r.isEventFieldScrubbingStategy}));var o=n("./node_modules/@msstream/utilities-telemetry/node_modules/@msstream/utilities-privacy-scrubber/esm/Constants.js");n.d(t,"emptyPrivacyScrubbingConfig",(function(){return o.emptyPrivacyScrubbingConfig})),n.d(t,"testPrivacyScrubbingConfig",(function(){return o.testPrivacyScrubbingConfig})),n.d(t,"DefaultScrubbedValue",(function(){return o.DefaultScrubbedValue})),n.d(t,"InvalidUrlFormatScrubbedValue",(function(){return o.InvalidUrlFormatScrubbedValue})),n.d(t,"DefaultScrubbedGuidValue",(function(){return o.DefaultScrubbedGuidValue})),n.d(t,"DefaultRedactedText",(function(){return o.DefaultRedactedText})),n.d(t,"PrivacyScrubberStubUrls",(function(){return o.PrivacyScrubberStubUrls}))},"./node_modules/@msstream/utilities-type-safety/esm/Validate.js":function(e,t,n){"use strict";n.r(t),n.d(t,"rtt",(function(){return o})),n.d(t,"validate",(function(){return s}));var i=n("./node_modules/@msstream/utilities-type-safety/esm/assertNever.js");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o={any:{type:"any"},undefined:{type:"undefined"},null:{type:"null"},boolean:{type:"boolean"},number:{type:"number"},string:{type:"string"},literal:function(e){return{type:"literal",value:e}},optional:function(e){return{type:"optional",property:e}},array:function(e){return{type:"array",elementRep:e}},object:function(e){return{type:"object",properties:e}},union:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{type:"union",variants:e}}};function s(e,t){var n=t;switch(n.type){case"any":return!0;case"undefined":return void 0===e;case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"literal":return e===n.value;case"array":return Array.isArray(e)&&(0===e.length||e.every((function(e){return s(e,n.elementRep)})));case"object":return"object"===r(e)&&null!==e&&!Array.isArray(e)&&Object.keys(n.properties).every((function(t){return"optional"===n.properties[t].type?void 0===e[t]||s(e[t],n.properties[t].property):s(e[t],n.properties[t])}));case"union":return n.variants.some((function(t){return s(e,t)}));default:return Object(i.assertNever)(n,"validate: Invalid runtime type representation: '"+t.type+"'")}}},"./node_modules/@msstream/utilities-type-safety/esm/assertNever.js":function(e,t,n){"use strict";function i(e,t){throw new Error(void 0!==t?"Asserted never: "+t:"Asserted never")}n.r(t),n.d(t,"assertNever",(function(){return i}))},"./node_modules/@msstream/utilities-type-safety/esm/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@msstream/utilities-type-safety/esm/assertNever.js");n.d(t,"assertNever",(function(){return i.assertNever}));var r=n("./node_modules/@msstream/utilities-type-safety/esm/Validate.js");n.d(t,"rtt",(function(){return r.rtt})),n.d(t,"validate",(function(){return r.validate}))},"./node_modules/@uifabric/merge-styles/lib/Stylesheet.js":function(e,t,n){"use strict";n.r(t),n.d(t,"InjectionMode",(function(){return o})),n.d(t,"Stylesheet",(function(){return c}));var i,r=n("./node_modules/tslib/tslib.es6.js"),o={none:0,insertNode:1,appendChild:2},s="__stylesheet__",a={};try{a=window}catch(e){}var c=(l.getInstance=function(){var e;return(!(i=a[s])||i._lastStyleElement&&i._lastStyleElement.ownerDocument!==document)&&(e=a&&a.FabricConfig||{},i=a[s]=new l(e.mergeStyles)),i},l.prototype.setConfig=function(e){this._config=r.__assign({},this._config,e)},l.prototype.onReset=function(e){this._onResetCallbacks.push(e)},l.prototype.getClassName=function(e){var t=this._config.namespace;return(t?t+"-":"")+(e||this._config.defaultPrefix)+"-"+this._counter++},l.prototype.cacheClassName=function(e,t,n,i){this._keyToClassName[t]=e,this._classNameToArgs[e]={args:n,rules:i}},l.prototype.classNameFromKey=function(e){return this._keyToClassName[e]},l.prototype.argsFromClassName=function(e){var t=this._classNameToArgs[e];return t&&t.args},l.prototype.insertedRulesFromClassName=function(e){var t=this._classNameToArgs[e];return t&&t.rules},l.prototype.insertRule=function(e,t){var n=this._config.injectionMode!==o.none?this._getStyleElement():void 0;if(t&&this._preservedRules.push(e),n)switch(this._config.injectionMode){case o.insertNode:var i=n.sheet;try{i.insertRule(e,i.cssRules.length)}catch(e){}break;case o.appendChild:n.appendChild(document.createTextNode(e))}else this._rules.push(e);this._config.onInsertRule&&this._config.onInsertRule(e)},l.prototype.getRules=function(e){return(e?this._preservedRules.join(""):"")+this._rules.join("")+this._rulesToInsert.join("")},l.prototype.reset=function(){this._rules=[],this._rulesToInsert=[],this._counter=0,this._classNameToArgs={},this._keyToClassName={},this._onResetCallbacks.forEach((function(e){return e()}))},l.prototype.resetKeys=function(){this._keyToClassName={}},l.prototype._getStyleElement=function(){var e=this;return this._styleElement||"undefined"==typeof document||(this._styleElement=this._createStyleElement(),window.requestAnimationFrame((function(){e._styleElement=void 0}))),this._styleElement},l.prototype._createStyleElement=function(){var e=document.createElement("style");e.setAttribute("data-merge-styles","true");var t=this._config.cspSettings;return t&&t.nonce&&e.setAttribute("nonce",t.nonce),this._lastStyleElement&&this._lastStyleElement.nextElementSibling?document.head.insertBefore(e,this._lastStyleElement.nextElementSibling):document.head.appendChild(e),this._lastStyleElement=e},l);function l(e){this._rules=[],this._preservedRules=[],this._rulesToInsert=[],this._counter=0,this._keyToClassName={},this._onResetCallbacks=[],this._classNameToArgs={},this._config=r.__assign({injectionMode:o.insertNode,defaultPrefix:"css",namespace:void 0,cspSettings:void 0},e)}},"./node_modules/@uifabric/merge-styles/lib/concatStyleSets.js":function(e,t,n){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},r={},o=0,s=e;o<s.length;o++){var a=s[o];if(a)for(var c in a)if(a.hasOwnProperty(c)){if("subComponentStyles"===c&&void 0!==a.subComponentStyles){var l=a.subComponentStyles;for(var u in l)l.hasOwnProperty(u)&&(r.hasOwnProperty(u)?r[u].push(l[u]):r[u]=[l[u]]);continue}var d=n[c],p=a[c];n[c]=void 0===d?p:(Array.isArray(d)?d:[d]).concat(Array.isArray(p)?p:[p])}}if(0<Object.keys(r).length){n.subComponentStyles={};var A=n.subComponentStyles;for(var u in r)!function(e){var t;r.hasOwnProperty(e)&&(t=r[e],A[e]=function(e){return i.apply(void 0,t.map((function(t){return"function"==typeof t?t(e):t})))})}(u)}return n}n.r(t),n.d(t,"concatStyleSets",(function(){return i}))},"./node_modules/@uifabric/merge-styles/lib/extractStyleParts.js":function(e,t,n){"use strict";n.r(t),n.d(t,"extractStyleParts",(function(){return o}));var i=n("./node_modules/@uifabric/merge-styles/lib/Stylesheet.js");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[],o=[],s=i.Stylesheet.getInstance();return function e(t){for(var i=0,a=t;i<a.length;i++){var c,l=a[i];l&&("string"==typeof l?0<=l.indexOf(" ")?e(l.split(" ")):(c=s.argsFromClassName(l))?e(c):-1===n.indexOf(l)&&n.push(l):Array.isArray(l)?e(l):"object"===r(l)&&o.push(l))}}(e),{classes:n,objects:o}}},"./node_modules/@uifabric/merge-styles/lib/fontFace.js":function(e,t,n){"use strict";n.r(t),n.d(t,"fontFace",(function(){return o}));var i=n("./node_modules/@uifabric/merge-styles/lib/Stylesheet.js"),r=n("./node_modules/@uifabric/merge-styles/lib/styleToClassName.js");function o(e){i.Stylesheet.getInstance().insertRule("@font-face{"+Object(r.serializeRuleEntries)(e)+"}",!0)}},"./node_modules/@uifabric/merge-styles/lib/getVendorSettings.js":function(e,t,n){"use strict";var i;function r(){var e,t,n;return i||(e="undefined"!=typeof document?document:void 0,n=(t="undefined"!=typeof navigator?navigator:void 0)?t.userAgent.toLowerCase():void 0,i=e?{isWebkit:!(!e||!("WebkitAppearance"in e.documentElement.style)),isMoz:!!(n&&-1<n.indexOf("firefox")),isOpera:!!(n&&-1<n.indexOf("opera")),isMs:!(!t||!/rv:11.0/i.test(t.userAgent)&&!/Edge\/\d./i.test(navigator.userAgent))}:{isWebkit:!0,isMoz:!0,isOpera:!0,isMs:!0}),i}function o(e){i=e}n.r(t),n.d(t,"getVendorSettings",(function(){return r})),n.d(t,"setVendorSettings",(function(){return o}))},"./node_modules/@uifabric/merge-styles/lib/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/merge-styles/lib/mergeStyles.js");n.d(t,"mergeStyles",(function(){return i.mergeStyles}));var r=n("./node_modules/@uifabric/merge-styles/lib/mergeStyleSets.js");n.d(t,"mergeStyleSets",(function(){return r.mergeStyleSets}));var o=n("./node_modules/@uifabric/merge-styles/lib/concatStyleSets.js");n.d(t,"concatStyleSets",(function(){return o.concatStyleSets}));var s=n("./node_modules/@uifabric/merge-styles/lib/fontFace.js");n.d(t,"fontFace",(function(){return s.fontFace}));var a=n("./node_modules/@uifabric/merge-styles/lib/keyframes.js");n.d(t,"keyframes",(function(){return a.keyframes}));var c=n("./node_modules/@uifabric/merge-styles/lib/Stylesheet.js");n.d(t,"InjectionMode",(function(){return c.InjectionMode})),n.d(t,"Stylesheet",(function(){return c.Stylesheet}));var l=n("./node_modules/@uifabric/merge-styles/lib/transforms/rtlifyRules.js");n.d(t,"setRTL",(function(){return l.setRTL})),n("./node_modules/@uifabric/merge-styles/lib/version.js")},"./node_modules/@uifabric/merge-styles/lib/keyframes.js":function(e,t,n){"use strict";n.r(t),n.d(t,"keyframes",(function(){return o}));var i=n("./node_modules/@uifabric/merge-styles/lib/Stylesheet.js"),r=n("./node_modules/@uifabric/merge-styles/lib/styleToClassName.js");function o(e){var t=i.Stylesheet.getInstance(),n=t.getClassName(),o=[];for(var s in e)e.hasOwnProperty(s)&&o.push(s,"{",Object(r.serializeRuleEntries)(e[s]),"}");var a=o.join("");return t.insertRule("@keyframes "+n+"{"+a+"}",!0),t.cacheClassName(n,a,[],["keyframes",a]),n}},"./node_modules/@uifabric/merge-styles/lib/mergeStyleSets.js":function(e,t,n){"use strict";n.r(t),n.d(t,"mergeStyleSets",(function(){return s}));var i=n("./node_modules/@uifabric/merge-styles/lib/extractStyleParts.js"),r=n("./node_modules/@uifabric/merge-styles/lib/concatStyleSets.js"),o=n("./node_modules/@uifabric/merge-styles/lib/styleToClassName.js");function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={subComponentStyles:{}},s={};if(!e[0]&&e.length<=1)return{subComponentStyles:{}};var a=r.concatStyleSets.apply(void 0,e),c=[];for(var l in a)if(a.hasOwnProperty(l)){if("subComponentStyles"===l){n.subComponentStyles=a.subComponentStyles||{};continue}var u=a[l],d=Object(i.extractStyleParts)(u),p=d.classes,A=d.objects,m=Object(o.styleToRegistration)({displayName:l},A);c.push(m),m&&(s[l]=m.className,n[l]=p.concat([m.className]).join(" "))}for(var h=0,f=c;h<f.length;h++)(m=f[h])&&Object(o.applyRegistration)(m,s);return n}},"./node_modules/@uifabric/merge-styles/lib/mergeStyles.js":function(e,t,n){"use strict";n.r(t),n.d(t,"mergeStyles",(function(){return o}));var i=n("./node_modules/@uifabric/merge-styles/lib/styleToClassName.js"),r=n("./node_modules/@uifabric/merge-styles/lib/extractStyleParts.js");function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(r.extractStyleParts)(e),o=n.classes,s=n.objects;return s.length&&o.push(Object(i.styleToClassName)(s)),o.join(" ")}},"./node_modules/@uifabric/merge-styles/lib/styleToClassName.js":function(e,t,n){"use strict";n.r(t),n.d(t,"serializeRuleEntries",(function(){return d})),n.d(t,"styleToRegistration",(function(){return p})),n.d(t,"applyRegistration",(function(){return A})),n.d(t,"styleToClassName",(function(){return m}));var i=n("./node_modules/@uifabric/merge-styles/lib/Stylesheet.js"),r=n("./node_modules/@uifabric/merge-styles/lib/transforms/kebabRules.js"),o=n("./node_modules/@uifabric/merge-styles/lib/transforms/prefixRules.js"),s=n("./node_modules/@uifabric/merge-styles/lib/transforms/provideUnits.js"),a=n("./node_modules/@uifabric/merge-styles/lib/transforms/rtlifyRules.js"),c=/\:global\((.+?)\)/g;function l(e,t){return 0<=e.indexOf(":global(")?e.replace(c,"$1"):0===e.indexOf(":")?t+e:e.indexOf("&")<0?t+" "+e:e}function u(e,t,n){void 0===t&&(t={__order:[]}),void 0===n&&(n="&");var r=i.Stylesheet.getInstance(),o=t[n];o||(o={},t[n]=o,t.__order.push(n));for(var s,a,d,p,A=0,m=e;A<m.length;A++){var h=m[A];if("string"==typeof h){var f=r.argsFromClassName(h);f&&u(f,t,n)}else if(Array.isArray(h))u(h,t,n);else for(var g in h)if("selectors"===g){var v,y=h.selectors;for(var S in y)y.hasOwnProperty(S)&&(v=y[S],0===S.indexOf("@")?u([v],t,S=S+"{"+n):-1<S.indexOf(",")?u([v],t,function(e){if(!c.test(e))return e;for(var t=[],n=/\:global\((.+?)\)/g,i=null;i=n.exec(e);)-1<i[1].indexOf(",")&&t.push([i.index,i.index+i[0].length,i[1].split(",").map((function(e){return":global("+e.trim()+")"})).join(", ")]);return t.reverse().reduce((function(e,t){var n=t[0],i=t[1],r=t[2];return e.slice(0,n)+r+e.slice(i)}),e)}(S).split(/,/g).map((function(e){return e.trim()})).map((function(e){return l(e,n)})).join(", ")):u([v],t,l(S,n)))}else void 0!==h[g]&&("margin"===g||"padding"===g?(s=o,void 0,p="string"==typeof(d=h[a=g])?d.split(" "):[d],s[a+"Top"]=p[0],s[a+"Right"]=p[1]||p[0],s[a+"Bottom"]=p[2]||p[0],s[a+"Left"]=p[3]||p[1]||p[0]):o[g]=h[g])}return t}function d(e){if(!e)return"";var t=[];for(var n in e)e.hasOwnProperty(n)&&"displayName"!==n&&void 0!==e[n]&&t.push(n,e[n]);for(var i=0;i<t.length;i+=2)Object(r.kebabRules)(t,i),Object(s.provideUnits)(t,i),Object(a.rtlifyRules)(t,i),Object(o.prefixRules)(t,i);for(i=1;i<t.length;i+=4)t.splice(i,1,":",t[i],";");return t.join("")}function p(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r,o=u(e),s=function(e){for(var t=[],n=!1,i=0,r=e.__order;i<r.length;i++){var o=r[i];t.push(o);var s=e[o];for(var a in s)s.hasOwnProperty(a)&&void 0!==s[a]&&(n=!0,t.push(a,s[a]))}return n?t.join(""):void 0}(o);if(s){var a=i.Stylesheet.getInstance(),c={className:a.classNameFromKey(s),key:s,args:e};if(!c.className){c.className=a.getClassName((r=(n=o)&&n["&"])?r.displayName:void 0);for(var l=[],p=0,A=o.__order;p<A.length;p++){var m=A[p];l.push(m,d(o[m]))}c.rulesToInsert=l}return c}}function A(e,t){var n=i.Stylesheet.getInstance(),r=e.className,o=e.key,s=e.args,a=e.rulesToInsert;if(a){for(var c=0;c<a.length;c+=2){var l,u,d=a[c+1];d&&(u=(l=(l=a[c]).replace(/(&)|\$([\w-]+)\b/g,(function(n,i,r){return i?"."+e.className:r?"."+(t&&t[r]||r):""})))+"{"+d+"}"+(0===l.indexOf("@")?"}":""),n.insertRule(u))}n.cacheClassName(r,o,s,a)}}function m(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=p.apply(void 0,e);return n?(A(n),n.className):""}},"./node_modules/@uifabric/merge-styles/lib/transforms/kebabRules.js":function(e,t,n){"use strict";function i(e,t){e[t]=e[t].replace(/([A-Z])/g,"-$1").toLowerCase()}n.r(t),n.d(t,"kebabRules",(function(){return i}))},"./node_modules/@uifabric/merge-styles/lib/transforms/prefixRules.js":function(e,t,n){"use strict";n.r(t),n.d(t,"prefixRules",(function(){return o}));var i=n("./node_modules/@uifabric/merge-styles/lib/getVendorSettings.js"),r={"user-select":1};function o(e,t){var n,o=Object(i.getVendorSettings)(),s=e[t];r[s]&&(n=e[t+1],r[s]&&(o.isWebkit&&e.push("-webkit-"+s,n),o.isMoz&&e.push("-moz-"+s,n),o.isMs&&e.push("-ms-"+s,n),o.isOpera&&e.push("-o-"+s,n)))}},"./node_modules/@uifabric/merge-styles/lib/transforms/provideUnits.js":function(e,t,n){"use strict";n.r(t),n.d(t,"provideUnits",(function(){return r}));var i=["column-count","font-weight","flex-basis","flex","flex-grow","flex-shrink","fill-opacity","opacity","order","z-index","zoom"];function r(e,t){var n,r=e[t],o=e[t+1];"number"==typeof o&&(n=-1===i.indexOf(r)?"px":"",e[t+1]=o+n)}},"./node_modules/@uifabric/merge-styles/lib/transforms/rtlifyRules.js":function(e,t,n){"use strict";n.r(t),n.d(t,"setRTL",(function(){return u})),n.d(t,"getRTL",(function(){return d})),n.d(t,"rtlifyRules",(function(){return p}));var i,r=n("./node_modules/@uifabric/merge-styles/lib/Stylesheet.js"),o="left",s="right",a=((i={})[o]=s,i[s]=o,i),c={"w-resize":"e-resize","sw-resize":"se-resize","nw-resize":"ne-resize"},l=d();function u(e){l!==e&&(r.Stylesheet.getInstance().resetKeys(),l=e)}function d(){return void 0===l&&(l="undefined"!=typeof document&&!!document.documentElement&&"rtl"===document.documentElement.getAttribute("dir")),l}function p(e,t){if(d()){var n=e[t];if(!n)return;var i=e[t+1];if("string"==typeof i&&0<=i.indexOf("@noflip"))e[t+1]=i.replace(/\s*(?:\/\*\s*)?\@noflip\b(?:\s*\*\/)?\s*?/g,"");else if(0<=n.indexOf(o))e[t]=n.replace(o,s);else if(0<=n.indexOf(s))e[t]=n.replace(s,o);else if(0<=String(i).indexOf(o))e[t+1]=i.replace(o,s);else if(0<=String(i).indexOf(s))e[t+1]=i.replace(s,o);else if(a[n])e[t]=a[n];else if(c[i])e[t+1]=c[i];else switch(n){case"margin":case"padding":e[t+1]=function(e){if("string"==typeof e){var t=e.split(" ");if(4===t.length)return t[0]+" "+t[3]+" "+t[2]+" "+t[1]}return e}(i);break;case"box-shadow":e[t+1]=(0,r=i.split(" "),l=parseInt(r[0],10),r[0]=r[0].replace(String(l),String(-1*l)),r.join(" "))}}var r,l}},"./node_modules/@uifabric/merge-styles/lib/version.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/set-version/lib/index.js");Object(i.setVersion)("@uifabric/merge-styles","6.17.4")},"./node_modules/@uifabric/set-version/lib/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/set-version/lib/setVersion.js");n.d(t,"setVersion",(function(){return i.setVersion})),Object(i.setVersion)("@uifabric/set-version","6.0.0")},"./node_modules/@uifabric/set-version/lib/setVersion.js":function(e,t,n){"use strict";n.r(t),n.d(t,"setVersion",(function(){return o}));var i={},r=void 0;try{r=window}catch(e){}function o(e,t){var n;void 0!==r&&((n=r.__packages__=r.__packages__||{})[e]&&i[e]||(i[e]=t,(n[e]=n[e]||[]).push(t)))}},"./node_modules/@uifabric/styling/lib/MergeStyles.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js");n.d(t,"InjectionMode",(function(){return i.InjectionMode})),n.d(t,"Stylesheet",(function(){return i.Stylesheet})),n.d(t,"concatStyleSets",(function(){return i.concatStyleSets})),n.d(t,"fontFace",(function(){return i.fontFace})),n.d(t,"keyframes",(function(){return i.keyframes})),n.d(t,"mergeStyleSets",(function(){return i.mergeStyleSets})),n.d(t,"mergeStyles",(function(){return i.mergeStyles}))},"./node_modules/@uifabric/styling/lib/classNames/AnimationClassNames.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AnimationClassNames",(function(){return o}));var i=n("./node_modules/@uifabric/styling/lib/utilities/index.js"),r=n("./node_modules/@uifabric/styling/lib/styles/index.js"),o=Object(i.buildClassMap)(r.AnimationStyles)},"./node_modules/@uifabric/styling/lib/classNames/ColorClassNames.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ColorClassNames",(function(){return s}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js"),r=n("./node_modules/@uifabric/styling/lib/styles/DefaultPalette.js"),o=n("./node_modules/@uifabric/styling/lib/styles/index.js"),s={};for(var a in r.DefaultPalette)r.DefaultPalette.hasOwnProperty(a)&&(c(s,a,"",!1,"color"),c(s,a,"Hover",!0,"color"),c(s,a,"Background",!1,"background"),c(s,a,"BackgroundHover",!0,"background"),c(s,a,"Border",!1,"borderColor"),c(s,a,"BorderHover",!0,"borderColor"));function c(e,t,n,r,s){Object.defineProperty(e,t+n,{get:function(){var e,n=((e={})[s]=Object(o.getTheme)().palette[t],e);return Object(i.mergeStyles)(r?{selectors:{":hover":n}}:n).toString()},enumerable:!0,configurable:!0})}},"./node_modules/@uifabric/styling/lib/classNames/FontClassNames.js":function(e,t,n){"use strict";n.r(t),n.d(t,"FontClassNames",(function(){return o}));var i=n("./node_modules/@uifabric/styling/lib/utilities/buildClassMap.js"),r=n("./node_modules/@uifabric/styling/lib/styles/DefaultFontStyles.js"),o=Object(i.buildClassMap)(r.DefaultFontStyles)},"./node_modules/@uifabric/styling/lib/classNames/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/styling/lib/classNames/AnimationClassNames.js");n.d(t,"AnimationClassNames",(function(){return i.AnimationClassNames}));var r=n("./node_modules/@uifabric/styling/lib/classNames/FontClassNames.js");n.d(t,"FontClassNames",(function(){return r.FontClassNames}));var o=n("./node_modules/@uifabric/styling/lib/classNames/ColorClassNames.js");n.d(t,"ColorClassNames",(function(){return o.ColorClassNames}))},"./node_modules/@uifabric/styling/lib/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/styling/lib/classNames/index.js");n.d(t,"AnimationClassNames",(function(){return i.AnimationClassNames})),n.d(t,"FontClassNames",(function(){return i.FontClassNames})),n.d(t,"ColorClassNames",(function(){return i.ColorClassNames}));var r=n("./node_modules/@uifabric/styling/lib/styles/index.js");n.d(t,"AnimationStyles",(function(){return r.AnimationStyles})),n.d(t,"AnimationVariables",(function(){return r.AnimationVariables})),n.d(t,"DefaultPalette",(function(){return r.DefaultPalette})),n.d(t,"DefaultFontStyles",(function(){return r.DefaultFontStyles})),n.d(t,"registerDefaultFontFaces",(function(){return r.registerDefaultFontFaces})),n.d(t,"FontSizes",(function(){return r.FontSizes})),n.d(t,"FontWeights",(function(){return r.FontWeights})),n.d(t,"IconFontSizes",(function(){return r.IconFontSizes})),n.d(t,"createFontStyles",(function(){return r.createFontStyles})),n.d(t,"getFocusStyle",(function(){return r.getFocusStyle})),n.d(t,"focusClear",(function(){return r.focusClear})),n.d(t,"getFocusOutlineStyle",(function(){return r.getFocusOutlineStyle})),n.d(t,"hiddenContentStyle",(function(){return r.hiddenContentStyle})),n.d(t,"PulsingBeaconAnimationStyles",(function(){return r.PulsingBeaconAnimationStyles})),n.d(t,"getGlobalClassNames",(function(){return r.getGlobalClassNames})),n.d(t,"getThemedContext",(function(){return r.getThemedContext})),n.d(t,"ThemeSettingName",(function(){return r.ThemeSettingName})),n.d(t,"getTheme",(function(){return r.getTheme})),n.d(t,"loadTheme",(function(){return r.loadTheme})),n.d(t,"createTheme",(function(){return r.createTheme})),n.d(t,"registerOnThemeChangeCallback",(function(){return r.registerOnThemeChangeCallback})),n.d(t,"removeOnThemeChangeCallback",(function(){return r.removeOnThemeChangeCallback})),n.d(t,"HighContrastSelector",(function(){return r.HighContrastSelector})),n.d(t,"HighContrastSelectorWhite",(function(){return r.HighContrastSelectorWhite})),n.d(t,"HighContrastSelectorBlack",(function(){return r.HighContrastSelectorBlack})),n.d(t,"ScreenWidthMinSmall",(function(){return r.ScreenWidthMinSmall})),n.d(t,"ScreenWidthMinMedium",(function(){return r.ScreenWidthMinMedium})),n.d(t,"ScreenWidthMinLarge",(function(){return r.ScreenWidthMinLarge})),n.d(t,"ScreenWidthMinXLarge",(function(){return r.ScreenWidthMinXLarge})),n.d(t,"ScreenWidthMinXXLarge",(function(){return r.ScreenWidthMinXXLarge})),n.d(t,"ScreenWidthMinXXXLarge",(function(){return r.ScreenWidthMinXXXLarge})),n.d(t,"ScreenWidthMaxSmall",(function(){return r.ScreenWidthMaxSmall})),n.d(t,"ScreenWidthMaxMedium",(function(){return r.ScreenWidthMaxMedium})),n.d(t,"ScreenWidthMaxLarge",(function(){return r.ScreenWidthMaxLarge})),n.d(t,"ScreenWidthMaxXLarge",(function(){return r.ScreenWidthMaxXLarge})),n.d(t,"ScreenWidthMaxXXLarge",(function(){return r.ScreenWidthMaxXXLarge})),n.d(t,"ScreenWidthMinUhfMobile",(function(){return r.ScreenWidthMinUhfMobile})),n.d(t,"getScreenSelector",(function(){return r.getScreenSelector})),n.d(t,"normalize",(function(){return r.normalize})),n.d(t,"noWrap",(function(){return r.noWrap})),n.d(t,"getFadedOverflowStyle",(function(){return r.getFadedOverflowStyle})),n.d(t,"getPlaceholderStyles",(function(){return r.getPlaceholderStyles})),n.d(t,"ZIndexes",(function(){return r.ZIndexes}));var o=n("./node_modules/@uifabric/styling/lib/utilities/index.js");n.d(t,"buildClassMap",(function(){return o.buildClassMap})),n.d(t,"getIcon",(function(){return o.getIcon})),n.d(t,"registerIcons",(function(){return o.registerIcons})),n.d(t,"registerIconAlias",(function(){return o.registerIconAlias})),n.d(t,"unregisterIcons",(function(){return o.unregisterIcons})),n.d(t,"setIconOptions",(function(){return o.setIconOptions})),n.d(t,"getIconClassName",(function(){return o.getIconClassName}));var s=n("./node_modules/@uifabric/styling/lib/MergeStyles.js");n.d(t,"InjectionMode",(function(){return s.InjectionMode})),n.d(t,"Stylesheet",(function(){return s.Stylesheet})),n.d(t,"concatStyleSets",(function(){return s.concatStyleSets})),n.d(t,"fontFace",(function(){return s.fontFace})),n.d(t,"keyframes",(function(){return s.keyframes})),n.d(t,"mergeStyleSets",(function(){return s.mergeStyleSets})),n.d(t,"mergeStyles",(function(){return s.mergeStyles})),n("./node_modules/@uifabric/styling/lib/version.js")},"./node_modules/@uifabric/styling/lib/styles/AnimationStyles.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AnimationVariables",(function(){return H})),n.d(t,"AnimationStyles",(function(){return $}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js"),r="cubic-bezier(.1,.9,.2,1)",o="cubic-bezier(.1,.25,.75,.9)",s="0.167s",a="0.267s",c="0.367s",l="0.467s",u=Object(i.keyframes)({from:{opacity:0},to:{opacity:1}}),d=Object(i.keyframes)({from:{opacity:1},to:{opacity:0}}),p=Y(-10),A=Y(-20),m=Y(-40),h=Y(-400),f=Y(10),g=Y(20),v=Y(40),y=Y(400),S=G(10),b=G(20),C=G(-10),E=G(-20),w=K(10),T=K(20),P=K(40),_=K(400),B=K(-10),I=K(-20),D=K(-40),k=K(-400),F=z(-10),M=z(-20),U=z(10),N=z(20),L=Object(i.keyframes)({from:{transform:"scale3d(.98,.98,1)"},to:{transform:"scale3d(1,1,1)"}}),x=Object(i.keyframes)({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(.98,.98,1)"}}),R=Object(i.keyframes)({from:{transform:"scale3d(1.03,1.03,1)"},to:{transform:"scale3d(1,1,1)"}}),O=Object(i.keyframes)({from:{transform:"scale3d(1,1,1)"},to:{transform:"scale3d(1.03,1.03,1)"}}),V=Object(i.keyframes)({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(90deg)"}}),Q=Object(i.keyframes)({from:{transform:"rotateZ(0deg)"},to:{transform:"rotateZ(-90deg)"}}),H={easeFunction1:r,easeFunction2:o,durationValue1:s,durationValue2:a,durationValue3:c,durationValue4:l},$={slideRightIn10:j(u+","+p,c,r),slideRightIn20:j(u+","+A,c,r),slideRightIn40:j(u+","+m,c,r),slideRightIn400:j(u+","+h,c,r),slideLeftIn10:j(u+","+f,c,r),slideLeftIn20:j(u+","+g,c,r),slideLeftIn40:j(u+","+v,c,r),slideLeftIn400:j(u+","+y,c,r),slideUpIn10:j(u+","+S,c,r),slideUpIn20:j(u+","+b,c,r),slideDownIn10:j(u+","+C,c,r),slideDownIn20:j(u+","+E,c,r),slideRightOut10:j(d+","+w,c,r),slideRightOut20:j(d+","+T,c,r),slideRightOut40:j(d+","+P,c,r),slideRightOut400:j(d+","+_,c,r),slideLeftOut10:j(d+","+B,c,r),slideLeftOut20:j(d+","+I,c,r),slideLeftOut40:j(d+","+D,c,r),slideLeftOut400:j(d+","+k,c,r),slideUpOut10:j(d+","+F,c,r),slideUpOut20:j(d+","+M,c,r),slideDownOut10:j(d+","+U,c,r),slideDownOut20:j(d+","+N,c,r),scaleUpIn100:j(u+","+L,c,r),scaleDownIn100:j(u+","+R,c,r),scaleUpOut103:j(d+","+O,s,o),scaleDownOut98:j(d+","+x,s,o),fadeIn100:j(u,s,o),fadeIn200:j(u,a,o),fadeIn400:j(u,c,o),fadeIn500:j(u,l,o),fadeOut100:j(d,s,o),fadeOut200:j(d,a,o),fadeOut400:j(d,c,o),fadeOut500:j(d,l,o),rotate90deg:j(V,"0.1s",o),rotateN90deg:j(Q,"0.1s",o)};function j(e,t,n){return{animationName:e,animationDuration:t,animationTimingFunction:n,animationFillMode:"both"}}function Y(e){return Object(i.keyframes)({from:{transform:"translate3d("+e+"px,0,0)"},to:{transform:"translate3d(0,0,0)"}})}function G(e){return Object(i.keyframes)({from:{transform:"translate3d(0,"+e+"px,0)"},to:{transform:"translate3d(0,0,0)"}})}function K(e){return Object(i.keyframes)({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d("+e+"px,0,0)"}})}function z(e){return Object(i.keyframes)({from:{transform:"translate3d(0,0,0)"},to:{transform:"translate3d(0,"+e+"px,0)"}})}},"./node_modules/@uifabric/styling/lib/styles/CommonStyles.js":function(e,t,n){"use strict";n.r(t),n.d(t,"HighContrastSelector",(function(){return i})),n.d(t,"HighContrastSelectorWhite",(function(){return r})),n.d(t,"HighContrastSelectorBlack",(function(){return o})),n.d(t,"ScreenWidthMinSmall",(function(){return s})),n.d(t,"ScreenWidthMinMedium",(function(){return a})),n.d(t,"ScreenWidthMinLarge",(function(){return c})),n.d(t,"ScreenWidthMinXLarge",(function(){return l})),n.d(t,"ScreenWidthMinXXLarge",(function(){return u})),n.d(t,"ScreenWidthMinXXXLarge",(function(){return d})),n.d(t,"ScreenWidthMaxSmall",(function(){return p})),n.d(t,"ScreenWidthMaxMedium",(function(){return A})),n.d(t,"ScreenWidthMaxLarge",(function(){return m})),n.d(t,"ScreenWidthMaxXLarge",(function(){return h})),n.d(t,"ScreenWidthMaxXXLarge",(function(){return f})),n.d(t,"ScreenWidthMinUhfMobile",(function(){return g})),n.d(t,"getScreenSelector",(function(){return v}));var i="@media screen and (-ms-high-contrast: active)",r="@media screen and (-ms-high-contrast: black-on-white)",o="@media screen and (-ms-high-contrast: white-on-black)",s=320,a=480,c=640,l=1024,u=1366,d=1920,p=a-1,A=c-1,m=l-1,h=u-1,f=d-1,g=768;function v(e,t){return"@media only screen and (min-width: "+e+"px) and (max-width: "+t+"px)"}},"./node_modules/@uifabric/styling/lib/styles/DefaultEffects.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DefaultEffects",(function(){return i}));var i={elevation4:"0 1.6px 3.6px 0 rgba(0, 0, 0, 0.132), 0 0.3px 0.9px 0 rgba(0, 0, 0, 0.108)",elevation8:"0 3.2px 7.2px 0 rgba(0, 0, 0, 0.132), 0 0.6px 1.8px 0 rgba(0, 0, 0, 0.108)",elevation16:"0 6.4px 14.4px 0 rgba(0, 0, 0, 0.132), 0 1.2px 3.6px 0 rgba(0, 0, 0, 0.108)",elevation64:"0 25.6px 57.6px 0 rgba(0, 0, 0, 0.22), 0 4.8px 14.4px 0 rgba(0, 0, 0, 0.18)",roundedCorner2:"2px"}},"./node_modules/@uifabric/styling/lib/styles/DefaultFontStyles.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DefaultFontStyles",(function(){return c})),n.d(t,"registerDefaultFontFaces",(function(){return d}));var i,r,o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js"),s=n("./node_modules/@uifabric/styling/lib/styles/fonts.js"),a=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/index.js"),c=Object(s.createFontStyles)(Object(a.getLanguage)());function l(e,t,n,i){e="'"+e+"'";var r=void 0!==i?"local('"+i+"'),":"";Object(o.fontFace)({fontFamily:e,src:r+"url('"+t+".woff2') format('woff2'),url('"+t+".woff') format('woff')",fontWeight:n,fontStyle:"normal"})}function u(e,t,n,i,r){void 0===i&&(i="segoeui");var o=e+"/"+n+"/"+i;l(t,o+"-light",s.FontWeights.light,r&&r+" Light"),l(t,o+"-semilight",s.FontWeights.semilight,r&&r+" SemiLight"),l(t,o+"-regular",s.FontWeights.regular,r),l(t,o+"-semibold",s.FontWeights.semibold,r&&r+" SemiBold")}function d(e){var t;e&&(u(t=e+"/fonts",s.LocalizedFontNames.Thai,"leelawadeeui-thai","leelawadeeui"),u(t,s.LocalizedFontNames.Arabic,"segoeui-arabic"),u(t,s.LocalizedFontNames.Cyrillic,"segoeui-cyrillic"),u(t,s.LocalizedFontNames.EastEuropean,"segoeui-easteuropean"),u(t,s.LocalizedFontNames.Greek,"segoeui-greek"),u(t,s.LocalizedFontNames.Hebrew,"segoeui-hebrew"),u(t,s.LocalizedFontNames.Vietnamese,"segoeui-vietnamese"),u(t,s.LocalizedFontNames.WestEuropean,"segoeui-westeuropean","segoeui","Segoe UI"),u(t,s.LocalizedFontFamilies.Selawik,"selawik","selawik"),l("Leelawadee UI Web",t+"/leelawadeeui-thai/leelawadeeui-semilight",s.FontWeights.light),l("Leelawadee UI Web",t+"/leelawadeeui-thai/leelawadeeui-bold",s.FontWeights.semibold))}d((r=(i=Object(a.getWindow)())?i.FabricConfig:void 0)&&void 0!==r.fontBaseUrl?r.fontBaseUrl:"https://static2.sharepointonline.com/files/fabric/assets")},"./node_modules/@uifabric/styling/lib/styles/DefaultPalette.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DefaultPalette",(function(){return i}));var i={themeDarker:"#004578",themeDark:"#005a9e",themeDarkAlt:"#106ebe",themePrimary:"#0078d4",themeSecondary:"#2b88d8",themeTertiary:"#71afe5",themeLight:"#c7e0f4",themeLighter:"#deecf9",themeLighterAlt:"#eff6fc",black:"#000000",blackTranslucent40:"rgba(0,0,0,.4)",neutralDark:"#201f1e",neutralPrimary:"#323130",neutralPrimaryAlt:"#3b3a39",neutralSecondary:"#605e5c",neutralSecondaryAlt:"#8a8886",neutralTertiary:"#a19f9d",neutralTertiaryAlt:"#c8c6c4",neutralQuaternary:"#d2d0ce",neutralQuaternaryAlt:"#e1dfdd",neutralLight:"#edebe9",neutralLighter:"#f3f2f1",neutralLighterAlt:"#faf9f8",accent:"#0078d4",white:"#ffffff",whiteTranslucent40:"rgba(255,255,255,.4)",yellowDark:"#d29200",yellow:"#ffb900",yellowLight:"#fff100",orange:"#d83b01",orangeLight:"#ea4300",orangeLighter:"#ff8c00",redDark:"#a4262c",red:"#e81123",magentaDark:"#5c005c",magenta:"#b4009e",magentaLight:"#e3008c",purpleDark:"#32145a",purple:"#5c2d91",purpleLight:"#b4a0ff",blueDark:"#002050",blueMid:"#00188f",blue:"#0078d4",blueLight:"#00bcf2",tealDark:"#004b50",teal:"#008272",tealLight:"#00b294",greenDark:"#004b1c",green:"#107c10",greenLight:"#bad80a"}},"./node_modules/@uifabric/styling/lib/styles/DefaultSpacing.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DefaultSpacing",(function(){return i}));var i={s2:"4px",s1:"8px",m:"16px",l1:"20px",l2:"32px"}},"./node_modules/@uifabric/styling/lib/styles/GeneralStyles.js":function(e,t,n){"use strict";n.r(t),n.d(t,"normalize",(function(){return i})),n.d(t,"noWrap",(function(){return r}));var i={boxShadow:"none",margin:0,padding:0,boxSizing:"border-box"},r={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},"./node_modules/@uifabric/styling/lib/styles/PulsingBeaconAnimationStyles.js":function(e,t,n){"use strict";n.r(t),n.d(t,"PulsingBeaconAnimationStyles",(function(){return l}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js");function o(e,t){return{borderColor:e,borderWidth:"0px",width:t,height:t}}function s(e){return{opacity:1,borderWidth:e}}function a(e,t){return{borderWidth:"0",width:t,height:t,opacity:0,borderColor:e}}function c(e,t){return i.__assign({},o(e,t),{opacity:0})}var l={continuousPulseAnimationDouble:function(e,t,n,i,l){return Object(r.keyframes)({"0%":o(e,n),"1.42%":s(l),"3.57%":{opacity:1},"7.14%":a(t,i),"8%":c(e,n),"29.99%":c(e,n),"30%":o(e,n),"31.42%":s(l),"33.57%":{opacity:1},"37.14%":a(t,i),"38%":c(e,n),"79.42%":c(e,n),79.43:o(e,n),81.85:s(l),83.42:{opacity:1},"87%":a(t,i),"100%":{}})},continuousPulseAnimationSingle:function(e,t,n,i,c){return Object(r.keyframes)({"0%":o(e,n),"14.2%":s(c),"35.7%":{opacity:1},"71.4%":a(t,i),"100%":{}})},createDefaultAnimation:function(e,t){return{animationName:e,animationIterationCount:"1",animationDuration:"14s",animationDelay:t||"2s"}}}},"./node_modules/@uifabric/styling/lib/styles/fonts.js":function(e,t,n){"use strict";n.r(t),n.d(t,"LocalizedFontNames",(function(){return i})),n.d(t,"LocalizedFontFamilies",(function(){return o})),n.d(t,"FontSizes",(function(){return a})),n.d(t,"FontWeights",(function(){return l})),n.d(t,"IconFontSizes",(function(){return d})),n.d(t,"createFontStyles",(function(){return h}));var i,r,o,s;(r=i=i||{}).Arabic="Segoe UI Web (Arabic)",r.Cyrillic="Segoe UI Web (Cyrillic)",r.EastEuropean="Segoe UI Web (East European)",r.Greek="Segoe UI Web (Greek)",r.Hebrew="Segoe UI Web (Hebrew)",r.Thai="Leelawadee UI Web",r.Vietnamese="Segoe UI Web (Vietnamese)",r.WestEuropean="Segoe UI Web (West European)",r.Selawik="Selawik Web",(s=o=o||{}).Arabic="'"+i.Arabic+"'",s.ChineseSimplified="'Microsoft Yahei UI', Verdana, Simsun",s.ChineseTraditional="'Microsoft Jhenghei UI', Pmingliu",s.Cyrillic="'"+i.Cyrillic+"'",s.EastEuropean="'"+i.EastEuropean+"'",s.Greek="'"+i.Greek+"'",s.Hebrew="'"+i.Hebrew+"'",s.Hindi="'Nirmala UI'",s.Japanese="'Yu Gothic UI', 'Meiryo UI', Meiryo, 'MS Pgothic', Osaka",s.Korean="'Malgun Gothic', Gulim",s.Selawik="'"+i.Selawik+"'",s.Thai="'Leelawadee UI Web', 'Kmer UI'",s.Vietnamese="'"+i.Vietnamese+"'",s.WestEuropean="'"+i.WestEuropean+"'";var a,c,l,u,d,p,A="'Segoe UI', '"+i.WestEuropean+"'",m={ar:o.Arabic,bg:o.Cyrillic,cs:o.EastEuropean,el:o.Greek,et:o.EastEuropean,he:o.Hebrew,hi:o.Hindi,hr:o.EastEuropean,hu:o.EastEuropean,ja:o.Japanese,kk:o.EastEuropean,ko:o.Korean,lt:o.EastEuropean,lv:o.EastEuropean,pl:o.EastEuropean,ru:o.Cyrillic,sk:o.EastEuropean,"sr-latn":o.EastEuropean,th:o.Thai,tr:o.EastEuropean,uk:o.Cyrillic,vi:o.Vietnamese,"zh-hans":o.ChineseSimplified,"zh-hant":o.ChineseTraditional};function h(e){var t=function(e){for(var t in m)if(m.hasOwnProperty(t)&&e&&0===t.indexOf(e))return m[t];return A}(e)+", 'Segoe UI', -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', sans-serif";return{tiny:f(a.mini,l.regular,t),xSmall:f(a.xSmall,l.regular,t),small:f(a.small,l.regular,t),smallPlus:f(a.smallPlus,l.regular,t),medium:f(a.medium,l.regular,t),mediumPlus:f(a.mediumPlus,l.regular,t),large:f(a.large,l.regular,t),xLarge:f(a.xLarge,l.semibold,t),xLargePlus:f(a.xLargePlus,l.semibold,t),xxLarge:f(a.xxLarge,l.semibold,t),xxLargePlus:f(a.xxLargePlus,l.semibold,t),superLarge:f(a.superLarge,l.semibold,t),mega:f(a.mega,l.semibold,t)}}function f(e,t,n){return{fontFamily:n,MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",fontSize:e,fontWeight:t}}(c=a=a||{}).mini="10px",c.xSmall="10px",c.small="12px",c.smallPlus="12px",c.medium="14px",c.mediumPlus="16px",c.icon="16px",c.large="18px",c.xLarge="20px",c.xLargePlus="24px",c.xxLarge="28px",c.xxLargePlus="32px",c.superLarge="42px",c.mega="68px",(u=l=l||{}).light=100,u.semilight=300,u.regular=400,u.semibold=600,u.bold=700,(p=d=d||{}).xSmall="10px",p.small="12px",p.medium="16px",p.large="20px"},"./node_modules/@uifabric/styling/lib/styles/getFadedOverflowStyle.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getFadedOverflowStyle",(function(){return i}));function i(e,t,n,i,o){void 0===t&&(t="bodyBackground"),void 0===n&&(n="horizontal"),void 0===i&&(i=r("width",n)),void 0===o&&(o=r("height",n));var s=e.semanticColors[t]||e.palette[t],a=function(e){if("#"===e[0])return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)};if(0===e.indexOf("rgba(")){var t=(e=e.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2]}}return{r:255,g:255,b:255}}(s);return{content:'""',position:"absolute",right:0,bottom:0,width:i,height:o,pointerEvents:"none",backgroundImage:"linear-gradient("+("vertical"===n?"to bottom":"to right")+", rgba("+a.r+", "+a.g+", "+a.b+", 0) 0%, "+s+" 100%)"}}function r(e,t){return"width"===e?"horizontal"===t?20:"100%":"vertical"===t?"50%":"100%"}},"./node_modules/@uifabric/styling/lib/styles/getFocusStyle.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getFocusStyle",(function(){return s})),n.d(t,"focusClear",(function(){return a})),n.d(t,"getFocusOutlineStyle",(function(){return c}));var i=n("./node_modules/@uifabric/styling/lib/styles/CommonStyles.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/index.js"),o=n("./node_modules/@uifabric/styling/lib/styles/zIndexes.js");function s(e,t,n,s,a,c,l){return function(e,t){var n,s;void 0===t&&(t={});var a=t.inset,c=void 0===a?0:a,l=t.width,u=void 0===l?1:l,d=t.position,p=void 0===d?"relative":d,A=t.highContrastStyle,m=t.borderColor,h=void 0===m?e.palette.white:m,f=t.outlineColor,g=void 0===f?e.palette.neutralSecondary:f,v=t.isFocusedOnly,y=void 0===v||v;return{outline:"transparent",position:p,selectors:((n={"::-moz-focus-inner":{border:"0"}})["."+r.IsFocusVisibleClassName+" &"+(y?":focus":"")+":after"]={content:'""',position:"absolute",left:c+1,top:c+1,bottom:c+1,right:c+1,border:u+"px solid "+h,outline:u+"px solid "+g,zIndex:o.ZIndexes.FocusStyle,selectors:((s={})[i.HighContrastSelector]=A,s)},n)}}(e,"number"!=typeof t&&t?t:{inset:t,position:n,highContrastStyle:s,borderColor:a,outlineColor:c,isFocusedOnly:l})}function a(){return{selectors:{"&::-moz-focus-inner":{border:0},"&":{outline:"transparent"}}}}function c(e,t,n,i){var o;return void 0===t&&(t=0),void 0===n&&(n=1),{selectors:((o={})[":global("+r.IsFocusVisibleClassName+") &:focus"]={outline:n+" solid "+(i||e.palette.neutralSecondary),outlineOffset:-t+"px"},o)}}},"./node_modules/@uifabric/styling/lib/styles/getGlobalClassNames.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getGlobalClassNames",(function(){return s}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/index.js"),o=Object(r.memoizeFunction)((function(e,t){var n=i.Stylesheet.getInstance();return t?Object.keys(e).reduce((function(t,i){return t[i]=n.getClassName(e[i]),t}),{}):e}));function s(e,t,n){return o(e,void 0!==n?n:t.disableGlobalClassNames)}},"./node_modules/@uifabric/styling/lib/styles/getPlaceholderStyles.js":function(e,t,n){"use strict";function i(e){return{selectors:{"::placeholder":e,":-ms-input-placeholder":e,"::-ms-input-placeholder":e}}}n.r(t),n.d(t,"getPlaceholderStyles",(function(){return i}))},"./node_modules/@uifabric/styling/lib/styles/hiddenContentStyle.js":function(e,t,n){"use strict";n.r(t),n.d(t,"hiddenContentStyle",(function(){return i}));var i={position:"absolute",width:1,height:1,margin:-1,padding:0,border:0,overflow:"hidden"}},"./node_modules/@uifabric/styling/lib/styles/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/styling/lib/styles/AnimationStyles.js");n.d(t,"AnimationStyles",(function(){return i.AnimationStyles})),n.d(t,"AnimationVariables",(function(){return i.AnimationVariables}));var r=n("./node_modules/@uifabric/styling/lib/styles/DefaultPalette.js");n.d(t,"DefaultPalette",(function(){return r.DefaultPalette}));var o=n("./node_modules/@uifabric/styling/lib/styles/DefaultFontStyles.js");n.d(t,"DefaultFontStyles",(function(){return o.DefaultFontStyles})),n.d(t,"registerDefaultFontFaces",(function(){return o.registerDefaultFontFaces}));var s=n("./node_modules/@uifabric/styling/lib/styles/fonts.js");n.d(t,"FontSizes",(function(){return s.FontSizes})),n.d(t,"FontWeights",(function(){return s.FontWeights})),n.d(t,"IconFontSizes",(function(){return s.IconFontSizes})),n.d(t,"createFontStyles",(function(){return s.createFontStyles}));var a=n("./node_modules/@uifabric/styling/lib/styles/getFocusStyle.js");n.d(t,"getFocusStyle",(function(){return a.getFocusStyle})),n.d(t,"focusClear",(function(){return a.focusClear})),n.d(t,"getFocusOutlineStyle",(function(){return a.getFocusOutlineStyle}));var c=n("./node_modules/@uifabric/styling/lib/styles/hiddenContentStyle.js");n.d(t,"hiddenContentStyle",(function(){return c.hiddenContentStyle}));var l=n("./node_modules/@uifabric/styling/lib/styles/PulsingBeaconAnimationStyles.js");n.d(t,"PulsingBeaconAnimationStyles",(function(){return l.PulsingBeaconAnimationStyles}));var u=n("./node_modules/@uifabric/styling/lib/styles/getGlobalClassNames.js");n.d(t,"getGlobalClassNames",(function(){return u.getGlobalClassNames}));var d=n("./node_modules/@uifabric/styling/lib/styles/scheme.js");n.d(t,"getThemedContext",(function(){return d.getThemedContext}));var p=n("./node_modules/@uifabric/styling/lib/styles/theme.js");n.d(t,"ThemeSettingName",(function(){return p.ThemeSettingName})),n.d(t,"getTheme",(function(){return p.getTheme})),n.d(t,"loadTheme",(function(){return p.loadTheme})),n.d(t,"createTheme",(function(){return p.createTheme})),n.d(t,"registerOnThemeChangeCallback",(function(){return p.registerOnThemeChangeCallback})),n.d(t,"removeOnThemeChangeCallback",(function(){return p.removeOnThemeChangeCallback}));var A=n("./node_modules/@uifabric/styling/lib/styles/CommonStyles.js");n.d(t,"HighContrastSelector",(function(){return A.HighContrastSelector})),n.d(t,"HighContrastSelectorWhite",(function(){return A.HighContrastSelectorWhite})),n.d(t,"HighContrastSelectorBlack",(function(){return A.HighContrastSelectorBlack})),n.d(t,"ScreenWidthMinSmall",(function(){return A.ScreenWidthMinSmall})),n.d(t,"ScreenWidthMinMedium",(function(){return A.ScreenWidthMinMedium})),n.d(t,"ScreenWidthMinLarge",(function(){return A.ScreenWidthMinLarge})),n.d(t,"ScreenWidthMinXLarge",(function(){return A.ScreenWidthMinXLarge})),n.d(t,"ScreenWidthMinXXLarge",(function(){return A.ScreenWidthMinXXLarge})),n.d(t,"ScreenWidthMinXXXLarge",(function(){return A.ScreenWidthMinXXXLarge})),n.d(t,"ScreenWidthMaxSmall",(function(){return A.ScreenWidthMaxSmall})),n.d(t,"ScreenWidthMaxMedium",(function(){return A.ScreenWidthMaxMedium})),n.d(t,"ScreenWidthMaxLarge",(function(){return A.ScreenWidthMaxLarge})),n.d(t,"ScreenWidthMaxXLarge",(function(){return A.ScreenWidthMaxXLarge})),n.d(t,"ScreenWidthMaxXXLarge",(function(){return A.ScreenWidthMaxXXLarge})),n.d(t,"ScreenWidthMinUhfMobile",(function(){return A.ScreenWidthMinUhfMobile})),n.d(t,"getScreenSelector",(function(){return A.getScreenSelector}));var m=n("./node_modules/@uifabric/styling/lib/styles/GeneralStyles.js");n.d(t,"normalize",(function(){return m.normalize})),n.d(t,"noWrap",(function(){return m.noWrap}));var h=n("./node_modules/@uifabric/styling/lib/styles/getFadedOverflowStyle.js");n.d(t,"getFadedOverflowStyle",(function(){return h.getFadedOverflowStyle}));var f=n("./node_modules/@uifabric/styling/lib/styles/getPlaceholderStyles.js");n.d(t,"getPlaceholderStyles",(function(){return f.getPlaceholderStyles}));var g=n("./node_modules/@uifabric/styling/lib/styles/zIndexes.js");n.d(t,"ZIndexes",(function(){return g.ZIndexes}))},"./node_modules/@uifabric/styling/lib/styles/scheme.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getThemedContext",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/index.js");function r(e,t,n){var r,o=e,s=n||i.Customizations.getSettings(["theme"],void 0,e.customizations).theme;n&&(r={theme:n});var a=t&&s&&s.schemes&&s.schemes[t];return s&&a&&s!==a&&((r={theme:a}).theme.schemes=s.schemes),r&&(o={customizations:{settings:Object(i.mergeSettings)(e.customizations.settings,r),scopedSettings:e.customizations.scopedSettings}}),o}},"./node_modules/@uifabric/styling/lib/styles/theme.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ThemeSettingName",(function(){return m})),n.d(t,"getTheme",(function(){return h})),n.d(t,"registerOnThemeChangeCallback",(function(){return f})),n.d(t,"removeOnThemeChangeCallback",(function(){return g})),n.d(t,"loadTheme",(function(){return v})),n.d(t,"createTheme",(function(){return y}));var i,r,o=n("./node_modules/tslib/tslib.es6.js"),s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/index.js"),a=n("./node_modules/@uifabric/styling/lib/styles/DefaultFontStyles.js"),c=n("./node_modules/@uifabric/styling/lib/styles/DefaultPalette.js"),l=n("./node_modules/@uifabric/styling/lib/styles/DefaultSpacing.js"),u=n("./node_modules/@microsoft/load-themed-styles/lib-es6/index.js"),d=n("./node_modules/@uifabric/styling/lib/styles/DefaultEffects.js"),p=y({palette:c.DefaultPalette,semanticColors:S(c.DefaultPalette,!1,!1),fonts:a.DefaultFontStyles,isInverted:!1,disableGlobalClassNames:!1}),A=[],m="theme";function h(e){return void 0===e&&(e=!1),!0===e&&(p=y({},e)),p}function f(e){-1===A.indexOf(e)&&A.push(e)}function g(e){var t=A.indexOf(e);-1!==t&&A.splice(t,1)}function v(e,t){var n;return void 0===t&&(t=!1),p=y(e,t),Object(u.loadTheme)(o.__assign({},p.palette,p.semanticColors,p.effects,function(e){for(var t={},n=0,i=Object.keys(e.fonts);n<i.length;n++)for(var r=i[n],o=e.fonts[r],s=0,a=Object.keys(o);s<a.length;s++){var c=a[s],l="ms-font-"+r+"-"+c;t[l]='"[theme:'+l+", default: "+o[c]+']"'}return t}(p))),s.Customizations.applySettings(((n={})[m]=p,n)),A.forEach((function(e){try{e(p)}catch(e){}})),p}function y(e,t){void 0===t&&(t=!1);var n=o.__assign({},c.DefaultPalette,e.palette);e.palette&&e.palette.accent||(n.accent=n.themePrimary);var i=o.__assign({},S(n,!!e.isInverted,t),e.semanticColors),r=o.__assign({},a.DefaultFontStyles);if(e.defaultFontStyle)for(var u=0,p=Object.keys(r);u<p.length;u++)r[A=p[u]]=Object(s.merge)({},r[A],e.defaultFontStyle);if(e.fonts)for(var A,m=0,h=Object.keys(e.fonts);m<h.length;m++)r[A=h[m]]=Object(s.merge)({},r[A],e.fonts[A]);return{palette:n,fonts:o.__assign({},r),semanticColors:i,isInverted:!!e.isInverted,disableGlobalClassNames:!!e.disableGlobalClassNames,spacing:o.__assign({},l.DefaultSpacing,e.spacing),effects:o.__assign({},d.DefaultEffects,e.effects)}}function S(e,t,n){return function(e,t){var n="";return!0===t&&(n=" /* @deprecated */"),e.listTextColor=e.listText+n,e.menuItemBackgroundChecked+=n,e}({bodyBackground:e.white,bodyStandoutBackground:e.neutralLighterAlt,bodyFrameBackground:e.white,bodyFrameDivider:e.neutralLight,bodyText:e.neutralPrimary,bodyTextChecked:e.black,bodySubtext:e.neutralSecondary,bodyDivider:e.neutralLight,disabledBackground:e.neutralLighter,disabledText:e.neutralTertiary,disabledBodyText:e.neutralTertiary,disabledSubtext:e.neutralQuaternary,disabledBodySubtext:e.neutralTertiaryAlt,focusBorder:e.neutralSecondary,variantBorder:e.neutralLight,variantBorderHovered:e.neutralTertiary,defaultStateBackground:e.neutralLighterAlt,errorText:t?"#ff5f5f":e.redDark,warningText:t?"#ffffff":"#333333",errorBackground:t?"rgba(232, 17, 35, .5)":"rgba(245, 135, 145, .2)",blockingBackground:t?"rgba(234, 67, 0, .5)":"rgba(250, 65, 0, .2)",warningBackground:t?"rgba(255, 251, 0, .6)":"rgba(255, 200, 10, .2)",warningHighlight:t?"#fff100":"#ffb900",successBackground:t?"rgba(186, 216, 10, .4)":"rgba(95, 210, 85, .2)",inputBorder:e.neutralSecondaryAlt,inputBorderHovered:e.neutralPrimary,inputBackground:e.white,inputBackgroundChecked:e.themePrimary,inputBackgroundCheckedHovered:e.themeDarkAlt,inputForegroundChecked:e.white,inputFocusBorderAlt:e.themePrimary,smallInputBorder:e.neutralSecondary,inputText:e.neutralPrimary,inputTextHovered:e.neutralDark,inputPlaceholderText:e.neutralSecondary,buttonBackground:e.neutralLighter,buttonBackgroundChecked:e.neutralTertiaryAlt,buttonBackgroundHovered:e.neutralLight,buttonBackgroundCheckedHovered:e.neutralLight,buttonBackgroundPressed:e.neutralLight,buttonBackgroundDisabled:e.neutralLighter,buttonBorder:e.neutralSecondaryAlt,buttonText:e.neutralPrimary,buttonTextHovered:e.neutralDark,buttonTextChecked:e.neutralDark,buttonTextCheckedHovered:e.black,buttonTextPressed:e.neutralDark,buttonTextDisabled:e.neutralTertiary,buttonBorderDisabled:e.neutralLighter,primaryButtonBackground:e.themePrimary,primaryButtonBackgroundHovered:e.themeDarkAlt,primaryButtonBackgroundPressed:e.themeDark,primaryButtonBackgroundDisabled:e.neutralLighter,primaryButtonBorder:"transparent",primaryButtonText:e.white,primaryButtonTextHovered:e.white,primaryButtonTextPressed:e.white,primaryButtonTextDisabled:e.neutralQuaternary,accentButtonBackground:e.accent,accentButtonText:e.white,menuBackground:e.white,menuDivider:e.neutralTertiaryAlt,menuIcon:e.themePrimary,menuHeader:e.themePrimary,menuItemBackgroundHovered:e.neutralLighter,menuItemBackgroundPressed:e.neutralLight,menuItemText:e.neutralPrimary,menuItemTextHovered:e.neutralDark,listBackground:e.white,listText:e.neutralPrimary,listItemBackgroundHovered:e.neutralLighter,listItemBackgroundChecked:e.neutralLight,listItemBackgroundCheckedHovered:e.neutralQuaternaryAlt,listHeaderBackgroundHovered:e.neutralLighter,listHeaderBackgroundPressed:e.neutralLight,actionLink:e.neutralPrimary,actionLinkHovered:e.neutralDark,link:e.themePrimary,linkHovered:e.themeDarker,listTextColor:"",menuItemBackgroundChecked:e.neutralLight},n)}s.Customizations.getSettings([m]).theme||((r=Object(s.getWindow)())&&r.FabricConfig&&r.FabricConfig.theme&&(p=y(r.FabricConfig.theme)),s.Customizations.applySettings(((i={})[m]=p,i)))},"./node_modules/@uifabric/styling/lib/styles/zIndexes.js":function(e,t,n){"use strict";var i,r;n.r(t),n.d(t,"ZIndexes",(function(){return i})),(r=i=i||{}).Nav=1,r.ScrollablePane=1,r.FocusStyle=1,r.Coachmark=1e3,r.Layer=1e6,r.KeytipLayer=1000001},"./node_modules/@uifabric/styling/lib/utilities/buildClassMap.js":function(e,t,n){"use strict";n.r(t),n.d(t,"buildClassMap",(function(){return r}));var i=n("./node_modules/@uifabric/styling/lib/MergeStyles.js");function r(e){var t={};for(var n in e)!function(n){var r;e.hasOwnProperty(n)&&Object.defineProperty(t,n,{get:function(){return void 0===r&&(r=Object(i.mergeStyles)(e[n]).toString()),r},enumerable:!0,configurable:!0})}(n);return t}},"./node_modules/@uifabric/styling/lib/utilities/getIconClassName.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getIconClassName",(function(){return s}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js"),r=n("./node_modules/@uifabric/styling/lib/utilities/icons.js"),o={display:"inline-block"};function s(e){var t="",n=Object(r.getIcon)(e);return n&&(t=Object(i.mergeStyles)(n.subset.className,o,{selectors:{"::before":{content:'"'+n.code+'"'}}})),t}},"./node_modules/@uifabric/styling/lib/utilities/icons.js":function(e,t,n){"use strict";n.r(t),n.d(t,"registerIcons",(function(){return l})),n.d(t,"unregisterIcons",(function(){return u})),n.d(t,"registerIconAlias",(function(){return d})),n.d(t,"getIcon",(function(){return p})),n.d(t,"setIconOptions",(function(){return A}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/index.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js"),s=r.GlobalSettings.getValue("icons",{__options:{disableWarnings:!1,warnOnMissingIcons:!0},__remapped:{}}),a=o.Stylesheet.getInstance();a&&a.onReset&&a.onReset((function(){for(var e in s)s.hasOwnProperty(e)&&s[e].subset&&(s[e].subset.className=void 0)}));var c=function(e){return e.toLowerCase()};function l(e,t){var n,o,a,l=i.__assign({},e,{isRegistered:!1,className:void 0}),u=e.icons;for(var d in t=t?i.__assign({},s.__options,t):s.__options,u)u.hasOwnProperty(d)&&(n=u[d],o=c(d),s[o]?(a=d,s.__options.disableWarnings||(m.push(a),void 0===h&&(h=setTimeout((function(){Object(r.warn)("Some icons were re-registered. Applications should only call registerIcons for any given icon once. Redefining what an icon is may have unintended consequences. Duplicates include: \n"+m.slice(0,10).join(", ")+(10<m.length?" (+ "+(m.length-10)+" more)":"")),h=void 0,m=[]}),2e3)))):s[o]={code:n,subset:l})}function u(e){for(var t=s.__options,n=0,i=e;n<i.length;n++)!function(e){var n=c(e);s[n]?delete s[n]:t.disableWarnings||Object(r.warn)('The icon "'+e+'" tried to unregister but was not registered.'),s.__remapped[n]&&delete s.__remapped[n],Object.keys(s.__remapped).forEach((function(e){s.__remapped[e]===n&&delete s.__remapped[e]}))}(i[n])}function d(e,t){s.__remapped[c(e)]=c(t)}function p(e){var t,n=void 0,i=s.__options;return e=e?c(e):"",(e=s.__remapped[e]||e)&&((n=s[e])?(t=n.subset)&&t.fontFace&&(t.isRegistered||(Object(o.fontFace)(t.fontFace),t.isRegistered=!0),t.className||(t.className=Object(o.mergeStyles)(t.style,{fontFamily:t.fontFace.fontFamily,fontWeight:t.fontFace.fontWeight||"normal",fontStyle:t.fontFace.fontStyle||"normal"}))):!i.disableWarnings&&i.warnOnMissingIcons&&Object(r.warn)('The icon "'+e+'" was used but not registered. See http://aka.ms/fabric-icon-usage for more information.')),n}function A(e){s.__options=i.__assign({},s.__options,e)}var m=[],h=void 0},"./node_modules/@uifabric/styling/lib/utilities/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/styling/lib/utilities/buildClassMap.js");n.d(t,"buildClassMap",(function(){return i.buildClassMap}));var r=n("./node_modules/@uifabric/styling/lib/utilities/icons.js");n.d(t,"getIcon",(function(){return r.getIcon})),n.d(t,"registerIcons",(function(){return r.registerIcons})),n.d(t,"registerIconAlias",(function(){return r.registerIconAlias})),n.d(t,"unregisterIcons",(function(){return r.unregisterIcons})),n.d(t,"setIconOptions",(function(){return r.setIconOptions}));var o=n("./node_modules/@uifabric/styling/lib/utilities/getIconClassName.js");n.d(t,"getIconClassName",(function(){return o.getIconClassName}))},"./node_modules/@uifabric/styling/lib/version.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/set-version/lib/index.js");Object(i.setVersion)("@uifabric/styling","6.47.6")},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/StyleOptionsState.js":function(e,t,n){"use strict";function i(e){o!==e&&(o=e)}function r(){return void 0===o&&(o="undefined"!=typeof document&&!!document.documentElement&&"rtl"===document.documentElement.getAttribute("dir")),o}var o;function s(){return{rtl:r()}}n.r(t),n.d(t,"setRTL",(function(){return i})),n.d(t,"getRTL",(function(){return r})),n.d(t,"getStyleOptions",(function(){return s})),o=r()},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/Stylesheet.js":function(e,t,n){"use strict";n.r(t),n.d(t,"InjectionMode",(function(){return o})),n.d(t,"Stylesheet",(function(){return l}));var i,r=n("./node_modules/tslib/tslib.es6.js"),o={none:0,insertNode:1,appendChild:2},s="__stylesheet__",a="undefined"!=typeof navigator&&/rv:11.0/.test(navigator.userAgent),c={};try{c=window}catch(e){}var l=(u.getInstance=function(){var e;return(!(i=c[s])||i._lastStyleElement&&i._lastStyleElement.ownerDocument!==document)&&(e=(null==c?void 0:c.FabricConfig)||{},i=c[s]=new u(e.mergeStyles)),i},u.prototype.setConfig=function(e){this._config=Object(r.__assign)(Object(r.__assign)({},this._config),e)},u.prototype.onReset=function(e){this._onResetCallbacks.push(e)},u.prototype.getClassName=function(e){var t=this._config.namespace;return(t?t+"-":"")+(e||this._config.defaultPrefix)+"-"+this._counter++},u.prototype.cacheClassName=function(e,t,n,i){this._keyToClassName[t]=e,this._classNameToArgs[e]={args:n,rules:i}},u.prototype.classNameFromKey=function(e){return this._keyToClassName[e]},u.prototype.getClassNameCache=function(){return this._keyToClassName},u.prototype.argsFromClassName=function(e){var t=this._classNameToArgs[e];return t&&t.args},u.prototype.insertedRulesFromClassName=function(e){var t=this._classNameToArgs[e];return t&&t.rules},u.prototype.insertRule=function(e,t){var n=this._config.injectionMode!==o.none?this._getStyleElement():void 0;if(t&&this._preservedRules.push(e),n)switch(this._config.injectionMode){case o.insertNode:var i=n.sheet;try{i.insertRule(e,i.cssRules.length)}catch(e){}break;case o.appendChild:n.appendChild(document.createTextNode(e))}else this._rules.push(e);this._config.onInsertRule&&this._config.onInsertRule(e)},u.prototype.getRules=function(e){return(e?this._preservedRules.join(""):"")+this._rules.join("")+this._rulesToInsert.join("")},u.prototype.reset=function(){this._rules=[],this._rulesToInsert=[],this._counter=0,this._classNameToArgs={},this._keyToClassName={},this._onResetCallbacks.forEach((function(e){return e()}))},u.prototype.resetKeys=function(){this._keyToClassName={}},u.prototype._getStyleElement=function(){var e=this;return this._styleElement||"undefined"==typeof document||(this._styleElement=this._createStyleElement(),a||window.requestAnimationFrame((function(){e._styleElement=void 0}))),this._styleElement},u.prototype._createStyleElement=function(){var e=document.head,t=document.createElement("style");t.setAttribute("data-merge-styles","true");var n,i=this._config.cspSettings;return i&&i.nonce&&t.setAttribute("nonce",i.nonce),this._lastStyleElement?e.insertBefore(t,this._lastStyleElement.nextElementSibling):(n=this._findPlaceholderStyleTag())?e.insertBefore(t,n.nextElementSibling):e.insertBefore(t,e.childNodes[0]),this._lastStyleElement=t},u.prototype._findPlaceholderStyleTag=function(){var e=document.head;return e?e.querySelector("style[data-merge-styles]"):null},u);function u(e){this._rules=[],this._preservedRules=[],this._rulesToInsert=[],this._counter=0,this._keyToClassName={},this._onResetCallbacks=[],this._classNameToArgs={},this._config=Object(r.__assign)({injectionMode:o.insertNode,defaultPrefix:"css",namespace:void 0,cspSettings:void 0},e),this._keyToClassName=this._config.classNameCache||{}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/concatStyleSets.js":function(e,t,n){"use strict";n.r(t),n.d(t,"concatStyleSets",(function(){return r}));var i=n("./node_modules/tslib/tslib.es6.js");function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e&&1===e.length&&e[0]&&!e[0].subComponentStyles)return e[0];for(var n={},o={},s=0,a=e;s<a.length;s++){var c=a[s];if(c)for(var l in c)if(c.hasOwnProperty(l)){if("subComponentStyles"===l&&void 0!==c.subComponentStyles){var u=c.subComponentStyles;for(var d in u)u.hasOwnProperty(d)&&(o.hasOwnProperty(d)?o[d].push(u[d]):o[d]=[u[d]]);continue}var p=n[l],A=c[l];n[l]=void 0===p?A:Object(i.__spreadArrays)(Array.isArray(p)?p:[p],Array.isArray(A)?A:[A])}}if(0<Object.keys(o).length){n.subComponentStyles={};var m=n.subComponentStyles;for(var d in o)!function(e){var t;o.hasOwnProperty(e)&&(t=o[e],m[e]=function(e){return r.apply(void 0,t.map((function(t){return"function"==typeof t?t(e):t})))})}(d)}return n}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/concatStyleSetsWithProps.js":function(e,t,n){"use strict";n.r(t),n.d(t,"concatStyleSetsWithProps",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/concatStyleSets.js");function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=[],o=0,s=t;o<s.length;o++){var a=s[o];a&&r.push("function"==typeof a?a(e):a)}return 1===r.length?r[0]:r.length?i.concatStyleSets.apply(void 0,r):{}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/extractStyleParts.js":function(e,t,n){"use strict";n.r(t),n.d(t,"extractStyleParts",(function(){return o}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/Stylesheet.js");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[],o=[],s=i.Stylesheet.getInstance();return function e(t){for(var i=0,a=t;i<a.length;i++){var c,l=a[i];l&&("string"==typeof l?0<=l.indexOf(" ")?e(l.split(" ")):(c=s.argsFromClassName(l))?e(c):-1===n.indexOf(l)&&n.push(l):Array.isArray(l)?e(l):"object"===r(l)&&o.push(l))}}(e),{classes:n,objects:o}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/fontFace.js":function(e,t,n){"use strict";n.r(t),n.d(t,"fontFace",(function(){return s}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/StyleOptionsState.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/Stylesheet.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/styleToClassName.js");function s(e){r.Stylesheet.getInstance().insertRule("@font-face{"+Object(o.serializeRuleEntries)(Object(i.getStyleOptions)(),e)+"}",!0)}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/getVendorSettings.js":function(e,t,n){"use strict";var i;function r(){var e,t,n;return i||(e="undefined"!=typeof document?document:void 0,n=(t="undefined"!=typeof navigator?navigator:void 0)?t.userAgent.toLowerCase():void 0,i=e?{isWebkit:!(!e||!("WebkitAppearance"in e.documentElement.style)),isMoz:!!(n&&-1<n.indexOf("firefox")),isOpera:!!(n&&-1<n.indexOf("opera")),isMs:!(!t||!/rv:11.0/i.test(t.userAgent)&&!/Edge\/\d./i.test(navigator.userAgent))}:{isWebkit:!0,isMoz:!0,isOpera:!0,isMs:!0}),i}function o(e){i=e}n.r(t),n.d(t,"getVendorSettings",(function(){return r})),n.d(t,"setVendorSettings",(function(){return o}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/mergeStyles.js");n.d(t,"mergeStyles",(function(){return i.mergeStyles})),n.d(t,"mergeCss",(function(){return i.mergeCss}));var r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/mergeStyleSets.js");n.d(t,"mergeStyleSets",(function(){return r.mergeStyleSets})),n.d(t,"mergeCssSets",(function(){return r.mergeCssSets}));var o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/concatStyleSets.js");n.d(t,"concatStyleSets",(function(){return o.concatStyleSets}));var s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/concatStyleSetsWithProps.js");n.d(t,"concatStyleSetsWithProps",(function(){return s.concatStyleSetsWithProps}));var a=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/fontFace.js");n.d(t,"fontFace",(function(){return a.fontFace}));var c=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/keyframes.js");n.d(t,"keyframes",(function(){return c.keyframes}));var l=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/Stylesheet.js");n.d(t,"InjectionMode",(function(){return l.InjectionMode})),n.d(t,"Stylesheet",(function(){return l.Stylesheet}));var u=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/StyleOptionsState.js");n.d(t,"setRTL",(function(){return u.setRTL})),n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/version.js")},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/keyframes.js":function(e,t,n){"use strict";n.r(t),n.d(t,"keyframes",(function(){return s}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/StyleOptionsState.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/Stylesheet.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/styleToClassName.js");function s(e){var t=r.Stylesheet.getInstance(),n=t.getClassName(),s=[];for(var a in e)e.hasOwnProperty(a)&&s.push(a,"{",Object(o.serializeRuleEntries)(Object(i.getStyleOptions)(),e[a]),"}");var c=s.join("");return t.insertRule("@keyframes "+n+"{"+c+"}",!0),t.cacheClassName(n,c,[],["keyframes",c]),n}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/mergeStyleSets.js":function(e,t,n){"use strict";n.r(t),n.d(t,"mergeStyleSets",(function(){return a})),n.d(t,"mergeCssSets",(function(){return c}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/concatStyleSets.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/extractStyleParts.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/StyleOptionsState.js"),s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/styleToClassName.js");function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c(e,Object(o.getStyleOptions)())}function c(e,t){var n={subComponentStyles:{}};if(!e[0]&&e.length<=1)return{subComponentStyles:{}};var o=i.concatStyleSets.apply(void 0,e),a=[];for(var c in o)if(o.hasOwnProperty(c)){if("subComponentStyles"===c){n.subComponentStyles=o.subComponentStyles||{};continue}var l=o[c],u=Object(r.extractStyleParts)(l),d=u.classes,p=u.objects;null!=p&&p.length?(A=Object(s.styleToRegistration)(t||{},{displayName:c},p))&&(a.push(A),n[c]=d.concat([A.className]).join(" ")):n[c]=d.join(" ")}for(var A,m=0,h=a;m<h.length;m++)(A=h[m])&&Object(s.applyRegistration)(A,null==t?void 0:t.specificityMultiplier);return n}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/mergeStyles.js":function(e,t,n){"use strict";n.r(t),n.d(t,"mergeStyles",(function(){return s})),n.d(t,"mergeCss",(function(){return a}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/extractStyleParts.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/StyleOptionsState.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/styleToClassName.js");function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(e,Object(r.getStyleOptions)())}function a(e,t){var n=e instanceof Array?e:[e],r=Object(i.extractStyleParts)(n),s=r.classes,a=r.objects;return a.length&&s.push(Object(o.styleToClassName)(t||{},a)),s.join(" ")}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/styleToClassName.js":function(e,t,n){"use strict";n.r(t),n.d(t,"serializeRuleEntries",(function(){return m})),n.d(t,"styleToRegistration",(function(){return h})),n.d(t,"applyRegistration",(function(){return f})),n.d(t,"styleToClassName",(function(){return g}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/Stylesheet.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/transforms/kebabRules.js"),s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/transforms/prefixRules.js"),a=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/transforms/provideUnits.js"),c=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/transforms/rtlifyRules.js");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=/\:global\((.+?)\)/g;function d(e,t){return 0<=e.indexOf(":global(")?e.replace(u,"$1"):0===e.indexOf(":")?t+e:e.indexOf("&")<0?t+" "+e:e}function p(e,t,n,i){void 0===t&&(t={__order:[]}),0===n.indexOf("@")?A([i],t,n=n+"{"+e):-1<n.indexOf(",")?function(e){if(!u.test(e))return e;for(var t=[],n=/\:global\((.+?)\)/g,i=null;i=n.exec(e);)-1<i[1].indexOf(",")&&t.push([i.index,i.index+i[0].length,i[1].split(",").map((function(e){return":global("+e.trim()+")"})).join(", ")]);return t.reverse().reduce((function(e,t){var n=t[0],i=t[1],r=t[2];return e.slice(0,n)+r+e.slice(i)}),e)}(n).split(",").map((function(e){return e.trim()})).forEach((function(n){return A([i],t,d(n,e))})):A([i],t,d(n,e))}function A(e,t,n){void 0===t&&(t={__order:[]}),void 0===n&&(n="&");var i=r.Stylesheet.getInstance(),o=t[n];o||(o={},t[n]=o,t.__order.push(n));for(var s,a,c,u,d=0,m=e;d<m.length;d++){var h=m[d];if("string"==typeof h){var f=i.argsFromClassName(h);f&&A(f,t,n)}else if(Array.isArray(h))A(h,t,n);else for(var g in h)if(h.hasOwnProperty(g)){var v=h[g];if("selectors"===g){var y=h.selectors;for(var S in y)y.hasOwnProperty(S)&&p(n,t,S,y[S])}else"object"===l(v)?null!==v&&p(n,t,g,v):void 0!==v&&("margin"===g||"padding"===g?(s=o,a=g,void 0,u="string"==typeof(c=v)?c.split(" "):[c],s[a+"Top"]=u[0],s[a+"Right"]=u[1]||u[0],s[a+"Bottom"]=u[2]||u[0],s[a+"Left"]=u[3]||u[1]||u[0]):o[g]=v)}}return t}function m(e,t){if(!t)return"";var n=[];for(var i in t)t.hasOwnProperty(i)&&"displayName"!==i&&void 0!==t[i]&&n.push(i,t[i]);for(var r=0;r<n.length;r+=2)Object(o.kebabRules)(n,r),Object(a.provideUnits)(n,r),Object(c.rtlifyRules)(e,n,r),Object(s.prefixRules)(n,r);for(r=1;r<n.length;r+=4)n.splice(r,1,":",n[r],";");return n.join("")}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i,o,s=A(t),a=function(e,t){for(var n=[e.rtl?"rtl":"ltr"],i=!1,r=0,o=t.__order;r<o.length;r++){var s=o[r];n.push(s);var a=t[s];for(var c in a)a.hasOwnProperty(c)&&void 0!==a[c]&&(i=!0,n.push(c,a[c]))}return i?n.join(""):void 0}(e,s);if(a){var c=r.Stylesheet.getInstance(),l={className:c.classNameFromKey(a),key:a,args:t};if(!l.className){l.className=c.getClassName((o=(i=s)&&i["&"])?o.displayName:void 0);for(var u=[],d=0,p=s.__order;d<p.length;d++){var h=p[d];u.push(h,m(e,s[h]))}l.rulesToInsert=u}return l}}function f(e,t){void 0===t&&(t=1);var n=r.Stylesheet.getInstance(),i=e.className,o=e.key,s=e.args,a=e.rulesToInsert;if(a){for(var c=0;c<a.length;c+=2){var l,u,d=a[c+1];d&&(u=(l=(l=a[c]).replace(/&/g,function e(t,n){return n<=0?"":1===n?t:t+e(t,n-1)}("."+e.className,t)))+"{"+d+"}"+(0===l.indexOf("@")?"}":""),n.insertRule(u))}n.cacheClassName(i,o,s,a)}}function g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=h.apply(void 0,Object(i.__spreadArrays)([e],t));return r?(f(r,e.specificityMultiplier),r.className):""}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/transforms/kebabRules.js":function(e,t,n){"use strict";n.r(t),n.d(t,"kebabRules",(function(){return r}));var i={};function r(e,t){var n=e[t];"-"!==n.charAt(0)&&(e[t]=i[n]=i[n]||n.replace(/([A-Z])/g,"-$1").toLowerCase())}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/transforms/prefixRules.js":function(e,t,n){"use strict";n.r(t),n.d(t,"prefixRules",(function(){return o}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/getVendorSettings.js"),r={"user-select":1};function o(e,t){var n,o=Object(i.getVendorSettings)(),s=e[t];r[s]&&(n=e[t+1],r[s]&&(o.isWebkit&&e.push("-webkit-"+s,n),o.isMoz&&e.push("-moz-"+s,n),o.isMs&&e.push("-ms-"+s,n),o.isOpera&&e.push("-o-"+s,n)))}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/transforms/provideUnits.js":function(e,t,n){"use strict";n.r(t),n.d(t,"provideUnits",(function(){return r}));var i=["column-count","font-weight","flex","flex-grow","flex-shrink","fill-opacity","opacity","order","z-index","zoom"];function r(e,t){var n,r=e[t],o=e[t+1];"number"==typeof o&&(n=-1===i.indexOf(r)?"px":"",e[t+1]=o+n)}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/transforms/rtlifyRules.js":function(e,t,n){"use strict";var i;n.r(t),n.d(t,"rtlifyRules",(function(){return c}));var r="left",o="right",s=((i={})[r]=o,i[o]=r,i),a={"w-resize":"e-resize","sw-resize":"se-resize","nw-resize":"ne-resize"};function c(e,t,n){if(e.rtl){var i=t[n];if(!i)return;var c=t[n+1];if("string"==typeof c&&0<=c.indexOf("@noflip"))t[n+1]=c.replace(/\s*(?:\/\*\s*)?\@noflip\b(?:\s*\*\/)?\s*?/g,"");else if(0<=i.indexOf(r))t[n]=i.replace(r,o);else if(0<=i.indexOf(o))t[n]=i.replace(o,r);else if(0<=String(c).indexOf(r))t[n+1]=c.replace(r,o);else if(0<=String(c).indexOf(o))t[n+1]=c.replace(o,r);else if(s[i])t[n]=s[i];else if(a[c])t[n+1]=a[c];else switch(i){case"margin":case"padding":t[n+1]=function(e){if("string"==typeof e){var t=e.split(" ");if(4===t.length)return t[0]+" "+t[3]+" "+t[2]+" "+t[1]}return e}(c);break;case"box-shadow":t[n+1]=(0,l=c.split(" "),u=parseInt(l[0],10),l[0]=l[0].replace(String(u),String(-1*u)),l.join(" "))}}var l,u}},"./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/version.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/set-version/lib/index.js");Object(i.setVersion)("@uifabric/merge-styles","7.18.0")},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/Async.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Async",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js"),r=(o.prototype.dispose=function(){var e;if(this._isDisposed=!0,this._parent=null,this._timeoutIds){for(e in this._timeoutIds)this._timeoutIds.hasOwnProperty(e)&&this.clearTimeout(parseInt(e,10));this._timeoutIds=null}if(this._immediateIds){for(e in this._immediateIds)this._immediateIds.hasOwnProperty(e)&&this.clearImmediate(parseInt(e,10));this._immediateIds=null}if(this._intervalIds){for(e in this._intervalIds)this._intervalIds.hasOwnProperty(e)&&this.clearInterval(parseInt(e,10));this._intervalIds=null}if(this._animationFrameIds){for(e in this._animationFrameIds)this._animationFrameIds.hasOwnProperty(e)&&this.cancelAnimationFrame(parseInt(e,10));this._animationFrameIds=null}},o.prototype.setTimeout=function(e,t){var n=this,i=0;return this._isDisposed||(this._timeoutIds||(this._timeoutIds={}),i=setTimeout((function(){try{n._timeoutIds&&delete n._timeoutIds[i],e.apply(n._parent)}catch(e){n._onErrorHandler&&n._onErrorHandler(e)}}),t),this._timeoutIds[i]=!0),i},o.prototype.clearTimeout=function(e){this._timeoutIds&&this._timeoutIds[e]&&(clearTimeout(e),delete this._timeoutIds[e])},o.prototype.setImmediate=function(e,t){var n=this,r=0,o=Object(i.getWindow)(t);return this._isDisposed||(this._immediateIds||(this._immediateIds={}),r=o.setTimeout((function(){try{n._immediateIds&&delete n._immediateIds[r],e.apply(n._parent)}catch(e){n._logError(e)}}),0),this._immediateIds[r]=!0),r},o.prototype.clearImmediate=function(e,t){var n=Object(i.getWindow)(t);this._immediateIds&&this._immediateIds[e]&&(n.clearTimeout(e),delete this._immediateIds[e])},o.prototype.setInterval=function(e,t){var n=this,i=0;return this._isDisposed||(this._intervalIds||(this._intervalIds={}),i=setInterval((function(){try{e.apply(n._parent)}catch(e){n._logError(e)}}),t),this._intervalIds[i]=!0),i},o.prototype.clearInterval=function(e){this._intervalIds&&this._intervalIds[e]&&(clearInterval(e),delete this._intervalIds[e])},o.prototype.throttle=function(e,t,n){var i=this;if(this._isDisposed)return this._noop;var r,o,s=t||0,a=!0,c=!0,l=0,u=null;return n&&"boolean"==typeof n.leading&&(a=n.leading),n&&"boolean"==typeof n.trailing&&(c=n.trailing),function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return o=t,function t(n){var d=Date.now(),p=d-l,A=a?s-p:s;return s<=p&&(!n||a)?(l=d,u&&(i.clearTimeout(u),u=null),r=e.apply(i._parent,o)):null===u&&c&&(u=i.setTimeout(t,A)),r}(!0)}},o.prototype.debounce=function(e,t,n){var i=this;if(this._isDisposed){var r=function(){};return r.cancel=function(){},r.flush=function(){return null},r.pending=function(){return!1},r}var o,s,a=t||0,c=!1,l=!0,u=null,d=0,p=Date.now(),A=null;function m(e){A&&(i.clearTimeout(A),A=null),p=e}function h(t){m(t),o=e.apply(i._parent,s)}function f(){return!!A}function g(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s=e,function e(t){var n=Date.now(),r=!1;t&&(c&&a<=n-d&&(r=!0),d=n);var s=n-d,m=a-s,f=n-p,g=!1;return null!==u&&(u<=f&&A?g=!0:m=Math.min(m,u-f)),a<=s||g||r?h(n):null!==A&&t||!l||(A=i.setTimeout(e,m)),o}(!0)}return n&&"boolean"==typeof n.leading&&(c=n.leading),n&&"boolean"==typeof n.trailing&&(l=n.trailing),n&&"number"==typeof n.maxWait&&!isNaN(n.maxWait)&&(u=n.maxWait),g.cancel=function(){f()&&m(Date.now())},g.flush=function(){return f()&&h(Date.now()),o},g.pending=f,g},o.prototype.requestAnimationFrame=function(e,t){var n,r=this,o=0,s=Object(i.getWindow)(t);return this._isDisposed||(this._animationFrameIds||(this._animationFrameIds={}),n=function(){try{r._animationFrameIds&&delete r._animationFrameIds[o],e.apply(r._parent)}catch(e){r._logError(e)}},o=s.requestAnimationFrame?s.requestAnimationFrame(n):s.setTimeout(n,0),this._animationFrameIds[o]=!0),o},o.prototype.cancelAnimationFrame=function(e,t){var n=Object(i.getWindow)(t);this._animationFrameIds&&this._animationFrameIds[e]&&(n.cancelAnimationFrame?n.cancelAnimationFrame(e):n.clearTimeout(e),delete this._animationFrameIds[e])},o.prototype._logError=function(e){this._onErrorHandler&&this._onErrorHandler(e)},o);function o(e,t){this._timeoutIds=null,this._immediateIds=null,this._intervalIds=null,this._animationFrameIds=null,this._isDisposed=!1,this._parent=e||null,this._onErrorHandler=t,this._noop=function(){}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/AutoScroll.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AutoScroll",(function(){return s}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/EventGroup.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/scroll.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getRect.js"),s=(a.prototype.dispose=function(){this._events.dispose(),this._stopScroll()},a.prototype._onMouseMove=function(e){this._computeScrollVelocity(e)},a.prototype._onTouchMove=function(e){0<e.touches.length&&this._computeScrollVelocity(e)},a.prototype._computeScrollVelocity=function(e){var t,n,i,r,o,s,a,c,l;this._scrollRect&&(n="clientX"in e?(t=e.clientX,e.clientY):(t=e.touches[0].clientX,e.touches[0].clientY),i=this._scrollRect.top,r=this._scrollRect.left,o=i+this._scrollRect.height-100,s=r+this._scrollRect.width-100,n<i+100||o<n?(c=n,a=i,l=o,this._isVerticalScroll=!0):(c=t,a=r,l=s,this._isVerticalScroll=!1),this._scrollVelocity=c<a+100?Math.max(-15,(100-(c-a))/100*-15):l<c?Math.min(15,(c-l)/100*15):0,this._scrollVelocity?this._startScroll():this._stopScroll())},a.prototype._startScroll=function(){this._timeoutId||this._incrementScroll()},a.prototype._incrementScroll=function(){this._scrollableParent&&(this._isVerticalScroll?this._scrollableParent.scrollTop+=Math.round(this._scrollVelocity):this._scrollableParent.scrollLeft+=Math.round(this._scrollVelocity)),this._timeoutId=setTimeout(this._incrementScroll,16)},a.prototype._stopScroll=function(){this._timeoutId&&(clearTimeout(this._timeoutId),delete this._timeoutId)},a);function a(e){this._events=new i.EventGroup(this),this._scrollableParent=Object(r.findScrollableParent)(e),this._incrementScroll=this._incrementScroll.bind(this),this._scrollRect=Object(o.getRect)(this._scrollableParent),this._scrollableParent===window&&(this._scrollableParent=document.body),this._scrollableParent&&(this._events.on(window,"mousemove",this._onMouseMove,!0),this._events.on(window,"touchmove",this._onTouchMove,!0))}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/BaseComponent.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BaseComponent",(function(){return p})),n.d(t,"nullRender",(function(){return m}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/Async.js"),s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/EventGroup.js"),a=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warnConditionallyRequiredProps.js"),c=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warnMutuallyExclusive.js"),l=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warnDeprecations.js");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d,p=(d=r.Component,Object(i.__extends)(A,d),A.prototype.componentDidUpdate=function(e,t){this._updateComponentRef(e,this.props)},A.prototype.componentDidMount=function(){this._setComponentRef(this.props.componentRef,this)},A.prototype.componentWillUnmount=function(){if(this._setComponentRef(this.props.componentRef,null),this.__disposables){for(var e=0,t=this._disposables.length;e<t;e++){var n=this.__disposables[e];n.dispose&&n.dispose()}this.__disposables=null}},Object.defineProperty(A.prototype,"className",{get:function(){var e;return this.__className||(e=/function (.{1,})\(/.exec(this.constructor.toString()),this.__className=e&&1<e.length?e[1]:""),this.__className},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"_disposables",{get:function(){return this.__disposables||(this.__disposables=[]),this.__disposables},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"_async",{get:function(){return this.__async||(this.__async=new o.Async(this),this._disposables.push(this.__async)),this.__async},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"_events",{get:function(){return this.__events||(this.__events=new s.EventGroup(this),this._disposables.push(this.__events)),this.__events},enumerable:!0,configurable:!0}),A.prototype._resolveRef=function(e){var t=this;return this.__resolves||(this.__resolves={}),this.__resolves[e]||(this.__resolves[e]=function(n){return t[e]=n}),this.__resolves[e]},A.prototype._updateComponentRef=function(e,t){void 0===t&&(t={}),e&&t&&e.componentRef!==t.componentRef&&(this._setComponentRef(e.componentRef,null),this._setComponentRef(t.componentRef,this))},A.prototype._warnDeprecations=function(e){Object(l.warnDeprecations)(this.className,this.props,e)},A.prototype._warnMutuallyExclusive=function(e){Object(c.warnMutuallyExclusive)(this.className,this.props,e)},A.prototype._warnConditionallyRequiredProps=function(e,t,n){Object(a.warnConditionallyRequiredProps)(this.className,this.props,e,t,n)},A.prototype._setComponentRef=function(e,t){!this._skipComponentRefResolution&&e&&("function"==typeof e&&e(t),"object"===u(e)&&(e.current=t))},A);function A(e,t){var n=d.call(this,e,t)||this;return function(e,t,n){for(var i=0,r=n.length;i<r;i++)!function(e,t,n){var i=e[n],r=t[n];(i||r)&&(e[n]=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r&&(e=r.apply(this,t)),i!==r&&(e=i.apply(this,t)),e})}(e,t,n[i])}(n,A.prototype,["componentDidMount","shouldComponentUpdate","getSnapshotBeforeUpdate","render","componentDidUpdate","componentWillUnmount"]),n}function m(){return null}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/DelayedRender.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DelayedRender",(function(){return s}));var i,r=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/react/index.js"),s=(i=o.Component,Object(r.__extends)(a,i),a.prototype.componentDidMount=function(){var e=this,t=this.props.delay;this._timeoutId=window.setTimeout((function(){e.setState({isRendered:!0})}),t)},a.prototype.componentWillUnmount=function(){this._timeoutId&&clearTimeout(this._timeoutId)},a.prototype.render=function(){return this.state.isRendered?o.Children.only(this.props.children):null},a.defaultProps={delay:0},a);function a(e){var t=i.call(this,e)||this;return t.state={isRendered:!1},t}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/EventGroup.js":function(e,t,n){"use strict";n.r(t),n.d(t,"EventGroup",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/object.js"),r=(o.raise=function(e,t,n,r){var s,a,c;if(o._isElement(e))"undefined"!=typeof document&&document.createEvent?((a=document.createEvent("HTMLEvents")).initEvent(t,r||!1,!0),Object(i.assign)(a,n),s=e.dispatchEvent(a)):"undefined"!=typeof document&&document.createEventObject&&(c=document.createEventObject(n),e.fireEvent("on"+t,c));else for(;e&&!1!==s;){var l=e.__events__,u=l?l[t]:null;if(u)for(var d in u)if(u.hasOwnProperty(d))for(var p=u[d],A=0;!1!==s&&A<p.length;A++){var m=p[A];m.objectCallback&&(s=m.objectCallback.call(m.parent,n))}e=r?e.parent:null}return s},o.isObserved=function(e,t){var n=e&&e.__events__;return!!n&&!!n[t]},o.isDeclared=function(e,t){var n=e&&e.__declaredEvents;return!!n&&!!n[t]},o.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},o._isElement=function(e){return!!e&&(!!e.addEventListener||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement)},o.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this.off(),this._parent=null)},o.prototype.onAll=function(e,t,n){for(var i in t)t.hasOwnProperty(i)&&this.on(e,i,t[i],n)},o.prototype.on=function(e,t,n,i){var r=this;if(-1<t.indexOf(","))for(var s=t.split(/[ ,]+/),a=0;a<s.length;a++)this.on(e,s[a],n,i);else{var c,l=this._parent,u={target:e,eventName:t,parent:l,callback:n,options:i};(s=e.__events__=e.__events__||{})[t]=s[t]||{count:0},s[t][this._id]=s[t][this._id]||[],s[t][this._id].push(u),s[t].count++,o._isElement(e)?(c=function(){for(var e,t,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(!r._isDisposed){try{!1===(t=n.apply(l,i))&&i[0]&&((e=i[0]).preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)}catch(e){}return t}},u.elementCallback=c,e.addEventListener?e.addEventListener(t,c,i):e.attachEvent&&e.attachEvent("on"+t,c)):u.objectCallback=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!r._isDisposed)return n.apply(l,e)},this._eventRecords.push(u)}},o.prototype.off=function(e,t,n,i){for(var r=0;r<this._eventRecords.length;r++){var o,s,a,c=this._eventRecords[r];e&&e!==c.target||t&&t!==c.eventName||n&&n!==c.callback||"boolean"==typeof i&&i!==c.options||((a=(s=(o=c.target.__events__)[c.eventName])?s[this._id]:null)&&(1!==a.length&&n?(s.count--,a.splice(a.indexOf(c),1)):(s.count-=a.length,delete o[c.eventName][this._id]),s.count||delete o[c.eventName]),c.elementCallback&&(c.target.removeEventListener?c.target.removeEventListener(c.eventName,c.elementCallback,c.options):c.target.detachEvent&&c.target.detachEvent("on"+c.eventName,c.elementCallback)),this._eventRecords.splice(r--,1))}},o.prototype.raise=function(e,t,n){return o.raise(this._parent,e,t,n)},o.prototype.declare=function(e){var t=this._parent.__declaredEvents=this._parent.__declaredEvents||{};if("string"==typeof e)t[e]=!0;else for(var n=0;n<e.length;n++)t[e[n]]=!0},o._uniqueId=0,o);function o(e){this._id=o._uniqueId++,this._parent=e,this._eventRecords=[]}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/FabricPerformance.js":function(e,t,n){"use strict";function i(){return"undefined"!=typeof performance&&performance.now?performance.now():Date.now()}n.r(t),n.d(t,"FabricPerformance",(function(){return r}));var r=(o.measure=function(e,t){o._timeoutId&&o.setPeriodicReset();var n=i();t();var r=i(),s=o.summary[e]||{totalDuration:0,count:0,all:[]},a=r-n;s.totalDuration+=a,s.count++,s.all.push({duration:a,timeStamp:r}),o.summary[e]=s},o.reset=function(){o.summary={},clearTimeout(o._timeoutId),o._timeoutId=NaN},o.setPeriodicReset=function(){o._timeoutId=setTimeout((function(){return o.reset()}),18e4)},o.summary={},o);function o(){}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/GlobalSettings.js":function(e,t,n){"use strict";n.r(t),n.d(t,"GlobalSettings",(function(){return a}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js"),r="__globalSettings__",o="__callbacks__",s=0,a=(c.getValue=function(e,t){var n=l();return void 0===n[e]&&(n[e]="function"==typeof t?t():t),n[e]},c.setValue=function(e,t){var n=l(),i=n[o],r=n[e];if(t!==r){var s={oldValue:r,value:n[e]=t,key:e};for(var a in i)i.hasOwnProperty(a)&&i[a](s)}return t},c.addChangeListener=function(e){var t=e.__id__;u()[t=t||(e.__id__=String(s++))]=e},c.removeChangeListener=function(e){delete u()[e.__id__]},c);function c(){}function l(){var e,t=Object(i.getWindow)()||{};return t[r]||(t[r]=((e={})[o]={},e)),t[r]}function u(){return l()[o]}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/KeyCodes.js":function(e,t,n){"use strict";n.r(t),n.d(t,"KeyCodes",(function(){return i}));var i={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pauseBreak:19,capslock:20,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,del:46,zero:48,one:49,two:50,three:51,four:52,five:53,six:54,seven:55,eight:56,nine:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftWindow:91,rightWindow:92,select:93,zero_numpad:96,one_numpad:97,two_numpad:98,three_numpad:99,four_numpad:100,five_numpad:101,six_numpad:102,seven_numpad:103,eight_numpad:104,nine_numpad:105,multiply:106,add:107,subtract:109,decimalPoint:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrollLock:145,semicolon:186,equalSign:187,comma:188,dash:189,period:190,forwardSlash:191,graveAccent:192,openBracket:219,backSlash:220,closeBracket:221,singleQuote:222}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/Rectangle.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Rectangle",(function(){return i}));var i=(Object.defineProperty(r.prototype,"width",{get:function(){return this.right-this.left},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!0,configurable:!0}),r.prototype.equals=function(e){return parseFloat(this.top.toFixed(4))===parseFloat(e.top.toFixed(4))&&parseFloat(this.bottom.toFixed(4))===parseFloat(e.bottom.toFixed(4))&&parseFloat(this.left.toFixed(4))===parseFloat(e.left.toFixed(4))&&parseFloat(this.right.toFixed(4))===parseFloat(e.right.toFixed(4))},r);function r(e,t,n,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),this.top=n,this.bottom=i,this.left=e,this.right=t}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/appendFunction.js":function(e,t,n){"use strict";function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.length<2?t[0]:function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];t.forEach((function(t){return t&&t.apply(e,n)}))}}n.r(t),n.d(t,"appendFunction",(function(){return i}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/aria.js":function(e,t,n){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter((function(e){return e})).join(" ").trim();return""===n?void 0:n}n.r(t),n.d(t,"mergeAriaAttributeValues",(function(){return i}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/array.js":function(e,t,n){"use strict";function i(e,t,n){void 0===n&&(n=0);for(var i=-1,r=n;e&&r<e.length;r++)if(t(e[r],r)){i=r;break}return i}function r(e,t){var n=i(e,t);if(!(n<0))return e[n]}function o(e,t){for(var n=[],i=0;i<e;i++)n.push(t(i));return n}function s(e,t){return e.reduce((function(e,n,i){return i%t==0?e.push([n]):e[e.length-1].push(n),e}),[])}function a(e,t){return e.filter((function(e,n){return t!==n}))}function c(e,t,n){var i=e.slice();return i[n]=t,i}function l(e,t,n){var i=e.slice();return i.splice(t,0,n),i}function u(e){var t=[];return e.forEach((function(e){return t=t.concat(e)})),t}function d(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}n.r(t),n.d(t,"findIndex",(function(){return i})),n.d(t,"find",(function(){return r})),n.d(t,"createArray",(function(){return o})),n.d(t,"toMatrix",(function(){return s})),n.d(t,"removeIndex",(function(){return a})),n.d(t,"replaceElement",(function(){return c})),n.d(t,"addElementAtIndex",(function(){return l})),n.d(t,"flatten",(function(){return u})),n.d(t,"arraysEqual",(function(){return d}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/asAsync.js":function(e,t,n){"use strict";n.r(t),n.d(t,"asAsync",(function(){return s}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o="undefined"!=typeof WeakMap?new WeakMap:void 0;function s(e){var t,n=(t=r.Component,Object(i.__extends)(s,t),s.prototype.render=function(){var e=this.props,t=e.forwardedRef,n=e.asyncPlaceholder,o=Object(i.__rest)(e,["forwardedRef","asyncPlaceholder"]),s=this.state.Component;return s?r.createElement(s,Object(i.__assign)(Object(i.__assign)({},o),{ref:t})):n?r.createElement(n,null):null},s.prototype.componentDidMount=function(){var t=this;this.state.Component||e.load().then((function(n){n&&(o&&o.set(e.load,n),t.setState({Component:n},e.onLoad))})).catch(e.onError)},s);function s(){var n=null!==t&&t.apply(this,arguments)||this;return n.state={Component:o?o.get(e.load):void 0},n}return r.forwardRef((function(e,t){return r.createElement(n,Object(i.__assign)({},e,{forwardedRef:t}))}))}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/assertNever.js":function(e,t,n){"use strict";function i(e){throw new Error("Unexpected object: "+e)}n.r(t),n.d(t,"assertNever",(function(){return i}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/classNamesFunction.js":function(e,t,n){"use strict";n.r(t),n.d(t,"classNamesFunction",(function(){return u}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/rtl.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom.js");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=0,c=i.Stylesheet.getInstance();c&&c.onReset&&c.onReset((function(){return a++}));var l="__retval__";function u(e){void 0===e&&(e={});var t=new Map,n=0,s=0,c=a;return function(u,d){var A;if(void 0===d&&(d={}),e.useStaticStyles&&"function"==typeof u&&u.__noStyleOverride__)return u(d);s++;var m,h=t,f=d.theme,g=f&&void 0!==f.rtl?f.rtl:Object(r.getRTL)(),v=e.disableCaching;return c!==a&&(c=a,t=new Map,n=0),e.disableCaching||(h=p(t,u),h=p(h,d)),!v&&h[l]||(h[l]=void 0===u?{}:Object(i.mergeCssSets)(["function"==typeof u?u(d):u],{rtl:!!g,specificityMultiplier:e.useStaticStyles?5:void 0}),v||n++),n>(e.cacheSize||50)&&(null!==(A=null===(m=Object(o.getWindow)())||void 0===m?void 0:m.FabricConfig)&&void 0!==A&&A.enableClassNameCacheFullWarning&&(console.warn("Styles are being recalculated too frequently. Cache miss rate is "+n+"/"+s+"."),console.trace()),t.clear(),n=0,e.disableCaching=!0),h[l]}}function d(e,t){return t=function(e){switch(e){case void 0:return"__undefined__";case null:return"__null__";default:return e}}(t),e.has(t)||e.set(t,new Map),e.get(t)}function p(e,t){if("function"==typeof t)if(t.__cachedInputs__)for(var n=0,i=t.__cachedInputs__;n<i.length;n++)e=d(e,i[n]);else e=d(e,t);else if("object"===s(t))for(var r in t)t.hasOwnProperty(r)&&(e=d(e,t[r]));return e}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/componentAs/composeComponentAs.js":function(e,t,n){"use strict";n.r(t),n.d(t,"composeComponentAs",(function(){return a}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/memoize.js"),s=Object(o.createMemoizer)((function(e){var t=e;return Object(o.createMemoizer)((function(n){if(e===n)throw new Error("Attempted to compose a component with itself.");var s=n,a=Object(o.createMemoizer)((function(e){return function(t){return r.createElement(s,Object(i.__assign)({},t,{defaultRender:e}))}}));return function(e){var n=e.defaultRender;return r.createElement(t,Object(i.__assign)({},e,{defaultRender:n?a(n):s}))}}))}));function a(e,t){return s(e)(t)}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/controlled.js":function(e,t,n){"use strict";function i(e,t){return void 0!==e[t]&&null!==e[t]}n.r(t),n.d(t,"isControlled",(function(){return i}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/createMergedRef.js":function(e,t,n){"use strict";n.r(t),n.d(t,"createMergedRef",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/array.js"),r=function(){var e={refs:[]};return function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.resolver&&Object(i.arraysEqual)(e.refs,n)||(e.resolver=(t=e,function(e){for(var n=0,i=t.refs;n<i.length;n++){var r=i[n];"function"==typeof r?r(e):r&&(r.current=e)}})),e.refs=n,e.resolver}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/css.js":function(e,t,n){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],i=0,r=e;i<r.length;i++){var o=r[i];if(o)if("string"==typeof o)n.push(o);else if(o.hasOwnProperty("toString")&&"function"==typeof o.toString)n.push(o.toString());else for(var s in o)o[s]&&n.push(s)}return n.join(" ")}n.r(t),n.d(t,"css",(function(){return i}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/Customizations.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Customizations",(function(){return c}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/GlobalSettings.js"),o={settings:{},scopedSettings:{},inCustomizerContext:!1},s=r.GlobalSettings.getValue("customizations",{settings:{},scopedSettings:{},inCustomizerContext:!1}),a=[],c=(l.reset=function(){s.settings={},s.scopedSettings={}},l.applySettings=function(e){s.settings=Object(i.__assign)(Object(i.__assign)({},s.settings),e),l._raiseChange()},l.applyScopedSettings=function(e,t){s.scopedSettings[e]=Object(i.__assign)(Object(i.__assign)({},s.scopedSettings[e]),t),l._raiseChange()},l.getSettings=function(e,t,n){void 0===n&&(n=o);for(var i={},r=t&&n.scopedSettings[t]||{},a=t&&s.scopedSettings[t]||{},c=0,l=e;c<l.length;c++){var u=l[c];i[u]=r[u]||n.settings[u]||a[u]||s.settings[u]}return i},l.applyBatchedUpdates=function(e,t){l._suppressUpdates=!0;try{e()}catch(e){}l._suppressUpdates=!1,t||l._raiseChange()},l.observe=function(e){a.push(e)},l.unobserve=function(e){a=a.filter((function(t){return t!==e}))},l._raiseChange=function(){l._suppressUpdates||a.forEach((function(e){return e()}))},l);function l(){}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/Customizer.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Customizer",(function(){return l}));var i,r=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/react/index.js"),s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/Customizations.js"),a=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/CustomizerContext.js"),c=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/mergeCustomizations.js"),l=(i=o.Component,Object(r.__extends)(u,i),u.prototype.componentDidMount=function(){s.Customizations.observe(this._onCustomizationChange)},u.prototype.componentWillUnmount=function(){s.Customizations.unobserve(this._onCustomizationChange)},u.prototype.render=function(){var e=this,t=this.props.contextTransform;return o.createElement(a.CustomizerContext.Consumer,null,(function(n){var i=Object(c.mergeCustomizations)(e.props,n);return t&&(i=t(i)),o.createElement(a.CustomizerContext.Provider,{value:i},e.props.children)}))},u);function u(){var e=null!==i&&i.apply(this,arguments)||this;return e._onCustomizationChange=function(){return e.forceUpdate()},e}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/CustomizerContext.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CustomizerContext",(function(){return i}));var i=n("./node_modules/react/index.js").createContext({customizations:{inCustomizerContext:!1,settings:{},scopedSettings:{}}})},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/customizable.js":function(e,t,n){"use strict";n.r(t),n.d(t,"customizable",(function(){return l}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/Customizations.js"),s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/hoistStatics.js"),a=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/CustomizerContext.js"),c=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js");function l(e,t,n){return function(l){var u,d,p=(d=r.Component,Object(i.__extends)(A,d),A.prototype.componentDidMount=function(){o.Customizations.observe(this._onSettingChanged)},A.prototype.componentWillUnmount=function(){o.Customizations.unobserve(this._onSettingChanged)},A.prototype.render=function(){var s=this;return r.createElement(a.CustomizerContext.Consumer,null,(function(a){var u,d=o.Customizations.getSettings(t,e,a.customizations),p=s.props;return d.styles&&"function"==typeof d.styles&&(d.styles=d.styles(Object(i.__assign)(Object(i.__assign)({},d),p))),n&&d.styles?(s._styleCache.default===d.styles&&s._styleCache.component===p.styles||(u=Object(c.concatStyleSets)(d.styles,p.styles),s._styleCache.default=d.styles,s._styleCache.component=p.styles,s._styleCache.merged=u),r.createElement(l,Object(i.__assign)({},d,p,{styles:s._styleCache.merged}))):r.createElement(l,Object(i.__assign)({},d,p))}))},A.prototype._onSettingChanged=function(){this.forceUpdate()},(u=A).displayName="Customized"+e,u);function A(e){var t=d.call(this,e)||this;return t._styleCache={},t._onSettingChanged=t._onSettingChanged.bind(t),t}return Object(s.hoistStatics)(l,p)}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/mergeCustomizations.js":function(e,t,n){"use strict";n.r(t),n.d(t,"mergeCustomizations",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/mergeSettings.js");function r(e,t){var n=(t||{}).customizations,r=void 0===n?{settings:{},scopedSettings:{}}:n;return{customizations:{settings:Object(i.mergeSettings)(r.settings,e.settings),scopedSettings:Object(i.mergeScopedSettings)(r.scopedSettings,e.scopedSettings),inCustomizerContext:!0}}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/mergeSettings.js":function(e,t,n){"use strict";n.r(t),n.d(t,"mergeSettings",(function(){return r})),n.d(t,"mergeScopedSettings",(function(){return o}));var i=n("./node_modules/tslib/tslib.es6.js");function r(e,t){var n;return void 0===e&&(e={}),(s(t)?t:(n=t,function(e){return n?Object(i.__assign)(Object(i.__assign)({},e),n):e}))(e)}function o(e,t){return void 0===e&&(e={}),(s(t)?t:function(e){return void 0===e&&(e={}),function(t){var n=Object(i.__assign)({},t);for(var r in e)e.hasOwnProperty(r)&&(n[r]=Object(i.__assign)(Object(i.__assign)({},t[r]),e[r]));return n}}(t))(e)}function s(e){return"function"==typeof e}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/useCustomizationSettings.js":function(e,t,n){"use strict";n.r(t),n.d(t,"useCustomizationSettings",(function(){return s}));var i=n("./node_modules/react/index.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/Customizations.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/CustomizerContext.js");function s(e,t){var n,s=(n=i.useState(0)[1],function(){return n((function(e){return++e}))}),a=i.useContext(o.CustomizerContext).customizations,c=a.inCustomizerContext;return i.useEffect((function(){return c||r.Customizations.observe(s),function(){c||r.Customizations.unobserve(s)}}),[c]),r.Customizations.getSettings(e,t,a)}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/elementContains.js");n.d(t,"elementContains",(function(){return i.elementContains}));var r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/elementContainsAttribute.js");n.d(t,"elementContainsAttribute",(function(){return r.elementContainsAttribute}));var o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/findElementRecursive.js");n.d(t,"findElementRecursive",(function(){return o.findElementRecursive}));var s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getChildren.js");n.d(t,"getChildren",(function(){return s.getChildren}));var a=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getDocument.js");n.d(t,"getDocument",(function(){return a.getDocument}));var c=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getParent.js");n.d(t,"getParent",(function(){return c.getParent}));var l=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getRect.js");n.d(t,"getRect",(function(){return l.getRect}));var u=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getVirtualParent.js");n.d(t,"getVirtualParent",(function(){return u.getVirtualParent}));var d=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js");n.d(t,"getWindow",(function(){return d.getWindow}));var p=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/isVirtualElement.js");n.d(t,"isVirtualElement",(function(){return p.isVirtualElement}));var A=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/on.js");n.d(t,"on",(function(){return A.on}));var m=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/portalContainsElement.js");n.d(t,"portalContainsElement",(function(){return m.portalContainsElement}));var h=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/raiseClick.js");n.d(t,"raiseClick",(function(){return h.raiseClick}));var f=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/setPortalAttribute.js");n.d(t,"DATA_PORTAL_ATTRIBUTE",(function(){return f.DATA_PORTAL_ATTRIBUTE})),n.d(t,"setPortalAttribute",(function(){return f.setPortalAttribute}));var g=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/setVirtualParent.js");n.d(t,"setVirtualParent",(function(){return g.setVirtualParent}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/elementContains.js":function(e,t,n){"use strict";n.r(t),n.d(t,"elementContains",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getParent.js");function r(e,t,n){void 0===n&&(n=!0);var r=!1;if(e&&t)if(n)for(r=!1;t;){var o=Object(i.getParent)(t);if(o===e){r=!0;break}t=o}else e.contains&&(r=e.contains(t));return r}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/elementContainsAttribute.js":function(e,t,n){"use strict";n.r(t),n.d(t,"elementContainsAttribute",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/findElementRecursive.js");function r(e,t){var n=Object(i.findElementRecursive)(e,(function(e){return e.hasAttribute(t)}));return n&&n.getAttribute(t)}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/findElementRecursive.js":function(e,t,n){"use strict";n.r(t),n.d(t,"findElementRecursive",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getParent.js");function r(e,t){return e&&e!==document.body?t(e)?e:r(Object(i.getParent)(e),t):null}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getChildren.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getChildren",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/isVirtualElement.js");function r(e,t){void 0===t&&(t=!0);var n=[];if(e){for(var r=0;r<e.children.length;r++)n.push(e.children.item(r));t&&Object(i.isVirtualElement)(e)&&n.push.apply(n,e._virtual.children)}return n}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getDocument.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getDocument",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/setSSR.js");function r(e){if(!i._isSSR&&"undefined"!=typeof document)return e&&e.ownerDocument?e.ownerDocument:document}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getParent.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getParent",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getVirtualParent.js");function r(e,t){return void 0===t&&(t=!0),e&&(t&&Object(i.getVirtualParent)(e)||e.parentNode&&e.parentNode)}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getRect.js":function(e,t,n){"use strict";function i(e){var t;return e&&(e===window?t={left:0,top:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:e.getBoundingClientRect&&(t=e.getBoundingClientRect())),t}n.r(t),n.d(t,"getRect",(function(){return i}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getVirtualParent.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getVirtualParent",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/isVirtualElement.js");function r(e){var t;return e&&Object(i.isVirtualElement)(e)&&(t=e._virtual.parent),t}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getWindow",(function(){return o}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/setSSR.js"),r=void 0;try{r=window}catch(e){}function o(e){if(!i._isSSR&&void 0!==r)return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:r}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/isVirtualElement.js":function(e,t,n){"use strict";function i(e){return e&&!!e._virtual}n.r(t),n.d(t,"isVirtualElement",(function(){return i}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/on.js":function(e,t,n){"use strict";function i(e,t,n,i){return e.addEventListener(t,n,i),function(){return e.removeEventListener(t,n,i)}}n.r(t),n.d(t,"on",(function(){return i}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/portalContainsElement.js":function(e,t,n){"use strict";n.r(t),n.d(t,"portalContainsElement",(function(){return o}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/findElementRecursive.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/setPortalAttribute.js");function o(e,t){var n=Object(i.findElementRecursive)(e,(function(e){return t===e||e.hasAttribute(r.DATA_PORTAL_ATTRIBUTE)}));return null!==n&&n.hasAttribute(r.DATA_PORTAL_ATTRIBUTE)}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/raiseClick.js":function(e,t,n){"use strict";function i(e){var t=function(e){var t;return"function"==typeof Event?t=new Event(e):(t=document.createEvent("Event")).initEvent(e,!0,!0),t}("MouseEvents");t.initEvent("click",!0,!0),e.dispatchEvent(t)}n.r(t),n.d(t,"raiseClick",(function(){return i}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/setPortalAttribute.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DATA_PORTAL_ATTRIBUTE",(function(){return i})),n.d(t,"setPortalAttribute",(function(){return r}));var i="data-portal-element";function r(e){e.setAttribute(i,"true")}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/setSSR.js":function(e,t,n){"use strict";n.r(t),n.d(t,"_isSSR",(function(){return i})),n.d(t,"setSSR",(function(){return r}));var i=!1;function r(e){i=e}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/setVirtualParent.js":function(e,t,n){"use strict";function i(e,t){var n=e,i=t;n._virtual||(n._virtual={children:[]});var r,o=n._virtual.parent;!o||o===t||-1<(r=o._virtual.children.indexOf(n))&&o._virtual.children.splice(r,1),n._virtual.parent=i||void 0,i&&(i._virtual||(i._virtual={children:[]}),i._virtual.children.push(n))}n.r(t),n.d(t,"setVirtualParent",(function(){return i}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/extendComponent.js":function(e,t,n){"use strict";n.r(t),n.d(t,"extendComponent",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/appendFunction.js");function r(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=Object(i.appendFunction)(e,e[n],t[n]))}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/focus.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getFirstFocusable",(function(){return c})),n.d(t,"getLastFocusable",(function(){return l})),n.d(t,"getFirstTabbable",(function(){return u})),n.d(t,"getLastTabbable",(function(){return d})),n.d(t,"focusFirstChild",(function(){return p})),n.d(t,"getPreviousElement",(function(){return A})),n.d(t,"getNextElement",(function(){return m})),n.d(t,"isElementVisible",(function(){return h})),n.d(t,"isElementTabbable",(function(){return f})),n.d(t,"isElementFocusZone",(function(){return g})),n.d(t,"isElementFocusSubZone",(function(){return v})),n.d(t,"doesElementContainFocus",(function(){return y})),n.d(t,"shouldWrapFocus",(function(){return S})),n.d(t,"focusAsync",(function(){return C})),n.d(t,"getFocusableByIndexPath",(function(){return E})),n.d(t,"getElementIndexPath",(function(){return w}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/elementContainsAttribute.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/elementContains.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getParent.js"),s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js"),a=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getDocument.js");function c(e,t,n){return m(e,t,!0,!1,!1,n)}function l(e,t,n){return A(e,t,!0,!1,!0,n)}function u(e,t,n,i){return void 0===i&&(i=!0),m(e,t,i,!1,!1,n,!1,!0)}function d(e,t,n,i){return void 0===i&&(i=!0),A(e,t,i,!1,!0,n,!1,!0)}function p(e){var t=m(e,e,!0,!1,!1,!0);return!!t&&(C(t),!0)}function A(e,t,n,i,r,o,s,a){if(!t||!s&&t===e)return null;var c=h(t);if(r&&c&&(o||!g(t)&&!v(t))){var l=A(e,t.lastElementChild,!0,!0,!0,o,s,a);if(l){if(a&&f(l,!0)||!a)return l;var u=A(e,l.previousElementSibling,!0,!0,!0,o,s,a);if(u)return u;for(var d=l.parentElement;d&&d!==t;){var p=A(e,d.previousElementSibling,!0,!0,!0,o,s,a);if(p)return p;d=d.parentElement}}}return n&&c&&f(t,a)?t:A(e,t.previousElementSibling,!0,!0,!0,o,s,a)||(i?null:A(e,t.parentElement,!0,!1,!1,o,s,a))}function m(e,t,n,i,r,o,s,a){if(!t||t===e&&r&&!s)return null;var c=h(t);if(n&&c&&f(t,a))return t;if(!r&&c&&(o||!g(t)&&!v(t))){var l=m(e,t.firstElementChild,!0,!0,!1,o,s,a);if(l)return l}return t===e?null:m(e,t.nextElementSibling,!0,!0,!1,o,s,a)||(i?null:m(e,t.parentElement,!1,!1,!0,o,s,a))}function h(e){if(!e||!e.getAttribute)return!1;var t=e.getAttribute("data-is-visible");return null!=t?"true"===t:0!==e.offsetHeight||null!==e.offsetParent||!0===e.isVisible}function f(e,t){if(!e||e.disabled)return!1;var n=0,i=null;e&&e.getAttribute&&(i=e.getAttribute("tabIndex"))&&(n=parseInt(i,10));var r=e.getAttribute?e.getAttribute("data-is-focusable"):null,o=null!==i&&0<=n,s=!!e&&"false"!==r&&("A"===e.tagName||"BUTTON"===e.tagName||"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||"true"===r||o);return(!t||-1!==n)&&s}function g(e){return!!(e&&e.getAttribute&&e.getAttribute("data-focuszone-id"))}function v(e){return!(!e||!e.getAttribute||"true"!==e.getAttribute("data-is-sub-focuszone"))}function y(e){var t=Object(a.getDocument)(e),n=t&&t.activeElement;return!(!n||!Object(r.elementContains)(e,n))}function S(e,t){return"true"!==Object(i.elementContainsAttribute)(e,t)}var b=void 0;function C(e){if(e){if(b)return void(b=e);b=e;var t=Object(s.getWindow)(e);t&&t.requestAnimationFrame((function(){b&&b.focus(),b=void 0}))}}function E(e,t){for(var n=e,i=0,r=t;i<r.length;i++){var o=r[i],s=n.children[Math.min(o,n.children.length-1)];if(!s)break;n=s}return f(n)&&h(n)?n:m(e,n,!0)||A(e,n)}function w(e,t){for(var n=[];t&&e&&t!==e;){var i=Object(o.getParent)(t,!0);if(null===i)return[];n.unshift(Array.prototype.indexOf.call(i.children,t)),t=i}return n}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/getId.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getId",(function(){return c})),n.d(t,"resetIds",(function(){return l}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js"),o="__currentId__",s=Object(i.getWindow)()||{};void 0===s[o]&&(s[o]=0);var a=!1;function c(e){var t;return a||((t=r.Stylesheet.getInstance())&&t.onReset&&t.onReset(l),a=!0),(e||"id__")+s[o]++}function l(e){void 0===e&&(e=0),s[o]=e}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/getNativeElementProps.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getNativeElementProps",(function(){return o}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/properties.js"),r={label:i.labelProperties,audio:i.audioProperties,video:i.videoProperties,ol:i.olProperties,li:i.liProperties,a:i.anchorProperties,button:i.buttonProperties,input:i.inputProperties,textarea:i.textAreaProperties,select:i.selectProperties,option:i.optionProperties,table:i.tableProperties,tr:i.trProperties,th:i.thProperties,td:i.tdProperties,colGroup:i.colGroupProperties,col:i.colProperties,form:i.formProperties,iframe:i.iframeProperties,img:i.imgProperties};function o(e,t,n){var o=e&&r[e]||i.htmlElementProperties;return Object(i.getNativeProps)(t,o,n)}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/getPropsWithDefaults.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getPropsWithDefaults",(function(){return r}));var i=n("./node_modules/tslib/tslib.es6.js");function r(e,t){for(var n=Object(i.__assign)({},t),r=0,o=Object.keys(e);r<o.length;r++){var s=o[r];void 0===n[s]&&(n[s]=e[s])}return n}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/hoist.js":function(e,t,n){"use strict";n.r(t),n.d(t,"hoistMethods",(function(){return r})),n.d(t,"unhoistMethods",(function(){return o}));var i=["setState","render","componentWillMount","UNSAFE_componentWillMount","componentDidMount","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","getSnapshotBeforeUpdate","UNSAFE_componentWillUpdate","componentDidUpdate","componentWillUnmount"];function r(e,t,n){void 0===n&&(n=i);var r=[];for(var o in t)!function(i){"function"!=typeof t[i]||void 0!==e[i]||n&&-1!==n.indexOf(i)||(r.push(i),e[i]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t[i].apply(t,e)})}(o);return r}function o(e,t){t.forEach((function(t){return delete e[t]}))}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/hoistStatics.js":function(e,t,n){"use strict";function i(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}n.r(t),n.d(t,"hoistStatics",(function(){return i}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/ie11Detector.js":function(e,t,n){"use strict";n.r(t),n.d(t,"isIE11",(function(){return i}));var i=function(){return!("undefined"==typeof window||!window.navigator||!window.navigator.userAgent)&&-1<window.navigator.userAgent.indexOf("rv:11.0")}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/Async.js");n.d(t,"Async",(function(){return i.Async}));var r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/AutoScroll.js");n.d(t,"AutoScroll",(function(){return r.AutoScroll}));var o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/BaseComponent.js");n.d(t,"BaseComponent",(function(){return o.BaseComponent})),n.d(t,"nullRender",(function(){return o.nullRender}));var s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/DelayedRender.js");n.d(t,"DelayedRender",(function(){return s.DelayedRender}));var a=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/EventGroup.js");n.d(t,"EventGroup",(function(){return a.EventGroup}));var c=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/FabricPerformance.js");n.d(t,"FabricPerformance",(function(){return c.FabricPerformance}));var l=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/GlobalSettings.js");n.d(t,"GlobalSettings",(function(){return l.GlobalSettings}));var u=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/KeyCodes.js");n.d(t,"KeyCodes",(function(){return u.KeyCodes}));var d=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/Rectangle.js");n.d(t,"Rectangle",(function(){return d.Rectangle}));var p=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/appendFunction.js");n.d(t,"appendFunction",(function(){return p.appendFunction}));var A=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/aria.js");n.d(t,"mergeAriaAttributeValues",(function(){return A.mergeAriaAttributeValues}));var m=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/array.js");n.d(t,"findIndex",(function(){return m.findIndex})),n.d(t,"find",(function(){return m.find})),n.d(t,"createArray",(function(){return m.createArray})),n.d(t,"toMatrix",(function(){return m.toMatrix})),n.d(t,"removeIndex",(function(){return m.removeIndex})),n.d(t,"replaceElement",(function(){return m.replaceElement})),n.d(t,"addElementAtIndex",(function(){return m.addElementAtIndex})),n.d(t,"flatten",(function(){return m.flatten})),n.d(t,"arraysEqual",(function(){return m.arraysEqual}));var h=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/asAsync.js");n.d(t,"asAsync",(function(){return h.asAsync}));var f=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/assertNever.js");n.d(t,"assertNever",(function(){return f.assertNever}));var g=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/classNamesFunction.js");n.d(t,"classNamesFunction",(function(){return g.classNamesFunction}));var v=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/componentAs/composeComponentAs.js");n.d(t,"composeComponentAs",(function(){return v.composeComponentAs}));var y=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/controlled.js");n.d(t,"isControlled",(function(){return y.isControlled}));var S=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/css.js");n.d(t,"css",(function(){return S.css}));var b=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/Customizations.js");n.d(t,"Customizations",(function(){return b.Customizations}));var C=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/Customizer.js");n.d(t,"Customizer",(function(){return C.Customizer}));var E=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/CustomizerContext.js");n.d(t,"CustomizerContext",(function(){return E.CustomizerContext}));var w=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/customizable.js");n.d(t,"customizable",(function(){return w.customizable}));var T=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/useCustomizationSettings.js");n.d(t,"useCustomizationSettings",(function(){return T.useCustomizationSettings}));var P=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/mergeCustomizations.js");n.d(t,"mergeCustomizations",(function(){return P.mergeCustomizations}));var _=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/mergeSettings.js");n.d(t,"mergeSettings",(function(){return _.mergeSettings})),n.d(t,"mergeScopedSettings",(function(){return _.mergeScopedSettings}));var B=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom.js");n.d(t,"elementContains",(function(){return B.elementContains})),n.d(t,"elementContainsAttribute",(function(){return B.elementContainsAttribute})),n.d(t,"findElementRecursive",(function(){return B.findElementRecursive})),n.d(t,"getChildren",(function(){return B.getChildren})),n.d(t,"getDocument",(function(){return B.getDocument})),n.d(t,"getParent",(function(){return B.getParent})),n.d(t,"getRect",(function(){return B.getRect})),n.d(t,"getVirtualParent",(function(){return B.getVirtualParent})),n.d(t,"getWindow",(function(){return B.getWindow})),n.d(t,"isVirtualElement",(function(){return B.isVirtualElement})),n.d(t,"on",(function(){return B.on})),n.d(t,"portalContainsElement",(function(){return B.portalContainsElement})),n.d(t,"raiseClick",(function(){return B.raiseClick})),n.d(t,"DATA_PORTAL_ATTRIBUTE",(function(){return B.DATA_PORTAL_ATTRIBUTE})),n.d(t,"setPortalAttribute",(function(){return B.setPortalAttribute})),n.d(t,"setVirtualParent",(function(){return B.setVirtualParent}));var I=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/extendComponent.js");n.d(t,"extendComponent",(function(){return I.extendComponent}));var D=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/focus.js");n.d(t,"getFirstFocusable",(function(){return D.getFirstFocusable})),n.d(t,"getLastFocusable",(function(){return D.getLastFocusable})),n.d(t,"getFirstTabbable",(function(){return D.getFirstTabbable})),n.d(t,"getLastTabbable",(function(){return D.getLastTabbable})),n.d(t,"focusFirstChild",(function(){return D.focusFirstChild})),n.d(t,"getPreviousElement",(function(){return D.getPreviousElement})),n.d(t,"getNextElement",(function(){return D.getNextElement})),n.d(t,"isElementVisible",(function(){return D.isElementVisible})),n.d(t,"isElementTabbable",(function(){return D.isElementTabbable})),n.d(t,"isElementFocusZone",(function(){return D.isElementFocusZone})),n.d(t,"isElementFocusSubZone",(function(){return D.isElementFocusSubZone})),n.d(t,"doesElementContainFocus",(function(){return D.doesElementContainFocus})),n.d(t,"shouldWrapFocus",(function(){return D.shouldWrapFocus})),n.d(t,"focusAsync",(function(){return D.focusAsync})),n.d(t,"getFocusableByIndexPath",(function(){return D.getFocusableByIndexPath})),n.d(t,"getElementIndexPath",(function(){return D.getElementIndexPath}));var k=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/getId.js");n.d(t,"getId",(function(){return k.getId})),n.d(t,"resetIds",(function(){return k.resetIds}));var F=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/getNativeElementProps.js");n.d(t,"getNativeElementProps",(function(){return F.getNativeElementProps}));var M=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/hoist.js");n.d(t,"hoistMethods",(function(){return M.hoistMethods})),n.d(t,"unhoistMethods",(function(){return M.unhoistMethods}));var U=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/hoistStatics.js");n.d(t,"hoistStatics",(function(){return U.hoistStatics}));var N=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/initializeComponentRef.js");n.d(t,"initializeComponentRef",(function(){return N.initializeComponentRef}));var L=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/initializeFocusRects.js");n.d(t,"initializeFocusRects",(function(){return L.initializeFocusRects}));var x=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/useFocusRects.js");n.d(t,"useFocusRects",(function(){return x.useFocusRects})),n.d(t,"FocusRects",(function(){return x.FocusRects}));var R=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/initials.js");n.d(t,"getInitials",(function(){return R.getInitials}));var O=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/keyboard.js");n.d(t,"isDirectionalKeyCode",(function(){return O.isDirectionalKeyCode})),n.d(t,"addDirectionalKeyCode",(function(){return O.addDirectionalKeyCode}));var V=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/language.js");n.d(t,"getLanguage",(function(){return V.getLanguage})),n.d(t,"setLanguage",(function(){return V.setLanguage}));var Q=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/math.js");n.d(t,"getDistanceBetweenPoints",(function(){return Q.getDistanceBetweenPoints})),n.d(t,"fitContentToBounds",(function(){return Q.fitContentToBounds})),n.d(t,"calculatePrecision",(function(){return Q.calculatePrecision})),n.d(t,"precisionRound",(function(){return Q.precisionRound}));var H=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/memoize.js");n.d(t,"setMemoizeWeakMap",(function(){return H.setMemoizeWeakMap})),n.d(t,"resetMemoizations",(function(){return H.resetMemoizations})),n.d(t,"memoize",(function(){return H.memoize})),n.d(t,"memoizeFunction",(function(){return H.memoizeFunction})),n.d(t,"createMemoizer",(function(){return H.createMemoizer}));var $=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/merge.js");n.d(t,"merge",(function(){return $.merge}));var j=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/mobileDetector.js");n.d(t,"isIOS",(function(){return j.isIOS}));var Y=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/modalize.js");n.d(t,"modalize",(function(){return Y.modalize}));var G=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/object.js");n.d(t,"assign",(function(){return G.assign})),n.d(t,"filteredAssign",(function(){return G.filteredAssign})),n.d(t,"mapEnumByName",(function(){return G.mapEnumByName})),n.d(t,"shallowCompare",(function(){return G.shallowCompare})),n.d(t,"values",(function(){return G.values})),n.d(t,"omit",(function(){return G.omit}));var K=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/osDetector.js");n.d(t,"isMac",(function(){return K.isMac}));var z=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/overflow.js");n.d(t,"hasHorizontalOverflow",(function(){return z.hasHorizontalOverflow})),n.d(t,"hasVerticalOverflow",(function(){return z.hasVerticalOverflow})),n.d(t,"hasOverflow",(function(){return z.hasOverflow}));var W=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/properties.js");n.d(t,"baseElementEvents",(function(){return W.baseElementEvents})),n.d(t,"baseElementProperties",(function(){return W.baseElementProperties})),n.d(t,"htmlElementProperties",(function(){return W.htmlElementProperties})),n.d(t,"labelProperties",(function(){return W.labelProperties})),n.d(t,"audioProperties",(function(){return W.audioProperties})),n.d(t,"videoProperties",(function(){return W.videoProperties})),n.d(t,"olProperties",(function(){return W.olProperties})),n.d(t,"liProperties",(function(){return W.liProperties})),n.d(t,"anchorProperties",(function(){return W.anchorProperties})),n.d(t,"buttonProperties",(function(){return W.buttonProperties})),n.d(t,"inputProperties",(function(){return W.inputProperties})),n.d(t,"textAreaProperties",(function(){return W.textAreaProperties})),n.d(t,"selectProperties",(function(){return W.selectProperties})),n.d(t,"optionProperties",(function(){return W.optionProperties})),n.d(t,"tableProperties",(function(){return W.tableProperties})),n.d(t,"trProperties",(function(){return W.trProperties})),n.d(t,"thProperties",(function(){return W.thProperties})),n.d(t,"tdProperties",(function(){return W.tdProperties})),n.d(t,"colGroupProperties",(function(){return W.colGroupProperties})),n.d(t,"colProperties",(function(){return W.colProperties})),n.d(t,"formProperties",(function(){return W.formProperties})),n.d(t,"iframeProperties",(function(){return W.iframeProperties})),n.d(t,"imgProperties",(function(){return W.imgProperties})),n.d(t,"imageProperties",(function(){return W.imageProperties})),n.d(t,"divProperties",(function(){return W.divProperties})),n.d(t,"getNativeProps",(function(){return W.getNativeProps}));var q=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/renderFunction/composeRenderFunction.js");n.d(t,"composeRenderFunction",(function(){return q.composeRenderFunction}));var J=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/resources.js");n.d(t,"getResourceUrl",(function(){return J.getResourceUrl})),n.d(t,"setBaseUrl",(function(){return J.setBaseUrl}));var X=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/rtl.js");n.d(t,"getRTL",(function(){return X.getRTL})),n.d(t,"setRTL",(function(){return X.setRTL})),n.d(t,"getRTLSafeKeyCode",(function(){return X.getRTLSafeKeyCode}));var Z=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/safeRequestAnimationFrame.js");n.d(t,"safeRequestAnimationFrame",(function(){return Z.safeRequestAnimationFrame}));var ee=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/safeSetTimeout.js");n.d(t,"safeSetTimeout",(function(){return ee.safeSetTimeout}));var te=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/scroll.js");n.d(t,"DATA_IS_SCROLLABLE_ATTRIBUTE",(function(){return te.DATA_IS_SCROLLABLE_ATTRIBUTE})),n.d(t,"allowScrollOnElement",(function(){return te.allowScrollOnElement})),n.d(t,"allowOverscrollOnElement",(function(){return te.allowOverscrollOnElement})),n.d(t,"disableBodyScroll",(function(){return te.disableBodyScroll})),n.d(t,"enableBodyScroll",(function(){return te.enableBodyScroll})),n.d(t,"getScrollbarWidth",(function(){return te.getScrollbarWidth})),n.d(t,"findScrollableParent",(function(){return te.findScrollableParent}));var ne=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/selection/index.js");n.d(t,"SELECTION_CHANGE",(function(){return ne.SELECTION_CHANGE})),n.d(t,"SelectionMode",(function(){return ne.SelectionMode})),n.d(t,"SelectionDirection",(function(){return ne.SelectionDirection})),n.d(t,"Selection",(function(){return ne.Selection}));var ie=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/string.js");n.d(t,"format",(function(){return ie.format}));var re=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/styled.js");n.d(t,"styled",(function(){return re.styled}));var oe=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn.js");n.d(t,"warn",(function(){return oe.warn})),n.d(t,"setWarningCallback",(function(){return oe.setWarningCallback})),n.d(t,"warnConditionallyRequiredProps",(function(){return oe.warnConditionallyRequiredProps})),n.d(t,"resetControlledWarnings",(function(){return oe.resetControlledWarnings})),n.d(t,"warnControlledUsage",(function(){return oe.warnControlledUsage})),n.d(t,"warnDeprecations",(function(){return oe.warnDeprecations})),n.d(t,"warnMutuallyExclusive",(function(){return oe.warnMutuallyExclusive}));var se=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/ie11Detector.js");n.d(t,"isIE11",(function(){return se.isIE11}));var ae=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/getPropsWithDefaults.js");n.d(t,"getPropsWithDefaults",(function(){return ae.getPropsWithDefaults}));var ce=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/setFocusVisibility.js");n.d(t,"setFocusVisibility",(function(){return ce.setFocusVisibility})),n.d(t,"IsFocusVisibleClassName",(function(){return ce.IsFocusVisibleClassName}));var le=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/setSSR.js");n.d(t,"setSSR",(function(){return le.setSSR}));var ue=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/createMergedRef.js");n.d(t,"createMergedRef",(function(){return ue.createMergedRef})),n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/version.js")},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/initializeComponentRef.js":function(e,t,n){"use strict";n.r(t),n.d(t,"initializeComponentRef",(function(){return o}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/extendComponent.js");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){Object(i.extendComponent)(e,{componentDidMount:s,componentDidUpdate:a,componentWillUnmount:c})}function s(){l(this.props.componentRef,this)}function a(e){e.componentRef!==this.props.componentRef&&(l(e.componentRef,null),l(this.props.componentRef,this))}function c(){l(this.props.componentRef,null)}function l(e,t){e&&("object"===r(e)?e.current=t:"function"==typeof e&&e(t))}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/initializeFocusRects.js":function(e,t,n){"use strict";n.r(t),n.d(t,"initializeFocusRects",(function(){return s}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/keyboard.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/setFocusVisibility.js");function s(e){var t,n=e||Object(i.getWindow)();n&&!0!==(null===(t=n.FabricConfig)||void 0===t?void 0:t.disableFocusRects)&&(n.__hasInitializeFocusRects__||(n.__hasInitializeFocusRects__=!0,n.addEventListener("mousedown",a,!0),n.addEventListener("pointerdown",c,!0),n.addEventListener("keydown",l,!0)))}function a(e){Object(o.setFocusVisibility)(!1,e.target)}function c(e){"mouse"!==e.pointerType&&Object(o.setFocusVisibility)(!1,e.target)}function l(e){Object(r.isDirectionalKeyCode)(e.which)&&Object(o.setFocusVisibility)(!0,e.target)}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/initials.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getInitials",(function(){return a}));var i=/\([^)]*\)|[\0-\u001F\!-/:-@\[-`\{-\u00BF\u0250-\u036F\uD800-\uFFFF]/g,r=/^\d+[\d\s]*(:?ext|x|)\s*\d+$/i,o=/\s+/g,s=/[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uAC00-\uD7AF\uD7B0-\uD7FF\u3040-\u309F\u30A0-\u30FF\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF]|[\uD840-\uD869][\uDC00-\uDED6]/;function a(e,t,n){return e?(e=e.replace(i,"").replace(o," ").trim(),s.test(e)||!n&&r.test(e)?"":(a=t,c="",2===(l=e.split(" ")).length?(c+=l[0].charAt(0).toUpperCase(),c+=l[1].charAt(0).toUpperCase()):3===l.length?(c+=l[0].charAt(0).toUpperCase(),c+=l[2].charAt(0).toUpperCase()):0!==l.length&&(c+=l[0].charAt(0).toUpperCase()),a&&1<c.length?c.charAt(1)+c.charAt(0):c)):"";var a,c,l}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/keyboard.js":function(e,t,n){"use strict";n.r(t),n.d(t,"isDirectionalKeyCode",(function(){return s})),n.d(t,"addDirectionalKeyCode",(function(){return a}));var i,r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/KeyCodes.js"),o=((i={})[r.KeyCodes.up]=1,i[r.KeyCodes.down]=1,i[r.KeyCodes.left]=1,i[r.KeyCodes.right]=1,i[r.KeyCodes.home]=1,i[r.KeyCodes.end]=1,i[r.KeyCodes.tab]=1,i[r.KeyCodes.pageUp]=1,i[r.KeyCodes.pageDown]=1,i);function s(e){return!!o[e]}function a(e){o[e]=1}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/language.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getLanguage",(function(){return s})),n.d(t,"setLanguage",(function(){return a}));var i,r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getDocument.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/localStorage.js");function s(){var e,t;return void 0===i&&(e=Object(r.getDocument)(),null!==(t=Object(o.getItem)("language"))&&(i=t),void 0===i&&e&&(i=e.documentElement.getAttribute("lang")),void 0===i&&(i="en")),i}function a(e,t){void 0===t&&(t=!1);var n=Object(r.getDocument)();n&&n.documentElement.setAttribute("lang",e),t||Object(o.setItem)("language",e),i=e}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/localStorage.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getItem",(function(){return r})),n.d(t,"setItem",(function(){return o}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js");function r(e){var t=null;try{var n=Object(i.getWindow)();t=n?n.localStorage.getItem(e):null}catch(e){}return t}function o(e,t){try{var n=Object(i.getWindow)();n&&n.localStorage.setItem(e,t)}catch(e){}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/math.js":function(e,t,n){"use strict";function i(e,t){var n=e.left||e.x||0,i=e.top||e.y||0,r=t.left||t.x||0,o=t.top||t.y||0;return Math.sqrt(Math.pow(n-r,2)+Math.pow(i-o,2))}function r(e){var t=e.contentSize,n=e.boundsSize,i=e.mode,r=void 0===i?"contain":i,o=e.maxScale,s=void 0===o?1:o,a=t.width/t.height,c=n.width/n.height,l=("contain"===r?c<a:a<c)?n.width/t.width:n.height/t.height,u=Math.min(s,l);return{width:t.width*u,height:t.height*u}}function o(e){var t=/[1-9]([0]+$)|\.([0-9]*)/.exec(String(e));return t?t[1]?-t[1].length:t[2]?t[2].length:0:0}function s(e,t,n){void 0===n&&(n=10);var i=Math.pow(n,t);return Math.round(e*i)/i}n.r(t),n.d(t,"getDistanceBetweenPoints",(function(){return i})),n.d(t,"fitContentToBounds",(function(){return r})),n.d(t,"calculatePrecision",(function(){return o})),n.d(t,"precisionRound",(function(){return s}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/memoize.js":function(e,t,n){"use strict";n.r(t),n.d(t,"setMemoizeWeakMap",(function(){return u})),n.d(t,"resetMemoizations",(function(){return d})),n.d(t,"memoize",(function(){return p})),n.d(t,"memoizeFunction",(function(){return A})),n.d(t,"createMemoizer",(function(){return m}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=!1,s=0,a={empty:!0},c={},l="undefined"==typeof WeakMap?null:WeakMap;function u(e){l=e}function d(){s++}function p(e,t,n){var i=A(n.value&&n.value.bind(null));return{configurable:!0,get:function(){return i}}}function A(e,t,n){if(void 0===t&&(t=100),void 0===n&&(n=!1),!l)return e;var u,p;o||((u=i.Stylesheet.getInstance())&&u.onReset&&i.Stylesheet.getInstance().onReset(d),o=!0);var A=0,m=s;return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var l=p;(void 0===p||m!==s||0<t&&t<A)&&(p=h(),A=0,m=s),l=p;for(var u=0;u<i.length;u++){var d=function(e){return e?"object"===r(e)||"function"==typeof e?e:(c[e]||(c[e]={val:e}),c[e]):a}(i[u]);l.map.has(d)||l.map.set(d,h()),l=l.map.get(d)}return l.hasOwnProperty("value")||(l.value=e.apply(void 0,i),A++),!n||null!==l.value&&void 0!==l.value||(l.value=e.apply(void 0,i)),l.value}}function m(e){if(!l)return e;var t=new l;return function(n){if(!n||"function"!=typeof n&&"object"!==r(n))return e(n);if(t.has(n))return t.get(n);var i=e(n);return t.set(n,i),i}}function h(){return{map:l?new l:null}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/merge.js":function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++)!function e(t,n,r){for(var o in void 0===r&&(r=[]),r.push(n),n){var s,a;n.hasOwnProperty(o)&&"__proto__"!==o&&"constructor"!==o&&"prototype"!==o&&("object"===i(s=n[o])&&null!==s?(a=-1<r.indexOf(s),t[o]=a?s:e(t[o]||{},s,r)):t[o]=s)}return r.pop(),t}(e||{},o[r]);return e}n.r(t),n.d(t,"merge",(function(){return r}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/mobileDetector.js":function(e,t,n){"use strict";n.r(t),n.d(t,"isIOS",(function(){return i}));var i=function(){return!!(window&&window.navigator&&window.navigator.userAgent)&&/iPad|iPhone|iPod/i.test(window.navigator.userAgent)}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/modalize.js":function(e,t,n){"use strict";n.r(t),n.d(t,"modalize",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getDocument.js");function r(e){for(var t,n=[],r=Object(i.getDocument)(e)||document;e!==r.body;){for(var o=0,s=e.parentElement.children;o<s.length;o++){var a=s[o];a!==e&&"true"!==(null===(t=a.getAttribute("aria-hidden"))||void 0===t?void 0:t.toLowerCase())&&n.push(a)}if(!e.parentElement)break;e=e.parentElement}return n.forEach((function(e){e.setAttribute("aria-hidden","true")})),function(){n.forEach((function(e){e.setAttribute("aria-hidden","false")})),n=[]}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/object.js":function(e,t,n){"use strict";function i(e,t){for(var n in e)if(e.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||t[n]!==e[n]))return!1;for(var n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return o.apply(this,[null,e].concat(t))}function o(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];t=t||{};for(var r=0,o=n;r<o.length;r++){var s=o[r];if(s)for(var a in s)!s.hasOwnProperty(a)||e&&!e(a)||(t[a]=s[a])}return t}function s(e,t){return Object.keys(e).map((function(n){if(String(Number(n))!==n)return t(n,e[n])})).filter((function(e){return!!e}))}function a(e){return Object.keys(e).reduce((function(t,n){return t.push(e[n]),t}),[])}function c(e,t){var n={};for(var i in e)-1===t.indexOf(i)&&e.hasOwnProperty(i)&&(n[i]=e[i]);return n}n.r(t),n.d(t,"shallowCompare",(function(){return i})),n.d(t,"assign",(function(){return r})),n.d(t,"filteredAssign",(function(){return o})),n.d(t,"mapEnumByName",(function(){return s})),n.d(t,"values",(function(){return a})),n.d(t,"omit",(function(){return c}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/osDetector.js":function(e,t,n){"use strict";n.r(t),n.d(t,"isMac",(function(){return o}));var i,r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js");function o(e){var t,n;return void 0!==i&&!e||(n=(t=Object(r.getWindow)())&&t.navigator.userAgent,i=!!n&&-1!==n.indexOf("Macintosh")),!!i}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/overflow.js":function(e,t,n){"use strict";function i(e){return e.clientWidth<e.scrollWidth}function r(e){return e.clientHeight<e.scrollHeight}function o(e){return i(e)||r(e)}n.r(t),n.d(t,"hasHorizontalOverflow",(function(){return i})),n.d(t,"hasVerticalOverflow",(function(){return r})),n.d(t,"hasOverflow",(function(){return o}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/properties.js":function(e,t,n){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},i=0,r=e;i<r.length;i++)for(var o=r[i],s=0,a=Array.isArray(o)?o:Object.keys(o);s<a.length;s++)n[a[s]]=1;return n}n.r(t),n.d(t,"baseElementEvents",(function(){return r})),n.d(t,"baseElementProperties",(function(){return o})),n.d(t,"htmlElementProperties",(function(){return s})),n.d(t,"labelProperties",(function(){return a})),n.d(t,"audioProperties",(function(){return c})),n.d(t,"videoProperties",(function(){return l})),n.d(t,"olProperties",(function(){return u})),n.d(t,"liProperties",(function(){return d})),n.d(t,"anchorProperties",(function(){return p})),n.d(t,"buttonProperties",(function(){return A})),n.d(t,"inputProperties",(function(){return m})),n.d(t,"textAreaProperties",(function(){return h})),n.d(t,"selectProperties",(function(){return f})),n.d(t,"optionProperties",(function(){return g})),n.d(t,"tableProperties",(function(){return v})),n.d(t,"trProperties",(function(){return y})),n.d(t,"thProperties",(function(){return S})),n.d(t,"tdProperties",(function(){return b})),n.d(t,"colGroupProperties",(function(){return C})),n.d(t,"colProperties",(function(){return E})),n.d(t,"formProperties",(function(){return w})),n.d(t,"iframeProperties",(function(){return T})),n.d(t,"imgProperties",(function(){return P})),n.d(t,"imageProperties",(function(){return _})),n.d(t,"divProperties",(function(){return B})),n.d(t,"getNativeProps",(function(){return I}));var r=i(["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onInput","onSubmit","onLoad","onError","onKeyDown","onKeyDownCapture","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onClickCapture","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseUpCapture","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp","onGotPointerCapture","onLostPointerCapture"]),o=i(["accessKey","children","className","contentEditable","dir","draggable","hidden","htmlFor","id","lang","ref","role","style","tabIndex","title","translate","spellCheck","name"]),s=i(o,r),a=i(s,["form"]),c=i(s,["height","loop","muted","preload","src","width"]),l=i(c,["poster"]),u=i(s,["start"]),d=i(s,["value"]),p=i(s,["download","href","hrefLang","media","rel","target","type"]),A=i(s,["autoFocus","disabled","form","formAction","formEncType","formMethod","formNoValidate","formTarget","type","value"]),m=i(A,["accept","alt","autoCapitalize","autoComplete","checked","dirname","form","height","inputMode","list","max","maxLength","min","multiple","pattern","placeholder","readOnly","required","src","step","size","type","value","width"]),h=i(A,["autoCapitalize","cols","dirname","form","maxLength","placeholder","readOnly","required","rows","wrap"]),f=i(A,["form","multiple","required"]),g=i(s,["selected","value"]),v=i(s,["cellPadding","cellSpacing"]),y=s,S=i(s,["rowSpan","scope"]),b=i(s,["colSpan","headers","rowSpan","scope"]),C=i(s,["span"]),E=i(s,["span"]),w=i(s,["acceptCharset","action","encType","encType","method","noValidate","target"]),T=i(s,["allow","allowFullScreen","allowPaymentRequest","allowTransparency","csp","height","importance","referrerPolicy","sandbox","src","srcDoc","width"]),P=i(s,["alt","crossOrigin","height","src","srcSet","useMap","width"]),_=P,B=s;function I(e,t,n){for(var i=Array.isArray(t),r={},o=0,s=Object.keys(e);o<s.length;o++){var a=s[o];!(!i&&t[a]||i&&0<=t.indexOf(a)||0===a.indexOf("data-")||0===a.indexOf("aria-"))||n&&-1!==(null==n?void 0:n.indexOf(a))||(r[a]=e[a])}return r}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/renderFunction/composeRenderFunction.js":function(e,t,n){"use strict";n.r(t),n.d(t,"composeRenderFunction",(function(){return o}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/memoize.js"),r=Object(i.createMemoizer)((function(e){return Object(i.createMemoizer)((function(t){var n=Object(i.createMemoizer)((function(e){return function(n){return t(n,e)}}));return function(i,r){return e(i,r?n(r):t)}}))}));function o(e,t){return r(e)(t)}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/resources.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getResourceUrl",(function(){return r})),n.d(t,"setBaseUrl",(function(){return o}));var i="";function r(e){return i+e}function o(e){i=e}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/rtl.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getRTL",(function(){return l})),n.d(t,"setRTL",(function(){return u})),n.d(t,"getRTLSafeKeyCode",(function(){return d}));var i,r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/KeyCodes.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getDocument.js"),s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/sessionStorage.js"),a=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js"),c="isRTL";function l(e){return void 0===e&&(e={}),void 0!==e.rtl?e.rtl:(void 0===i&&(null!==(t=Object(s.getItem)(c))&&u(i="1"===t),n=Object(o.getDocument)(),void 0===i&&n&&(i="rtl"===(n.body&&n.body.getAttribute("dir")||n.documentElement.getAttribute("dir")),Object(a.setRTL)(i))),!!i);var t,n}function u(e,t){void 0===t&&(t=!1);var n=Object(o.getDocument)();n&&n.documentElement.setAttribute("dir",e?"rtl":"ltr"),t&&Object(s.setItem)(c,e?"1":"0"),i=e,Object(a.setRTL)(i)}function d(e,t){return void 0===t&&(t={}),l(t)&&(e===r.KeyCodes.left?e=r.KeyCodes.right:e===r.KeyCodes.right&&(e=r.KeyCodes.left)),e}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/safeRequestAnimationFrame.js":function(e,t,n){"use strict";n.r(t),n.d(t,"safeRequestAnimationFrame",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/extendComponent.js"),r=function(e){var t;return function(n){t||(t=new Set,Object(i.extendComponent)(e,{componentWillUnmount:function(){t.forEach((function(e){return cancelAnimationFrame(e)}))}}));var r=requestAnimationFrame((function(){t.delete(r),n()}));t.add(r)}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/safeSetTimeout.js":function(e,t,n){"use strict";n.r(t),n.d(t,"safeSetTimeout",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/extendComponent.js"),r=function(e){var t;return function(n,r){t||(t=new Set,Object(i.extendComponent)(e,{componentWillUnmount:function(){t.forEach((function(e){return clearTimeout(e)}))}}));var o=setTimeout((function(){t.delete(o),n()}),r);t.add(o)}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/scroll.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DATA_IS_SCROLLABLE_ATTRIBUTE",(function(){return l})),n.d(t,"allowScrollOnElement",(function(){return u})),n.d(t,"allowOverscrollOnElement",(function(){return d})),n.d(t,"disableBodyScroll",(function(){return A})),n.d(t,"enableBodyScroll",(function(){return m})),n.d(t,"getScrollbarWidth",(function(){return h})),n.d(t,"findScrollableParent",(function(){return f}));var i,r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getDocument.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js"),s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js"),a=0,c=Object(o.mergeStyles)({overflow:"hidden !important"}),l="data-is-scrollable",u=function(e,t){var n,i;e&&(n=0,i=null,t.on(e,"touchstart",(function(e){1===e.targetTouches.length&&(n=e.targetTouches[0].clientY)}),{passive:!1}),t.on(e,"touchmove",(function(e){var t,r;1===e.targetTouches.length&&(e.stopPropagation(),i&&(t=e.targetTouches[0].clientY-n,(r=f(e.target))&&(i=r),0===i.scrollTop&&0<t&&e.preventDefault(),i.scrollHeight-Math.ceil(i.scrollTop)<=i.clientHeight&&t<0&&e.preventDefault()))}),{passive:!1}),i=e)},d=function(e,t){e&&t.on(e,"touchmove",(function(e){e.stopPropagation()}),{passive:!1})},p=function(e){e.preventDefault()};function A(){var e=Object(r.getDocument)();e&&e.body&&!a&&(e.body.classList.add(c),e.body.addEventListener("touchmove",p,{passive:!1,capture:!1})),a++}function m(){var e;0<a&&((e=Object(r.getDocument)())&&e.body&&1===a&&(e.body.classList.remove(c),e.body.removeEventListener("touchmove",p)),a--)}function h(){var e;return void 0===i&&((e=document.createElement("div")).style.setProperty("width","100px"),e.style.setProperty("height","100px"),e.style.setProperty("overflow","scroll"),e.style.setProperty("position","absolute"),e.style.setProperty("top","-9999px"),document.body.appendChild(e),i=e.offsetWidth-e.clientWidth,document.body.removeChild(e)),i}function f(e){for(var t=e,n=Object(r.getDocument)(e);t&&t!==n.body;){if("true"===t.getAttribute(l))return t;t=t.parentElement}for(t=e;t&&t!==n.body;){if("false"!==t.getAttribute(l)){var i=getComputedStyle(t),o=i?i.getPropertyValue("overflow-y"):"";if(o&&("scroll"===o||"auto"===o))return t}t=t.parentElement}return t&&t!==n.body||(t=Object(s.getWindow)(e)),t}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/selection/Selection.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Selection",(function(){return o}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/selection/Selection.types.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/EventGroup.js"),o=(s.prototype.canSelectItem=function(e,t){return!("number"==typeof t&&t<0)&&this._canSelectItem(e,t)},s.prototype.getKey=function(e,t){var n=this._getKey(e,t);return"number"==typeof n||n?""+n:""},s.prototype.setChangeEvents=function(e,t){this._changeEventSuppressionCount+=e?-1:1,0===this._changeEventSuppressionCount&&this._hasChanged&&(this._hasChanged=!1,t||this._change())},s.prototype.isModal=function(){return this._isModal},s.prototype.setModal=function(e){this._isModal!==e&&(this.setChangeEvents(!1),(this._isModal=e)||this.setAllSelected(!1),this._change(),this.setChangeEvents(!0))},s.prototype.setItems=function(e,t){void 0===t&&(t=!0);var n={},i={},r=!1;this.setChangeEvents(!1);for(var o,s=this._unselectableCount=0;s<e.length;s++)!(c=e[s])||(o=this.getKey(c,s))&&(n[o]=s),i[s]=c&&!this.canSelectItem(c),i[s]&&this._unselectableCount++;!t&&0!==e.length||this._setAllSelected(!1,!0);var a,c,l,u,d={},p=0;for(var A in this._exemptedIndices)this._exemptedIndices.hasOwnProperty(A)&&(a=Number(A),r=void 0===(u=(l=(c=this._items[a])?this.getKey(c,Number(a)):void 0)?n[l]:a)||(d[u]=!0,p++,r||u!==a));this._items&&0===this._exemptedCount&&e.length!==this._items.length&&this._isAllSelected&&(r=!0),this._exemptedIndices=d,this._exemptedCount=p,this._keyToIndexMap=n,this._unselectableIndices=i,this._items=e,this._selectedItems=null,r&&(this._updateCount(),this._change()),this.setChangeEvents(!0)},s.prototype.getItems=function(){return this._items},s.prototype.getSelection=function(){if(!this._selectedItems){this._selectedItems=[];var e=this._items;if(e)for(var t=0;t<e.length;t++)this.isIndexSelected(t)&&this._selectedItems.push(e[t])}return this._selectedItems},s.prototype.getSelectedCount=function(){return this._isAllSelected?this._items.length-this._exemptedCount-this._unselectableCount:this._exemptedCount},s.prototype.getSelectedIndices=function(){if(!this._selectedIndices){this._selectedIndices=[];var e=this._items;if(e)for(var t=0;t<e.length;t++)this.isIndexSelected(t)&&this._selectedIndices.push(t)}return this._selectedIndices},s.prototype.isRangeSelected=function(e,t){if(0===t)return!1;for(var n=e+t,i=e;i<n;i++)if(!this.isIndexSelected(i))return!1;return!0},s.prototype.isAllSelected=function(){var e=this._items.length-this._unselectableCount;return this.mode===i.SelectionMode.single&&(e=Math.min(e,1)),0<this.count&&this._isAllSelected&&0===this._exemptedCount||!this._isAllSelected&&this._exemptedCount===e&&0<e},s.prototype.isKeySelected=function(e){var t=this._keyToIndexMap[e];return this.isIndexSelected(t)},s.prototype.isIndexSelected=function(e){return!!(0<this.count&&this._isAllSelected&&!this._exemptedIndices[e]&&!this._unselectableIndices[e]||!this._isAllSelected&&this._exemptedIndices[e])},s.prototype.setAllSelected=function(e){var t;e&&this.mode!==i.SelectionMode.multiple||(t=this._items?this._items.length-this._unselectableCount:0,this.setChangeEvents(!1),0<t&&(0<this._exemptedCount||e!==this._isAllSelected)&&(this._exemptedIndices={},(e!==this._isAllSelected||0<this._exemptedCount)&&(this._exemptedCount=0,this._isAllSelected=e,this._change()),this._updateCount()),this.setChangeEvents(!0))},s.prototype.setKeySelected=function(e,t,n){var i=this._keyToIndexMap[e];0<=i&&this.setIndexSelected(i,t,n)},s.prototype.setIndexSelected=function(e,t,n){var r;this.mode!==i.SelectionMode.none&&((e=Math.min(Math.max(0,e),this._items.length-1))<0||e>=this._items.length||(this.setChangeEvents(!1),r=this._exemptedIndices[e],this._unselectableIndices[e]||(t&&this.mode===i.SelectionMode.single&&this._setAllSelected(!1,!0),r&&(t&&this._isAllSelected||!t&&!this._isAllSelected)&&(delete this._exemptedIndices[e],this._exemptedCount--),!r&&(t&&!this._isAllSelected||!t&&this._isAllSelected)&&(this._exemptedIndices[e]=!0,this._exemptedCount++),n&&(this._anchoredIndex=e)),this._updateCount(),this.setChangeEvents(!0)))},s.prototype.selectToKey=function(e,t){this.selectToIndex(this._keyToIndexMap[e],t)},s.prototype.selectToIndex=function(e,t){if(this.mode!==i.SelectionMode.none)if(this.mode!==i.SelectionMode.single){var n=this._anchoredIndex||0,r=Math.min(e,n),o=Math.max(e,n);for(this.setChangeEvents(!1),t&&this._setAllSelected(!1,!0);r<=o;r++)this.setIndexSelected(r,!0,!1);this.setChangeEvents(!0)}else this.setIndexSelected(e,!0,!0)},s.prototype.toggleAllSelected=function(){this.setAllSelected(!this.isAllSelected())},s.prototype.toggleKeySelected=function(e){this.setKeySelected(e,!this.isKeySelected(e),!0)},s.prototype.toggleIndexSelected=function(e){this.setIndexSelected(e,!this.isIndexSelected(e),!0)},s.prototype.toggleRangeSelected=function(e,t){if(this.mode!==i.SelectionMode.none){var n=this.isRangeSelected(e,t),r=e+t;if(!(this.mode===i.SelectionMode.single&&1<t)){this.setChangeEvents(!1);for(var o=e;o<r;o++)this.setIndexSelected(o,!n,!1);this.setChangeEvents(!0)}}},s.prototype._updateCount=function(e){void 0===e&&(e=!1);var t=this.getSelectedCount();t!==this.count&&(this.count=t,this._change()),this.count||e||this.setModal(!1)},s.prototype._setAllSelected=function(e,t){var n;void 0===t&&(t=!1),e&&this.mode!==i.SelectionMode.multiple||(n=this._items?this._items.length-this._unselectableCount:0,this.setChangeEvents(!1),0<n&&(0<this._exemptedCount||e!==this._isAllSelected)&&(this._exemptedIndices={},(e!==this._isAllSelected||0<this._exemptedCount)&&(this._exemptedCount=0,this._isAllSelected=e,this._change()),this._updateCount(t)),this.setChangeEvents(!0))},s.prototype._change=function(){0===this._changeEventSuppressionCount?(this._selectedItems=null,this._selectedIndices=void 0,r.EventGroup.raise(this,i.SELECTION_CHANGE),this._onSelectionChanged&&this._onSelectionChanged()):this._hasChanged=!0},s);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0]||{},r=n.onSelectionChanged,o=n.getKey,s=n.canSelectItem,c=void 0===s?function(){return!0}:s,l=n.items,u=n.selectionMode,d=void 0===u?i.SelectionMode.multiple:u;this.mode=d,this._getKey=o||a,this._changeEventSuppressionCount=0,this._exemptedCount=0,this._anchoredIndex=0,this._unselectableCount=0,this._onSelectionChanged=r,this._canSelectItem=c,this._isModal=!1,this.setItems(l||[],!0),this.count=this.getSelectedCount()}function a(e,t){var n=(e||{}).key;return void 0===n?""+t:n}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/selection/Selection.types.js":function(e,t,n){"use strict";n.r(t),n.d(t,"SELECTION_CHANGE",(function(){return a})),n.d(t,"SelectionMode",(function(){return i})),n.d(t,"SelectionDirection",(function(){return o}));var i,r,o,s,a="change";(r=i=i||{})[r.none=0]="none",r[r.single=1]="single",r[r.multiple=2]="multiple",(s=o=o||{})[s.horizontal=0]="horizontal",s[s.vertical=1]="vertical"},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/selection/index.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/selection/Selection.types.js");n.d(t,"SELECTION_CHANGE",(function(){return i.SELECTION_CHANGE})),n.d(t,"SelectionMode",(function(){return i.SelectionMode})),n.d(t,"SelectionDirection",(function(){return i.SelectionDirection}));var r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/selection/Selection.js");n.d(t,"Selection",(function(){return r.Selection}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/sessionStorage.js":function(e,t,n){"use strict";function i(e){var t=null;try{t=window.sessionStorage.getItem(e)}catch(e){}return t}function r(e,t){try{window.sessionStorage.setItem(e,t)}catch(e){}}n.r(t),n.d(t,"getItem",(function(){return i})),n.d(t,"setItem",(function(){return r}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/setFocusVisibility.js":function(e,t,n){"use strict";n.r(t),n.d(t,"IsFocusVisibleClassName",(function(){return r})),n.d(t,"IsFocusHiddenClassName",(function(){return o})),n.d(t,"setFocusVisibility",(function(){return s}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js"),r="ms-Fabric--isFocusVisible",o="ms-Fabric--isFocusHidden";function s(e,t){var n,s=t?Object(i.getWindow)(t):Object(i.getWindow)();s&&((n=s.document.body.classList).add(e?r:o),n.remove(e?o:r))}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/string.js":function(e,t,n){"use strict";n.r(t),n.d(t,"format",(function(){return o}));var i=/[\{\}]/g,r=/\{\d+\}/g;function o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=t;return e.replace(r,(function(e){var t=o[e.replace(i,"")];return null==t&&(t=""),t}))}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/styled.js":function(e,t,n){"use strict";n.r(t),n.d(t,"styled",(function(){return c}));var i=n("./node_modules/tslib/tslib.es6.js"),r=n("./node_modules/react/index.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/merge-styles/lib/index.js"),s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/customizations/useCustomizationSettings.js"),a=["theme","styles"];function c(e,t,n,c,l){var u=(c=c||{scope:"",fields:void 0}).scope,d=c.fields,p=void 0===d?a:d,A=r.forwardRef((function(a,c){var l,d=r.useRef(),A=Object(s.useCustomizationSettings)(p,u),m=A.styles,h=(A.dir,Object(i.__rest)(A,["styles","dir"])),f=n?n(a):void 0,g=d.current&&d.current.__cachedInputs__||[];return d.current&&m===g[1]&&a.styles===g[2]||((l=function(e){return Object(o.concatStyleSetsWithProps)(e,t,m,a.styles)}).__cachedInputs__=[t,m,a.styles],l.__noStyleOverride__=!m&&!a.styles,d.current=l),r.createElement(e,Object(i.__assign)({ref:c},h,f,a,{styles:d.current}))}));return A.displayName="Styled"+(e.displayName||e.name),l?r.memo(A):A}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/useFocusRects.js":function(e,t,n){"use strict";n.r(t),n.d(t,"useFocusRects",(function(){return l})),n.d(t,"FocusRects",(function(){return u}));var i=n("./node_modules/react/index.js"),r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/dom/getWindow.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/keyboard.js"),s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/setFocusVisibility.js"),a=new WeakMap;function c(e,t){var n=a.get(e),i=n?n+t:1;return a.set(e,i),i}function l(e){i.useEffect((function(){var t,n=Object(r.getWindow)(null==e?void 0:e.current);if(n&&!0!==(null===(t=n.FabricConfig)||void 0===t?void 0:t.disableFocusRects))return c(n,1)<=1&&(n.addEventListener("mousedown",d,!0),n.addEventListener("pointerdown",p,!0),n.addEventListener("keydown",A,!0)),function(){var e;n&&!0!==(null===(e=n.FabricConfig)||void 0===e?void 0:e.disableFocusRects)&&0===c(n,-1)&&(n.removeEventListener("mousedown",d,!0),n.removeEventListener("pointerdown",p,!0),n.removeEventListener("keydown",A,!0))}}),[e])}var u=function(e){return l(e.rootRef),null};function d(e){Object(s.setFocusVisibility)(!1,e.target)}function p(e){"mouse"!==e.pointerType&&Object(s.setFocusVisibility)(!1,e.target)}function A(e){Object(o.isDirectionalKeyCode)(e.which)&&Object(s.setFocusVisibility)(!0,e.target)}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/version.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/set-version/lib/index.js");Object(i.setVersion)("@uifabric/utilities","7.31.0")},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn.js":function(e,t,n){"use strict";n.r(t);var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warn.js");n.d(t,"warn",(function(){return i.warn})),n.d(t,"setWarningCallback",(function(){return i.setWarningCallback}));var r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warnConditionallyRequiredProps.js");n.d(t,"warnConditionallyRequiredProps",(function(){return r.warnConditionallyRequiredProps}));var o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warnControlledUsage.js");n.d(t,"resetControlledWarnings",(function(){return o.resetControlledWarnings})),n.d(t,"warnControlledUsage",(function(){return o.warnControlledUsage}));var s=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warnDeprecations.js");n.d(t,"warnDeprecations",(function(){return s.warnDeprecations}));var a=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warnMutuallyExclusive.js");n.d(t,"warnMutuallyExclusive",(function(){return a.warnMutuallyExclusive}))},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warn.js":function(e,t,n){"use strict";n.r(t),n.d(t,"warn",(function(){return r})),n.d(t,"setWarningCallback",(function(){return o}));var i=void 0;function r(e){i?i(e):console&&console.warn&&console.warn(e)}function o(e){i=e}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warnConditionallyRequiredProps.js":function(e,t,n){"use strict";n.r(t),n.d(t,"warnConditionallyRequiredProps",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warn.js");function r(e,t,n,r,o){if(!0===o)for(var s=0,a=n;s<a.length;s++){var c=a[s];c in t||Object(i.warn)(e+" property '"+c+"' is required when '"+r+"' is used.'")}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warnControlledUsage.js":function(e,t,n){"use strict";n.r(t),n.d(t,"resetControlledWarnings",(function(){return s})),n.d(t,"warnControlledUsage",(function(){return a}));var i,r=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warn.js"),o=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/controlled.js");function s(){i.valueOnChange={},i.valueDefaultValue={},i.controlledToUncontrolled={},i.uncontrolledToControlled={}}function a(e){var t,n,s,a,c,l=e.componentId,u=e.componentName,d=e.defaultValueProp,p=e.props,A=e.oldProps,m=e.onChangeProp,h=e.readOnlyProp,f=e.valueProp,g=A?Object(o.isControlled)(A,f):void 0,v=Object(o.isControlled)(p,f);v&&(t=!!p[m],n=!(!h||!p[h]),t||n||i.valueOnChange[l]||(i.valueOnChange[l]=!0,Object(r.warn)("Warning: You provided a '"+f+"' prop to a "+u+" without an '"+m+"' handler. This will render a read-only field. If the field should be mutable use '"+d+"'. Otherwise, set '"+m+"'"+(h?" or '"+h+"'":"")+".")),null==p[d]||i.valueDefaultValue[l]||(i.valueDefaultValue[l]=!0,Object(r.warn)("Warning: You provided both '"+f+"' and '"+d+"' to a "+u+". Form fields must be either controlled or uncontrolled (specify either the '"+f+"' prop, or the '"+d+"' prop, but not both). Decide between using a controlled or uncontrolled "+u+" and remove one of these props. More info: https://fb.me/react-controlled-components"))),A&&v!==g&&(s=g?"a controlled":"an uncontrolled",a=g?"uncontrolled":"controlled",(c=g?i.controlledToUncontrolled:i.uncontrolledToControlled)[l]||(c[l]=!0,Object(r.warn)("Warning: A component is changing "+s+" "+u+" to be "+a+". "+u+"s should not switch from controlled to uncontrolled (or vice versa). Decide between using controlled or uncontrolled for the lifetime of the component. More info: https://fb.me/react-controlled-components")))}i={valueOnChange:{},valueDefaultValue:{},controlledToUncontrolled:{},uncontrolledToControlled:{}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warnDeprecations.js":function(e,t,n){"use strict";n.r(t),n.d(t,"warnDeprecations",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warn.js");function r(e,t,n){for(var r in n){var o,s;t&&r in t&&(o=e+" property '"+r+"' was used but has been deprecated.",(s=n[r])&&(o+=" Use '"+s+"' instead."),Object(i.warn)(o))}}},"./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warnMutuallyExclusive.js":function(e,t,n){"use strict";n.r(t),n.d(t,"warnMutuallyExclusive",(function(){return r}));var i=n("./node_modules/@uifabric/styling/node_modules/@uifabric/utilities/lib/warn/warn.js");function r(e,t,n){for(var r in n){var o;!t||void 0===t[r]||(o=n[r])&&void 0!==t[o]&&Object(i.warn)(e+" property '"+r+"' is mutually exclusive with '"+n[r]+"'. Use one or the other.")}}},"./node_modules/adal-angular/lib/adal.js":function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=function(){"use strict";return r=function(e){if(this.REQUEST_TYPE={LOGIN:"LOGIN",RENEW_TOKEN:"RENEW_TOKEN",UNKNOWN:"UNKNOWN"},this.RESPONSE_TYPE={ID_TOKEN_TOKEN:"id_token token",TOKEN:"token"},this.CONSTANTS={ACCESS_TOKEN:"access_token",EXPIRES_IN:"expires_in",ID_TOKEN:"id_token",ERROR_DESCRIPTION:"error_description",SESSION_STATE:"session_state",ERROR:"error",STORAGE:{TOKEN_KEYS:"adal.token.keys",ACCESS_TOKEN_KEY:"adal.access.token.key",EXPIRATION_KEY:"adal.expiration.key",STATE_LOGIN:"adal.state.login",STATE_RENEW:"adal.state.renew",NONCE_IDTOKEN:"adal.nonce.idtoken",SESSION_STATE:"adal.session.state",USERNAME:"adal.username",IDTOKEN:"adal.idtoken",ERROR:"adal.error",ERROR_DESCRIPTION:"adal.error.description",LOGIN_REQUEST:"adal.login.request",LOGIN_ERROR:"adal.login.error",RENEW_STATUS:"adal.token.renew.status",ANGULAR_LOGIN_REQUEST:"adal.angular.login.request"},RESOURCE_DELIMETER:"|",CACHE_DELIMETER:"||",LOADFRAME_TIMEOUT:6e3,TOKEN_RENEW_STATUS_CANCELED:"Canceled",TOKEN_RENEW_STATUS_COMPLETED:"Completed",TOKEN_RENEW_STATUS_IN_PROGRESS:"In Progress",LOGGING_LEVEL:{ERROR:0,WARN:1,INFO:2,VERBOSE:3},LEVEL_STRING_MAP:{0:"ERROR:",1:"WARNING:",2:"INFO:",3:"VERBOSE:"},POPUP_WIDTH:483,POPUP_HEIGHT:600},r.prototype._singletonInstance)return r.prototype._singletonInstance;if((r.prototype._singletonInstance=this).instance="https://login.microsoftonline.com/",this.config={},this.callback=null,this.popUp=!1,this.isAngular=!1,this._user=null,this._activeRenewals={},this._loginInProgress=!1,this._acquireTokenInProgress=!1,this._renewStates=[],this._callBackMappedToRenewStates={},this._callBacksMappedToRenewStates={},this._openedWindows=[],this._requestType=this.REQUEST_TYPE.LOGIN,window._adalInstance=this,e.displayCall&&"function"!=typeof e.displayCall)throw new Error("displayCall is not a function");if(!e.clientId)throw new Error("clientId is required");this.config=this._cloneConfig(e),void 0===this.config.navigateToLoginRequestUrl&&(this.config.navigateToLoginRequestUrl=!0),this.config.popUp&&(this.popUp=!0),this.config.callback&&"function"==typeof this.config.callback&&(this.callback=this.config.callback),this.config.instance&&(this.instance=this.config.instance),this.config.loginResource||(this.config.loginResource=this.config.clientId),this.config.redirectUri||(this.config.redirectUri=window.location.href.split("?")[0].split("#")[0]),this.config.postLogoutRedirectUri||(this.config.postLogoutRedirectUri=window.location.href.split("?")[0].split("#")[0]),this.config.anonymousEndpoints||(this.config.anonymousEndpoints=[]),this.config.isAngular&&(this.isAngular=this.config.isAngular),this.config.loadFrameTimeout&&(this.CONSTANTS.LOADFRAME_TIMEOUT=this.config.loadFrameTimeout)},"undefined"!=typeof window&&(window.Logging={piiLoggingEnabled:!1,level:0,log:function(){}}),r.prototype.login=function(){var e,t,n;this._loginInProgress?this.info("Login in progress"):(this._loginInProgress=!0,e=this._guid(),this.config.state=e,this._idTokenNonce=this._guid(),(t=this._getItem(this.CONSTANTS.STORAGE.ANGULAR_LOGIN_REQUEST))&&""!==t?this._saveItem(this.CONSTANTS.STORAGE.ANGULAR_LOGIN_REQUEST,""):t=window.location.href,this.verbose("Expected state: "+e+" startPage:"+t),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_REQUEST,t),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.STATE_LOGIN,e,!0),this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,this._idTokenNonce,!0),this._saveItem(this.CONSTANTS.STORAGE.ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,""),n=this._getNavigateUrl("id_token",null)+"&nonce="+encodeURIComponent(this._idTokenNonce),this.config.displayCall?this.config.displayCall(n):this.popUp?(this._saveItem(this.CONSTANTS.STORAGE.STATE_LOGIN,""),this._renewStates.push(e),this.registerCallback(e,this.config.clientId,this.callback),this._loginPopup(n)):this.promptUser(n))},r.prototype._openPopup=function(e,t,n,i){try{var r=window.screenLeft?window.screenLeft:window.screenX,o=window.screenTop?window.screenTop:window.screenY,s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=s/2-n/2+r,l=a/2-i/2+o,u=window.open(e,t,"width="+n+", height="+i+", top="+l+", left="+c);return u.focus&&u.focus(),u}catch(e){return this.warn("Error opening popup, "+e.message),this._loginInProgress=!1,this._acquireTokenInProgress=!1,null}},r.prototype._handlePopupError=function(e,t,n,i,r){this.warn(i),this._saveItem(this.CONSTANTS.STORAGE.ERROR,n),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,i),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,r),t&&this._activeRenewals[t]&&(this._activeRenewals[t]=null),this._loginInProgress=!1,this._acquireTokenInProgress=!1,e&&e(i,null,n)},r.prototype._loginPopup=function(e,t,n){var i,r,o,s,a=this._openPopup(e,"login",this.CONSTANTS.POPUP_WIDTH,this.CONSTANTS.POPUP_HEIGHT),c=n||this.callback;null!=a?(this._openedWindows.push(a),i=-1!=this.config.redirectUri.indexOf("#")?this.config.redirectUri.split("#")[0]:this.config.redirectUri,r=this,o=window.setInterval((function(){if(!a||a.closed||void 0===a.closed){var e="Popup Window closed",n="Popup Window closed by UI action/ Popup Window handle destroyed due to cross zone navigation in IE/Edge";return r.isAngular&&r._broadcast("adal:popUpClosed",n+r.CONSTANTS.RESOURCE_DELIMETER+e),r._handlePopupError(c,t,e,n,n),void window.clearInterval(o)}try{var s=a.location;if(-1!=encodeURI(s.href).indexOf(encodeURI(i)))return r.isAngular?r._broadcast("adal:popUpHashChanged",s.hash):r.handleWindowCallback(s.hash),window.clearInterval(o),r._loginInProgress=!1,r._acquireTokenInProgress=!1,r.info("Closing popup window"),r._openedWindows=[],void a.close()}catch(e){}}),1)):(s="Popup Window is null. This can happen if you are using IE",this._handlePopupError(c,t,"Error opening popup",s,s))},r.prototype._broadcast=function(e,t){function n(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"function"!=typeof window.CustomEvent&&(n.prototype=window.Event.prototype,window.CustomEvent=n);var i=new CustomEvent(e,{detail:t});window.dispatchEvent(i)},r.prototype.loginInProgress=function(){return this._loginInProgress},r.prototype._hasResource=function(e){var t=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS);return t&&!this._isEmpty(t)&&-1<t.indexOf(e+this.CONSTANTS.RESOURCE_DELIMETER)},r.prototype.getCachedToken=function(e){if(!this._hasResource(e))return null;var t=this._getItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+e),n=this._getItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+e),i=this.config.expireOffsetSeconds||300;return n&&n>this._now()+i?t:(this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+e,""),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+e,0),null)},r.prototype.getCachedUser=function(){if(this._user)return this._user;var e=this._getItem(this.CONSTANTS.STORAGE.IDTOKEN);return this._user=this._createUser(e),this._user},r.prototype.registerCallback=function(e,t,n){this._activeRenewals[t]=e,this._callBacksMappedToRenewStates[e]||(this._callBacksMappedToRenewStates[e]=[]);var i=this;this._callBacksMappedToRenewStates[e].push(n),this._callBackMappedToRenewStates[e]||(this._callBackMappedToRenewStates[e]=function(n,r,o,s){i._activeRenewals[t]=null;for(var a=0;a<i._callBacksMappedToRenewStates[e].length;++a)try{i._callBacksMappedToRenewStates[e][a](n,r,o,s)}catch(o){i.warn(o)}i._callBacksMappedToRenewStates[e]=null,i._callBackMappedToRenewStates[e]=null})},r.prototype._renewToken=function(e,t,n){this.info("renewToken is called for resource:"+e);var i=this._addAdalFrame("adalRenewFrame"+e),r=this._guid()+"|"+e;this.config.state=r,this._renewStates.push(r),this.verbose("Renew token Expected state: "+r),n=n||"token";var o=this._urlRemoveQueryStringParameter(this._getNavigateUrl(n,e),"prompt");n===this.RESPONSE_TYPE.ID_TOKEN_TOKEN&&(this._idTokenNonce=this._guid(),this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,this._idTokenNonce,!0),o+="&nonce="+encodeURIComponent(this._idTokenNonce)),o+="&prompt=none",o=this._addHintParameters(o),this.registerCallback(r,e,t),this.verbosePii("Navigate to:"+o),i.src="about:blank",this._loadFrameTimeout(o,"adalRenewFrame"+e,e)},r.prototype._renewIdToken=function(e,t){this.info("renewIdToken is called");var n=this._addAdalFrame("adalIdTokenFrame"),i=this._guid()+"|"+this.config.clientId;this._idTokenNonce=this._guid(),this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,this._idTokenNonce,!0),this.config.state=i,this._renewStates.push(i),this.verbose("Renew Idtoken Expected state: "+i);var r=null==t?null:this.config.clientId,o=(t=t||"id_token",this._urlRemoveQueryStringParameter(this._getNavigateUrl(t,r),"prompt"));o+="&prompt=none",o=this._addHintParameters(o),o+="&nonce="+encodeURIComponent(this._idTokenNonce),this.registerCallback(i,this.config.clientId,e),this.verbosePii("Navigate to:"+o),n.src="about:blank",this._loadFrameTimeout(o,"adalIdTokenFrame",this.config.clientId)},r.prototype._urlContainsQueryStringParameter=function(e,t){return new RegExp("[\\?&]"+e+"=").test(t)},r.prototype._urlRemoveQueryStringParameter=function(e,t){var n=new RegExp("(\\&"+t+"=)[^&]+");return e=e.replace(n,""),n=new RegExp("("+t+"=)[^&]+&"),e=e.replace(n,""),n=new RegExp("("+t+"=)[^&]+"),e.replace(n,"")},r.prototype._loadFrameTimeout=function(e,t,n){this.verbose("Set loading state to pending for: "+n),this._saveItem(this.CONSTANTS.STORAGE.RENEW_STATUS+n,this.CONSTANTS.TOKEN_RENEW_STATUS_IN_PROGRESS),this._loadFrame(e,t);var i=this;setTimeout((function(){var e;i._getItem(i.CONSTANTS.STORAGE.RENEW_STATUS+n)===i.CONSTANTS.TOKEN_RENEW_STATUS_IN_PROGRESS&&(i.verbose("Loading frame has timed out after: "+i.CONSTANTS.LOADFRAME_TIMEOUT/1e3+" seconds for resource "+n),(e=i._activeRenewals[n])&&i._callBackMappedToRenewStates[e]&&i._callBackMappedToRenewStates[e]("Token renewal operation failed due to timeout",null,"Token Renewal Failed"),i._saveItem(i.CONSTANTS.STORAGE.RENEW_STATUS+n,i.CONSTANTS.TOKEN_RENEW_STATUS_CANCELED))}),i.CONSTANTS.LOADFRAME_TIMEOUT)},r.prototype._loadFrame=function(e,t){var n=this;n.info("LoadFrame: "+t);var i=t;setTimeout((function(){var t=n._addAdalFrame(i);""!==t.src&&"about:blank"!==t.src||(t.src=e,n._loadFrame(e,i))}),500)},r.prototype.acquireToken=function(e,t){if(this._isEmpty(e))return this.warn("resource is required"),void t("resource is required",null,"resource is required");var n=this.getCachedToken(e);return n?(this.info("Token is already in cache for resource:"+e),void t(null,n,null)):this._user||this.config.extraQueryParameter&&-1!==this.config.extraQueryParameter.indexOf("login_hint")?void(this._activeRenewals[e]?this.registerCallback(this._activeRenewals[e],e,t):(this._requestType=this.REQUEST_TYPE.RENEW_TOKEN,e===this.config.clientId?this._user?(this.verbose("renewing idtoken"),this._renewIdToken(t)):(this.verbose("renewing idtoken and access_token"),this._renewIdToken(t,this.RESPONSE_TYPE.ID_TOKEN_TOKEN)):this._user?(this.verbose("renewing access_token"),this._renewToken(e,t)):(this.verbose("renewing idtoken and access_token"),this._renewToken(e,t,this.RESPONSE_TYPE.ID_TOKEN_TOKEN)))):(this.warn("User login is required"),void t("User login is required",null,"login required"))},r.prototype.acquireTokenPopup=function(e,t,n,i){if(this._isEmpty(e))return this.warn("resource is required"),void i("resource is required",null,"resource is required");if(!this._user)return this.warn("User login is required"),void i("User login is required",null,"login required");if(this._acquireTokenInProgress)return this.warn("Acquire token interactive is already in progress"),void i("Acquire token interactive is already in progress",null,"Acquire token interactive is already in progress");var r=this._guid()+"|"+e;this.config.state=r,this._renewStates.push(r),this._requestType=this.REQUEST_TYPE.RENEW_TOKEN,this.verbose("Renew token Expected state: "+r);var o=this._urlRemoveQueryStringParameter(this._getNavigateUrl("token",e),"prompt");if(o+="&prompt=select_account",t&&(o+=t),n&&-1===o.indexOf("&claims"))o+="&claims="+encodeURIComponent(n);else if(n&&-1!==o.indexOf("&claims"))throw new Error("Claims cannot be passed as an extraQueryParameter");o=this._addHintParameters(o),this._acquireTokenInProgress=!0,this.info("acquireToken interactive is called for the resource "+e),this.registerCallback(r,e,i),this._loginPopup(o,e,i)},r.prototype.acquireTokenRedirect=function(e,t,n){if(this._isEmpty(e))return this.warn("resource is required"),void i("resource is required",null,"resource is required");var i=this.callback;if(!this._user)return this.warn("User login is required"),void i("User login is required",null,"login required");if(this._acquireTokenInProgress)return this.warn("Acquire token interactive is already in progress"),void i("Acquire token interactive is already in progress",null,"Acquire token interactive is already in progress");var r=this._guid()+"|"+e;this.config.state=r,this.verbose("Renew token Expected state: "+r);var o=this._urlRemoveQueryStringParameter(this._getNavigateUrl("token",e),"prompt");if(o+="&prompt=select_account",t&&(o+=t),n&&-1===o.indexOf("&claims"))o+="&claims="+encodeURIComponent(n);else if(n&&-1!==o.indexOf("&claims"))throw new Error("Claims cannot be passed as an extraQueryParameter");o=this._addHintParameters(o),this._acquireTokenInProgress=!0,this.info("acquireToken interactive is called for the resource "+e),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_REQUEST,window.location.href),this._saveItem(this.CONSTANTS.STORAGE.STATE_RENEW,r,!0),this.promptUser(o)},r.prototype.promptUser=function(e){e?(this.infoPii("Navigate to:"+e),window.location.replace(e)):this.info("Navigate url is empty")},r.prototype.clearCache=function(){this._saveItem(this.CONSTANTS.STORAGE.LOGIN_REQUEST,""),this._saveItem(this.CONSTANTS.STORAGE.ANGULAR_LOGIN_REQUEST,""),this._saveItem(this.CONSTANTS.STORAGE.SESSION_STATE,""),this._saveItem(this.CONSTANTS.STORAGE.STATE_LOGIN,""),this._saveItem(this.CONSTANTS.STORAGE.STATE_RENEW,""),this._renewStates=[],this._saveItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN,""),this._saveItem(this.CONSTANTS.STORAGE.IDTOKEN,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,""),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,"");var e=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS);if(!this._isEmpty(e)){e=e.split(this.CONSTANTS.RESOURCE_DELIMETER);for(var t=0;t<e.length&&""!==e[t];t++)this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+e[t],""),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+e[t],0)}this._saveItem(this.CONSTANTS.STORAGE.TOKEN_KEYS,"")},r.prototype.clearCacheForResource=function(e){this._saveItem(this.CONSTANTS.STORAGE.STATE_RENEW,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,""),this._hasResource(e)&&(this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+e,""),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+e,0))},r.prototype.logOut=function(){var e,t,n;this.clearCache(),this._user=null,e=this.config.logOutUri?this.config.logOutUri:(t="common",n="",this.config.tenant&&(t=this.config.tenant),this.config.postLogoutRedirectUri&&(n="post_logout_redirect_uri="+encodeURIComponent(this.config.postLogoutRedirectUri)),this.instance+t+"/oauth2/logout?"+n),this.infoPii("Logout navigate to: "+e),this.promptUser(e)},r.prototype._isEmpty=function(e){return void 0===e||!e||0===e.length},r.prototype.getUser=function(e){if("function"!=typeof e)throw new Error("callback is not a function");var t;this._user?e(null,this._user):(t=this._getItem(this.CONSTANTS.STORAGE.IDTOKEN),this._isEmpty(t)?(this.warn("User information is not available"),e("User information is not available",null)):(this.info("User exists in cache: "),this._user=this._createUser(t),e(null,this._user)))},r.prototype._addHintParameters=function(e){var t;return this._user&&this._user.profile&&(this._user.profile.sid&&-1!==e.indexOf("&prompt=none")?this._urlContainsQueryStringParameter("sid",e)||(e+="&sid="+encodeURIComponent(this._user.profile.sid)):this._user.profile.upn&&(this._urlContainsQueryStringParameter("login_hint",e)||(e+="&login_hint="+encodeURIComponent(this._user.profile.upn)),!this._urlContainsQueryStringParameter("domain_hint",e)&&-1<this._user.profile.upn.indexOf("@")&&(t=this._user.profile.upn.split("@"),e+="&domain_hint="+encodeURIComponent(t[t.length-1])))),e},r.prototype._createUser=function(e){var t=null,n=this._extractIdToken(e);return n&&n.hasOwnProperty("aud")&&(n.aud.toLowerCase()===this.config.clientId.toLowerCase()?(t={userName:"",profile:n},n.hasOwnProperty("upn")?t.userName=n.upn:n.hasOwnProperty("email")&&(t.userName=n.email)):this.warn("IdToken has invalid aud field")),t},r.prototype._getHash=function(e){return-1<e.indexOf("#/")?e=e.substring(e.indexOf("#/")+2):-1<e.indexOf("#")&&(e=e.substring(1)),e},r.prototype.isCallback=function(e){e=this._getHash(e);var t=this._deserialize(e);return t.hasOwnProperty(this.CONSTANTS.ERROR_DESCRIPTION)||t.hasOwnProperty(this.CONSTANTS.ACCESS_TOKEN)||t.hasOwnProperty(this.CONSTANTS.ID_TOKEN)},r.prototype.getLoginError=function(){return this._getItem(this.CONSTANTS.STORAGE.LOGIN_ERROR)},r.prototype.getRequestInfo=function(e){e=this._getHash(e);var t=this._deserialize(e),n={valid:!1,parameters:{},stateMatch:!1,stateResponse:"",requestType:this.REQUEST_TYPE.UNKNOWN};if(t&&((n.parameters=t).hasOwnProperty(this.CONSTANTS.ERROR_DESCRIPTION)||t.hasOwnProperty(this.CONSTANTS.ACCESS_TOKEN)||t.hasOwnProperty(this.CONSTANTS.ID_TOKEN))){n.valid=!0;var i;if(!t.hasOwnProperty("state"))return this.warn("No state returned"),n;if(this.verbose("State: "+t.state),i=t.state,n.stateResponse=i,this._matchState(n))return n;if(!n.stateMatch&&window.parent){n.requestType=this._requestType;for(var r=this._renewStates,o=0;o<r.length;o++)if(r[o]===n.stateResponse){n.stateMatch=!0;break}}}return n},r.prototype._matchNonce=function(e){var t=this._getItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN);if(t){t=t.split(this.CONSTANTS.CACHE_DELIMETER);for(var n=0;n<t.length;n++)if(t[n]===e.profile.nonce)return!0}return!1},r.prototype._matchState=function(e){var t=this._getItem(this.CONSTANTS.STORAGE.STATE_LOGIN);if(t){t=t.split(this.CONSTANTS.CACHE_DELIMETER);for(var n=0;n<t.length;n++)if(t[n]===e.stateResponse)return e.requestType=this.REQUEST_TYPE.LOGIN,e.stateMatch=!0}var i=this._getItem(this.CONSTANTS.STORAGE.STATE_RENEW);if(i)for(i=i.split(this.CONSTANTS.CACHE_DELIMETER),n=0;n<i.length;n++)if(i[n]===e.stateResponse)return e.requestType=this.REQUEST_TYPE.RENEW_TOKEN,e.stateMatch=!0;return!1},r.prototype._getResourceFromState=function(e){if(e){var t=e.indexOf("|");if(-1<t&&t+1<e.length)return e.substring(t+1)}return""},r.prototype.saveTokenFromHash=function(e){this.info("State status:"+e.stateMatch+"; Request type:"+e.requestType),this._saveItem(this.CONSTANTS.STORAGE.ERROR,""),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,"");var t,n=this._getResourceFromState(e.stateResponse);e.parameters.hasOwnProperty(this.CONSTANTS.ERROR_DESCRIPTION)?(this.infoPii("Error :"+e.parameters.error+"; Error description:"+e.parameters[this.CONSTANTS.ERROR_DESCRIPTION]),this._saveItem(this.CONSTANTS.STORAGE.ERROR,e.parameters.error),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,e.parameters[this.CONSTANTS.ERROR_DESCRIPTION]),e.requestType===this.REQUEST_TYPE.LOGIN&&(this._loginInProgress=!1,this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,e.parameters.error_description))):e.stateMatch?(this.info("State is right"),e.parameters.hasOwnProperty(this.CONSTANTS.SESSION_STATE)&&this._saveItem(this.CONSTANTS.STORAGE.SESSION_STATE,e.parameters[this.CONSTANTS.SESSION_STATE]),e.parameters.hasOwnProperty(this.CONSTANTS.ACCESS_TOKEN)&&(this.info("Fragment has access token"),this._hasResource(n)||(t=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS)||"",this._saveItem(this.CONSTANTS.STORAGE.TOKEN_KEYS,t+n+this.CONSTANTS.RESOURCE_DELIMETER)),this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+n,e.parameters[this.CONSTANTS.ACCESS_TOKEN]),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+n,this._expiresIn(e.parameters[this.CONSTANTS.EXPIRES_IN]))),e.parameters.hasOwnProperty(this.CONSTANTS.ID_TOKEN)&&(this.info("Fragment has id token"),this._loginInProgress=!1,this._user=this._createUser(e.parameters[this.CONSTANTS.ID_TOKEN]),this._user&&this._user.profile?this._matchNonce(this._user)?(this._saveItem(this.CONSTANTS.STORAGE.IDTOKEN,e.parameters[this.CONSTANTS.ID_TOKEN]),n=this.config.loginResource?this.config.loginResource:this.config.clientId,this._hasResource(n)||(t=this._getItem(this.CONSTANTS.STORAGE.TOKEN_KEYS)||"",this._saveItem(this.CONSTANTS.STORAGE.TOKEN_KEYS,t+n+this.CONSTANTS.RESOURCE_DELIMETER)),this._saveItem(this.CONSTANTS.STORAGE.ACCESS_TOKEN_KEY+n,e.parameters[this.CONSTANTS.ID_TOKEN]),this._saveItem(this.CONSTANTS.STORAGE.EXPIRATION_KEY+n,this._user.profile.exp)):(this._saveItem(this.CONSTANTS.STORAGE.LOGIN_ERROR,"Nonce received: "+this._user.profile.nonce+" is not same as requested: "+this._getItem(this.CONSTANTS.STORAGE.NONCE_IDTOKEN)),this._user=null):(e.parameters.error="invalid id_token",e.parameters.error_description="Invalid id_token. id_token: "+e.parameters[this.CONSTANTS.ID_TOKEN],this._saveItem(this.CONSTANTS.STORAGE.ERROR,"invalid id_token"),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,"Invalid id_token. id_token: "+e.parameters[this.CONSTANTS.ID_TOKEN])))):(e.parameters.error="Invalid_state",e.parameters.error_description="Invalid_state. state: "+e.stateResponse,this._saveItem(this.CONSTANTS.STORAGE.ERROR,"Invalid_state"),this._saveItem(this.CONSTANTS.STORAGE.ERROR_DESCRIPTION,"Invalid_state. state: "+e.stateResponse)),this._saveItem(this.CONSTANTS.STORAGE.RENEW_STATUS+n,this.CONSTANTS.TOKEN_RENEW_STATUS_COMPLETED)},r.prototype.getResourceForEndpoint=function(e){if(this.config&&this.config.anonymousEndpoints)for(var t=0;t<this.config.anonymousEndpoints.length;t++)if(-1<e.indexOf(this.config.anonymousEndpoints[t]))return null;if(this.config&&this.config.endpoints)for(var n in this.config.endpoints)if(-1<e.indexOf(n))return this.config.endpoints[n];return(-1<e.indexOf("http://")||-1<e.indexOf("https://"))&&this._getHostFromUri(e)!==this._getHostFromUri(this.config.redirectUri)?null:this.config.loginResource},r.prototype._getHostFromUri=function(e){return String(e).replace(/^(https?:)\/\//,"").split("/")[0]},r.prototype.handleWindowCallback=function(e){if(null==e&&(e=window.location.hash),this.isCallback(e)){var t=null,n=!1;0<this._openedWindows.length&&this._openedWindows[this._openedWindows.length-1].opener&&this._openedWindows[this._openedWindows.length-1].opener._adalInstance?(t=this._openedWindows[this._openedWindows.length-1].opener._adalInstance,n=!0):window.parent&&window.parent._adalInstance&&(t=window.parent._adalInstance);var i,r=t.getRequestInfo(e),o=null,s=n||window.parent!==window?t._callBackMappedToRenewStates[r.stateResponse]:t.callback;t.info("Returned from redirect url"),t.saveTokenFromHash(r),r.requestType===this.REQUEST_TYPE.RENEW_TOKEN&&window.parent?(window.parent!==window?t.verbose("Window is in iframe, acquiring token silently"):t.verbose("acquiring token interactive in progress"),i=r.parameters[t.CONSTANTS.ACCESS_TOKEN]||r.parameters[t.CONSTANTS.ID_TOKEN],o=t.CONSTANTS.ACCESS_TOKEN):r.requestType===this.REQUEST_TYPE.LOGIN&&(i=r.parameters[t.CONSTANTS.ID_TOKEN],o=t.CONSTANTS.ID_TOKEN);var a=r.parameters[t.CONSTANTS.ERROR_DESCRIPTION],c=r.parameters[t.CONSTANTS.ERROR];try{s&&s(a,i,c,o)}catch(e){t.error("Error occurred in user defined callback function: "+e)}window.parent!==window||n||(t.config.navigateToLoginRequestUrl?window.location.href=t._getItem(t.CONSTANTS.STORAGE.LOGIN_REQUEST):window.location.hash="")}},r.prototype._getNavigateUrl=function(e,t){var n="common";this.config.tenant&&(n=this.config.tenant);var i=this.instance+n+"/oauth2/authorize"+this._serialize(e,this.config,t)+this._addLibMetadata();return this.info("Navigate url:"+i),i},r.prototype._extractIdToken=function(e){var t=this._decodeJwt(e);if(!t)return null;try{var n=t.JWSPayload,i=this._base64DecodeStringUrlSafe(n);return i?JSON.parse(i):(this.info("The returned id_token could not be base64 url safe decoded."),null)}catch(e){this.error("The returned id_token could not be decoded",e)}return null},r.prototype._base64DecodeStringUrlSafe=function(e){return e=e.replace(/-/g,"+").replace(/_/g,"/"),window.atob?decodeURIComponent(escape(window.atob(e))):decodeURIComponent(escape(this._decode(e)))},r.prototype._decode=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=(e=String(e).replace(/=+$/,"")).length;if(n%4==1)throw new Error("The token to be decoded is not correctly encoded.");for(var i,r,o,s,a,c,l,u,d="",p=0;p<n;p+=4){if(i=t.indexOf(e.charAt(p)),r=t.indexOf(e.charAt(p+1)),o=t.indexOf(e.charAt(p+2)),s=t.indexOf(e.charAt(p+3)),p+2===n-1){c=(a=i<<18|r<<12|o<<6)>>16&255,l=a>>8&255,d+=String.fromCharCode(c,l);break}if(p+1===n-1){c=(a=i<<18|r<<12)>>16&255,d+=String.fromCharCode(c);break}c=(a=i<<18|r<<12|o<<6|s)>>16&255,l=a>>8&255,u=255&a,d+=String.fromCharCode(c,l,u)}return d},r.prototype._decodeJwt=function(e){if(this._isEmpty(e))return null;var t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);return!t||t.length<4?(this.warn("The returned id_token is not parseable."),null):{header:t[1],JWSPayload:t[2],JWSSig:t[3]}},r.prototype._convertUrlSafeToRegularBase64EncodedString=function(e){return e.replace("-","+").replace("_","/")},r.prototype._serialize=function(e,t,n){var i,r=[];return null!==t&&(r.push("?response_type="+e),r.push("client_id="+encodeURIComponent(t.clientId)),n&&r.push("resource="+encodeURIComponent(n)),r.push("redirect_uri="+encodeURIComponent(t.redirectUri)),r.push("state="+encodeURIComponent(t.state)),t.hasOwnProperty("slice")&&r.push("slice="+encodeURIComponent(t.slice)),t.hasOwnProperty("extraQueryParameter")&&r.push(t.extraQueryParameter),i=t.correlationId?t.correlationId:this._guid(),r.push("client-request-id="+encodeURIComponent(i))),r.join("&")},r.prototype._deserialize=function(e){for(var t=/\+/g,n=/([^&=]+)=([^&]*)/g,i=function(e){return decodeURIComponent(e.replace(t," "))},r={},o=n.exec(e);o;)r[i(o[1])]=i(o[2]),o=n.exec(e);return r},r.prototype._decimalToHex=function(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t},r.prototype._guid=function(){var e=window.crypto||window.msCrypto;if(e&&e.getRandomValues){var t=new Uint8Array(16);return e.getRandomValues(t),t[6]|=64,t[6]&=79,t[8]|=128,t[8]&=191,this._decimalToHex(t[0])+this._decimalToHex(t[1])+this._decimalToHex(t[2])+this._decimalToHex(t[3])+"-"+this._decimalToHex(t[4])+this._decimalToHex(t[5])+"-"+this._decimalToHex(t[6])+this._decimalToHex(t[7])+"-"+this._decimalToHex(t[8])+this._decimalToHex(t[9])+"-"+this._decimalToHex(t[10])+this._decimalToHex(t[11])+this._decimalToHex(t[12])+this._decimalToHex(t[13])+this._decimalToHex(t[14])+this._decimalToHex(t[15])}for(var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",i="0123456789abcdef",r=0,o="",s=0;s<36;s++)"-"!==n[s]&&"4"!==n[s]&&(r=16*Math.random()|0),"x"===n[s]?o+=i[r]:"y"===n[s]?(r&=3,o+=i[r|=8]):o+=n[s];return o},r.prototype._expiresIn=function(e){return e=e||3599,this._now()+parseInt(e,10)},r.prototype._now=function(){return Math.round((new Date).getTime()/1e3)},r.prototype._addAdalFrame=function(e){if(void 0!==e){this.info("Add adal frame to document:"+e);var t,n=document.getElementById(e);return n||(document.createElement&&document.documentElement&&(window.opera||-1===window.navigator.userAgent.indexOf("MSIE 5.0"))?((t=document.createElement("iframe")).setAttribute("id",e),t.setAttribute("aria-hidden","true"),t.style.visibility="hidden",t.style.position="absolute",t.style.width=t.style.height=t.borderWidth="0px",n=document.getElementsByTagName("body")[0].appendChild(t)):document.body&&document.body.insertAdjacentHTML&&document.body.insertAdjacentHTML("beforeEnd",'<iframe name="'+e+'" id="'+e+'" style="display:none"></iframe>'),window.frames&&window.frames[e]&&(n=window.frames[e])),n}},r.prototype._saveItem=function(e,t,n){var i;return this.config&&this.config.cacheLocation&&"localStorage"===this.config.cacheLocation?this._supportsLocalStorage()?(n?(i=this._getItem(e)||"",localStorage.setItem(e,i+t+this.CONSTANTS.CACHE_DELIMETER)):localStorage.setItem(e,t),!0):(this.info("Local storage is not supported"),!1):this._supportsSessionStorage()?(sessionStorage.setItem(e,t),!0):(this.info("Session storage is not supported"),!1)},r.prototype._getItem=function(e){return this.config&&this.config.cacheLocation&&"localStorage"===this.config.cacheLocation?this._supportsLocalStorage()?localStorage.getItem(e):(this.info("Local storage is not supported"),null):this._supportsSessionStorage()?sessionStorage.getItem(e):(this.info("Session storage is not supported"),null)},r.prototype._supportsLocalStorage=function(){try{return!!window.localStorage&&(window.localStorage.setItem("storageTest","A"),"A"==window.localStorage.getItem("storageTest")&&(window.localStorage.removeItem("storageTest"),!window.localStorage.getItem("storageTest")))}catch(e){return!1}},r.prototype._supportsSessionStorage=function(){try{return!!window.sessionStorage&&(window.sessionStorage.setItem("storageTest","A"),"A"==window.sessionStorage.getItem("storageTest")&&(window.sessionStorage.removeItem("storageTest"),!window.sessionStorage.getItem("storageTest")))}catch(e){return!1}},r.prototype._cloneConfig=function(e){if(null===e||"object"!==i(e))return e;var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},r.prototype._addLibMetadata=function(){return"&x-client-SKU=Js&x-client-Ver="+this._libVersion()},r.prototype.log=function(e,t,n,i){if(e<=Logging.level){if(!Logging.piiLoggingEnabled&&i)return;var r=(new Date).toUTCString(),o="";o=this.config.correlationId?r+":"+this.config.correlationId+"-"+this._libVersion()+"-"+this.CONSTANTS.LEVEL_STRING_MAP[e]+" "+t:r+":"+this._libVersion()+"-"+this.CONSTANTS.LEVEL_STRING_MAP[e]+" "+t;n&&(o+="\nstack:\n"+n.stack),Logging.log(o)}},r.prototype.error=function(e,t){this.log(this.CONSTANTS.LOGGING_LEVEL.ERROR,e,t)},r.prototype.warn=function(e){this.log(this.CONSTANTS.LOGGING_LEVEL.WARN,e,null)},r.prototype.info=function(e){this.log(this.CONSTANTS.LOGGING_LEVEL.INFO,e,null)},r.prototype.verbose=function(e){this.log(this.CONSTANTS.LOGGING_LEVEL.VERBOSE,e,null)},r.prototype.errorPii=function(e,t){this.log(this.CONSTANTS.LOGGING_LEVEL.ERROR,e,t,!0)},r.prototype.warnPii=function(e){this.log(this.CONSTANTS.LOGGING_LEVEL.WARN,e,null,!0)},r.prototype.infoPii=function(e){this.log(this.CONSTANTS.LOGGING_LEVEL.INFO,e,null,!0)},r.prototype.verbosePii=function(e){this.log(this.CONSTANTS.LOGGING_LEVEL.VERBOSE,e,null,!0)},r.prototype._libVersion=function(){return"1.0.17"},e.exports&&(e.exports=r,e.exports.inject=function(e){return new r(e)}),r}()},"./node_modules/decode-uri-component/index.js":function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r="%[a-f0-9]{2}",o=new RegExp(r,"gi"),s=new RegExp("("+r+")+","gi");function a(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(o),n=1;n<t.length;n++)t=(e=function e(t,n){try{return decodeURIComponent(t.join(""))}catch(e){}if(1===t.length)return t;n=n||1;var i=t.slice(0,n),r=t.slice(n);return Array.prototype.concat.call([],e(i),e(r))}(t,n).join("")).match(o);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+i(e)+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=s.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var i=a(n[0]);i!==n[0]&&(t[n[0]]=i)}n=s.exec(e)}t["%C2"]="�";for(var r=Object.keys(t),o=0;o<r.length;o++){var c=r[o];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},"./node_modules/hash.js/lib/hash/common.js":function(e,t,n){"use strict";var i=n("./node_modules/hash.js/lib/hash/utils.js"),r=n("./node_modules/minimalistic-assert/index.js");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}(t.BlockHash=o).prototype.update=function(e,t){if(e=i.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=i.join32(e,0,e.length-n,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),r(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,i=new Array(n+this.padLength);i[0]=128;for(var r=1;r<n;r++)i[r]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)i[r++]=0;i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=e>>>24&255,i[r++]=e>>>16&255,i[r++]=e>>>8&255,i[r++]=255&e}else for(i[r++]=255&e,i[r++]=e>>>8&255,i[r++]=e>>>16&255,i[r++]=e>>>24&255,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,o=8;o<this.padLength;o++)i[r++]=0;return i}},"./node_modules/hash.js/lib/hash/sha/256.js":function(e,t,n){"use strict";var i=n("./node_modules/hash.js/lib/hash/utils.js"),r=n("./node_modules/hash.js/lib/hash/common.js"),o=n("./node_modules/hash.js/lib/hash/sha/common.js"),s=n("./node_modules/minimalistic-assert/index.js"),a=i.sum32,c=i.sum32_4,l=i.sum32_5,u=o.ch32,d=o.maj32,p=o.s0_256,A=o.s1_256,m=o.g0_256,h=o.g1_256,f=r.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;f.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}i.inherits(v,f),(e.exports=v).blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=c(h(n[i-2]),n[i-7],m(n[i-15]),n[i-16]);var r=this.h[0],o=this.h[1],f=this.h[2],g=this.h[3],v=this.h[4],y=this.h[5],S=this.h[6],b=this.h[7];for(s(this.k.length===n.length),i=0;i<n.length;i++){var C=l(b,A(v),u(v,y,S),this.k[i],n[i]),E=a(p(r),d(r,o,f));b=S,S=y,y=v,v=a(g,C),g=f,f=o,o=r,r=a(C,E)}this.h[0]=a(this.h[0],r),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],f),this.h[3]=a(this.h[3],g),this.h[4]=a(this.h[4],v),this.h[5]=a(this.h[5],y),this.h[6]=a(this.h[6],S),this.h[7]=a(this.h[7],b)},v.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},"./node_modules/hash.js/lib/hash/sha/common.js":function(e,t,n){"use strict";var i=n("./node_modules/hash.js/lib/hash/utils.js").rotr32;function r(e,t,n){return e&t^~e&n}function o(e,t,n){return e&t^e&n^t&n}t.ft_1=function(e,t,n,i){return 0===e?r(t,n,i):1===e||3===e?t^n^i:2===e?o(t,n,i):void 0},t.ch32=r,t.maj32=o,t.p32=function(e,t,n){return e^t^n},t.s0_256=function(e){return i(e,2)^i(e,13)^i(e,22)},t.s1_256=function(e){return i(e,6)^i(e,11)^i(e,25)},t.g0_256=function(e){return i(e,7)^i(e,18)^e>>>3},t.g1_256=function(e){return i(e,17)^i(e,19)^e>>>10}},"./node_modules/hash.js/lib/hash/utils.js":function(e,t,n){"use strict";var i=n("./node_modules/minimalistic-assert/index.js"),r=n("./node_modules/inherits/inherits_browser.js");function o(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function a(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=r,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n,i,r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),s=0;s<e.length;s+=2)r.push(parseInt(e[s]+e[s+1],16))}else for(var o=0,s=0;s<e.length;s++){var a=e.charCodeAt(s);a<128?r[o++]=a:a<2048?(r[o++]=a>>6|192,r[o++]=63&a|128):(i=s,55296!=(64512&(n=e).charCodeAt(i))||i<0||i+1>=n.length||56320!=(64512&n.charCodeAt(i+1))?r[o++]=a>>12|224:(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++s)),r[o++]=a>>18|240,r[o++]=a>>12&63|128),r[o++]=a>>6&63|128,r[o++]=63&a|128)}else for(s=0;s<e.length;s++)r[s]=0|e[s];return r},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=s(e[n].toString(16));return t},t.htonl=o,t.toHex32=function(e,t){for(var n="",i=0;i<e.length;i++){var r=e[i];"little"===t&&(r=o(r)),n+=a(r.toString(16))}return n},t.zero2=s,t.zero8=a,t.join32=function(e,t,n,r){var o=n-t;i(o%4==0);for(var s=new Array(o/4),a=0,c=t;a<s.length;a++,c+=4){var l="big"===r?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c];s[a]=l>>>0}return s},t.split32=function(e,t){for(var n=new Array(4*e.length),i=0,r=0;i<e.length;i++,r+=4){var o=e[i];"big"===t?(n[r]=o>>>24,n[r+1]=o>>>16&255,n[r+2]=o>>>8&255,n[r+3]=255&o):(n[r+3]=o>>>24,n[r+2]=o>>>16&255,n[r+1]=o>>>8&255,n[r]=255&o)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,i){return e+t+n+i>>>0},t.sum32_5=function(e,t,n,i,r){return e+t+n+i+r>>>0},t.sum64=function(e,t,n,i){var r=e[t],o=i+e[t+1]>>>0,s=(o<i?1:0)+n+r;e[t]=s>>>0,e[t+1]=o},t.sum64_hi=function(e,t,n,i){return(t+i>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,i){return t+i>>>0},t.sum64_4_hi=function(e,t,n,i,r,o,s,a){var c=0,l=t;return c+=(l=l+i>>>0)<t?1:0,c+=(l=l+o>>>0)<o?1:0,e+n+r+s+(c+=(l=l+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,n,i,r,o,s,a){return t+i+o+a>>>0},t.sum64_5_hi=function(e,t,n,i,r,o,s,a,c,l){var u=0,d=t;return u+=(d=d+i>>>0)<t?1:0,u+=(d=d+o>>>0)<o?1:0,u+=(d=d+a>>>0)<a?1:0,e+n+r+s+c+(u+=(d=d+l>>>0)<l?1:0)>>>0},t.sum64_5_lo=function(e,t,n,i,r,o,s,a,c,l){return t+i+o+a+l>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},"./node_modules/html2canvas/dist/html2canvas.js":function(e,t,n){var i,r,o;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o=function(){"use strict";var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};function t(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var n=function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function i(e,t,n,i){return new(n=n||Promise)((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(s,a)}c((i=i.apply(e,t||[])).next())}))}function r(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=0<(r=o.trys).length&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}var o=(s.prototype.add=function(e,t,n,i){return new s(this.left+e,this.top+t,this.width+n,this.height+i)},s.fromClientRect=function(e){return new s(e.left,e.top,e.width,e.height)},s);function s(e,t,n,i){this.left=e,this.top=t,this.width=n,this.height=i}for(var a=function(e){return o.fromClientRect(e.getBoundingClientRect())},c=function(e){for(var t=[],n=0,i=e.length;n<i;){var r,o=e.charCodeAt(n++);55296<=o&&o<=56319&&n<i?56320==(64512&(r=e.charCodeAt(n++)))?t.push(((1023&o)<<10)+(1023&r)+65536):(t.push(o),n--):t.push(o)}return t},l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var i=[],r=-1,o="";++r<n;){var s=e[r];s<=65535?i.push(s):(s-=65536,i.push(55296+(s>>10),s%1024+56320)),(r+1===n||16384<i.length)&&(o+=String.fromCharCode.apply(String,i),i.length=0)}return o},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"==typeof Uint8Array?[]:new Uint8Array(256),p=0;p<u.length;p++)d[u.charCodeAt(p)]=p;function A(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))}var m=(h.prototype.get=function(e){var t;if(0<=e){if(e<55296||56319<e&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=2080+(e>>11),t=this.index[t],t+=e>>5&63,t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},h);function h(e,t,n,i,r,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=i,this.index=r,this.data=o}function f(e,t,n,i){var r=i[n];if(Array.isArray(e)?-1!==e.indexOf(r):e===r)for(var o=n;o<=i.length;){if((a=i[++o])===t)return 1;if(a!==B)break}if(r===B)for(o=n;0<o;){var s=i[--o];if(Array.isArray(e)?-1!==e.indexOf(s):e===s)for(var a,c=n;c<=i.length;){if((a=i[++c])===t)return 1;if(a!==B)break}if(s!==B)break}}function g(e,t){for(var n=e;0<=n;){var i=t[n];if(i!==B)return i;n--}return 0}var v,y,S,b,C,E,w,T,P,_,B=10,I=13,D=15,k=17,F=18,M=19,U=20,N=21,L=22,x=24,R=25,O=26,V=27,Q=28,H=30,$=32,j=33,Y=34,G=35,K=37,z=38,W=39,q=40,J=42,X=(b=function(e){var t,n,i,r,o=.75*e.length,s=e.length,a=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);for(var c=new("undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?ArrayBuffer:Array)(o),l=Array.isArray(c)?c:new Uint8Array(c),u=0;u<s;u+=4)t=d[e.charCodeAt(u)],n=d[e.charCodeAt(u+1)],i=d[e.charCodeAt(u+2)],r=d[e.charCodeAt(u+3)],l[a++]=t<<2|n>>4,l[a++]=(15&n)<<4|i>>2,l[a++]=(3&i)<<6|63&r;return c}("KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"),C=Array.isArray(b)?function(e){for(var t=e.length,n=[],i=0;i<t;i+=4)n.push(e[i+3]<<24|e[i+2]<<16|e[i+1]<<8|e[i]);return n}(b):new Uint32Array(b),w=A(E=Array.isArray(b)?function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n.push(e[i+1]<<8|e[i]);return n}(b):new Uint16Array(b),12,C[4]/2),T=2===C[5]?A(E,(24+C[4])/2):(v=C,y=Math.ceil((24+C[4])/4),v.slice?v.slice(y,S):new Uint32Array(Array.prototype.slice.call(v,y,S))),new m(C[0],C[1],C[2],C[3],w,T)),Z=[H,36],ee=[1,2,3,5],te=[B,8],ne=[V,O],ie=ee.concat(te),re=[z,W,q,Y,G],oe=[D,I],se=(ae.prototype.slice=function(){return l.apply(void 0,this.codePoints.slice(this.start,this.end))},ae);function ae(e,t,n,i){this.codePoints=e,this.required="!"===t,this.start=n,this.end=i}function ce(e,t){var n=c(e),i=function(e,t){var n=function(e,t){void 0===t&&(t="strict");var n=[],i=[],r=[];return e.forEach((function(e,o){var s=X.get(e);if(50<s?(r.push(!0),s-=50):r.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return i.push(o),n.push(16);if(4!==s&&11!==s)return i.push(o),31===s?n.push("strict"===t?N:K):s===J||29===s?n.push(H):43===s?131072<=e&&e<=196605||196608<=e&&e<=262141?n.push(K):n.push(H):void n.push(s);if(0===o)return i.push(o),n.push(H);var a=n[o-1];return-1===ie.indexOf(a)?(i.push(i[o-1]),n.push(a)):(i.push(o),n.push(H))})),[i,n,r]}(e,(t=t||{lineBreak:"normal",wordBreak:"normal"}).lineBreak),i=n[0],r=n[1],o=n[2];return"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(r=r.map((function(e){return-1!==[R,H,J].indexOf(e)?K:e}))),[i,r,"keep-all"===t.wordBreak?o.map((function(t,n){return t&&19968<=e[n]&&e[n]<=40959})):void 0]}(n,t),r=i[0],o=i[1],s=i[2],a=n.length,l=0,u=0;return{next:function(){if(a<=u)return{done:!0,value:null};for(var e="×";u<a&&"×"===(e=function(e,t,n,i,r){if(0===n[i])return"×";var o=i-1;if(Array.isArray(r)&&!0===r[o])return"×";var s=o-1,a=1+o,c=t[o],l=0<=s?t[s]:0,u=t[a];if(2===c&&3===u)return"×";if(-1!==ee.indexOf(c))return"!";if(-1!==ee.indexOf(u))return"×";if(-1!==te.indexOf(u))return"×";if(8===g(o,t))return"÷";if(11===X.get(e[o])&&(u===K||u===$||u===j))return"×";if(7===c||7===u)return"×";if(9===c)return"×";if(-1===[B,I,D].indexOf(c)&&9===u)return"×";if(-1!==[k,F,M,x,Q].indexOf(u))return"×";if(g(o,t)===L)return"×";if(f(23,L,o,t))return"×";if(f([k,F],N,o,t))return"×";if(f(12,12,o,t))return"×";if(c===B)return"÷";if(23===c||23===u)return"×";if(16===u||16===c)return"÷";if(-1!==[I,D,N].indexOf(u)||14===c)return"×";if(36===l&&-1!==oe.indexOf(c))return"×";if(c===Q&&36===u)return"×";if(u===U&&-1!==Z.concat(U,M,R,K,$,j).indexOf(c))return"×";if(-1!==Z.indexOf(u)&&c===R||-1!==Z.indexOf(c)&&u===R)return"×";if(c===V&&-1!==[K,$,j].indexOf(u)||-1!==[K,$,j].indexOf(c)&&u===O)return"×";if(-1!==Z.indexOf(c)&&-1!==ne.indexOf(u)||-1!==ne.indexOf(c)&&-1!==Z.indexOf(u))return"×";if(-1!==[V,O].indexOf(c)&&(u===R||-1!==[L,D].indexOf(u)&&t[1+a]===R)||-1!==[L,D].indexOf(c)&&u===R||c===R&&-1!==[R,Q,x].indexOf(u))return"×";if(-1!==[R,Q,x,k,F].indexOf(u))for(var d=o;0<=d;){if((p=t[d])===R)return"×";if(-1===[Q,x].indexOf(p))break;d--}if(-1!==[V,O].indexOf(u)){var p;for(d=-1!==[k,F].indexOf(c)?s:o;0<=d;){if((p=t[d])===R)return"×";if(-1===[Q,x].indexOf(p))break;d--}}if(z===c&&-1!==[z,W,Y,G].indexOf(u)||-1!==[W,Y].indexOf(c)&&-1!==[W,q].indexOf(u)||-1!==[q,G].indexOf(c)&&u===q)return"×";if(-1!==re.indexOf(c)&&-1!==[U,O].indexOf(u)||-1!==re.indexOf(u)&&c===V)return"×";if(-1!==Z.indexOf(c)&&-1!==Z.indexOf(u))return"×";if(c===x&&-1!==Z.indexOf(u))return"×";if(-1!==Z.concat(R).indexOf(c)&&u===L||-1!==Z.concat(R).indexOf(u)&&c===F)return"×";if(41===c&&41===u){for(var A=n[o],m=1;0<A&&41===t[--A];)m++;if(m%2!=0)return"×"}return c===$&&u===j?"×":"÷"}(n,o,r,++u,s)););if("×"===e&&u!==a)return{done:!0,value:null};var t=new se(n,e,l,u);return l=u,{value:t,done:!1}}}}function le(e){return 48<=e&&e<=57}function ue(e){return le(e)||65<=e&&e<=70||97<=e&&e<=102}function de(e){return 10===e||9===e||32===e}function pe(e){return 97<=(i=t=e)&&i<=122||65<=(n=t)&&n<=90||128<=e||95===e;var t,n,i}function Ae(e){return pe(e)||le(e)||45===e}function me(e,t){return 92===e&&10!==t}function he(e,t,n){return 45===e?pe(t)||me(t,n):!!pe(e)||!(92!==e||!me(e,t))}function fe(e,t,n){return 43===e||45===e?!!le(t)||46===t&&le(n):le(46===e?t:e)}(_=P=P||{})[_.STRING_TOKEN=0]="STRING_TOKEN",_[_.BAD_STRING_TOKEN=1]="BAD_STRING_TOKEN",_[_.LEFT_PARENTHESIS_TOKEN=2]="LEFT_PARENTHESIS_TOKEN",_[_.RIGHT_PARENTHESIS_TOKEN=3]="RIGHT_PARENTHESIS_TOKEN",_[_.COMMA_TOKEN=4]="COMMA_TOKEN",_[_.HASH_TOKEN=5]="HASH_TOKEN",_[_.DELIM_TOKEN=6]="DELIM_TOKEN",_[_.AT_KEYWORD_TOKEN=7]="AT_KEYWORD_TOKEN",_[_.PREFIX_MATCH_TOKEN=8]="PREFIX_MATCH_TOKEN",_[_.DASH_MATCH_TOKEN=9]="DASH_MATCH_TOKEN",_[_.INCLUDE_MATCH_TOKEN=10]="INCLUDE_MATCH_TOKEN",_[_.LEFT_CURLY_BRACKET_TOKEN=11]="LEFT_CURLY_BRACKET_TOKEN",_[_.RIGHT_CURLY_BRACKET_TOKEN=12]="RIGHT_CURLY_BRACKET_TOKEN",_[_.SUFFIX_MATCH_TOKEN=13]="SUFFIX_MATCH_TOKEN",_[_.SUBSTRING_MATCH_TOKEN=14]="SUBSTRING_MATCH_TOKEN",_[_.DIMENSION_TOKEN=15]="DIMENSION_TOKEN",_[_.PERCENTAGE_TOKEN=16]="PERCENTAGE_TOKEN",_[_.NUMBER_TOKEN=17]="NUMBER_TOKEN",_[_.FUNCTION=18]="FUNCTION",_[_.FUNCTION_TOKEN=19]="FUNCTION_TOKEN",_[_.IDENT_TOKEN=20]="IDENT_TOKEN",_[_.COLUMN_TOKEN=21]="COLUMN_TOKEN",_[_.URL_TOKEN=22]="URL_TOKEN",_[_.BAD_URL_TOKEN=23]="BAD_URL_TOKEN",_[_.CDC_TOKEN=24]="CDC_TOKEN",_[_.CDO_TOKEN=25]="CDO_TOKEN",_[_.COLON_TOKEN=26]="COLON_TOKEN",_[_.SEMICOLON_TOKEN=27]="SEMICOLON_TOKEN",_[_.LEFT_SQUARE_BRACKET_TOKEN=28]="LEFT_SQUARE_BRACKET_TOKEN",_[_.RIGHT_SQUARE_BRACKET_TOKEN=29]="RIGHT_SQUARE_BRACKET_TOKEN",_[_.UNICODE_RANGE_TOKEN=30]="UNICODE_RANGE_TOKEN",_[_.WHITESPACE_TOKEN=31]="WHITESPACE_TOKEN",_[_.EOF_TOKEN=32]="EOF_TOKEN";var ge={type:P.LEFT_PARENTHESIS_TOKEN},ve={type:P.RIGHT_PARENTHESIS_TOKEN},ye={type:P.COMMA_TOKEN},Se={type:P.SUFFIX_MATCH_TOKEN},be={type:P.PREFIX_MATCH_TOKEN},Ce={type:P.COLUMN_TOKEN},Ee={type:P.DASH_MATCH_TOKEN},we={type:P.INCLUDE_MATCH_TOKEN},Te={type:P.LEFT_CURLY_BRACKET_TOKEN},Pe={type:P.RIGHT_CURLY_BRACKET_TOKEN},_e={type:P.SUBSTRING_MATCH_TOKEN},Be={type:P.BAD_URL_TOKEN},Ie={type:P.BAD_STRING_TOKEN},De={type:P.CDO_TOKEN},ke={type:P.CDC_TOKEN},Fe={type:P.COLON_TOKEN},Me={type:P.SEMICOLON_TOKEN},Ue={type:P.LEFT_SQUARE_BRACKET_TOKEN},Ne={type:P.RIGHT_SQUARE_BRACKET_TOKEN},Le={type:P.WHITESPACE_TOKEN},xe={type:P.EOF_TOKEN},Re=(Oe.prototype.write=function(e){this._value=this._value.concat(c(e))},Oe.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==xe;)e.push(t),t=this.consumeToken();return e},Oe.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case 34:return this.consumeStringToken(34);case 35:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(Ae(t)||me(n,i)){var r=he(t,n,i)?2:1,o=this.consumeName();return{type:P.HASH_TOKEN,value:o,flags:r}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Se;break;case 39:return this.consumeStringToken(39);case 40:return ge;case 41:return ve;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),_e;break;case 43:if(fe(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 44:return ye;case 45:var s=e,a=this.peekCodePoint(0),c=this.peekCodePoint(1);if(fe(s,a,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(he(s,a,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(45===a&&62===c)return this.consumeCodePoint(),this.consumeCodePoint(),ke;break;case 46:if(fe(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(42===u&&47===(u=this.consumeCodePoint()))return this.consumeToken();if(-1===u)return this.consumeToken()}break;case 58:return Fe;case 59:return Me;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),De;break;case 64:if(he(this.peekCodePoint(0),this.peekCodePoint(1),this.peekCodePoint(2)))return o=this.consumeName(),{type:P.AT_KEYWORD_TOKEN,value:o};break;case 91:return Ue;case 92:if(me(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case 93:return Ne;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),be;break;case 123:return Te;case 125:return Pe;case 117:case 85:var d=this.peekCodePoint(0),p=this.peekCodePoint(1);return 43!==d||!ue(p)&&63!==p||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ee;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Ce;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),we;break;case-1:return xe}return de(e)?(this.consumeWhiteSpace(),Le):le(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):pe(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:P.DELIM_TOKEN,value:l(e)}},Oe.prototype.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},Oe.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},Oe.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},Oe.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();ue(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;63===t&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(l.apply(void 0,e.map((function(e){return 63===e?48:e}))),16),r=parseInt(l.apply(void 0,e.map((function(e){return 63===e?70:e}))),16);return{type:P.UNICODE_RANGE_TOKEN,start:i,end:r}}var o=parseInt(l.apply(void 0,e),16);if(45===this.peekCodePoint(0)&&ue(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var s=[];ue(t)&&s.length<6;)s.push(t),t=this.consumeCodePoint();return r=parseInt(l.apply(void 0,s),16),{type:P.UNICODE_RANGE_TOKEN,start:o,end:r}}return{type:P.UNICODE_RANGE_TOKEN,start:o,end:o}},Oe.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:P.FUNCTION_TOKEN,value:e}):{type:P.IDENT_TOKEN,value:e}},Oe.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:P.URL_TOKEN,value:""};var t,n=this.peekCodePoint(0);if(39===n||34===n){var i=this.consumeStringToken(this.consumeCodePoint());return i.type===P.STRING_TOKEN&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:P.URL_TOKEN,value:i.value}):(this.consumeBadUrlRemnants(),Be)}for(;;){var r=this.consumeCodePoint();if(-1===r||41===r)return{type:P.URL_TOKEN,value:l.apply(void 0,e)};if(de(r))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:P.URL_TOKEN,value:l.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Be);if(34===r||39===r||40===r||0<=(t=r)&&t<=8||11===t||14<=t&&t<=31||127===t)return this.consumeBadUrlRemnants(),Be;if(92===r){if(!me(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Be;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},Oe.prototype.consumeWhiteSpace=function(){for(;de(this.peekCodePoint(0));)this.consumeCodePoint()},Oe.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(41===e||-1===e)return;me(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},Oe.prototype.consumeStringSlice=function(e){for(var t="";0<e;){var n=Math.min(6e4,e);t+=l.apply(void 0,this._value.splice(0,n)),e-=n}return this._value.shift(),t},Oe.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var i,r=this._value[n];if(-1===r||void 0===r||r===e)return t+=this.consumeStringSlice(n),{type:P.STRING_TOKEN,value:t};if(10===r)return this._value.splice(0,n),Ie;92!==r||-1!==(i=this._value[n+1])&&void 0!==i&&(10===i?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):me(r,i)&&(t+=this.consumeStringSlice(n),t+=l(this.consumeEscapedCodePoint()),n=-1)),n++}},Oe.prototype.consumeNumber=function(){var e=[],t=4,n=this.peekCodePoint(0);for(43!==n&&45!==n||e.push(this.consumeCodePoint());le(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(46===n&&le(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;le(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((69===n||101===n)&&((43===i||45===i)&&le(r)||le(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;le(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[function(e){var t=0,n=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(n=-1),t++);for(var i=[];le(e[t]);)i.push(e[t++]);var r=i.length?parseInt(l.apply(void 0,i),10):0;46===e[t]&&t++;for(var o=[];le(e[t]);)o.push(e[t++]);var s=o.length,a=s?parseInt(l.apply(void 0,o),10):0;69!==e[t]&&101!==e[t]||t++;var c=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(c=-1),t++);for(var u=[];le(e[t]);)u.push(e[t++]);var d=u.length?parseInt(l.apply(void 0,u),10):0;return n*(r+a*Math.pow(10,-s))*Math.pow(10,c*d)}(e),t]},Oe.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],i=this.peekCodePoint(0);if(he(i,this.peekCodePoint(1),this.peekCodePoint(2))){var r=this.consumeName();return{type:P.DIMENSION_TOKEN,number:t,flags:n,unit:r}}return 37===i?(this.consumeCodePoint(),{type:P.PERCENTAGE_TOKEN,number:t,flags:n}):{type:P.NUMBER_TOKEN,number:t,flags:n}},Oe.prototype.consumeEscapedCodePoint=function(){var e,t=this.consumeCodePoint();if(ue(t)){for(var n=l(t);ue(this.peekCodePoint(0))&&n.length<6;)n+=l(this.consumeCodePoint());de(this.peekCodePoint(0))&&this.consumeCodePoint();var i=parseInt(n,16);return 0===i||55296<=(e=i)&&e<=57343||1114111<i?65533:i}return-1===t?65533:t},Oe.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(Ae(t))e+=l(t);else{if(!me(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=l(this.consumeEscapedCodePoint())}}},Oe);function Oe(){this._value=[]}var Ve=(Qe.create=function(e){var t=new Re;return t.write(e),new Qe(t.read())},Qe.parseValue=function(e){return Qe.create(e).parseComponentValue()},Qe.parseValues=function(e){return Qe.create(e).parseComponentValues()},Qe.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===P.WHITESPACE_TOKEN;)e=this.consumeToken();if(e.type===P.EOF_TOKEN)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);for(var t=this.consumeComponentValue();(e=this.consumeToken()).type===P.WHITESPACE_TOKEN;);if(e.type===P.EOF_TOKEN)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},Qe.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===P.EOF_TOKEN)return e;e.push(t),e.push()}},Qe.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case P.LEFT_CURLY_BRACKET_TOKEN:case P.LEFT_SQUARE_BRACKET_TOKEN:case P.LEFT_PARENTHESIS_TOKEN:return this.consumeSimpleBlock(e.type);case P.FUNCTION_TOKEN:return this.consumeFunction(e)}return e},Qe.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===P.EOF_TOKEN||st(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},Qe.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:P.FUNCTION};;){var n=this.consumeToken();if(n.type===P.EOF_TOKEN||n.type===P.RIGHT_PARENTHESIS_TOKEN)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},Qe.prototype.consumeToken=function(){var e=this._tokens.shift();return void 0===e?xe:e},Qe.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},Qe);function Qe(e){this._tokens=e}function He(e){return e.type===P.DIMENSION_TOKEN}function $e(e){return e.type===P.NUMBER_TOKEN}function je(e){return e.type===P.IDENT_TOKEN}function Ye(e){return e.type===P.STRING_TOKEN}function Ge(e,t){return je(e)&&e.value===t}function Ke(e){return e.type!==P.WHITESPACE_TOKEN}function ze(e){return e.type!==P.WHITESPACE_TOKEN&&e.type!==P.COMMA_TOKEN}function We(e){var t=[],n=[];return e.forEach((function(e){if(e.type===P.COMMA_TOKEN){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}e.type!==P.WHITESPACE_TOKEN&&n.push(e)})),n.length&&t.push(n),t}function qe(e){return e.type===P.NUMBER_TOKEN||e.type===P.DIMENSION_TOKEN}function Je(e){return e.type===P.PERCENTAGE_TOKEN||qe(e)}function Xe(e){return 1<e.length?[e[0],e[1]]:[e[0]]}function Ze(e,t,n){var i=e[0],r=e[1];return[ut(i,t),ut(void 0!==r?r:i,n)]}function et(e){return e.type===P.DIMENSION_TOKEN&&("deg"===e.unit||"grad"===e.unit||"rad"===e.unit||"turn"===e.unit)}function tt(e){switch(e.filter(je).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[at,at];case"to top":case"bottom":return pt(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[at,lt];case"to right":case"left":return pt(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[lt,lt];case"to bottom":case"top":return pt(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[lt,at];case"to left":case"right":return pt(270)}return 0}function nt(e){return 0==(255&e)}function it(e){var t=255&e,n=255&e>>8,i=255&e>>16,r=255&e>>24;return t<255?"rgba("+r+","+i+","+n+","+t/255+")":"rgb("+r+","+i+","+n+")"}function rt(e,t){if(e.type===P.NUMBER_TOKEN)return e.number;if(e.type!==P.PERCENTAGE_TOKEN)return 0;var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}function ot(e){var t=e.filter(ze);if(3===t.length){var n=t.map(rt),i=n[0],r=n[1],o=n[2];return mt(i,r,o,1)}if(4!==t.length)return 0;var s=t.map(rt),a=(i=s[0],r=s[1],o=s[2],s[3]);return mt(i,r,o,a)}var st=function(e,t){return t===P.LEFT_CURLY_BRACKET_TOKEN&&e.type===P.RIGHT_CURLY_BRACKET_TOKEN||t===P.LEFT_SQUARE_BRACKET_TOKEN&&e.type===P.RIGHT_SQUARE_BRACKET_TOKEN||t===P.LEFT_PARENTHESIS_TOKEN&&e.type===P.RIGHT_PARENTHESIS_TOKEN},at={type:P.NUMBER_TOKEN,number:0,flags:4},ct={type:P.PERCENTAGE_TOKEN,number:50,flags:4},lt={type:P.PERCENTAGE_TOKEN,number:100,flags:4},ut=function(e,t){if(e.type===P.PERCENTAGE_TOKEN)return e.number/100*t;if(He(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},dt=function(e){if(e.type===P.DIMENSION_TOKEN)switch(e.unit){case"deg":return Math.PI*e.number/180;case"grad":return Math.PI/200*e.number;case"rad":return e.number;case"turn":return 2*Math.PI*e.number}throw new Error("Unsupported angle type")},pt=function(e){return Math.PI*e/180},At=function(e){if(e.type===P.FUNCTION){var t=bt[e.name];if(void 0===t)throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(e.values)}if(e.type===P.HASH_TOKEN){if(3===e.value.length){var n=e.value.substring(0,1),i=e.value.substring(1,2),r=e.value.substring(2,3);return mt(parseInt(n+n,16),parseInt(i+i,16),parseInt(r+r,16),1)}if(4===e.value.length){n=e.value.substring(0,1),i=e.value.substring(1,2),r=e.value.substring(2,3);var o=e.value.substring(3,4);return mt(parseInt(n+n,16),parseInt(i+i,16),parseInt(r+r,16),parseInt(o+o,16)/255)}if(6===e.value.length)return n=e.value.substring(0,2),i=e.value.substring(2,4),r=e.value.substring(4,6),mt(parseInt(n,16),parseInt(i,16),parseInt(r,16),1);if(8===e.value.length)return n=e.value.substring(0,2),i=e.value.substring(2,4),r=e.value.substring(4,6),o=e.value.substring(6,8),mt(parseInt(n,16),parseInt(i,16),parseInt(r,16),parseInt(o,16)/255)}if(e.type===P.IDENT_TOKEN){var s=Ct[e.value.toUpperCase()];if(void 0!==s)return s}return Ct.TRANSPARENT},mt=function(e,t,n,i){return(e<<24|t<<16|n<<8|Math.round(255*i)<<0)>>>0};function ht(e,t,n){return n<0&&(n+=1),1<=n&&--n,n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}function ft(e){var t=e.filter(ze),n=t[0],i=t[1],r=t[2],o=t[3],s=(n.type===P.NUMBER_TOKEN?pt(n.number):dt(n))/(2*Math.PI),a=Je(i)?i.number/100:0,c=Je(r)?r.number/100:0,l=void 0!==o&&Je(o)?ut(o,1):1;if(0==a)return mt(255*c,255*c,255*c,1);var u=c<=.5?c*(1+a):c+a-c*a,d=2*c-u,p=ht(d,u,s+1/3),A=ht(d,u,s),m=ht(d,u,s-1/3);return mt(255*p,255*A,255*m,l)}var gt,vt,yt,St,bt={hsl:ft,hsla:ft,rgb:ot,rgba:ot},Ct={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};function Et(e){var t=At(e[0]),n=e[1];return n&&Je(n)?{color:t,stop:n}:{color:t,stop:null}}function wt(e,t){var n=e[0],i=e[e.length-1];null===n.stop&&(n.stop=at),null===i.stop&&(i.stop=lt);for(var r=[],o=0,s=0;s<e.length;s++){var a,c=e[s].stop;null!==c?(o<(a=ut(c,t))?r.push(a):r.push(o),o=a):r.push(null)}var l=null;for(s=0;s<r.length;s++){var u=r[s];if(null===u)null===l&&(l=s);else if(null!==l){for(var d=s-l,p=(u-r[l-1])/(1+d),A=1;A<=d;A++)r[l+A-1]=p*A;l=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,r[n]/t),0)}}))}function Tt(e,t){return Math.sqrt(e*e+t*t)}function Pt(e,t,n,i,r){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var o=t[0],s=t[1],a=Tt(n-o,i-s);return(r?a<e.optimumDistance:a>e.optimumDistance)?{optimumCorner:t,optimumDistance:a}:e}),{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner}function _t(e){var t=pt(180),n=[];return We(e).forEach((function(e,i){if(0===i){var r=e[0];if(r.type===P.IDENT_TOKEN&&-1!==["top","left","right","bottom"].indexOf(r.value))return void(t=tt(e));if(et(r))return void(t=(dt(r)+pt(270))%pt(360))}var o=Et(e);n.push(o)})),{angle:t,stops:n,type:Qt.LINEAR_GRADIENT}}function Bt(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]}(vt=gt=gt||{})[vt.VALUE=0]="VALUE",vt[vt.LIST=1]="LIST",vt[vt.IDENT_VALUE=2]="IDENT_VALUE",vt[vt.TYPE_VALUE=3]="TYPE_VALUE",vt[vt.TOKEN_VALUE=4]="TOKEN_VALUE",(St=yt=yt||{})[St.BORDER_BOX=0]="BORDER_BOX",St[St.PADDING_BOX=1]="PADDING_BOX";var It={name:"background-clip",initialValue:"border-box",prefix:!(St[St.CONTENT_BOX=2]="CONTENT_BOX"),type:gt.LIST,parse:function(e){return e.map((function(e){if(je(e))switch(e.value){case"padding-box":return yt.PADDING_BOX;case"content-box":return yt.CONTENT_BOX}return yt.BORDER_BOX}))}},Dt={name:"background-color",initialValue:"transparent",prefix:!1,type:gt.TYPE_VALUE,format:"color"},kt=function(e,t,n,i,r){var o="http://www.w3.org/2000/svg",s=document.createElementNS(o,"svg"),a=document.createElementNS(o,"foreignObject");return s.setAttributeNS(null,"width",e.toString()),s.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",i.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(a),a.appendChild(r),s},Ft=function(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){return t(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Mt={get SUPPORT_RANGE_BOUNDS(){var e=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n);var i=t.getBoundingClientRect(),r=Math.round(i.height);if(e.body.removeChild(n),123===r)return!0}}return!1}(document);return Object.defineProperty(Mt,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=function(e){var t=new Image,n=e.createElement("canvas"),i=n.getContext("2d");if(!i)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(t,0,0),n.toDataURL()}catch(e){return!1}return!0}(document);return Object.defineProperty(Mt,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?function(e){var t=e.createElement("canvas");t.width=100,t.height=100;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,100,100);var i=new Image,r=t.toDataURL();i.src=r;var o=kt(100,100,0,0,i);return n.fillStyle="red",n.fillRect(0,0,100,100),Ft(o).then((function(t){n.drawImage(t,0,0);var i=n.getImageData(0,0,100,100).data;n.fillStyle="red",n.fillRect(0,0,100,100);var o=e.createElement("div");return o.style.backgroundImage="url("+r+")",o.style.height="100px",Bt(i)?Ft(kt(100,100,0,0,o)):Promise.reject(!1)})).then((function(e){return n.drawImage(e,0,0),Bt(n.getImageData(0,0,100,100).data)})).catch((function(){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(Mt,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=void 0!==(new Image).crossOrigin;return Object.defineProperty(Mt,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Mt,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Mt,"SUPPORT_CORS_XHR",{value:e}),e}},Ut=(Nt.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,[this.id,this.getTime()+"ms"].concat(e)):this.info.apply(this,e)},Nt.prototype.getTime=function(){return Date.now()-this.start},Nt.create=function(e){Nt.instances[e]=new Nt(e)},Nt.destroy=function(e){delete Nt.instances[e]},Nt.getInstance=function(e){var t=Nt.instances[e];if(void 0===t)throw new Error("No logger instance found with id "+e);return t},Nt.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,[this.id,this.getTime()+"ms"].concat(e))},Nt.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,[this.id,this.getTime()+"ms"].concat(e)):this.info.apply(this,e)},Nt.instances={},Nt);function Nt(e){this.id=e,this.start=Date.now()}var Lt=(xt.create=function(e,t){return xt._caches[e]=new Rt(e,t)},xt.destroy=function(e){delete xt._caches[e]},xt.open=function(e){var t=xt._caches[e];if(void 0!==t)return t;throw new Error('Cache with key "'+e+'" not found')},xt.getOrigin=function(e){var t=xt._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},xt.isSameOrigin=function(e){return xt.getOrigin(e)===xt._origin},xt.setContext=function(e){xt._link=e.document.createElement("a"),xt._origin=xt.getOrigin(e.location.href)},xt.getInstance=function(){var e=xt._current;if(null===e)throw new Error("No cache instance attached");return e},xt.attachInstance=function(e){xt._current=e},xt.detachInstance=function(){xt._current=null},xt._caches={},xt._origin="about:blank",xt._current=null,xt);function xt(){}var Rt=(Ot.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(Zt(e)||qt(e))&&(this._cache[e]=this.loadImage(e)),t},Ot.prototype.match=function(e){return this._cache[e]},Ot.prototype.loadImage=function(e){return i(this,void 0,void 0,(function(){var t,n,i,o,s=this;return r(this,(function(r){switch(r.label){case 0:return t=Lt.isSameOrigin(e),n=!Jt(e)&&!0===this._options.useCORS&&Mt.SUPPORT_CORS_IMAGES&&!t,i=!Jt(e)&&!t&&"string"==typeof this._options.proxy&&Mt.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||Jt(e)||i||n?(o=e,i?[4,this.proxy(o)]:[3,2]):[2];case 1:o=r.sent(),r.label=2;case 2:return Ut.getInstance(this.id).debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var i=new Image;i.onload=function(){return e(i)},i.onerror=t,(Xt(o)||n)&&(i.crossOrigin="anonymous"),i.src=o,!0===i.complete&&setTimeout((function(){return e(i)}),500),0<s._options.imageTimeout&&setTimeout((function(){return t("Timed out ("+s._options.imageTimeout+"ms) loading image")}),s._options.imageTimeout)}))];case 3:return[2,r.sent()]}}))}))},Ot.prototype.has=function(e){return void 0!==this._cache[e]},Ot.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},Ot.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise((function(r,o){var s,a=Mt.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){var e;200===c.status?"text"==a?r(c.response):((e=new FileReader).addEventListener("load",(function(){return r(e.result)}),!1),e.addEventListener("error",(function(e){return o(e)}),!1),e.readAsDataURL(c.response)):o("Failed to proxy resource "+i+" with status code "+c.status)},c.onerror=o,c.open("GET",n+"?url="+encodeURIComponent(e)+"&responseType="+a),"text"!=a&&c instanceof XMLHttpRequest&&(c.responseType=a),t._options.imageTimeout&&(s=t._options.imageTimeout,c.timeout=s,c.ontimeout=function(){return o("Timed out ("+s+"ms) proxying "+i)}),c.send()}))},Ot);function Ot(e,t){this.id=e,this._options=t,this._cache={}}function Vt(e){var t=$t.CIRCLE,n=Yt.FARTHEST_CORNER,i=[],r=[];return We(e).forEach((function(e,o){var s,a=!0;0===o?a=e.reduce((function(e,t){if(je(t))switch(t.value){case"center":return r.push(ct),!1;case"top":case"left":return r.push(at),!1;case"right":case"bottom":return r.push(lt),!1}else if(Je(t)||qe(t))return r.push(t),!1;return e}),a):1===o&&(a=e.reduce((function(e,i){if(je(i))switch(i.value){case"circle":return t=$t.CIRCLE,!1;case"ellipse":return t=$t.ELLIPSE,!1;case"contain":case tn:return n=Yt.CLOSEST_SIDE,!1;case nn:return n=Yt.FARTHEST_SIDE,!1;case rn:return n=Yt.CLOSEST_CORNER,!1;case"cover":case on:return n=Yt.FARTHEST_CORNER,!1}else if(qe(i)||Je(i))return Array.isArray(n)||(n=[]),n.push(i),!1;return e}),a)),a&&(s=Et(e),i.push(s))})),{size:n,shape:t,stops:i,position:r,type:Qt.RADIAL_GRADIENT}}var Qt,Ht,$t,jt,Yt,Gt,Kt=/^data:image\/svg\+xml/i,zt=/^data:image\/.*;base64,/i,Wt=/^data:image\/.*/i,qt=function(e){return Mt.SUPPORT_SVG_DRAWING||!en(e)},Jt=function(e){return Wt.test(e)},Xt=function(e){return zt.test(e)},Zt=function(e){return"blob"===e.substr(0,4)},en=function(e){return"svg"===e.substr(-3).toLowerCase()||Kt.test(e)},tn="closest-side",nn="farthest-side",rn="closest-corner",on="farthest-corner";(Ht=Qt=Qt||{})[Ht.URL=0]="URL",Ht[Ht.LINEAR_GRADIENT=1]="LINEAR_GRADIENT",Ht[Ht.RADIAL_GRADIENT=2]="RADIAL_GRADIENT",(jt=$t=$t||{})[jt.CIRCLE=0]="CIRCLE",jt[jt.ELLIPSE=1]="ELLIPSE",(Gt=Yt=Yt||{})[Gt.CLOSEST_SIDE=0]="CLOSEST_SIDE",Gt[Gt.FARTHEST_SIDE=1]="FARTHEST_SIDE",Gt[Gt.CLOSEST_CORNER=2]="CLOSEST_CORNER",Gt[Gt.FARTHEST_CORNER=3]="FARTHEST_CORNER";var sn,an,cn=function(e){if(e.type===P.URL_TOKEN){var t={url:e.value,type:Qt.URL};return Lt.getInstance().addImage(e.value),t}if(e.type!==P.FUNCTION)throw new Error("Unsupported image type");var n=ln[e.name];if(void 0===n)throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(e.values)},ln={"linear-gradient":function(e){var t=pt(180),n=[];return We(e).forEach((function(e,i){if(0===i){var r=e[0];if(r.type===P.IDENT_TOKEN&&"to"===r.value)return void(t=tt(e));if(et(r))return void(t=dt(r))}var o=Et(e);n.push(o)})),{angle:t,stops:n,type:Qt.LINEAR_GRADIENT}},"-moz-linear-gradient":_t,"-ms-linear-gradient":_t,"-o-linear-gradient":_t,"-webkit-linear-gradient":_t,"radial-gradient":function(e){var t=$t.CIRCLE,n=Yt.FARTHEST_CORNER,i=[],r=[];return We(e).forEach((function(e,o){var s,a,c=!0;0===o&&(s=!1,c=e.reduce((function(e,i){if(s)if(je(i))switch(i.value){case"center":return r.push(ct),e;case"top":case"left":return r.push(at),e;case"right":case"bottom":return r.push(lt),e}else(Je(i)||qe(i))&&r.push(i);else if(je(i))switch(i.value){case"circle":return t=$t.CIRCLE,!1;case"ellipse":return t=$t.ELLIPSE,!1;case"at":return!(s=!0);case tn:return n=Yt.CLOSEST_SIDE,!1;case"cover":case nn:return n=Yt.FARTHEST_SIDE,!1;case"contain":case rn:return n=Yt.CLOSEST_CORNER,!1;case on:return n=Yt.FARTHEST_CORNER,!1}else if(qe(i)||Je(i))return Array.isArray(n)||(n=[]),n.push(i),!1;return e}),c)),c&&(a=Et(e),i.push(a))})),{size:n,shape:t,stops:i,position:r,type:Qt.RADIAL_GRADIENT}},"-moz-radial-gradient":Vt,"-ms-radial-gradient":Vt,"-o-radial-gradient":Vt,"-webkit-radial-gradient":Vt,"-webkit-gradient":function(e){var t=pt(180),n=[],i=Qt.LINEAR_GRADIENT,r=$t.CIRCLE,o=Yt.FARTHEST_CORNER;return We(e).forEach((function(e,t){var r,o,s,a=e[0];if(0===t){if(je(a)&&"linear"===a.value)return void(i=Qt.LINEAR_GRADIENT);if(je(a)&&"radial"===a.value)return void(i=Qt.RADIAL_GRADIENT)}a.type===P.FUNCTION&&("from"===a.name?(o=At(a.values[0]),n.push({stop:at,color:o})):"to"===a.name?(o=At(a.values[0]),n.push({stop:lt,color:o})):"color-stop"!==a.name||2===(r=a.values.filter(ze)).length&&(o=At(r[1]),$e(s=r[0])&&n.push({stop:{type:P.PERCENTAGE_TOKEN,number:100*s.number,flags:s.flags},color:o})))})),i===Qt.LINEAR_GRADIENT?{angle:(t+pt(180))%pt(360),stops:n,type:i}:{size:o,shape:r,stops:n,position:[],type:i}}},un={name:"background-image",initialValue:"none",type:gt.LIST,prefix:!1,parse:function(e){if(0===e.length)return[];var t=e[0];return t.type===P.IDENT_TOKEN&&"none"===t.value?[]:e.filter(ze).map(cn)}},dn={name:"background-origin",initialValue:"border-box",prefix:!1,type:gt.LIST,parse:function(e){return e.map((function(e){if(je(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},pn={name:"background-position",initialValue:"0% 0%",type:gt.LIST,prefix:!1,parse:function(e){return We(e).map((function(e){return e.filter(Je)})).map(Xe)}};(an=sn=sn||{})[an.REPEAT=0]="REPEAT",an[an.NO_REPEAT=1]="NO_REPEAT",an[an.REPEAT_X=2]="REPEAT_X";var An,mn,hn={name:"background-repeat",initialValue:"repeat",prefix:!(an[an.REPEAT_Y=3]="REPEAT_Y"),type:gt.LIST,parse:function(e){return We(e).map((function(e){return e.filter(je).map((function(e){return e.value})).join(" ")})).map(fn)}},fn=function(e){switch(e){case"no-repeat":return sn.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return sn.REPEAT_X;case"repeat-y":case"no-repeat repeat":return sn.REPEAT_Y;case"repeat":default:return sn.REPEAT}};function gn(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:gt.TYPE_VALUE,format:"color"}}function vn(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:gt.LIST,parse:function(e){return Xe(e.filter(Je))}}}(mn=An=An||{}).AUTO="auto",mn.CONTAIN="contain";var yn,Sn,bn={name:"background-size",initialValue:"0",prefix:!(mn.COVER="cover"),type:gt.LIST,parse:function(e){return We(e).map((function(e){return e.filter(Cn)}))}},Cn=function(e){return je(e)||Je(e)},En=gn("top"),wn=gn("right"),Tn=gn("bottom"),Pn=gn("left"),_n=vn("top-left"),Bn=vn("top-right"),In=vn("bottom-right"),Dn=vn("bottom-left");function kn(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:gt.IDENT_VALUE,parse:function(e){return"none"===e?yn.NONE:yn.SOLID}}}function Fn(e){return{name:"border-"+e+"-width",initialValue:"0",type:gt.VALUE,prefix:!1,parse:function(e){return He(e)?e.number:0}}}(Sn=yn=yn||{})[Sn.NONE=0]="NONE",Sn[Sn.SOLID=1]="SOLID";var Mn,Un,Nn=kn("top"),Ln=kn("right"),xn=kn("bottom"),Rn=kn("left"),On=Fn("top"),Vn=Fn("right"),Qn=Fn("bottom"),Hn=Fn("left"),$n={name:"color",initialValue:"transparent",prefix:!1,type:gt.TYPE_VALUE,format:"color"},jn={name:"display",initialValue:"inline-block",prefix:!1,type:gt.LIST,parse:function(e){return e.filter(je).reduce((function(e,t){return e|Yn(t.value)}),0)}},Yn=function(e){switch(e){case"block":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0};(Un=Mn=Mn||{})[Un.NONE=0]="NONE",Un[Un.LEFT=1]="LEFT",Un[Un.RIGHT=2]="RIGHT",Un[Un.INLINE_START=3]="INLINE_START";var Gn,Kn,zn,Wn,qn={name:"float",initialValue:"none",prefix:!(Un[Un.INLINE_END=4]="INLINE_END"),type:gt.IDENT_VALUE,parse:function(e){switch(e){case"left":return Mn.LEFT;case"right":return Mn.RIGHT;case"inline-start":return Mn.INLINE_START;case"inline-end":return Mn.INLINE_END}return Mn.NONE}},Jn={name:"letter-spacing",initialValue:"0",prefix:!1,type:gt.VALUE,parse:function(e){return e.type===P.IDENT_TOKEN&&"normal"===e.value||e.type!==P.NUMBER_TOKEN&&e.type!==P.DIMENSION_TOKEN?0:e.number}},Xn={name:"line-break",initialValue:(Kn=Gn=Gn||{}).NORMAL="normal",prefix:!(Kn.STRICT="strict"),type:gt.IDENT_VALUE,parse:function(e){switch(e){case"strict":return Gn.STRICT;case"normal":default:return Gn.NORMAL}}},Zn={name:"line-height",initialValue:"normal",prefix:!1,type:gt.TOKEN_VALUE},ei={name:"list-style-image",initialValue:"none",type:gt.VALUE,prefix:!1,parse:function(e){return e.type===P.IDENT_TOKEN&&"none"===e.value?null:cn(e)}};(Wn=zn=zn||{})[Wn.INSIDE=0]="INSIDE";var ti,ni,ii={name:"list-style-position",initialValue:"outside",prefix:!(Wn[Wn.OUTSIDE=1]="OUTSIDE"),type:gt.IDENT_VALUE,parse:function(e){switch(e){case"inside":return zn.INSIDE;case"outside":default:return zn.OUTSIDE}}};function ri(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:gt.TOKEN_VALUE}}(ni=ti=ti||{})[ni.NONE=-1]="NONE",ni[ni.DISC=0]="DISC",ni[ni.CIRCLE=1]="CIRCLE",ni[ni.SQUARE=2]="SQUARE",ni[ni.DECIMAL=3]="DECIMAL",ni[ni.CJK_DECIMAL=4]="CJK_DECIMAL",ni[ni.DECIMAL_LEADING_ZERO=5]="DECIMAL_LEADING_ZERO",ni[ni.LOWER_ROMAN=6]="LOWER_ROMAN",ni[ni.UPPER_ROMAN=7]="UPPER_ROMAN",ni[ni.LOWER_GREEK=8]="LOWER_GREEK",ni[ni.LOWER_ALPHA=9]="LOWER_ALPHA",ni[ni.UPPER_ALPHA=10]="UPPER_ALPHA",ni[ni.ARABIC_INDIC=11]="ARABIC_INDIC",ni[ni.ARMENIAN=12]="ARMENIAN",ni[ni.BENGALI=13]="BENGALI",ni[ni.CAMBODIAN=14]="CAMBODIAN",ni[ni.CJK_EARTHLY_BRANCH=15]="CJK_EARTHLY_BRANCH",ni[ni.CJK_HEAVENLY_STEM=16]="CJK_HEAVENLY_STEM",ni[ni.CJK_IDEOGRAPHIC=17]="CJK_IDEOGRAPHIC",ni[ni.DEVANAGARI=18]="DEVANAGARI",ni[ni.ETHIOPIC_NUMERIC=19]="ETHIOPIC_NUMERIC",ni[ni.GEORGIAN=20]="GEORGIAN",ni[ni.GUJARATI=21]="GUJARATI",ni[ni.GURMUKHI=22]="GURMUKHI",ni[ni.HEBREW=22]="HEBREW",ni[ni.HIRAGANA=23]="HIRAGANA",ni[ni.HIRAGANA_IROHA=24]="HIRAGANA_IROHA",ni[ni.JAPANESE_FORMAL=25]="JAPANESE_FORMAL",ni[ni.JAPANESE_INFORMAL=26]="JAPANESE_INFORMAL",ni[ni.KANNADA=27]="KANNADA",ni[ni.KATAKANA=28]="KATAKANA",ni[ni.KATAKANA_IROHA=29]="KATAKANA_IROHA",ni[ni.KHMER=30]="KHMER",ni[ni.KOREAN_HANGUL_FORMAL=31]="KOREAN_HANGUL_FORMAL",ni[ni.KOREAN_HANJA_FORMAL=32]="KOREAN_HANJA_FORMAL",ni[ni.KOREAN_HANJA_INFORMAL=33]="KOREAN_HANJA_INFORMAL",ni[ni.LAO=34]="LAO",ni[ni.LOWER_ARMENIAN=35]="LOWER_ARMENIAN",ni[ni.MALAYALAM=36]="MALAYALAM",ni[ni.MONGOLIAN=37]="MONGOLIAN",ni[ni.MYANMAR=38]="MYANMAR",ni[ni.ORIYA=39]="ORIYA",ni[ni.PERSIAN=40]="PERSIAN",ni[ni.SIMP_CHINESE_FORMAL=41]="SIMP_CHINESE_FORMAL",ni[ni.SIMP_CHINESE_INFORMAL=42]="SIMP_CHINESE_INFORMAL",ni[ni.TAMIL=43]="TAMIL",ni[ni.TELUGU=44]="TELUGU",ni[ni.THAI=45]="THAI",ni[ni.TIBETAN=46]="TIBETAN",ni[ni.TRAD_CHINESE_FORMAL=47]="TRAD_CHINESE_FORMAL",ni[ni.TRAD_CHINESE_INFORMAL=48]="TRAD_CHINESE_INFORMAL",ni[ni.UPPER_ARMENIAN=49]="UPPER_ARMENIAN",ni[ni.DISCLOSURE_OPEN=50]="DISCLOSURE_OPEN";var oi,si,ai={name:"list-style-type",initialValue:"none",prefix:!(ni[ni.DISCLOSURE_CLOSED=51]="DISCLOSURE_CLOSED"),type:gt.IDENT_VALUE,parse:function(e){switch(e){case"disc":return ti.DISC;case"circle":return ti.CIRCLE;case"square":return ti.SQUARE;case"decimal":return ti.DECIMAL;case"cjk-decimal":return ti.CJK_DECIMAL;case"decimal-leading-zero":return ti.DECIMAL_LEADING_ZERO;case"lower-roman":return ti.LOWER_ROMAN;case"upper-roman":return ti.UPPER_ROMAN;case"lower-greek":return ti.LOWER_GREEK;case"lower-alpha":return ti.LOWER_ALPHA;case"upper-alpha":return ti.UPPER_ALPHA;case"arabic-indic":return ti.ARABIC_INDIC;case"armenian":return ti.ARMENIAN;case"bengali":return ti.BENGALI;case"cambodian":return ti.CAMBODIAN;case"cjk-earthly-branch":return ti.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return ti.CJK_HEAVENLY_STEM;case"cjk-ideographic":return ti.CJK_IDEOGRAPHIC;case"devanagari":return ti.DEVANAGARI;case"ethiopic-numeric":return ti.ETHIOPIC_NUMERIC;case"georgian":return ti.GEORGIAN;case"gujarati":return ti.GUJARATI;case"gurmukhi":return ti.GURMUKHI;case"hebrew":return ti.HEBREW;case"hiragana":return ti.HIRAGANA;case"hiragana-iroha":return ti.HIRAGANA_IROHA;case"japanese-formal":return ti.JAPANESE_FORMAL;case"japanese-informal":return ti.JAPANESE_INFORMAL;case"kannada":return ti.KANNADA;case"katakana":return ti.KATAKANA;case"katakana-iroha":return ti.KATAKANA_IROHA;case"khmer":return ti.KHMER;case"korean-hangul-formal":return ti.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return ti.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return ti.KOREAN_HANJA_INFORMAL;case"lao":return ti.LAO;case"lower-armenian":return ti.LOWER_ARMENIAN;case"malayalam":return ti.MALAYALAM;case"mongolian":return ti.MONGOLIAN;case"myanmar":return ti.MYANMAR;case"oriya":return ti.ORIYA;case"persian":return ti.PERSIAN;case"simp-chinese-formal":return ti.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return ti.SIMP_CHINESE_INFORMAL;case"tamil":return ti.TAMIL;case"telugu":return ti.TELUGU;case"thai":return ti.THAI;case"tibetan":return ti.TIBETAN;case"trad-chinese-formal":return ti.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return ti.TRAD_CHINESE_INFORMAL;case"upper-armenian":return ti.UPPER_ARMENIAN;case"disclosure-open":return ti.DISCLOSURE_OPEN;case"disclosure-closed":return ti.DISCLOSURE_CLOSED;case"none":default:return ti.NONE}}},ci=ri("top"),li=ri("right"),ui=ri("bottom"),di=ri("left");function pi(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:gt.TYPE_VALUE,format:"length-percentage"}}(si=oi=oi||{})[si.VISIBLE=0]="VISIBLE",si[si.HIDDEN=1]="HIDDEN",si[si.SCROLL=2]="SCROLL";var Ai,mi,hi,fi,gi={name:"overflow",initialValue:"visible",prefix:!(si[si.AUTO=3]="AUTO"),type:gt.LIST,parse:function(e){return e.filter(je).map((function(e){switch(e.value){case"hidden":return oi.HIDDEN;case"scroll":return oi.SCROLL;case"auto":return oi.AUTO;case"visible":default:return oi.VISIBLE}}))}},vi={name:"overflow-wrap",initialValue:(mi=Ai=Ai||{}).NORMAL="normal",prefix:!(mi.BREAK_WORD="break-word"),type:gt.IDENT_VALUE,parse:function(e){switch(e){case"break-word":return Ai.BREAK_WORD;case"normal":default:return Ai.NORMAL}}},yi=pi("top"),Si=pi("right"),bi=pi("bottom"),Ci=pi("left");(fi=hi=hi||{})[fi.LEFT=0]="LEFT",fi[fi.CENTER=1]="CENTER";var Ei,wi,Ti={name:"text-align",initialValue:"left",prefix:!(fi[fi.RIGHT=2]="RIGHT"),type:gt.IDENT_VALUE,parse:function(e){switch(e){case"right":return hi.RIGHT;case"center":case"justify":return hi.CENTER;case"left":default:return hi.LEFT}}};(wi=Ei=Ei||{})[wi.STATIC=0]="STATIC",wi[wi.RELATIVE=1]="RELATIVE",wi[wi.ABSOLUTE=2]="ABSOLUTE",wi[wi.FIXED=3]="FIXED";var Pi,_i,Bi={name:"position",initialValue:"static",prefix:!(wi[wi.STICKY=4]="STICKY"),type:gt.IDENT_VALUE,parse:function(e){switch(e){case"relative":return Ei.RELATIVE;case"absolute":return Ei.ABSOLUTE;case"fixed":return Ei.FIXED;case"sticky":return Ei.STICKY}return Ei.STATIC}},Ii={name:"text-shadow",initialValue:"none",type:gt.LIST,prefix:!1,parse:function(e){return 1===e.length&&Ge(e[0],"none")?[]:We(e).map((function(e){for(var t={color:Ct.TRANSPARENT,offsetX:at,offsetY:at,blur:at},n=0,i=0;i<e.length;i++){var r=e[i];qe(r)?(0===n?t.offsetX=r:1===n?t.offsetY=r:t.blur=r,n++):t.color=At(r)}return t}))}};(_i=Pi=Pi||{})[_i.NONE=0]="NONE",_i[_i.LOWERCASE=1]="LOWERCASE",_i[_i.UPPERCASE=2]="UPPERCASE";var Di,ki,Fi={name:"text-transform",initialValue:"none",prefix:!(_i[_i.CAPITALIZE=3]="CAPITALIZE"),type:gt.IDENT_VALUE,parse:function(e){switch(e){case"uppercase":return Pi.UPPERCASE;case"lowercase":return Pi.LOWERCASE;case"capitalize":return Pi.CAPITALIZE}return Pi.NONE}},Mi={name:"transform",initialValue:"none",prefix:!0,type:gt.VALUE,parse:function(e){if(e.type===P.IDENT_TOKEN&&"none"===e.value)return null;if(e.type!==P.FUNCTION)return null;var t=Ui[e.name];if(void 0===t)throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}},Ui={matrix:function(e){var t=e.filter((function(e){return e.type===P.NUMBER_TOKEN})).map((function(e){return e.number}));return 6===t.length?t:null},matrix3d:function(e){var t=e.filter((function(e){return e.type===P.NUMBER_TOKEN})).map((function(e){return e.number})),n=t[0],i=t[1],r=(t[2],t[3],t[4]),o=t[5],s=(t[6],t[7],t[8],t[9],t[10],t[11],t[12]),a=t[13];return t[14],t[15],16===t.length?[n,i,r,o,s,a]:null}},Ni={type:P.PERCENTAGE_TOKEN,number:50,flags:4},Li=[Ni,Ni],xi={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:gt.LIST,parse:function(e){var t=e.filter(Je);return 2!==t.length?Li:[t[0],t[1]]}};(ki=Di=Di||{})[ki.VISIBLE=0]="VISIBLE",ki[ki.HIDDEN=1]="HIDDEN";var Ri,Oi,Vi={name:"visible",initialValue:"none",prefix:!(ki[ki.COLLAPSE=2]="COLLAPSE"),type:gt.IDENT_VALUE,parse:function(e){switch(e){case"hidden":return Di.HIDDEN;case"collapse":return Di.COLLAPSE;case"visible":default:return Di.VISIBLE}}};(Oi=Ri=Ri||{}).NORMAL="normal",Oi.BREAK_ALL="break-all";var Qi,Hi,$i={name:"word-break",initialValue:"normal",prefix:!(Oi.KEEP_ALL="keep-all"),type:gt.IDENT_VALUE,parse:function(e){switch(e){case"break-all":return Ri.BREAK_ALL;case"keep-all":return Ri.KEEP_ALL;case"normal":default:return Ri.NORMAL}}},ji={name:"z-index",initialValue:"auto",prefix:!1,type:gt.VALUE,parse:function(e){if(e.type===P.IDENT_TOKEN)return{auto:!0,order:0};if($e(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Yi={name:"opacity",initialValue:"1",type:gt.VALUE,prefix:!1,parse:function(e){return $e(e)?e.number:1}},Gi={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:gt.TYPE_VALUE,format:"color"},Ki={name:"text-decoration-line",initialValue:"none",prefix:!1,type:gt.LIST,parse:function(e){return e.filter(je).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},zi={name:"font-family",initialValue:"",prefix:!1,type:gt.LIST,parse:function(e){return e.filter(Wi).map((function(e){return e.value}))}},Wi=function(e){return e.type===P.STRING_TOKEN||e.type===P.IDENT_TOKEN},qi={name:"font-size",initialValue:"0",prefix:!1,type:gt.TYPE_VALUE,format:"length"},Ji={name:"font-weight",initialValue:"normal",type:gt.VALUE,prefix:!1,parse:function(e){if($e(e))return e.number;if(je(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Xi={name:"font-variant",initialValue:"none",type:gt.LIST,prefix:!1,parse:function(e){return e.filter(je).map((function(e){return e.value}))}};function Zi(e,t){return 0!=(e&t)}function er(e,t,n){if(!e)return"";var i=e[Math.min(t,e.length-1)];return i?n?i.open:i.close:""}(Hi=Qi=Qi||{}).NORMAL="normal",Hi.ITALIC="italic";var tr={name:"font-style",initialValue:"normal",prefix:!(Hi.OBLIQUE="oblique"),type:gt.IDENT_VALUE,parse:function(e){switch(e){case"oblique":return Qi.OBLIQUE;case"italic":return Qi.ITALIC;case"normal":default:return Qi.NORMAL}}},nr={name:"content",initialValue:"none",type:gt.LIST,prefix:!1,parse:function(e){if(0===e.length)return[];var t=e[0];return t.type===P.IDENT_TOKEN&&"none"===t.value?[]:e}},ir={name:"counter-increment",initialValue:"none",prefix:!0,type:gt.LIST,parse:function(e){if(0===e.length)return null;var t=e[0];if(t.type===P.IDENT_TOKEN&&"none"===t.value)return null;for(var n=[],i=e.filter(Ke),r=0;r<i.length;r++){var o,s=i[r],a=i[r+1];s.type===P.IDENT_TOKEN&&(o=a&&$e(a)?a.number:1,n.push({counter:s.value,increment:o}))}return n}},rr={name:"counter-reset",initialValue:"none",prefix:!0,type:gt.LIST,parse:function(e){if(0===e.length)return[];for(var t=[],n=e.filter(Ke),i=0;i<n.length;i++){var r,o=n[i],s=n[i+1];je(o)&&"none"!==o.value&&(r=s&&$e(s)?s.number:0,t.push({counter:o.value,reset:r}))}return t}},or={name:"quotes",initialValue:"none",prefix:!0,type:gt.LIST,parse:function(e){if(0===e.length)return null;var t=e[0];if(t.type===P.IDENT_TOKEN&&"none"===t.value)return null;var n=[],i=e.filter(Ye);if(i.length%2!=0)return null;for(var r=0;r<i.length;r+=2){var o=i[r].value,s=i[r+1].value;n.push({open:o,close:s})}return n}},sr={name:"box-shadow",initialValue:"none",type:gt.LIST,prefix:!1,parse:function(e){return 1===e.length&&Ge(e[0],"none")?[]:We(e).map((function(e){for(var t={color:255,offsetX:at,offsetY:at,blur:at,spread:at,inset:!1},n=0,i=0;i<e.length;i++){var r=e[i];Ge(r,"inset")?t.inset=!0:qe(r)?(0===n?t.offsetX=r:1===n?t.offsetY=r:2===n?t.blur=r:t.spread=r,n++):t.color=At(r)}return t}))}},ar=(cr.prototype.isVisible=function(){return 0<this.display&&0<this.opacity&&this.visibility===Di.VISIBLE},cr.prototype.isTransparent=function(){return nt(this.backgroundColor)},cr.prototype.isTransformed=function(){return null!==this.transform},cr.prototype.isPositioned=function(){return this.position!==Ei.STATIC},cr.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},cr.prototype.isFloating=function(){return this.float!==Mn.NONE},cr.prototype.isInlineLevel=function(){return Zi(this.display,4)||Zi(this.display,33554432)||Zi(this.display,268435456)||Zi(this.display,536870912)||Zi(this.display,67108864)||Zi(this.display,134217728)},cr);function cr(e){this.backgroundClip=pr(It,e.backgroundClip),this.backgroundColor=pr(Dt,e.backgroundColor),this.backgroundImage=pr(un,e.backgroundImage),this.backgroundOrigin=pr(dn,e.backgroundOrigin),this.backgroundPosition=pr(pn,e.backgroundPosition),this.backgroundRepeat=pr(hn,e.backgroundRepeat),this.backgroundSize=pr(bn,e.backgroundSize),this.borderTopColor=pr(En,e.borderTopColor),this.borderRightColor=pr(wn,e.borderRightColor),this.borderBottomColor=pr(Tn,e.borderBottomColor),this.borderLeftColor=pr(Pn,e.borderLeftColor),this.borderTopLeftRadius=pr(_n,e.borderTopLeftRadius),this.borderTopRightRadius=pr(Bn,e.borderTopRightRadius),this.borderBottomRightRadius=pr(In,e.borderBottomRightRadius),this.borderBottomLeftRadius=pr(Dn,e.borderBottomLeftRadius),this.borderTopStyle=pr(Nn,e.borderTopStyle),this.borderRightStyle=pr(Ln,e.borderRightStyle),this.borderBottomStyle=pr(xn,e.borderBottomStyle),this.borderLeftStyle=pr(Rn,e.borderLeftStyle),this.borderTopWidth=pr(On,e.borderTopWidth),this.borderRightWidth=pr(Vn,e.borderRightWidth),this.borderBottomWidth=pr(Qn,e.borderBottomWidth),this.borderLeftWidth=pr(Hn,e.borderLeftWidth),this.boxShadow=pr(sr,e.boxShadow),this.color=pr($n,e.color),this.display=pr(jn,e.display),this.float=pr(qn,e.cssFloat),this.fontFamily=pr(zi,e.fontFamily),this.fontSize=pr(qi,e.fontSize),this.fontStyle=pr(tr,e.fontStyle),this.fontVariant=pr(Xi,e.fontVariant),this.fontWeight=pr(Ji,e.fontWeight),this.letterSpacing=pr(Jn,e.letterSpacing),this.lineBreak=pr(Xn,e.lineBreak),this.lineHeight=pr(Zn,e.lineHeight),this.listStyleImage=pr(ei,e.listStyleImage),this.listStylePosition=pr(ii,e.listStylePosition),this.listStyleType=pr(ai,e.listStyleType),this.marginTop=pr(ci,e.marginTop),this.marginRight=pr(li,e.marginRight),this.marginBottom=pr(ui,e.marginBottom),this.marginLeft=pr(di,e.marginLeft),this.opacity=pr(Yi,e.opacity);var t=pr(gi,e.overflow);this.overflowX=t[0],this.overflowY=t[1<t.length?1:0],this.overflowWrap=pr(vi,e.overflowWrap),this.paddingTop=pr(yi,e.paddingTop),this.paddingRight=pr(Si,e.paddingRight),this.paddingBottom=pr(bi,e.paddingBottom),this.paddingLeft=pr(Ci,e.paddingLeft),this.position=pr(Bi,e.position),this.textAlign=pr(Ti,e.textAlign),this.textDecorationColor=pr(Gi,e.textDecorationColor||e.color),this.textDecorationLine=pr(Ki,e.textDecorationLine),this.textShadow=pr(Ii,e.textShadow),this.textTransform=pr(Fi,e.textTransform),this.transform=pr(Mi,e.transform),this.transformOrigin=pr(xi,e.transformOrigin),this.visibility=pr(Vi,e.visibility),this.wordBreak=pr($i,e.wordBreak),this.zIndex=pr(ji,e.zIndex)}var lr,ur=function(e){this.content=pr(nr,e.content),this.quotes=pr(or,e.quotes)},dr=function(e){this.counterIncrement=pr(ir,e.counterIncrement),this.counterReset=pr(rr,e.counterReset)},pr=function(e,t){var n=new Re,i=null!=t?t.toString():e.initialValue;n.write(i);var r=new Ve(n.read());switch(e.type){case gt.IDENT_VALUE:var o=r.parseComponentValue();return e.parse(je(o)?o.value:e.initialValue);case gt.VALUE:return e.parse(r.parseComponentValue());case gt.LIST:return e.parse(r.parseComponentValues());case gt.TOKEN_VALUE:return r.parseComponentValue();case gt.TYPE_VALUE:switch(e.format){case"angle":return dt(r.parseComponentValue());case"color":return At(r.parseComponentValue());case"image":return cn(r.parseComponentValue());case"length":var s=r.parseComponentValue();return qe(s)?s:at;case"length-percentage":var a=r.parseComponentValue();return Je(a)?a:at}}throw new Error("Attempting to parse unsupported css format type "+e.format)},Ar=function(e){this.styles=new ar(window.getComputedStyle(e,null)),this.textNodes=[],this.elements=[],null!==this.styles.transform&&oo(e)&&(e.style.transform="none"),this.bounds=a(e),this.flags=0},mr=function(e,t){this.text=e,this.bounds=t},hr=function(e,t){for(var n,i=ce(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap===Ai.BREAK_WORD?"break-word":t.wordBreak}),r=[];!(n=i.next()).done;)n.value&&r.push(n.value.slice());return r},fr=function(e,t){var n,i,r,s,u,d;this.text=gr(e.data,t.textTransform),this.textBounds=(n=this.text,r=e,s=function(e,t){return 0!==t.letterSpacing?c(e).map((function(e){return l(e)})):hr(e,t)}(n,i=t),u=[],d=0,s.forEach((function(e){var t;i.textDecorationLine.length||0<e.trim().length?Mt.SUPPORT_RANGE_BOUNDS?u.push(new mr(e,function(e,t,n){var i=e.ownerDocument;if(!i)throw new Error("Node has no owner document");var r=i.createRange();return r.setStart(e,t),r.setEnd(e,t+n),o.fromClientRect(r.getBoundingClientRect())}(r,d,e.length))):(t=r.splitText(e.length),u.push(new mr(e,function(e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var r=a(n);return n.firstChild&&i.replaceChild(n.firstChild,n),r}}return new o(0,0,0,0)}(r))),r=t):Mt.SUPPORT_RANGE_BOUNDS||(r=r.splitText(e.length)),d+=e.length})),u)},gr=function(e,t){switch(t){case Pi.LOWERCASE:return e.toLowerCase();case Pi.CAPITALIZE:return e.replace(vr,yr);case Pi.UPPERCASE:return e.toUpperCase();default:return e}},vr=/(^|\s|:|-|\(|\))([a-z])/g,yr=function(e,t,n){return 0<e.length?t+n.toUpperCase():e},Sr=(t(br,lr=Ar),br);function br(e){var t=lr.call(this,e)||this;return t.src=e.currentSrc||e.src,t.intrinsicWidth=e.naturalWidth,t.intrinsicHeight=e.naturalHeight,Lt.getInstance().addImage(t.src),t}var Cr,Er=(t(wr,Cr=Ar),wr);function wr(e){var t=Cr.call(this,e)||this;return t.canvas=e,t.intrinsicWidth=e.width,t.intrinsicHeight=e.height,t}var Tr,Pr=(t(_r,Tr=Ar),_r);function _r(e){var t=Tr.call(this,e)||this,n=new XMLSerializer;return t.svg="data:image/svg+xml,"+encodeURIComponent(n.serializeToString(e)),t.intrinsicWidth=e.width.baseVal.value,t.intrinsicHeight=e.height.baseVal.value,Lt.getInstance().addImage(t.svg),t}var Br,Ir=(t(Dr,Br=Ar),Dr);function Dr(e){var t=Br.call(this,e)||this;return t.value=e.value,t}var kr,Fr=(t(Mr,kr=Ar),Mr);function Mr(e){var t=kr.call(this,e)||this;return t.start=e.start,t.reversed="boolean"==typeof e.reversed&&!0===e.reversed,t}var Ur,Nr=[{type:P.DIMENSION_TOKEN,flags:0,unit:"px",number:3}],Lr=[{type:P.PERCENTAGE_TOKEN,flags:0,number:50}],xr="checkbox",Rr="radio",Or=(t(Vr,Ur=Ar),Vr);function Vr(e){var t,n,i,r=Ur.call(this,e)||this;switch(r.type=e.type.toLowerCase(),r.checked=e.checked,r.value=0===(n="password"===(t=e).type?new Array(t.value.length+1).join("•"):t.value).length?t.placeholder||"":n,r.type!==xr&&r.type!==Rr||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=yn.SOLID,r.styles.backgroundClip=[yt.BORDER_BOX],r.styles.backgroundOrigin=[0],r.bounds=(i=r.bounds).width>i.height?new o(i.left+(i.width-i.height)/2,i.top,i.height,i.height):i.width<i.height?new o(i.left,i.top+(i.height-i.width)/2,i.width,i.width):i),r.type){case xr:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Nr;break;case Rr:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Lr}return r}var Qr,Hr=(t($r,Qr=Ar),$r);function $r(e){var t=Qr.call(this,e)||this,n=e.options[e.selectedIndex||0];return t.value=n&&n.text||"",t}var jr,Yr=(t(Gr,jr=Ar),Gr);function Gr(e){var t=jr.call(this,e)||this;return t.value=e.value,t}function Kr(e){return At(Ve.create(e).parseComponentValue())}var zr,Wr=(t(qr,zr=Ar),qr);function qr(e){var t,n,i=zr.call(this,e)||this;i.src=e.src,i.width=parseInt(e.width,10),i.height=parseInt(e.height,10),i.backgroundColor=i.styles.backgroundColor;try{e.contentWindow&&e.contentWindow.document&&e.contentWindow.document.documentElement&&(i.tree=eo(e.contentWindow.document.documentElement),t=e.contentWindow.document.documentElement?Kr(getComputedStyle(e.contentWindow.document.documentElement).backgroundColor):Ct.TRANSPARENT,n=e.contentWindow.document.body?Kr(getComputedStyle(e.contentWindow.document.body).backgroundColor):Ct.TRANSPARENT,i.backgroundColor=nt(t)?nt(n)?i.styles.backgroundColor:n:t)}catch(e){}return i}function Jr(e){return"STYLE"===e.tagName}var Xr=["OL","UL","MENU"],Zr=function(e){return new(Ao(e)?Sr:po(e)?Er:lo(e)?Pr:so(e)?Ir:ao(e)?Fr:co(e)?Or:fo(e)?Hr:ho(e)?Yr:mo(e)?Wr:Ar)(e)},eo=function(e){var t=Zr(e);return t.flags|=4,function e(t,n,i){for(var r=t.firstChild;r;r=s){var o,s=r.nextSibling;io(r)&&0<r.data.trim().length?n.textNodes.push(new fr(r,n.styles)):!ro(r)||(o=Zr(r)).styles.isVisible()&&(to(r,o,i)?o.flags|=4:no(o.styles)&&(o.flags|=2),-1!==Xr.indexOf(r.tagName)&&(o.flags|=8),n.elements.push(o),ho(r)||lo(r)||fo(r)||e(r,o,i))}}(e,t,t),t},to=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||uo(e)&&n.styles.isTransparent()},no=function(e){return e.isPositioned()||e.isFloating()},io=function(e){return e.nodeType===Node.TEXT_NODE},ro=function(e){return e.nodeType===Node.ELEMENT_NODE},oo=function(e){return void 0!==e.style},so=function(e){return"LI"===e.tagName},ao=function(e){return"OL"===e.tagName},co=function(e){return"INPUT"===e.tagName},lo=function(e){return"svg"===e.tagName},uo=function(e){return"BODY"===e.tagName},po=function(e){return"CANVAS"===e.tagName},Ao=function(e){return"IMG"===e.tagName},mo=function(e){return"IFRAME"===e.tagName},ho=function(e){return"TEXTAREA"===e.tagName},fo=function(e){return"SELECT"===e.tagName},go=(vo.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},vo.prototype.getCounterValues=function(e){return this.counters[e]||[]},vo.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},vo.prototype.parse=function(e){var t=this,n=e.counterIncrement,i=e.counterReset;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&(n[Math.max(0,n.length-1)]+=e.increment)}));var r=[];return i.forEach((function(e){var n=t.counters[e.counter];r.push(e.counter),(n=n||(t.counters[e.counter]=[])).push(e.reset)})),r},vo);function vo(){this.counters={}}function yo(e,t,n,i,r,o){return e<t||n<e?Do(e,r,0<o.length):i.integers.reduce((function(t,n,r){for(;n<=e;)e-=n,t+=i.values[r];return t}),"")+o}function So(e,t,n,i){for(var r="";n||e--,r=i(e)+r,t<=(e/=t)*t;);return r}function bo(e,t,n,i,r){var o=n-t+1;return(e<0?"-":"")+(So(Math.abs(e),o,i,(function(e){return l(Math.floor(e%o)+t)}))+r)}function Co(e,t,n){void 0===n&&(n=". ");var i=t.length;return So(Math.abs(e),i,!1,(function(e){return t[Math.floor(e%i)]}))+n}function Eo(e,t,n,i,r,o){if(e<-9999||9999<e)return Do(e,ti.CJK_DECIMAL,0<r.length);var s=Math.abs(e),a=r;if(0===s)return t[0]+a;for(var c=0;0<s&&c<=4;c++){var l=s%10;0==l&&Zi(o,1)&&""!==a?a=t[l]+a:1<l||1==l&&0===c||1==l&&1===c&&Zi(o,2)||1==l&&1===c&&Zi(o,4)&&100<e||1==l&&1<c&&Zi(o,8)?a=t[l]+(0<c?n[c-1]:"")+a:1==l&&0<c&&(a=n[c-1]+a),s=Math.floor(s/10)}return(e<0?i:"")+a}var wo,To,Po={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},_o={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Bo={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Io={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Do=function(e,t,n){var i=n?". ":"",r=n?"、":"",o=n?", ":"",s=n?" ":"";switch(t){case ti.DISC:return"•"+s;case ti.CIRCLE:return"◦"+s;case ti.SQUARE:return"◾"+s;case ti.DECIMAL_LEADING_ZERO:var a=bo(e,48,57,!0,i);return a.length<4?"0"+a:a;case ti.CJK_DECIMAL:return Co(e,"〇一二三四五六七八九",r);case ti.LOWER_ROMAN:return yo(e,1,3999,Po,ti.DECIMAL,i).toLowerCase();case ti.UPPER_ROMAN:return yo(e,1,3999,Po,ti.DECIMAL,i);case ti.LOWER_GREEK:return bo(e,945,969,!1,i);case ti.LOWER_ALPHA:return bo(e,97,122,!1,i);case ti.UPPER_ALPHA:return bo(e,65,90,!1,i);case ti.ARABIC_INDIC:return bo(e,1632,1641,!0,i);case ti.ARMENIAN:case ti.UPPER_ARMENIAN:return yo(e,1,9999,_o,ti.DECIMAL,i);case ti.LOWER_ARMENIAN:return yo(e,1,9999,_o,ti.DECIMAL,i).toLowerCase();case ti.BENGALI:return bo(e,2534,2543,!0,i);case ti.CAMBODIAN:case ti.KHMER:return bo(e,6112,6121,!0,i);case ti.CJK_EARTHLY_BRANCH:return Co(e,"子丑寅卯辰巳午未申酉戌亥",r);case ti.CJK_HEAVENLY_STEM:return Co(e,"甲乙丙丁戊己庚辛壬癸",r);case ti.CJK_IDEOGRAPHIC:case ti.TRAD_CHINESE_INFORMAL:return Eo(e,"零一二三四五六七八九","十百千萬","負",r,14);case ti.TRAD_CHINESE_FORMAL:return Eo(e,"零壹貳參肆伍陸柒捌玖","拾佰仟萬","負",r,15);case ti.SIMP_CHINESE_INFORMAL:return Eo(e,"零一二三四五六七八九","十百千萬","负",r,14);case ti.SIMP_CHINESE_FORMAL:return Eo(e,"零壹贰叁肆伍陆柒捌玖","拾佰仟萬","负",r,15);case ti.JAPANESE_INFORMAL:return Eo(e,"〇一二三四五六七八九","十百千万","マイナス",r,0);case ti.JAPANESE_FORMAL:return Eo(e,"零壱弐参四伍六七八九","拾百千万","マイナス",r,7);case ti.KOREAN_HANGUL_FORMAL:return Eo(e,"영일이삼사오육칠팔구","십백천만","마이너스",o,7);case ti.KOREAN_HANJA_INFORMAL:return Eo(e,"零一二三四五六七八九","十百千萬","마이너스",o,0);case ti.KOREAN_HANJA_FORMAL:return Eo(e,"零壹貳參四五六七八九","拾百千","마이너스",o,7);case ti.DEVANAGARI:return bo(e,2406,2415,!0,i);case ti.GEORGIAN:return yo(e,1,19999,Io,ti.DECIMAL,i);case ti.GUJARATI:return bo(e,2790,2799,!0,i);case ti.GURMUKHI:return bo(e,2662,2671,!0,i);case ti.HEBREW:return yo(e,1,10999,Bo,ti.DECIMAL,i);case ti.HIRAGANA:return Co(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case ti.HIRAGANA_IROHA:return Co(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case ti.KANNADA:return bo(e,3302,3311,!0,i);case ti.KATAKANA:return Co(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",r);case ti.KATAKANA_IROHA:return Co(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",r);case ti.LAO:return bo(e,3792,3801,!0,i);case ti.MONGOLIAN:return bo(e,6160,6169,!0,i);case ti.MYANMAR:return bo(e,4160,4169,!0,i);case ti.ORIYA:return bo(e,2918,2927,!0,i);case ti.PERSIAN:return bo(e,1776,1785,!0,i);case ti.TAMIL:return bo(e,3046,3055,!0,i);case ti.TELUGU:return bo(e,3174,3183,!0,i);case ti.THAI:return bo(e,3664,3673,!0,i);case ti.TIBETAN:return bo(e,3872,3881,!0,i);case ti.DECIMAL:default:return bo(e,48,57,!0,i)}},ko="data-html2canvas-ignore",Fo=(Mo.prototype.toIFrame=function(e,t){var n=this,i=Lo(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var r=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,s=i.contentWindow,a=s.document,c=xo(i).then((function(){n.scrolledElements.forEach(Qo),s&&(s.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||s.scrollY===t.top&&s.scrollX===t.left||(a.documentElement.style.top=-t.top+"px",a.documentElement.style.left=-t.left+"px",a.documentElement.style.position="absolute"));var e=n.options.onclone;return void 0===n.clonedReferenceElement?Promise.reject("Error finding the "+n.referenceElement.nodeName+" in the cloned document"):"function"==typeof e?Promise.resolve().then((function(){return e(a)})).then((function(){return i})):i}));return a.open(),a.write(Oo(document.doctype)+"<html></html>"),Vo(this.referenceElement.ownerDocument,r,o),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),c},Mo.prototype.createElementClone=function(e){return po(e)?this.createCanvasClone(e):Jr(e)?this.createStyleClone(e):e.cloneNode(!1)},Mo.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"==typeof t.cssText?e+t.cssText:e}),""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(e){if(Ut.getInstance(this.options.id).error("Unable to access cssRules property",e),"SecurityError"!==e.name)throw e}return e.cloneNode(!1)},Mo.prototype.createCanvasClone=function(e){if(this.options.inlineImages&&e.ownerDocument){var t=e.ownerDocument.createElement("img");try{return t.src=e.toDataURL(),t}catch(e){Ut.getInstance(this.options.id).info("Unable to clone canvas contents, canvas is tainted")}}var n=e.cloneNode(!1);try{n.width=e.width,n.height=e.height;var i=e.getContext("2d"),r=n.getContext("2d");return r&&(i?r.putImageData(i.getImageData(0,0,e.width,e.height),0,0):r.drawImage(e,0,0)),n}catch(e){}return n},Mo.prototype.cloneNode=function(e){if(io(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var t=e.ownerDocument.defaultView;if(oo(e)&&t){var n=this.createElementClone(e),i=t.getComputedStyle(e),r=t.getComputedStyle(e,":before"),o=t.getComputedStyle(e,":after");this.referenceElement===e&&(this.clonedReferenceElement=n),uo(n)&&Yo(n);for(var s=this.counters.parse(new dr(i)),a=this.resolvePseudoContent(e,n,r,wo.BEFORE),c=e.firstChild;c;c=c.nextSibling)ro(c)&&("SCRIPT"===c.tagName||c.hasAttribute(ko)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(c))||this.options.copyStyles&&ro(c)&&Jr(c)||n.appendChild(this.cloneNode(c));a&&n.insertBefore(a,n.firstChild);var l=this.resolvePseudoContent(e,n,o,wo.AFTER);return l&&n.appendChild(l),this.counters.pop(s),i&&this.options.copyStyles&&!mo(e)&&Ro(i,n),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([n,e.scrollLeft,e.scrollTop]),(ho(e)||fo(e))&&(ho(n)||fo(n))&&(n.value=e.value),n}return e.cloneNode(!1)},Mo.prototype.resolvePseudoContent=function(e,t,n,i){var r=this;if(n){var o=n.content,s=t.ownerDocument;if(s&&o&&"none"!==o&&"-moz-alt-content"!==o&&"none"!==n.display){this.counters.parse(new dr(n));var a=new ur(n),c=s.createElement("html2canvaspseudoelement");return Ro(n,c),a.content.forEach((function(t){if(t.type===P.STRING_TOKEN)c.appendChild(s.createTextNode(t.value));else if(t.type===P.URL_TOKEN){var n=s.createElement("img");n.src=t.value,n.style.opacity="1",c.appendChild(n)}else if(t.type===P.FUNCTION){var i,o,l,u,d,p,A,m,h,f,g,v;"attr"===t.name?(i=t.values.filter(je)).length&&c.appendChild(s.createTextNode(e.getAttribute(i[0].value)||"")):"counter"===t.name?(p=(o=t.values.filter(ze))[0],m=o[1],p&&je(p)&&(l=r.counters.getCounterValue(p.value),u=m&&je(m)?ai.parse(m.value):ti.DECIMAL,c.appendChild(s.createTextNode(Do(l,u,!1))))):"counters"===t.name&&(p=(d=t.values.filter(ze))[0],A=d[1],m=d[2],p&&je(p)&&(h=r.counters.getCounterValues(p.value),f=m&&je(m)?ai.parse(m.value):ti.DECIMAL,g=A&&A.type===P.STRING_TOKEN?A.value:"",v=h.map((function(e){return Do(e,f,!1)})).join(g),c.appendChild(s.createTextNode(v))))}else if(t.type===P.IDENT_TOKEN)switch(t.value){case"open-quote":c.appendChild(s.createTextNode(er(a.quotes,r.quoteDepth++,!0)));break;case"close-quote":c.appendChild(s.createTextNode(er(a.quotes,--r.quoteDepth,!1)))}})),c.className=Ho+" "+$o,t.className+=i===wo.BEFORE?" "+Ho:" "+$o,c}}},Mo);function Mo(e,t){if(this.options=t,this.scrolledElements=[],this.referenceElement=e,this.counters=new go,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement)}(To=wo=wo||{})[To.BEFORE=0]="BEFORE",To[To.AFTER=1]="AFTER";var Uo,No,Lo=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(ko,"true"),e.body.appendChild(n),n},xo=function(e){return new Promise((function(t,n){var i=e.contentWindow;if(!i)return n("No window assigned for iframe");var r=i.document;i.onload=e.onload=r.onreadystatechange=function(){i.onload=e.onload=r.onreadystatechange=null;var n=setInterval((function(){0<r.body.childNodes.length&&"complete"===r.readyState&&(clearInterval(n),t(e))}),50)}}))},Ro=function(e,t){for(var n=e.length-1;0<=n;n--){var i=e.item(n);"content"!==i&&t.style.setProperty(i,e.getPropertyValue(i))}return t},Oo=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},Vo=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},Qo=function(e){var t=e[0],n=e[1],i=e[2];t.scrollLeft=n,t.scrollTop=i},Ho="___html2canvas___pseudoelement_before",$o="___html2canvas___pseudoelement_after",jo='{\n    content: "" !important;\n    display: none !important;\n}',Yo=function(e){Go(e,"."+Ho+":before"+jo+"\n         ."+$o+":after"+jo)},Go=function(e,t){var n,i=e.ownerDocument;i&&((n=i.createElement("style")).textContent=t,e.appendChild(n))};function Ko(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))}(No=Uo=Uo||{})[No.VECTOR=0]="VECTOR",No[No.BEZIER_CURVE=1]="BEZIER_CURVE";var zo=(Wo.prototype.add=function(e,t){return new Wo(this.x+e,this.y+t)},Wo);function Wo(e,t){this.type=Uo.VECTOR,this.x=e,this.y=t}function qo(e,t,n){return new zo(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)}var Jo=(Xo.prototype.subdivide=function(e,t){var n=qo(this.start,this.startControl,e),i=qo(this.startControl,this.endControl,e),r=qo(this.endControl,this.end,e),o=qo(n,i,e),s=qo(i,r,e),a=qo(o,s,e);return t?new Xo(this.start,n,o,a):new Xo(a,s,r,this.end)},Xo.prototype.add=function(e,t){return new Xo(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},Xo.prototype.reverse=function(){return new Xo(this.end,this.endControl,this.startControl,this.start)},Xo);function Xo(e,t,n,i){this.type=Uo.BEZIER_CURVE,this.start=e,this.startControl=t,this.endControl=n,this.end=i}function Zo(e){return e.type===Uo.BEZIER_CURVE}var es,ts,ns=function(e){var t=e.styles,n=e.bounds,i=Ze(t.borderTopLeftRadius,n.width,n.height),r=i[0],o=i[1],s=Ze(t.borderTopRightRadius,n.width,n.height),a=s[0],c=s[1],l=Ze(t.borderBottomRightRadius,n.width,n.height),u=l[0],d=l[1],p=Ze(t.borderBottomLeftRadius,n.width,n.height),A=p[0],m=p[1],h=[];h.push((r+a)/n.width),h.push((A+u)/n.width),h.push((o+m)/n.height),h.push((c+d)/n.height);var f=Math.max.apply(Math,h);1<f&&(r/=f,o/=f,a/=f,c/=f,u/=f,d/=f,A/=f,m/=f);var g=n.width-a,v=n.height-d,y=n.width-u,S=n.height-m,b=t.borderTopWidth,C=t.borderRightWidth,E=t.borderBottomWidth,w=t.borderLeftWidth,T=ut(t.paddingTop,e.bounds.width),P=ut(t.paddingRight,e.bounds.width),_=ut(t.paddingBottom,e.bounds.width),B=ut(t.paddingLeft,e.bounds.width);this.topLeftBorderBox=0<r||0<o?os(n.left,n.top,r,o,es.TOP_LEFT):new zo(n.left,n.top),this.topRightBorderBox=0<a||0<c?os(n.left+g,n.top,a,c,es.TOP_RIGHT):new zo(n.left+n.width,n.top),this.bottomRightBorderBox=0<u||0<d?os(n.left+y,n.top+v,u,d,es.BOTTOM_RIGHT):new zo(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=0<A||0<m?os(n.left,n.top+S,A,m,es.BOTTOM_LEFT):new zo(n.left,n.top+n.height),this.topLeftPaddingBox=0<r||0<o?os(n.left+w,n.top+b,Math.max(0,r-w),Math.max(0,o-b),es.TOP_LEFT):new zo(n.left+w,n.top+b),this.topRightPaddingBox=0<a||0<c?os(n.left+Math.min(g,n.width+w),n.top+b,g>n.width+w?0:a-w,c-b,es.TOP_RIGHT):new zo(n.left+n.width-C,n.top+b),this.bottomRightPaddingBox=0<u||0<d?os(n.left+Math.min(y,n.width-w),n.top+Math.min(v,n.height+b),Math.max(0,u-C),d-E,es.BOTTOM_RIGHT):new zo(n.left+n.width-C,n.top+n.height-E),this.bottomLeftPaddingBox=0<A||0<m?os(n.left+w,n.top+S,Math.max(0,A-w),m-E,es.BOTTOM_LEFT):new zo(n.left+w,n.top+n.height-E),this.topLeftContentBox=0<r||0<o?os(n.left+w+B,n.top+b+T,Math.max(0,r-(w+B)),Math.max(0,o-(b+T)),es.TOP_LEFT):new zo(n.left+w+B,n.top+b+T),this.topRightContentBox=0<a||0<c?os(n.left+Math.min(g,n.width+w+B),n.top+b+T,g>n.width+w+B?0:a-w+B,c-(b+T),es.TOP_RIGHT):new zo(n.left+n.width-(C+P),n.top+b+T),this.bottomRightContentBox=0<u||0<d?os(n.left+Math.min(y,n.width-(w+B)),n.top+Math.min(v,n.height+b+T),Math.max(0,u-(C+P)),d-(E+_),es.BOTTOM_RIGHT):new zo(n.left+n.width-(C+P),n.top+n.height-(E+_)),this.bottomLeftContentBox=0<A||0<m?os(n.left+w+B,n.top+S,Math.max(0,A-(w+B)),m-(E+_),es.BOTTOM_LEFT):new zo(n.left+w+B,n.top+n.height-(E+_))};function is(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]}function rs(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]}(ts=es=es||{})[ts.TOP_LEFT=0]="TOP_LEFT",ts[ts.TOP_RIGHT=1]="TOP_RIGHT",ts[ts.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",ts[ts.BOTTOM_LEFT=3]="BOTTOM_LEFT";var os=function(e,t,n,i,r){var o=(Math.sqrt(2)-1)/3*4,s=n*o,a=i*o,c=e+n,l=t+i;switch(r){case es.TOP_LEFT:return new Jo(new zo(e,l),new zo(e,l-a),new zo(c-s,t),new zo(c,t));case es.TOP_RIGHT:return new Jo(new zo(e,t),new zo(e+s,t),new zo(c,l-a),new zo(c,l));case es.BOTTOM_RIGHT:return new Jo(new zo(c,t),new zo(c,t+a),new zo(e+s,l),new zo(e,l));case es.BOTTOM_LEFT:default:return new Jo(new zo(c,l),new zo(c-s,l),new zo(e,t+a),new zo(e,t))}},ss=function(e,t,n){this.type=0,this.offsetX=e,this.offsetY=t,this.matrix=n,this.target=6},as=function(e,t){this.type=1,this.target=t,this.path=e},cs=function(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},ls=(us.prototype.getParentEffects=function(){var e,t=this.effects.slice(0);return this.container.styles.overflowX!==oi.VISIBLE&&(Ko(is(this.curves),e=rs(this.curves))||t.push(new as(e,6))),t},us);function us(e,t){var n,i,r,o,s;this.container=e,this.effects=t.slice(0),this.curves=new ns(e),null!==e.styles.transform&&(n=e.bounds.left+e.styles.transformOrigin[0].number,i=e.bounds.top+e.styles.transformOrigin[1].number,r=e.styles.transform,this.effects.push(new ss(n,i,r))),e.styles.overflowX!==oi.VISIBLE&&(Ko(o=is(this.curves),s=rs(this.curves))?this.effects.push(new as(o,6)):(this.effects.push(new as(o,2)),this.effects.push(new as(s,4))))}function ds(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))}function ps(e){var t=e.styles,n=e.bounds,i=ut(t.paddingLeft,n.width),r=ut(t.paddingRight,n.width),o=ut(t.paddingTop,n.width),s=ut(t.paddingBottom,n.width);return n.add(i+t.borderLeftWidth,o+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+i+r),-(t.borderTopWidth+t.borderBottomWidth+o+s))}function As(e,t,n){var i,r,o,s,a=(r=e,0===(i=ys(e.styles.backgroundOrigin,t))?r.bounds:(2===i?ps:ds)(r)),c=(s=e,(o=ys(e.styles.backgroundClip,t))===yt.BORDER_BOX?s.bounds:(o===yt.CONTENT_BOX?ps:ds)(s)),l=vs(ys(e.styles.backgroundSize,t),n,a),u=l[0],d=l[1],p=Ze(ys(e.styles.backgroundPosition,t),a.width-u,a.height-d);return[Ss(ys(e.styles.backgroundRepeat,t),p,l,a,c),Math.round(a.left+p[0]),Math.round(a.top+p[1]),u,d]}function ms(e){return je(e)&&e.value===An.AUTO}function hs(e){return"number"==typeof e}var fs=function(e,t){for(var n=e instanceof Fr?e.start:1,i=e instanceof Fr&&e.reversed,r=0;r<t.length;r++){var o=t[r];o.container instanceof Ir&&"number"==typeof o.container.value&&0!==o.container.value&&(n=o.container.value),o.listValue=Do(n,o.container.styles.listStyleType,!0),n+=i?-1:1}},gs=function(e,t,n,i){var r=[];return Zo(e)?r.push(e.subdivide(.5,!1)):r.push(e),Zo(n)?r.push(n.subdivide(.5,!0)):r.push(n),Zo(i)?r.push(i.subdivide(.5,!0).reverse()):r.push(i),Zo(t)?r.push(t.subdivide(.5,!1).reverse()):r.push(t),r},vs=function(e,t,n){var i=t[0],r=t[1],o=t[2],s=e[0],a=e[1];if(Je(s)&&a&&Je(a))return[ut(s,n.width),ut(a,n.height)];var c=hs(o);if(je(s)&&(s.value===An.CONTAIN||s.value===An.COVER))return hs(o)?n.width/n.height<o!=(s.value===An.COVER)?[n.width,n.width/o]:[n.height*o,n.height]:[n.width,n.height];var l=hs(i),u=hs(r),d=l||u;if(ms(s)&&(!a||ms(a)))return l&&u?[i,r]:c||d?d&&c?[l?i:r*o,u?r:i/o]:[l?i:n.width,u?r:n.height]:[n.width,n.height];if(c){var p=0,A=0;return Je(s)?p=ut(s,n.width):Je(a)&&(A=ut(a,n.height)),ms(s)?p=A*o:a&&!ms(a)||(A=p/o),[p,A]}var m=null,h=null;if(Je(s)?m=ut(s,n.width):a&&Je(a)&&(h=ut(a,n.height)),null===m||a&&!ms(a)||(h=l&&u?m/i*r:n.height),null!==h&&ms(s)&&(m=l&&u?h/r*i:n.width),null!==m&&null!==h)return[m,h];throw new Error("Unable to calculate background-size for element")},ys=function(e,t){var n=e[t];return void 0===n?e[0]:n},Ss=function(e,t,n,i,r){var o=t[0],s=t[1],a=n[0],c=n[1];switch(e){case sn.REPEAT_X:return[new zo(Math.round(i.left),Math.round(i.top+s)),new zo(Math.round(i.left+i.width),Math.round(i.top+s)),new zo(Math.round(i.left+i.width),Math.round(c+i.top+s)),new zo(Math.round(i.left),Math.round(c+i.top+s))];case sn.REPEAT_Y:return[new zo(Math.round(i.left+o),Math.round(i.top)),new zo(Math.round(i.left+o+a),Math.round(i.top)),new zo(Math.round(i.left+o+a),Math.round(i.height+i.top)),new zo(Math.round(i.left+o),Math.round(i.height+i.top))];case sn.NO_REPEAT:return[new zo(Math.round(i.left+o),Math.round(i.top+s)),new zo(Math.round(i.left+o+a),Math.round(i.top+s)),new zo(Math.round(i.left+o+a),Math.round(i.top+s+c)),new zo(Math.round(i.left+o),Math.round(i.top+s+c))];default:return[new zo(Math.round(r.left),Math.round(r.top)),new zo(Math.round(r.left+r.width),Math.round(r.top)),new zo(Math.round(r.left+r.width),Math.round(r.height+r.top)),new zo(Math.round(r.left),Math.round(r.height+r.top))]}},bs="Hidden Text",Cs=(Es.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),i=this._document.createElement("img"),r=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",o.appendChild(n),i.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode(bs)),n.appendChild(r),n.appendChild(i);var s=i.offsetTop-r.offsetTop+2;n.removeChild(r),n.appendChild(this._document.createTextNode(bs)),n.style.lineHeight="normal",i.style.verticalAlign="super";var a=i.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:s,middle:a}},Es.prototype.getMetrics=function(e,t){var n=e+" "+t;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},Es);function Es(e){this._data={},this._document=e}var ws=(Ts.prototype.applyEffects=function(e,t){for(var n=this;this._activeEffects.length;)this.popEffect();e.filter((function(e){return Zi(e.target,t)})).forEach((function(e){return n.applyEffect(e)}))},Ts.prototype.applyEffect=function(e){this.ctx.save(),0===e.type&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),1===e.type&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},Ts.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},Ts.prototype.renderStack=function(e){return i(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return(t=e.element.container.styles).isVisible()?(this.ctx.globalAlpha=t.opacity,[4,this.renderStackContent(e)]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},Ts.prototype.renderNode=function(e){return i(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},Ts.prototype.renderTextWithLetterSpacing=function(e,t){var n=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height):c(e.text).map((function(e){return l(e)})).reduce((function(t,i){return n.ctx.fillText(i,t,e.bounds.top+e.bounds.height),t+n.ctx.measureText(i).width}),e.bounds.left)},Ts.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=e.fontFamily.join(", "),i=He(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,i,n].join(" "),n,i]},Ts.prototype.renderTextNode=function(e,t){return i(this,void 0,void 0,(function(){var n,i,o,s,a=this;return r(this,(function(r){return n=this.createFontStyle(t),i=n[0],o=n[1],s=n[2],this.ctx.font=i,e.textBounds.forEach((function(e){a.ctx.fillStyle=it(t.color),a.renderTextWithLetterSpacing(e,t.letterSpacing);var n=t.textShadow;n.length&&e.text.trim().length&&(n.slice(0).reverse().forEach((function(t){a.ctx.shadowColor=it(t.color),a.ctx.shadowOffsetX=t.offsetX.number*a.options.scale,a.ctx.shadowOffsetY=t.offsetY.number*a.options.scale,a.ctx.shadowBlur=t.blur.number,a.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height)})),a.ctx.shadowColor="",a.ctx.shadowOffsetX=0,a.ctx.shadowOffsetY=0,a.ctx.shadowBlur=0),t.textDecorationLine.length&&(a.ctx.fillStyle=it(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:var n=a.fontMetrics.getMetrics(o,s).baseline;a.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+n),e.bounds.width,1);break;case 2:a.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:var i=a.fontMetrics.getMetrics(o,s).middle;a.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+i),e.bounds.width,1)}})))})),[2]}))}))},Ts.prototype.renderReplacedElement=function(e,t,n){var i,r;n&&0<e.intrinsicWidth&&0<e.intrinsicHeight&&(i=ps(e),r=rs(t),this.path(r),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore())},Ts.prototype.renderNodeContent=function(e){return i(this,void 0,void 0,(function(){var t,n,i,s,a,c,l,u,d,p,A,m,h,f;return r(this,(function(r){switch(r.label){case 0:this.applyEffects(e.effects,4),t=e.container,n=e.curves,i=t.styles,s=0,a=t.textNodes,r.label=1;case 1:return s<a.length?(c=a[s],[4,this.renderTextNode(c,i)]):[3,4];case 2:r.sent(),r.label=3;case 3:return s++,[3,1];case 4:if(!(t instanceof Sr))return[3,8];r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.options.cache.match(t.src)];case 6:return m=r.sent(),this.renderReplacedElement(t,n,m),[3,8];case 7:return r.sent(),Ut.getInstance(this.options.id).error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Er&&this.renderReplacedElement(t,n,t.canvas),!(t instanceof Pr))return[3,12];r.label=9;case 9:return r.trys.push([9,11,,12]),[4,this.options.cache.match(t.svg)];case 10:return m=r.sent(),this.renderReplacedElement(t,n,m),[3,12];case 11:return r.sent(),Ut.getInstance(this.options.id).error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof Wr&&t.tree?[4,new Ts({id:this.options.id,scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,scrollX:0,scrollY:0,width:t.width,height:t.height,cache:this.options.cache,windowWidth:t.width,windowHeight:t.height}).render(t.tree)]:[3,14];case 13:l=r.sent(),this.ctx.drawImage(l,0,0,t.width,t.width,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),r.label=14;case 14:if(t instanceof Or&&(u=Math.min(t.bounds.width,t.bounds.height),t.type===xr?t.checked&&(this.ctx.save(),this.path([new zo(t.bounds.left+.39363*u,t.bounds.top+.79*u),new zo(t.bounds.left+.16*u,t.bounds.top+.5549*u),new zo(t.bounds.left+.27347*u,t.bounds.top+.44071*u),new zo(t.bounds.left+.39694*u,t.bounds.top+.5649*u),new zo(t.bounds.left+.72983*u,t.bounds.top+.23*u),new zo(t.bounds.left+.84*u,t.bounds.top+.34085*u),new zo(t.bounds.left+.39363*u,t.bounds.top+.79*u)]),this.ctx.fillStyle=it(707406591),this.ctx.fill(),this.ctx.restore()):t.type===Rr&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+u/2,t.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=it(707406591),this.ctx.fill(),this.ctx.restore())),Ps(t)&&t.value.length){switch(this.ctx.font=this.createFontStyle(i)[0],this.ctx.fillStyle=it(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign=Bs(t.styles.textAlign),f=ps(t),d=0,t.styles.textAlign){case hi.CENTER:d+=f.width/2;break;case hi.RIGHT:d+=f.width}p=f.add(d,0,0,-f.height/2+1),this.ctx.save(),this.path([new zo(f.left,f.top),new zo(f.left+f.width,f.top),new zo(f.left+f.width,f.top+f.height),new zo(f.left,f.top+f.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new mr(t.value,p),i.letterSpacing),this.ctx.restore(),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"}if(!Zi(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if((A=t.styles.listStyleImage).type!==Qt.URL)return[3,18];m=void 0,h=A.url,r.label=15;case 15:return r.trys.push([15,17,,18]),[4,this.options.cache.match(h)];case 16:return m=r.sent(),this.ctx.drawImage(m,t.bounds.left-(m.width+10),t.bounds.top),[3,18];case 17:return r.sent(),Ut.getInstance(this.options.id).error("Error loading list-style-image "+h),[3,18];case 18:return[3,20];case 19:e.listValue&&t.styles.listStyleType!==ti.NONE&&(this.ctx.font=this.createFontStyle(i)[0],this.ctx.fillStyle=it(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",f=new o(t.bounds.left,t.bounds.top+ut(t.styles.paddingTop,t.bounds.width),t.bounds.width,(g=i.lineHeight,v=i.fontSize.number,(je(g)&&"normal"===g.value?1.2*v:g.type===P.NUMBER_TOKEN?v*g.number:Je(g)?ut(g,v):v)/2+1)),this.renderTextWithLetterSpacing(new mr(e.listValue,f),i.letterSpacing),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),r.label=20;case 20:return[2]}var g,v}))}))},Ts.prototype.renderStackContent=function(e){return i(this,void 0,void 0,(function(){var t,n,i,o,s,a,c,l,u,d,p,A,m,h,f;return r(this,(function(r){switch(r.label){case 0:return[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:r.sent(),t=0,n=e.negativeZIndex,r.label=2;case 2:return t<n.length?(f=n[t],[4,this.renderStack(f)]):[3,5];case 3:r.sent(),r.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:r.sent(),i=0,o=e.nonInlineLevel,r.label=7;case 7:return i<o.length?(f=o[i],[4,this.renderNode(f)]):[3,10];case 8:r.sent(),r.label=9;case 9:return i++,[3,7];case 10:s=0,a=e.nonPositionedFloats,r.label=11;case 11:return s<a.length?(f=a[s],[4,this.renderStack(f)]):[3,14];case 12:r.sent(),r.label=13;case 13:return s++,[3,11];case 14:c=0,l=e.nonPositionedInlineLevel,r.label=15;case 15:return c<l.length?(f=l[c],[4,this.renderStack(f)]):[3,18];case 16:r.sent(),r.label=17;case 17:return c++,[3,15];case 18:u=0,d=e.inlineLevel,r.label=19;case 19:return u<d.length?(f=d[u],[4,this.renderNode(f)]):[3,22];case 20:r.sent(),r.label=21;case 21:return u++,[3,19];case 22:p=0,A=e.zeroOrAutoZIndexOrTransformedOrOpacity,r.label=23;case 23:return p<A.length?(f=A[p],[4,this.renderStack(f)]):[3,26];case 24:r.sent(),r.label=25;case 25:return p++,[3,23];case 26:m=0,h=e.positiveZIndex,r.label=27;case 27:return m<h.length?(f=h[m],[4,this.renderStack(f)]):[3,30];case 28:r.sent(),r.label=29;case 29:return m++,[3,27];case 30:return[2]}}))}))},Ts.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},Ts.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},Ts.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var i=Zo(e)?e.start:e;0===n?t.ctx.moveTo(i.x,i.y):t.ctx.lineTo(i.x,i.y),Zo(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},Ts.prototype.renderRepeat=function(e,t,n,i){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,i),this.ctx.fill(),this.ctx.translate(-n,-i)},Ts.prototype.resizeImage=function(e,t,n){if(e.width===t&&e.height===n)return e;var i=this.canvas.ownerDocument.createElement("canvas");return i.width=t,i.height=n,i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),i},Ts.prototype.renderBackgroundImage=function(e){return i(this,void 0,void 0,(function(){var t,n,i,o,s,a;return r(this,(function(c){switch(c.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var o,s,a,c,l,u,d,p,A,m,h,f,g,v,y,S,b,C,E,w,T,P,_,B,I,D,k,F,M,U,N;return r(this,(function(r){switch(r.label){case 0:if(n.type!==Qt.URL)return[3,5];o=void 0,s=n.url,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.options.cache.match(s)];case 2:return o=r.sent(),[3,4];case 3:return r.sent(),Ut.getInstance(i.options.id).error("Error loading background-image "+s),[3,4];case 4:return o&&(a=As(e,t,[o.width,o.height,o.width/o.height]),S=a[0],P=a[1],_=a[2],E=a[3],w=a[4],v=i.ctx.createPattern(i.resizeImage(o,E,w),"repeat"),i.renderRepeat(S,v,P,_)),[3,6];case 5:n.type===Qt.LINEAR_GRADIENT?(c=As(e,t,[null,null,null]),S=c[0],P=c[1],_=c[2],E=c[3],w=c[4],l=function(e,t,n){var i,r,o,s,a,c,l,u="number"==typeof e?e:(s=(r=t)/2,a=(o=n)/2,c=ut((i=e)[0],r)-s,l=a-ut(i[1],o),(Math.atan2(l,c)+2*Math.PI)%(2*Math.PI)),d=Math.abs(t*Math.sin(u))+Math.abs(n*Math.cos(u)),p=t/2,A=n/2,m=d/2,h=Math.sin(u-Math.PI/2)*m,f=Math.cos(u-Math.PI/2)*m;return[d,p-f,p+f,A-h,A+h]}(n.angle,E,w),u=l[0],d=l[1],p=l[2],A=l[3],m=l[4],(h=document.createElement("canvas")).width=E,h.height=w,f=h.getContext("2d"),g=f.createLinearGradient(d,A,p,m),wt(n.stops,u).forEach((function(e){return g.addColorStop(e.stop,it(e.color))})),f.fillStyle=g,f.fillRect(0,0,E,w),v=i.ctx.createPattern(h,"repeat"),i.renderRepeat(S,v,P,_)):n.type===Qt.RADIAL_GRADIENT&&(y=As(e,t,[null,null,null]),S=y[0],b=y[1],C=y[2],E=y[3],w=y[4],T=0===n.position.length?[ct]:n.position,P=ut(T[0],E),_=ut(T[T.length-1],w),B=function(e,t,n,i,r){var o,s,a,c=0,l=0;switch(e.size){case Yt.CLOSEST_SIDE:e.shape===$t.CIRCLE?c=l=Math.min(Math.abs(t),Math.abs(t-i),Math.abs(n),Math.abs(n-r)):e.shape===$t.ELLIPSE&&(c=Math.min(Math.abs(t),Math.abs(t-i)),l=Math.min(Math.abs(n),Math.abs(n-r)));break;case Yt.CLOSEST_CORNER:e.shape===$t.CIRCLE?c=l=Math.min(Tt(t,n),Tt(t,n-r),Tt(t-i,n),Tt(t-i,n-r)):e.shape===$t.ELLIPSE&&(l=(s=Math.min(Math.abs(n),Math.abs(n-r))/Math.min(Math.abs(t),Math.abs(t-i)))*(c=Tt((o=Pt(i,r,t,n,!0))[0]-t,(o[1]-n)/s)));break;case Yt.FARTHEST_SIDE:e.shape===$t.CIRCLE?c=l=Math.max(Math.abs(t),Math.abs(t-i),Math.abs(n),Math.abs(n-r)):e.shape===$t.ELLIPSE&&(c=Math.max(Math.abs(t),Math.abs(t-i)),l=Math.max(Math.abs(n),Math.abs(n-r)));break;case Yt.FARTHEST_CORNER:e.shape===$t.CIRCLE?c=l=Math.max(Tt(t,n),Tt(t,n-r),Tt(t-i,n),Tt(t-i,n-r)):e.shape===$t.ELLIPSE&&(l=(s=Math.max(Math.abs(n),Math.abs(n-r))/Math.max(Math.abs(t),Math.abs(t-i)))*(c=Tt((a=Pt(i,r,t,n,!1))[0]-t,(a[1]-n)/s)))}return Array.isArray(e.size)&&(c=ut(e.size[0],i),l=2===e.size.length?ut(e.size[1],r):c),[c,l]}(n,P,_,E,w),I=B[0],D=B[1],0<I&&0<I&&(k=i.ctx.createRadialGradient(b+P,C+_,0,b+P,C+_,I),wt(n.stops,2*I).forEach((function(e){return k.addColorStop(e.stop,it(e.color))})),i.path(S),i.ctx.fillStyle=k,I!==D?(F=e.bounds.left+.5*e.bounds.width,M=e.bounds.top+.5*e.bounds.height,N=1/(U=D/I),i.ctx.save(),i.ctx.translate(F,M),i.ctx.transform(1,0,0,U,0,0),i.ctx.translate(-F,-M),i.ctx.fillRect(b,N*(C-M)+M,E,w*N),i.ctx.restore()):i.ctx.fill())),r.label=6;case 6:return t--,[2]}}))},i=this,o=0,s=e.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return o<s.length?(a=s[o],[5,n(a)]):[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))},Ts.prototype.renderBorder=function(e,t,n){return i(this,void 0,void 0,(function(){return r(this,(function(i){return this.path(function(e,t){switch(t){case 0:return gs(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return gs(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return gs(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return gs(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}}(n,t)),this.ctx.fillStyle=it(e),this.ctx.fill(),[2]}))}))},Ts.prototype.renderNodeBackgroundAndBorders=function(e){return i(this,void 0,void 0,(function(){var t,n,i,o,s,a,c,l,u=this;return r(this,(function(r){switch(r.label){case 0:return this.applyEffects(e.effects,2),t=e.container.styles,n=!nt(t.backgroundColor)||t.backgroundImage.length,i=[{style:t.borderTopStyle,color:t.borderTopColor},{style:t.borderRightStyle,color:t.borderRightColor},{style:t.borderBottomStyle,color:t.borderBottomColor},{style:t.borderLeftStyle,color:t.borderLeftColor}],o=_s(ys(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),nt(t.backgroundColor)||(this.ctx.fillStyle=it(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:r.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){u.ctx.save();var n,i,r,o,s,a=is(e.curves),c=t.inset?0:1e4,l=(n=a,i=-c+(t.inset?1:-1)*t.spread.number,r=(t.inset?1:-1)*t.spread.number,o=t.spread.number*(t.inset?-2:2),s=t.spread.number*(t.inset?-2:2),n.map((function(e,t){switch(t){case 0:return e.add(i,r);case 1:return e.add(i+o,r);case 2:return e.add(i+o,r+s);case 3:return e.add(i,r+s)}return e})));t.inset?(u.path(a),u.ctx.clip(),u.mask(l)):(u.mask(a),u.ctx.clip(),u.path(l)),u.ctx.shadowOffsetX=t.offsetX.number+c,u.ctx.shadowOffsetY=t.offsetY.number,u.ctx.shadowColor=it(t.color),u.ctx.shadowBlur=t.blur.number,u.ctx.fillStyle=t.inset?it(t.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()})),r.label=2;case 2:a=s=0,c=i,r.label=3;case 3:return a<c.length?(l=c[a]).style===yn.NONE||nt(l.color)?[3,5]:[4,this.renderBorder(l.color,s++,e.curves)]:[3,6];case 4:r.sent(),r.label=5;case 5:return a++,[3,3];case 6:return[2]}}))}))},Ts.prototype.render=function(e){return i(this,void 0,void 0,(function(){var t;return r(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=it(this.options.backgroundColor),this.ctx.fillRect(this.options.x-this.options.scrollX,this.options.y-this.options.scrollY,this.options.width,this.options.height)),t=function(e){var t=new ls(e,[]),n=new cs(t),i=[];return function e(t,n,i,r){t.container.elements.forEach((function(o){var s=Zi(o.flags,4),a=Zi(o.flags,2),c=new ls(o,t.getParentEffects());Zi(o.styles.display,2048)&&r.push(c);var l,u,d,p,A,m=Zi(o.flags,8)?[]:r;s||a?(l=s||o.styles.isPositioned()?i:n,u=new cs(c),o.styles.isPositioned()||o.styles.opacity<1||o.styles.isTransformed()?(d=o.styles.zIndex.order)<0?(p=0,l.negativeZIndex.some((function(e,t){return d>e.element.container.styles.zIndex.order&&(p=t,!0)})),l.negativeZIndex.splice(p,0,u)):0<d?(A=0,l.positiveZIndex.some((function(e,t){return d>e.element.container.styles.zIndex.order&&(A=t+1,!0)})),l.positiveZIndex.splice(A,0,u)):l.zeroOrAutoZIndexOrTransformedOrOpacity.push(u):o.styles.isFloating()?l.nonPositionedFloats.push(u):l.nonPositionedInlineLevel.push(u),e(c,u,s?u:i,m)):(o.styles.isInlineLevel()?n.inlineLevel.push(c):n.nonInlineLevel.push(c),e(c,n,i,m)),Zi(o.flags,8)&&fs(o,m)}))}(t,n,n,i),fs(t.container,i),n}(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([],2),[2,this.canvas]}}))}))},Ts);function Ts(e){this._activeEffects=[],this.canvas=e.canvas?e.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=e,this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",this.fontMetrics=new Cs(document),this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x+e.scrollX,-e.y+e.scrollY),this.ctx.textBaseline="bottom",this._activeEffects=[],Ut.getInstance(e.id).debug("Canvas renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale)}var Ps=function(e){return e instanceof Yr||e instanceof Hr||e instanceof Or&&e.type!==Rr&&e.type!==xr},_s=function(e,t){switch(e){case yt.BORDER_BOX:return is(t);case yt.CONTENT_BOX:return[(n=t).topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox];case yt.PADDING_BOX:default:return rs(t)}var n},Bs=function(e){switch(e){case hi.CENTER:return"center";case hi.RIGHT:return"right";case hi.LEFT:default:return"left"}},Is=(Ds.prototype.render=function(e){return i(this,void 0,void 0,(function(){var t,n;return r(this,(function(i){switch(i.label){case 0:return t=kt(Math.max(this.options.windowWidth,this.options.width)*this.options.scale,Math.max(this.options.windowHeight,this.options.height)*this.options.scale,this.options.scrollX*this.options.scale,this.options.scrollY*this.options.scale,e),[4,Fs(t)];case 1:return n=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=it(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},Ds);function Ds(e){this.canvas=e.canvas?e.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=e,this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x+e.scrollX,-e.y+e.scrollY),Ut.getInstance(e.id).debug("EXPERIMENTAL ForeignObject renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale)}function ks(e){return At(Ve.create(e).parseComponentValue())}var Fs=function(e){return new Promise((function(t,n){var i=new Image;i.onload=function(){t(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))};Lt.setContext(window);var Ms=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)};return function(e,t){return void 0===t&&(t={}),function(e,t){return i(void 0,void 0,void 0,(function(){var i,s,c,l,u,d,p,A,m,h,f,g,v,y,S,b,C,E,w,T,P,_,B;return r(this,(function(r){switch(r.label){case 0:if(!(i=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(s=i.defaultView))throw new Error("Document is not attached to a Window");return c=(Math.round(1e3*Math.random())+Date.now()).toString(16),l=uo(e)||"HTML"===e.tagName?function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var i=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),r=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new o(0,0,i,r)}(i):a(e),u=l.width,d=l.height,p=l.left,A=l.top,m=n({},{allowTaint:!1,imageTimeout:15e3,proxy:void 0,useCORS:!1},t),h={backgroundColor:"#ffffff",cache:t.cache?t.cache:Lt.create(c,m),logging:!0,removeContainer:!0,foreignObjectRendering:!1,scale:s.devicePixelRatio||1,windowWidth:s.innerWidth,windowHeight:s.innerHeight,scrollX:s.pageXOffset,scrollY:s.pageYOffset,x:p,y:A,width:Math.ceil(u),height:Math.ceil(d),id:c},f=n({},h,m,t),g=new o(f.scrollX,f.scrollY,f.windowWidth,f.windowHeight),Ut.create(c),Ut.getInstance(c).debug("Starting document clone"),v=new Fo(e,{id:c,onclone:f.onclone,ignoreElements:f.ignoreElements,inlineImages:f.foreignObjectRendering,copyStyles:f.foreignObjectRendering}),(y=v.clonedReferenceElement)?[4,v.toIFrame(i,g)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return S=r.sent(),b=i.documentElement?ks(getComputedStyle(i.documentElement).backgroundColor):Ct.TRANSPARENT,C=i.body?ks(getComputedStyle(i.body).backgroundColor):Ct.TRANSPARENT,E=t.backgroundColor,w="string"==typeof E?ks(E):4294967295,T=e===i.documentElement?nt(b)?nt(C)?w:C:b:w,P={id:c,cache:f.cache,backgroundColor:T,scale:f.scale,x:f.x,y:f.y,scrollX:f.scrollX,scrollY:f.scrollY,width:f.width,height:f.height,windowWidth:f.windowWidth,windowHeight:f.windowHeight},f.foreignObjectRendering?(Ut.getInstance(c).debug("Document cloned, using foreign object rendering"),[4,new Is(P).render(y)]):[3,3];case 2:return _=r.sent(),[3,5];case 3:return Ut.getInstance(c).debug("Document cloned, using computed rendering"),Lt.attachInstance(f.cache),Ut.getInstance(c).debug("Starting DOM parsing"),B=eo(y),Lt.detachInstance(),T===B.styles.backgroundColor&&(B.styles.backgroundColor=Ct.TRANSPARENT),Ut.getInstance(c).debug("Starting renderer"),[4,new ws(P).render(B)];case 4:_=r.sent(),r.label=5;case 5:return!0===f.removeContainer&&(Ms(S)||Ut.getInstance(c).error("Cannot detach cloned iframe as it is not in the DOM anymore")),Ut.getInstance(c).debug("Finished rendering"),Ut.destroy(c),Lt.destroy(c),[2,_]}}))}))}(e,t)}},"object"===s(t)&&void 0!==e?e.exports=o():void 0===(r="function"==typeof(i=o)?i.call(t,n,t,e):i)||(e.exports=r)},"./node_modules/inherits/inherits_browser.js":function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){var n;t&&(e.super_=t,(n=function(){}).prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e)}},"./node_modules/lscache/lscache.js":function(e,t,n){var i,r;void 0===(r="function"==typeof(i=function(){var e,t,n="lscache-",i="-cacheexpiration",r=6e4,o=S(r),s="",a=!1;function c(){var t="__lscachetest__";if(void 0!==e)return e;try{if(!localStorage)return!1}catch(t){return!1}try{m(t,"__lscachetest__"),h(t),e=!0}catch(t){e=!(!l(t)||!localStorage.length)}return e}function l(e){return e&&("QUOTA_EXCEEDED_ERR"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||"QuotaExceededError"===e.name)}function u(){return void 0===t&&(t=null!=window.JSON),t}function d(e){return e+i}function p(){return Math.floor((new Date).getTime()/r)}function A(e){return localStorage.getItem(n+s+e)}function m(e,t){localStorage.removeItem(n+s+e),localStorage.setItem(n+s+e,t)}function h(e){localStorage.removeItem(n+s+e)}function f(e){for(var t=new RegExp("^"+n+function(e){return e.replace(/[[\]{}()*+?.\\^$|]/g,"\\$&")}(s)+"(.*)"),r=localStorage.length-1;r>=0;--r){var o=localStorage.key(r);(o=(o=o&&o.match(t))&&o[1])&&o.indexOf(i)<0&&e(o,d(o))}}function g(e){var t=d(e);h(e),h(t)}function v(e){var t=d(e),n=A(t);if(n){var i=parseInt(n,10);if(p()>=i)return h(e),h(t),!0}}function y(e,t){a&&"console"in window&&"function"==typeof window.console.warn&&(window.console.warn("lscache - "+e),t&&window.console.warn("lscache - The error was: "+t.message))}function S(e){return Math.floor(864e13/e)}return{set:function e(t,n,i){if(!c())return!1;if(!u())return!1;try{n=JSON.stringify(n)}catch(e){return!1}try{m(t,n)}catch(e){if(!l(e))return y("Could not add item with key '"+t+"'",e),!1;var r,s=[];f((function(e,t){var n=A(t);n=n?parseInt(n,10):o,s.push({key:e,size:(A(e)||"").length,expiration:n})})),s.sort((function(e,t){return t.expiration-e.expiration}));for(var a=(n||"").length;s.length&&a>0;)r=s.pop(),y("Cache is full, removing item with key '"+t+"'"),g(r.key),a-=r.size;try{m(t,n)}catch(e){return y("Could not add item with key '"+t+"', perhaps it's too big?",e),!1}}return i?m(d(t),(p()+i).toString(10)):h(d(t)),!0},get:function(e){if(!c())return null;if(v(e))return null;var t=A(e);if(!t||!u())return t;try{return JSON.parse(t)}catch(e){return t}},remove:function(e){c()&&g(e)},supported:function(){return c()},flush:function(){c()&&f((function(e){g(e)}))},flushExpired:function(){c()&&f((function(e){v(e)}))},setBucket:function(e){s=e},resetBucket:function(){s=""},getExpiryMilliseconds:function(){return r},setExpiryMilliseconds:function(e){o=S(r=e)},enableWarnings:function(e){a=e}}})?i.apply(t,[]):i)||(e.exports=r)},"./node_modules/minimalistic-assert/index.js":function(e,t){(e.exports=function(e,t){if(!e)throw new Error(t||"Assertion failed")}).equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},"./node_modules/object-assign/index.js":function(e,t,n){"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},i)).join("")?void 0:1}catch(e){return}}()?Object.assign:function(e,t){for(var n,s,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))r.call(n,l)&&(a[l]=n[l]);if(i){s=i(n);for(var u=0;u<s.length;u++)o.call(n,s[u])&&(a[s[u]]=n[s[u]])}}return a}},"./node_modules/prop-types/checkPropTypes.js":function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=n("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),o={},s=Function.call.bind(Object.prototype.hasOwnProperty),a=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}};function c(e,t,n,c,l){for(var u in e)if(s(e,u)){var d,p;try{if("function"!=typeof e[u]){var A=Error((c||"React class")+": "+n+" type `"+u+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+i(e[u])+"`.");throw A.name="Invariant Violation",A}d=e[u](t,u,c,n,null,r)}catch(e){d=e}!d||d instanceof Error||a((c||"React class")+": type specification of "+n+" `"+u+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+i(d)+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),d instanceof Error&&!(d.message in o)&&(o[d.message]=!0,p=l?l():"",a("Failed "+n+" type: "+d.message+(null!=p?p:"")))}}c.resetWarningCache=function(){o={}},e.exports=c},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./node_modules/query-string/index.js":function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=n("./node_modules/strict-uri-encode/index.js"),o=n("./node_modules/object-assign/index.js"),s=n("./node_modules/decode-uri-component/index.js");function a(e,t){return t.encode?(t.strict?r:encodeURIComponent)(e):e}function c(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function l(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,i){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===i[e]&&(i[e]={}),i[e][t[1]]=n):i[e]=n};case"bracket":return function(e,n,i){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==i[e]?i[e]=[].concat(i[e],n):i[e]=[n]:i[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=o({arrayFormat:"none"},t)),r=Object.create(null);return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),o=void 0===(o=0<t.length?t.join("="):void 0)?null:s(o);n(s(i),o,r)})),Object.keys(r).sort().reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"===i(n)&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"===i(t)?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(n):e[t]=n,e}),Object.create(null))):r}t.extract=c,t.parse=l,t.stringify=function(e,t){!1===(t=o({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,i){return null===n?[a(t,e),"[",i,"]"].join(""):[a(t,e),"[",a(i,e),"]=",a(n,e)].join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map((function(i){var r=e[i];if(void 0===r)return"";if(null===r)return a(i,t);if(Array.isArray(r)){var o=[];return r.slice().forEach((function(e){void 0!==e&&o.push(n(i,e,o.length))})),o.join("&")}return a(i,t)+"="+a(r,t)})).filter((function(e){return 0<e.length})).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:l(c(e),t)}}},"./node_modules/querystringify/index.js":function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty;function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function o(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,r,s=[];for(r in"string"!=typeof t&&(t="?"),e)if(i.call(e,r)){if((n=e[r])||null!=n&&!isNaN(n)||(n=""),r=o(r),n=o(n),null===r||null===n)continue;s.push(r+"="+n)}return s.length?t+s.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,i={};t=n.exec(e);){var o=r(t[1]),s=r(t[2]);null===o||null===s||o in i||(i[o]=s)}return i}},"./node_modules/react/cjs/react.development.js":function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var t=n("./node_modules/object-assign/index.js"),r=n("./node_modules/prop-types/checkPropTypes.js"),o="function"==typeof Symbol&&Symbol.for,s=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,c=o?Symbol.for("react.fragment"):60107,l=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,d=o?Symbol.for("react.provider"):60109,p=o?Symbol.for("react.context"):60110,A=o?Symbol.for("react.concurrent_mode"):60111,m=o?Symbol.for("react.forward_ref"):60112,h=o?Symbol.for("react.suspense"):60113,f=o?Symbol.for("react.suspense_list"):60120,g=o?Symbol.for("react.memo"):60115,v=o?Symbol.for("react.lazy"):60116,y=o?Symbol.for("react.fundamental"):60117,S=o?Symbol.for("react.responder"):60118,b="function"==typeof Symbol&&Symbol.iterator;function C(e){if(null===e||"object"!==i(e))return null;var t=b&&e[b]||e["@@iterator"];return"function"==typeof t?t:null}function E(e){return e.name="Invariant Violation",e}var w=function(e,t){if(void 0===t)throw new Error("`lowPriorityWarning(condition, format, ...args)` requires a warning message argument");if(!e){for(var n=arguments.length,i=Array(2<n?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];(function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=0,o="Warning: "+e.replace(/%s/g,(function(){return n[r++]}));"undefined"!=typeof console&&console.warn(o);try{throw new Error(o)}catch(e){}}).apply(void 0,[t].concat(i))}},T=function(e,t){for(var n,i=arguments.length,r=Array(2<i?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];if(void 0===t)throw new Error("`warningWithoutStack(condition, format, ...args)` requires a warning message argument");if(8<r.length)throw new Error("warningWithoutStack() currently supports at most 8 arguments.");if(!e){"undefined"!=typeof console&&((n=r.map((function(e){return""+e}))).unshift("Warning: "+t),Function.prototype.apply.call(console.error,console,n));try{var s=0,a="Warning: "+t.replace(/%s/g,(function(){return r[s++]}));throw new Error(a)}catch(e){}}},P={};function _(e,t){var n=e.constructor,i=n&&(n.displayName||n.name)||"ReactClass",r=i+"."+t;P[r]||(T(!1,"Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",t,i),P[r]=!0)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(e){_(e,"forceUpdate")},enqueueReplaceState:function(e){_(e,"replaceState")},enqueueSetState:function(e){_(e,"setState")}},I={};function D(e,t,n){this.props=e,this.context=t,this.refs=I,this.updater=n||B}Object.freeze(I),D.prototype.isReactComponent={},D.prototype.setState=function(e,t){!function(){if("object"!==i(e)&&"function"!=typeof e&&null!=e)throw E(Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables."))}(),this.updater.enqueueSetState(this,e,t,"setState")},D.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};var k={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]};for(var F in k)k.hasOwnProperty(F)&&function(e,t){Object.defineProperty(D.prototype,e,{get:function(){w(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1])}})}(F,k[F]);function M(){}function U(e,t,n){this.props=e,this.context=t,this.refs=I,this.updater=n||B}M.prototype=D.prototype;var N=U.prototype=new M;N.constructor=U,t(N,D.prototype),N.isPureReactComponent=!0;var L={current:null},x={suspense:null},R={current:null},O=/^(.*)[\\\/]/;function V(e){if(null==e)return null;if("number"==typeof e.tag&&T(!1,"Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case c:return"Fragment";case a:return"Portal";case u:return"Profiler";case l:return"StrictMode";case h:return"Suspense";case f:return"SuspenseList"}if("object"===i(e))switch(e.$$typeof){case p:return"Context.Consumer";case d:return"Context.Provider";case m:return s="ForwardRef",A=(o=(r=e).render).displayName||o.name||"",r.displayName||(""!==A?s+"("+A+")":s);case g:return V(e.type);case v:var t=1===(n=e)._status?n._result:null;if(t)return V(t)}var n,r,o,s,A;return null}var Q={},H=null;function $(e){H=e}Q.getCurrentStack=null,Q.getStackAddendum=function(){var e,t,n,i,r,o,s,a,c,l,u="";H&&(e=V(H.type),t=H._owner,u+=(n=e,i=H._source,r=t&&V(t.type),l="",i?(c=(o=i.fileName).replace(O,""),/^index\./.test(c)&&(!(s=o.match(O))||(a=s[1])&&(c=a.replace(O,"")+"/"+c)),l=" (at "+c+":"+i.lineNumber+")"):r&&(l=" (created by "+r+")"),"\n    in "+(n||"Unknown")+l));var d=Q.getCurrentStack;return d&&(u+=d()||""),u};var j={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:x,ReactCurrentOwner:R,IsSomeRendererActing:{current:!1},assign:t};t(j,{ReactDebugCurrentFrame:Q,ReactComponentTreeHook:{}});var Y=function(e,t){if(!e){for(var n=j.ReactDebugCurrentFrame.getStackAddendum(),i=arguments.length,r=Array(2<i?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];T.apply(void 0,[!1,t+"%s"].concat(r,[n]))}},G=Object.prototype.hasOwnProperty,K={key:!0,ref:!0,__self:!0,__source:!0},z=void 0,W=void 0;function q(e){if(G.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return}return void 0!==e.ref}function J(e){if(G.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return}return void 0!==e.key}function X(e,t){function n(){z||T(!(z=!0),"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",t)}n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}function Z(e,t){function n(){W||T(!(W=!0),"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",t)}n.isReactWarning=!0,Object.defineProperty(e,"ref",{get:n,configurable:!0})}var ee=function(e,t,n,i,r,o,a){var c={$$typeof:s,type:e,key:t,ref:n,props:a,_owner:o,_store:{}};return Object.defineProperty(c._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(c,"_self",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.defineProperty(c,"_source",{configurable:!1,enumerable:!1,writable:!1,value:r}),Object.freeze&&(Object.freeze(c.props),Object.freeze(c)),c};function te(e){return"object"===i(e)&&null!==e&&e.$$typeof===s}var ne=!1,ie=/\/+/g;function re(e){return(""+e).replace(ie,"$&/")}var oe=[];function se(e,t,n,i){if(oe.length){var r=oe.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function ae(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,oe.length<10&&oe.push(e)}function ce(e,t,n){return null==e?0:function e(t,n,r,o){var c=i(t);"undefined"!==c&&"boolean"!==c||(t=null);var l=!1;if(null===t)l=!0;else switch(c){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case s:case a:l=!0}}if(l)return r(o,t,""===n?"."+le(t,0):n),1;var u=void 0,d=0,p=""===n?".":n+":";if(Array.isArray(t))for(var A=0;A<t.length;A++)d+=e(u=t[A],p+le(u,A),r,o);else{var m,h,f=C(t);if("function"==typeof f){f===t.entries&&(ne||Y(!1,"Using Maps as children is unsupported and will likely yield unexpected results. Convert it to a sequence/iterable of keyed ReactElements instead."),ne=!0);for(var g,v=f.call(t),y=0;!(g=v.next()).done;)d+=e(u=g.value,p+le(u,y++),r,o)}else"object"===c&&("",m=" If you meant to render a collection of children, use an array instead."+Q.getStackAddendum(),h=""+t,function(){throw E(Error("Objects are not valid as a React child (found: "+("[object Object]"==h?"object with keys {"+Object.keys(t).join(", ")+"}":h)+")."+m))}())}return d}(e,"",t,n)}function le(e,t){return"object"===i(e)&&null!==e&&null!=e.key?(n=e.key,r={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,(function(e){return r[e]}))):t.toString(36);var n,r}function ue(e,t,n){var i=e.func,r=e.context;i.call(r,t,e.count++)}function de(e,t,n){var i,r,o=e.result,s=e.keyPrefix,a=e.func,c=e.context,l=a.call(c,t,e.count++);Array.isArray(l)?pe(l,o,n,(function(e){return e})):null!=l&&(te(l)&&(r=s+(!(i=l).key||t&&t.key===l.key?"":re(l.key)+"/")+n,l=ee(i.type,r,i.ref,i._self,i._source,i._owner,i.props)),o.push(l))}function pe(e,t,n,i,r){var o="";null!=n&&(o=re(n)+"/");var s=se(t,o,i,r);ce(e,de,s),ae(s)}function Ae(e){return"string"==typeof e||"function"==typeof e||e===c||e===A||e===u||e===l||e===h||e===f||"object"===i(e)&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===d||e.$$typeof===p||e.$$typeof===m||e.$$typeof===y||e.$$typeof===S)}function me(){var e=L.current;return function(){if(null===e)throw E(Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://fb.me/react-invalid-hook-call for tips about how to debug and fix this problem."))}(),e}var he=void 0;function fe(){if(R.current){var e=V(R.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}function ge(e){return void 0===e?"":"\n\nCheck your code at "+e.fileName.replace(/^.*[\\\/]/,"")+":"+e.lineNumber+"."}var ve={};function ye(e,t){var n,i,r,o,s;e._store&&!e._store.validated&&null==e.key&&(e._store.validated=!0,i=t,(o=fe())||(r="string"==typeof i?i:i.displayName||i.name)&&(o="\n\nCheck the top-level render call using <"+r+">."),ve[n=o]||(ve[n]=!0,s="",e&&e._owner&&e._owner!==R.current&&(s=" It was passed a child from "+V(e._owner.type)+"."),$(e),Y(!1,'Each child in a list should have a unique "key" prop.%s%s See https://fb.me/react-warning-keys for more information.',n,s),$(null)))}function Se(e,t){if("object"===i(e))if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];te(r)&&ye(r,t)}else if(te(e))e._store&&(e._store.validated=!0);else if(e){var o=C(e);if("function"==typeof o&&o!==e.entries)for(var s,a=o.call(e);!(s=a.next()).done;)te(s.value)&&ye(s.value,t)}}function be(e){var t=e.type;if(null!=t&&"string"!=typeof t){var n=V(t),o=void 0;if("function"==typeof t)o=t.propTypes;else{if("object"!==i(t)||t.$$typeof!==m&&t.$$typeof!==g)return;o=t.propTypes}o?($(e),r(o,e.props,"prop",n,Q.getStackAddendum),$(null)):void 0===t.PropTypes||he||T(!(he=!0),"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",n||"Unknown"),"function"==typeof t.getDefaultProps&&(t.getDefaultProps.isReactClassApproved||T(!1,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead."))}}function Ce(e){$(e);for(var t=Object.keys(e.props),n=0;n<t.length;n++){var i=t[n];if("children"!==i&&"key"!==i){Y(!1,"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",i);break}}null!==e.ref&&Y(!1,"Invalid attribute `ref` supplied to `React.Fragment`."),$(null)}function Ee(e,t,n){var r,o,a,l=Ae(e);l||(r="",(void 0===e||"object"===i(e)&&null!==e&&0===Object.keys(e).length)&&(r+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports."),r+=(null!=(a=t)?ge(a.__source):"")||fe(),o=void 0,null===e?o="null":Array.isArray(e)?o="array":void 0!==e&&e.$$typeof===s?(o="<"+(V(e.type)||"Unknown")+" />",r=" Did you accidentally export a JSX literal instead of a component?"):o=i(e),Y(!1,"React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",o,r));var u=function(e,t,n){var i=void 0,r={},o=null,s=null,a=null,c=null;if(null!=t)for(i in q(t)&&(s=t.ref),J(t)&&(o=""+t.key),a=void 0===t.__self?null:t.__self,c=void 0===t.__source?null:t.__source,t)G.call(t,i)&&!K.hasOwnProperty(i)&&(r[i]=t[i]);var l,u=arguments.length-2;if(1==u)r.children=n;else if(1<u){for(var d=Array(u),p=0;p<u;p++)d[p]=arguments[p+2];Object.freeze&&Object.freeze(d),r.children=d}if(e&&e.defaultProps){var A=e.defaultProps;for(i in A)void 0===r[i]&&(r[i]=A[i])}return(o||s)&&(l="function"==typeof e?e.displayName||e.name||"Unknown":e,o&&X(r,l),s&&Z(r,l)),ee(e,o,s,a,c,R.current,r)}.apply(this,arguments);if(null==u)return u;if(l)for(var d=2;d<arguments.length;d++)Se(arguments[d],e);return(e===c?Ce:be)(u),u}he=!1;try{var we=Object.freeze({}),Te=new Map([[we,null]]),Pe=new Set([we]);Te.set(0,0),Pe.add(0)}catch(o){}var _e={Children:{map:function(e,t,n){if(null==e)return e;var i=[];return pe(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;var i=se(null,null,t,n);ce(e,ue,i),ae(i)},count:function(e){return ce(e,(function(){return null}),null)},toArray:function(e){var t=[];return pe(e,t,null,(function(e){return e})),t},only:function(e){return function(){if(!te(e))throw E(Error("React.Children.only expected to receive a single React element child."))}(),e}},createRef:function(){var e={current:null};return Object.seal(e),e},Component:D,PureComponent:U,createContext:function(e,t){void 0===t?t=null:null!==t&&"function"!=typeof t&&T(!1,"createContext: Expected the optional second argument to be a function. Instead received: %s",t);var n={$$typeof:p,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},i=!(n.Provider={$$typeof:d,_context:n}),r=!1,o={$$typeof:p,_context:n,_calculateChangedBits:n._calculateChangedBits};return Object.defineProperties(o,{Provider:{get:function(){return r||Y(!(r=!0),"Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?"),n.Provider},set:function(e){n.Provider=e}},_currentValue:{get:function(){return n._currentValue},set:function(e){n._currentValue=e}},_currentValue2:{get:function(){return n._currentValue2},set:function(e){n._currentValue2=e}},_threadCount:{get:function(){return n._threadCount},set:function(e){n._threadCount=e}},Consumer:{get:function(){return i||Y(!(i=!0),"Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"),n.Consumer}}}),n.Consumer=o,n._currentRenderer=null,n._currentRenderer2=null,n},forwardRef:function(e){return null!=e&&e.$$typeof===g?T(!1,"forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):"function"!=typeof e?T(!1,"forwardRef requires a render function but was given %s.",null===e?"null":i(e)):0!==e.length&&2!==e.length&&T(!1,"forwardRef render functions accept exactly two parameters: props and ref. %s",1===e.length?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),null!=e&&(null==e.defaultProps&&null==e.propTypes||T(!1,"forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?")),{$$typeof:m,render:e}},lazy:function(e){var t={$$typeof:v,_ctor:e,_status:-1,_result:null},n=void 0,i=void 0;return Object.defineProperties(t,{defaultProps:{configurable:!0,get:function(){return n},set:function(e){Y(!1,"React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),n=e,Object.defineProperty(t,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return i},set:function(e){Y(!1,"React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),i=e,Object.defineProperty(t,"propTypes",{enumerable:!0})}}}),t},memo:function(e,t){return Ae(e)||T(!1,"memo: The first argument must be a component. Instead received: %s",null===e?"null":i(e)),{$$typeof:g,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return me().useCallback(e,t)},useContext:function(e,t){var n,i=me();return void 0!==t&&Y(!1,"useContext() second argument is reserved for future use in React. Passing it is not supported. You passed: %s.%s",t,"number"==typeof t&&Array.isArray(arguments[2])?"\n\nDid you call array.map(useContext)? Calling Hooks inside a loop is not supported. Learn more at https://fb.me/rules-of-hooks":""),void 0!==e._context&&((n=e._context).Consumer===e?Y(!1,"Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):n.Provider===e&&Y(!1,"Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")),i.useContext(e,t)},useEffect:function(e,t){return me().useEffect(e,t)},useImperativeHandle:function(e,t,n){return me().useImperativeHandle(e,t,n)},useDebugValue:function(e,t){return me().useDebugValue(e,t)},useLayoutEffect:function(e,t){return me().useLayoutEffect(e,t)},useMemo:function(e,t){return me().useMemo(e,t)},useReducer:function(e,t,n){return me().useReducer(e,t,n)},useRef:function(e){return me().useRef(e)},useState:function(e){return me().useState(e)},Fragment:c,Profiler:u,StrictMode:l,Suspense:h,unstable_SuspenseList:f,createElement:Ee,cloneElement:function(e,n,i){for(var r=function(e,n,i){!function(){if(null==e)throw E(Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+"."))}();var r=void 0,o=t({},e.props),s=e.key,a=e.ref,c=e._self,l=e._source,u=e._owner;if(null!=n){q(n)&&(a=n.ref,u=R.current),J(n)&&(s=""+n.key);var d=void 0;for(r in e.type&&e.type.defaultProps&&(d=e.type.defaultProps),n)G.call(n,r)&&!K.hasOwnProperty(r)&&(void 0===n[r]&&void 0!==d?o[r]=d[r]:o[r]=n[r])}var p=arguments.length-2;if(1==p)o.children=i;else if(1<p){for(var A=Array(p),m=0;m<p;m++)A[m]=arguments[m+2];o.children=A}return ee(e.type,s,a,c,l,u,o)}.apply(this,arguments),o=2;o<arguments.length;o++)Se(arguments[o],r.type);return be(r),r},createFactory:function(e){var t=Ee.bind(null,e);return t.type=e,Object.defineProperty(t,"type",{enumerable:!1,get:function(){return w(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}}),t},isValidElement:te,version:"16.9.0",unstable_withSuspenseConfig:function(e,t){var n=x.suspense;x.suspense=void 0===t?null:t;try{e()}finally{x.suspense=n}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:j},Be=Object.freeze({default:_e}),Ie=Be&&_e||Be,De=Ie.default||Ie;e.exports=De}()},"./node_modules/react/index.js":function(e,t,n){"use strict";e.exports=n("./node_modules/react/cjs/react.development.js")},"./node_modules/requires-port/index.js":function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},"./node_modules/strict-uri-encode/index.js":function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},"./node_modules/tslib/tslib.es6.js":function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.r(t),n.d(t,"__extends",(function(){return o})),n.d(t,"__assign",(function(){return s})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return c})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return d})),n.d(t,"__generator",(function(){return p})),n.d(t,"__createBinding",(function(){return A})),n.d(t,"__exportStar",(function(){return m})),n.d(t,"__values",(function(){return h})),n.d(t,"__read",(function(){return f})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return v})),n.d(t,"__await",(function(){return y})),n.d(t,"__asyncGenerator",(function(){return S})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return C})),n.d(t,"__makeTemplateObject",(function(){return E})),n.d(t,"__importStar",(function(){return w})),n.d(t,"__importDefault",(function(){return T})),n.d(t,"__classPrivateFieldGet",(function(){return P})),n.d(t,"__classPrivateFieldSet",(function(){return _}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function c(e,t,n,r){var o,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(a=(s<3?o(a):3<s?o(t,n,a):o(t,n))||a);return 3<s&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,i){t(n,i,e)}}function u(e,t){if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,n,i){return new(n=n||Promise)((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}function p(e,t){var n,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s={next:a(0),throw:a(1),return:a(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(r=0<(r=o.trys).length&&r[r.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function A(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}function m(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(i=o.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function S(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r=[],o={};return s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(e){i[e]&&(o[e]=function(t){return new Promise((function(n,i){1<r.push([e,t,n,i])||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,l):u(r[0][2],n)}catch(e){u(r[0][3],e)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),r.shift(),r.length&&a(r[0][0],r[0][1])}}function b(e){var t,n={};return i("next"),i("throw",(function(e){throw e})),i("return"),n[Symbol.iterator]=function(){return this},n;function i(i,r){n[i]=e[i]?function(n){return(t=!t)?{value:y(e[i](n)),done:"return"===i}:r?r(n):n}:r}}function C(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){var o,s,a,c;t=e[n](t),o=i,s=r,a=t.done,c=t.value,Promise.resolve(c).then((function(e){o({value:e,done:a})}),s)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function _(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},"./node_modules/ua-parser-js/src/ua-parser.js":function(e,t,n){(function(e){var i;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(o,s){"use strict";function a(e,t){if("object"===r(e)&&(t=e,e=s),!(this instanceof a))return new a(e,t).getResult();var n=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),i=t?y.extend(C,t):C;return this.getBrowser=function(){var e={name:s,version:s};return S.rgx.call(e,n,i.browser),e.major=y.major(e.version),e},this.getCPU=function(){var e={architecture:s};return S.rgx.call(e,n,i.cpu),e},this.getDevice=function(){var e={vendor:s,model:s,type:s};return S.rgx.call(e,n,i.device),e},this.getEngine=function(){var e={name:s,version:s};return S.rgx.call(e,n,i.engine),e},this.getOS=function(){var e={name:s,version:s};return S.rgx.call(e,n,i.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this}var c="model",l="name",u="type",d="vendor",p="version",A="architecture",m="console",h="mobile",f="tablet",g="smarttv",v="wearable",y={extend:function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"===r(e)?e.replace(/[^\d\.]/g,"").split(".")[0]:s},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},S={rgx:function(e,t){for(var n,i,o,a,c,l=0;l<t.length&&!a;){for(var u=t[l],d=t[l+1],p=n=0;p<u.length&&!a;)if(a=u[p++].exec(e))for(i=0;i<d.length;i++)c=a[++n],"object"===r(o=d[i])&&0<o.length?2==o.length?"function"==r(o[1])?this[o[0]]=o[1].call(this,c):this[o[0]]=o[1]:3==o.length?"function"!==r(o[1])||o[1].exec&&o[1].test?this[o[0]]=c?c.replace(o[1],o[2]):s:this[o[0]]=c?o[1].call(this,c,o[2]):s:4==o.length&&(this[o[0]]=c?o[3].call(this,c.replace(o[1],o[2])):s):this[o]=c||s;l+=2}},str:function(e,t){for(var n in t)if("object"===r(t[n])&&0<t[n].length){for(var i=0;i<t[n].length;i++)if(y.has(t[n][i],e))return"?"===n?s:n}else if(y.has(t[n],e))return"?"===n?s:n;return e}},b={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},C={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[l,p],[/(opios)[\/\s]+([\w\.]+)/i],[[l,"Opera Mini"],p],[/\s(opr)\/([\w\.]+)/i],[[l,"Opera"],p],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[l,p],[/(konqueror)\/([\w\.]+)/i],[[l,"Konqueror"],p],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[l,"IE"],p],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[l,"Edge"],p],[/(yabrowser)\/([\w\.]+)/i],[[l,"Yandex"],p],[/(Avast)\/([\w\.]+)/i],[[l,"Avast Secure Browser"],p],[/(AVG)\/([\w\.]+)/i],[[l,"AVG Secure Browser"],p],[/(puffin)\/([\w\.]+)/i],[[l,"Puffin"],p],[/(focus)\/([\w\.]+)/i],[[l,"Firefox Focus"],p],[/(opt)\/([\w\.]+)/i],[[l,"Opera Touch"],p],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[l,"UCBrowser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[l,/_/g," "],p],[/(windowswechat qbcore)\/([\w\.]+)/i],[[l,"WeChat(Win) Desktop"],p],[/(micromessenger)\/([\w\.]+)/i],[[l,"WeChat"],p],[/(brave)\/([\w\.]+)/i],[[l,"Brave"],p],[/(qqbrowserlite)\/([\w\.]+)/i],[l,p],[/(QQ)\/([\d\.]+)/i],[l,p],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[l,p],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[l,p],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[l,p],[/(MetaSr)[\/\s]?([\w\.]+)/i],[l],[/(LBBROWSER)/i],[l],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[l,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[p,[l,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[l,p],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[l,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[l,/(.+)/,"$1 WebView"],p],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[l,/(.+(?:g|us))(.+)/,"$1 $2"],p],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[p,[l,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[l,"Sailfish Browser"],p],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[l,p],[/(dolfin)\/([\w\.]+)/i],[[l,"Dolphin"],p],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[l,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[l,"Chrome"],p],[/(coast)\/([\w\.]+)/i],[[l,"Opera Coast"],p],[/fxios\/([\w\.-]+)/i],[p,[l,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[p,[l,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[p,l],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[l,"GSA"],p],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[l,[p,S.str,b.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[l,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[l,"Netscape"],p],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[l,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[A,"amd64"]],[/(ia32(?=;))/i],[[A,y.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[A,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[A,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[A,/ower/,"",y.lowerize]],[/(sun4\w)[;\)]/i],[[A,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[A,y.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[c,d,[u,f]],[/applecoremedia\/[\w\.]+ \((ipad)/],[c,[d,"Apple"],[u,f]],[/(apple\s{0,1}tv)/i],[[c,"Apple TV"],[d,"Apple"],[u,g]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[d,c,[u,f]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[c,[d,"Amazon"],[u,f]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[c,S.str,b.device.amazon.model],[d,"Amazon"],[u,h]],[/android.+aft([bms])\sbuild/i],[c,[d,"Amazon"],[u,g]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[c,d,[u,h]],[/\((ip[honed|\s\w*]+);/i],[c,[d,"Apple"],[u,h]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[d,c,[u,h]],[/\(bb10;\s(\w+)/i],[c,[d,"BlackBerry"],[u,h]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[c,[d,"Asus"],[u,f]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[d,"Sony"],[c,"Xperia Tablet"],[u,f]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[d,"Sony"],[u,h]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[d,c,[u,m]],[/android.+;\s(shield)\sbuild/i],[c,[d,"Nvidia"],[u,m]],[/(playstation\s[34portablevi]+)/i],[c,[d,"Sony"],[u,m]],[/(sprint\s(\w+))/i],[[d,S.str,b.device.sprint.vendor],[c,S.str,b.device.sprint.model],[u,h]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[d,[c,/_/g," "],[u,h]],[/(nexus\s9)/i],[c,[d,"HTC"],[u,f]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p|vog-l29|ane-lx1|eml-l29)/i],[c,[d,"Huawei"],[u,h]],[/android.+(bah2?-a?[lw]\d{2})/i],[c,[d,"Huawei"],[u,f]],[/(microsoft);\s(lumia[\s\w]+)/i],[d,c,[u,h]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[c,[d,"Microsoft"],[u,m]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[d,"Microsoft"],[u,h]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[c,[d,"Motorola"],[u,h]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[c,[d,"Motorola"],[u,f]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[d,y.trim],[c,y.trim],[u,g]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[d,"Samsung"],[u,g]],[/\(dtv[\);].+(aquos)/i],[c,[d,"Sharp"],[u,g]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[d,"Samsung"],c,[u,f]],[/smart-tv.+(samsung)/i],[d,[u,g],c],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[d,"Samsung"],c,[u,h]],[/sie-(\w*)/i],[c,[d,"Siemens"],[u,h]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[d,"Nokia"],c,[u,h]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[c,[d,"Acer"],[u,f]],[/android.+([vl]k\-?\d{3})\s+build/i],[c,[d,"LG"],[u,f]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[d,"LG"],c,[u,f]],[/(lg) netcast\.tv/i],[d,c,[u,g]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[c,[d,"LG"],[u,h]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[d,c,[u,f]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[c,[d,"Lenovo"],[u,f]],[/(lenovo)[_\s-]?([\w-]+)/i],[d,c,[u,h]],[/linux;.+((jolla));/i],[d,c,[u,h]],[/((pebble))app\/[\d\.]+\s/i],[d,c,[u,v]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[d,c,[u,h]],[/crkey/i],[[c,"Chromecast"],[d,"Google"],[u,g]],[/android.+;\s(glass)\s\d/i],[c,[d,"Google"],[u,v]],[/android.+;\s(pixel c)[\s)]/i],[c,[d,"Google"],[u,f]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[c,[d,"Google"],[u,h]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[c,/_/g," "],[d,"Xiaomi"],[u,h]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[c,/_/g," "],[d,"Xiaomi"],[u,f]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[c,[d,"Meizu"],[u,h]],[/(mz)-([\w-]{2,})/i],[[d,"Meizu"],c,[u,h]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[c,[d,"OnePlus"],[u,h]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[c,[d,"RCA"],[u,f]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[c,[d,"Dell"],[u,f]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[c,[d,"Verizon"],[u,f]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[d,"Barnes & Noble"],c,[u,f]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[c,[d,"NuVision"],[u,f]],[/android.+;\s(k88)\sbuild/i],[c,[d,"ZTE"],[u,f]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[c,[d,"Swiss"],[u,h]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[c,[d,"Swiss"],[u,f]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[c,[d,"Zeki"],[u,f]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[d,"Dragon Touch"],c,[u,f]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[c,[d,"Insignia"],[u,f]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[c,[d,"NextBook"],[u,f]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[d,"Voice"],c,[u,h]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[d,"LvTel"],c,[u,h]],[/android.+;\s(PH-1)\s/i],[c,[d,"Essential"],[u,h]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[c,[d,"Envizen"],[u,f]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[d,c,[u,f]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[c,[d,"MachSpeed"],[u,f]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[d,c,[u,f]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[c,[d,"Rotor"],[u,f]],[/android.+(KS(.+))\s+build/i],[c,[d,"Amazon"],[u,f]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[d,c,[u,f]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,y.lowerize],d,c],[/[\s\/\(](smart-?tv)[;\)]/i],[[u,g]],[/(android[\w\.\s\-]{0,9});.+build/i],[c,[d,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[l,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[l,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[l,p],[/rv\:([\w\.]{1,9}).+(gecko)/i],[p,l]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[l,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[l,[p,S.str,b.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[l,"Windows"],[p,S.str,b.os.windows.version]],[/\((bb)(10);/i],[[l,"BlackBerry"],p],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[l,p],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[l,"Symbian"],p],[/\((series40);/i],[l],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[l,"Firefox OS"],p],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[l,p],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[l,"Chromium OS"],p],[/(sunos)\s?([\w\.\d]*)/i],[[l,"Solaris"],p],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[l,p],[/(haiku)\s(\w+)/i],[l,p],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[p,/_/g,"."],[l,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[l,"Mac OS"],[p,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[l,p]]};a.VERSION="0.7.21",a.BROWSER={NAME:l,MAJOR:"major",VERSION:p},a.CPU={ARCHITECTURE:A},a.DEVICE={MODEL:c,VENDOR:d,TYPE:u,CONSOLE:m,MOBILE:h,SMARTTV:g,TABLET:f,WEARABLE:v,EMBEDDED:"embedded"},a.ENGINE={NAME:l,VERSION:p},a.OS={NAME:l,VERSION:p},"undefined"!==r(t)?("undefined"!==r(e)&&e.exports&&(t=e.exports=a),t.UAParser=a):(i=function(){return a}.call(t,n,t,e))===s||(e.exports=i);var E,w=o&&(o.jQuery||o.Zepto);w&&!w.ua&&(E=new a,w.ua=E.getResult(),w.ua.get=function(){return E.getUA()},w.ua.set=function(e){E.setUA(e);var t=E.getResult();for(var n in t)w.ua[n]=t[n]})}("object"===("undefined"==typeof window?"undefined":r(window))?window:this)}).call(this,n("./node_modules/webpack-stream/node_modules/webpack/buildin/module.js")(e))},"./node_modules/url-parse/index.js":function(e,t,n){"use strict";(function(t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=n("./node_modules/requires-port/index.js"),o=n("./node_modules/querystringify/index.js"),s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,c=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function l(e){return(e||"").toString().replace(c,"")}var u=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};function p(e){var n,r=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},o={},a=i(e=e||r);if("blob:"===e.protocol)o=new m(unescape(e.pathname),{});else if("string"===a)for(n in o=new m(e,{}),d)delete o[n];else if("object"===a){for(n in e)n in d||(o[n]=e[n]);void 0===o.slashes&&(o.slashes=s.test(e.href))}return o}function A(e){e=l(e);var t=a.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function m(e,t,n){if(e=l(e),!(this instanceof m))return new m(e,t,n);var s,a,c,d,h,f,g=u.slice(),v=i(t),y=this,S=0;for("object"!==v&&"string"!==v&&(n=t,t=null),n&&"function"!=typeof n&&(n=o.parse),t=p(t),s=!(a=A(e||"")).protocol&&!a.slashes,y.slashes=a.slashes||s&&t.slashes,y.protocol=a.protocol||t.protocol||"",e=a.rest,a.slashes||(g[3]=[/(.*)/,"pathname"]);S<g.length;S++)"function"!=typeof(d=g[S])?(c=d[0],f=d[1],c!=c?y[f]=e:"string"==typeof c?~(h=e.indexOf(c))&&(e="number"==typeof d[2]?(y[f]=e.slice(0,h),e.slice(h+d[2])):(y[f]=e.slice(h),e.slice(0,h))):(h=c.exec(e))&&(y[f]=h[1],e=e.slice(0,h.index)),y[f]=y[f]||s&&d[3]&&t[f]||"",d[4]&&(y[f]=y[f].toLowerCase())):e=d(e);n&&(y.query=n(y.query)),s&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),i=n.length,r=n[i-1],o=!1,s=0;i--;)"."===n[i]?n.splice(i,1):".."===n[i]?(n.splice(i,1),s++):s&&(0===i&&(o=!0),n.splice(i,1),s--);return o&&n.unshift(""),"."!==r&&".."!==r||n.push(""),n.join("/")}(y.pathname,t.pathname)),r(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(d=y.auth.split(":"),y.username=d[0]||"",y.password=d[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}m.prototype={set:function(e,t,n){var i,s=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||o.parse)(t)),s[e]=t;break;case"port":s[e]=t,r(t,s.protocol)?t&&(s.host=s.hostname+":"+t):(s.host=s.hostname,s[e]="");break;case"hostname":s[e]=t,s.port&&(t+=":"+s.port),s.host=t;break;case"host":s[e]=t,/:\d+$/.test(t)?(t=t.split(":"),s.port=t.pop(),s.hostname=t.join(":")):(s.hostname=t,s.port="");break;case"protocol":s.protocol=t.toLowerCase(),s.slashes=!n;break;case"pathname":case"hash":t?(i="pathname"===e?"/":"#",s[e]=t.charAt(0)!==i?i+t:t):s[e]=t;break;default:s[e]=t}for(var a=0;a<u.length;a++){var c=u[a];c[4]&&(s[c[1]]=s[c[1]].toLowerCase())}return s.origin=s.protocol&&s.host&&"file:"!==s.protocol?s.protocol+"//"+s.host:"null",s.href=s.toString(),s},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var s=r+(n.slashes?"//":"");return n.username&&(s+=n.username,n.password&&(s+=":"+n.password),s+="@"),s+=n.host+n.pathname,(t="object"===i(n.query)?e(n.query):n.query)&&(s+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(s+=n.hash),s}},m.extractProtocol=A,m.location=p,m.trimLeft=l,m.qs=o,e.exports=m}).call(this,n("./node_modules/webpack-stream/node_modules/webpack/buildin/global.js"))},"./node_modules/uuid/index.js":function(e,t,n){var i=n("./node_modules/uuid/v1.js"),r=n("./node_modules/uuid/v4.js"),o=r;o.v1=i,o.v4=r,e.exports=o},"./node_modules/uuid/lib/bytesToUuid.js":function(e,t){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0;return[n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]]].join("")}},"./node_modules/uuid/lib/rng-browser.js":function(e,t){var n,i,r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);r?(n=new Uint8Array(16),e.exports=function(){return r(n),n}):(i=new Array(16),e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i})},"./node_modules/uuid/v1.js":function(e,t,n){var i,r,o=n("./node_modules/uuid/lib/rng-browser.js"),s=n("./node_modules/uuid/lib/bytesToUuid.js"),a=0,c=0;e.exports=function(e,t,n){var l,u=t&&n||0,d=t||[],p=(e=e||{}).node||i,A=void 0!==e.clockseq?e.clockseq:r;null!=p&&null!=A||(l=o(),null==p&&(p=i=[1|l[0],l[1],l[2],l[3],l[4],l[5]]),null==A&&(A=r=16383&(l[6]<<8|l[7])));var m=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:c+1,f=m-a+(h-c)/1e4;if(f<0&&void 0===e.clockseq&&(A=A+1&16383),(f<0||a<m)&&void 0===e.nsecs&&(h=0),1e4<=h)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=m,r=A;var g=(1e4*(268435455&(m+=122192928e5))+(c=h))%4294967296;d[u++]=g>>>24&255,d[u++]=g>>>16&255,d[u++]=g>>>8&255,d[u++]=255&g;var v=m/4294967296*1e4&268435455;d[u++]=v>>>8&255,d[u++]=255&v,d[u++]=v>>>24&15|16,d[u++]=v>>>16&255,d[u++]=A>>>8|128,d[u++]=255&A;for(var y=0;y<6;++y)d[u+y]=p[y];return t||s(d)}},"./node_modules/uuid/v4.js":function(e,t,n){var i=n("./node_modules/uuid/lib/rng-browser.js"),r=n("./node_modules/uuid/lib/bytesToUuid.js");e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||r(s)}},"./node_modules/webpack-stream/node_modules/webpack/buildin/global.js":function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":n(window))&&(i=window)}e.exports=i},"./node_modules/webpack-stream/node_modules/webpack/buildin/module.js":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"./sundog/css/sundog-grid/sundog-grid.less":function(e,t){},"O:\\.BtCxCache\\MediaUx.Ng-Dialog.0.5.6\\node_modules\\ng-dialog\\css\\ngDialog-theme-default.css":function(e,t){},"O:\\.BtCxCache\\MediaUx.Ng-Dialog.0.5.6\\node_modules\\ng-dialog\\css\\ngDialog.css":function(e,t){},"O:\\.BtCxCache\\MediaUx.Ng-Dialog.0.5.6\\node_modules\\ng-dialog\\js\\ngDialog.js":function(e,t,n){var i,r,o,s;s=function(e){"use strict";var t=e.module("ngDialog",[]),n=e.element,i=e.isDefined,r=(document.body||document.documentElement).style,o=i(r.animation)||i(r.WebkitAnimation)||i(r.MozAnimation)||i(r.MsAnimation)||i(r.OAnimation),s="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",a={html:!1,body:!1},c={},l=[],u=!1;return t.provider("ngDialog",(function(){var t=this.defaults={className:"ngdialog-theme-default",disableAnimation:!1,plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null};this.setForceHtmlReload=function(e){a.html=e||!1},this.setForceBodyReload=function(e){a.body=e||!1},this.setDefaults=function(n){e.extend(t,n)};var i,r=0,d=0,p={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(A,m,h,f,g,v,y,S,b,C){var E=[],w={onDocumentKeydown:function(e){27===e.keyCode&&T.close("$escape")},activate:function(e){e.data("$ngDialogOptions").trapFocus&&(e.on("keydown",w.onTrapFocusKeydown),E.body.on("keydown",w.onTrapFocusKeydown))},deactivate:function(e){e.off("keydown",w.onTrapFocusKeydown),E.body.off("keydown",w.onTrapFocusKeydown)},deactivateAll:function(t){e.forEach(t,(function(t){var n=e.element(t);w.deactivate(n)}))},setBodyPadding:function(e){var t=parseInt(E.body.css("padding-right")||0,10);E.body.css("padding-right",t+e+"px"),E.body.data("ng-dialog-original-padding",t),v.$broadcast("ngDialog.setPadding",e)},resetBodyPadding:function(){var e=E.body.data("ng-dialog-original-padding");e?E.body.css("padding-right",e+"px"):E.body.css("padding-right",""),v.$broadcast("ngDialog.setPadding",0)},performCloseDialog:function(e,t){var n,r,a=e.data("$ngDialogOptions"),A=e.attr("id"),m=c[A];m&&(void 0!==S.Hammer?((n=m.hammerTime).off("tap",i),n.destroy&&n.destroy(),delete m.hammerTime):e.unbind("click"),1===d&&E.body.unbind("keydown",w.onDocumentKeydown),e.hasClass("ngdialog-closing")||--d,(r=e.data("$ngDialogPreviousFocus"))&&r.focus&&r.focus(),v.$broadcast("ngDialog.closing",e,t),d=d<0?0:d,o&&!a.disableAnimation?(m.$destroy(),e.unbind(s).bind(s,(function(){w.closeDialogElement(e,t)})).addClass("ngdialog-closing")):(m.$destroy(),w.closeDialogElement(e,t)),p[A]&&(p[A].resolve({id:A,value:t,$dialog:e,remainingDialogs:d}),delete p[A]),c[A]&&delete c[A],l.splice(l.indexOf(A),1),l.length||(E.body.unbind("keydown",w.onDocumentKeydown),u=!1))},closeDialogElement:function(e,t){e.remove(),0===d&&(E.html.removeClass("ngdialog-open"),E.body.removeClass("ngdialog-open"),w.resetBodyPadding()),v.$broadcast("ngDialog.closed",e,t)},closeDialog:function(t,n){var i,r=t.data("$ngDialogPreCloseCallback");r&&e.isFunction(r)?(i=r.call(t,n),e.isObject(i)?i.closePromise?i.closePromise.then((function(){w.performCloseDialog(t,n)})):i.then((function(){w.performCloseDialog(t,n)}),(function(){})):!1!==i&&w.performCloseDialog(t,n)):w.performCloseDialog(t,n)},onTrapFocusKeydown:function(t){var n,i=e.element(t.currentTarget);if(i.hasClass("ngdialog"))n=i;else if(null===(n=w.getActiveDialog()))return;var r=9===t.keyCode,o=!0===t.shiftKey;r&&w.handleTab(n,t,o)},handleTab:function(e,t,n){var i,r,o,s,a,c,l=w.getFocusableElements(e);0!==l.length?(i=document.activeElement,o=-1===(r=Array.prototype.indexOf.call(l,i)),s=0===r,a=r===l.length-1,c=!1,n?(o||s)&&(l[l.length-1].focus(),c=!0):(o||a)&&(l[0].focus(),c=!0),c&&(t.preventDefault(),t.stopPropagation())):document.activeElement&&document.activeElement.blur()},autoFocus:function(e){var t,i,r,o=e[0],s=o.querySelector("*[autofocus]");null!==s&&(s.focus(),document.activeElement===s)||(0<(t=w.getFocusableElements(e)).length?t[0].focus():0<(i=w.filterVisibleElements(o.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"))).length&&(r=i[0],n(r).attr("tabindex","-1").css("outline","0"),r.focus()))},getFocusableElements:function(e){var t=e[0].querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]"),n=w.filterTabbableElements(t);return w.filterVisibleElements(n)},filterTabbableElements:function(e){for(var t=[],i=0;i<e.length;i++){var r=e[i];"-1"!==n(r).attr("tabindex")&&t.push(r)}return t},filterVisibleElements:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];(0<i.offsetWidth||0<i.offsetHeight)&&t.push(i)}return t},getActiveDialog:function(){var e=document.querySelectorAll(".ngdialog");return 0===e.length?null:n(e[e.length-1])},applyAriaAttributes:function(e,t){var n;t.ariaAuto&&(t.ariaRole||(n=0<w.getFocusableElements(e).length?"dialog":"alertdialog",t.ariaRole=n),t.ariaLabelledBySelector||(t.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6"),t.ariaDescribedBySelector||(t.ariaDescribedBySelector="article,section,p")),t.ariaRole&&e.attr("role",t.ariaRole),w.applyAriaAttribute(e,"aria-labelledby",t.ariaLabelledById,t.ariaLabelledBySelector),w.applyAriaAttribute(e,"aria-describedby",t.ariaDescribedById,t.ariaDescribedBySelector)},applyAriaAttribute:function(e,t,i,r){if(i&&e.attr(t,i),r){var o=e.attr("id"),s=e[0].querySelector(r);if(!s)return;var a=o+"-"+t;return n(s).attr("id",a),e.attr(t,a),a}},detectUIRouter:function(){try{return e.module("ui.router"),!0}catch(e){return!1}},getRouterLocationEventName:function(){return w.detectUIRouter()?"$stateChangeSuccess":"$locationChangeSuccess"}},T={__PRIVATE__:w,open:function(o){var s,a,A,P,_=e.copy(t),B=++r,I="ngdialog"+B;l.push(I),o=o||{},e.extend(_,o),p[I]=s=f.defer(),c[I]=a=e.isObject(_.scope)?_.scope.$new():v.$new();var D=e.extend({},_.resolve);return e.forEach(D,(function(t,n){D[n]=e.isString(t)?C.get(t):C.invoke(t,null,null,n)})),f.all({template:function(t){return t?e.isString(t)&&_.plain?t:"boolean"!=typeof _.cache||_.cache?k(t,{cache:m}):k(t,{cache:!1}):"Empty template"}(_.template||_.templateUrl),locals:f.all(D)}).then((function(t){var r=t.template,o=t.locals;_.showClose&&(r+='<div class="ngdialog-close"></div>');var s,c,l,p,m,f=_.overlay?"":" ngdialog-no-overlay";return(A=n('<div id="ngdialog'+B+'" class="ngdialog'+f+'"></div>')).html(_.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">'+r+"</div>":'<div class="ngdialog-content" role="document">'+r+"</div>"),A.data("$ngDialogOptions",_),a.ngDialogId=I,_.data&&e.isString(_.data)?(s=_.data.replace(/^\s*/,"")[0],a.ngDialogData="{"===s||"["===s?e.fromJson(_.data):_.data,a.ngDialogData.ngDialogId=I):_.data&&e.isObject(_.data)&&(a.ngDialogData=_.data,a.ngDialogData.ngDialogId=I),_.className&&A.addClass(_.className),_.disableAnimation&&A.addClass("ngdialog-disabled-animation"),P=_.appendTo&&e.isString(_.appendTo)?e.element(document.querySelector(_.appendTo)):E.body,w.applyAriaAttributes(A,_),_.preCloseCallback&&(e.isFunction(_.preCloseCallback)?c=_.preCloseCallback:e.isString(_.preCloseCallback)&&a&&(e.isFunction(a[_.preCloseCallback])?c=a[_.preCloseCallback]:a.$parent&&e.isFunction(a.$parent[_.preCloseCallback])?c=a.$parent[_.preCloseCallback]:v&&e.isFunction(v[_.preCloseCallback])&&(c=v[_.preCloseCallback])),c&&A.data("$ngDialogPreCloseCallback",c)),a.closeThisDialog=function(e){w.closeDialog(A,e)},_.controller&&(e.isString(_.controller)||e.isArray(_.controller)||e.isFunction(_.controller))&&(_.controllerAs&&e.isString(_.controllerAs)&&(l=_.controllerAs),p=b(_.controller,e.extend(o,{$scope:a,$element:A}),!0,l),_.bindToController&&e.extend(p.instance,{ngDialogId:a.ngDialogId,ngDialogData:a.ngDialogData,closeThisDialog:a.closeThisDialog}),A.data("$ngDialogControllerController",p())),y((function(){var e=document.querySelectorAll(".ngdialog");w.deactivateAll(e),h(A)(a);var t=S.innerWidth-E.body.prop("clientWidth");E.html.addClass("ngdialog-open"),E.body.addClass("ngdialog-open");var n=t-(S.innerWidth-E.body.prop("clientWidth"));0<n&&w.setBodyPadding(n),P.append(A),w.activate(A),_.trapFocus&&w.autoFocus(A),_.name?v.$broadcast("ngDialog.opened",{dialog:A,name:_.name}):v.$broadcast("ngDialog.opened",A)})),u||(E.body.bind("keydown",w.onDocumentKeydown),u=!0),_.closeByNavigation&&(m=w.getRouterLocationEventName(),v.$on(m,(function(){w.closeDialog(A)}))),_.preserveFocus&&A.data("$ngDialogPreviousFocus",document.activeElement),i=function(e){var t=!!_.closeByDocument&&n(e.target).hasClass("ngdialog-overlay"),i=n(e.target).hasClass("ngdialog-close");(t||i)&&T.close(A.attr("id"),i?"$closeButton":"$document")},void 0!==S.Hammer?(a.hammerTime=S.Hammer(A[0])).on("tap",i):A.bind("click",i),d+=1,T})),{id:I,closePromise:s.promise,close:function(e){w.closeDialog(A,e)}};function k(e,t){return v.$broadcast("ngDialog.templateLoading",e),g.get(e,t||{}).then((function(t){return v.$broadcast("ngDialog.templateLoaded",e),t.data||""}))}},openConfirm:function(t){var i=f.defer(),r={closeByEscape:!1,closeByDocument:!1};e.extend(r,t),r.scope=e.isObject(r.scope)?r.scope.$new():v.$new(),r.scope.confirm=function(e){i.resolve(e);var t=n(document.getElementById(o.id));w.performCloseDialog(t,e)};var o=T.open(r);return o.closePromise.then((function(e){return e?i.reject(e.value):i.reject()})),i.promise},isOpen:function(e){return 0<n(document.getElementById(e)).length},close:function(e,t){var i,r=n(document.getElementById(e));return r.length?w.closeDialog(r,t):"$escape"===e?(i=l[l.length-1],(r=n(document.getElementById(i))).data("$ngDialogOptions").closeByEscape&&w.closeDialog(r,"$escape")):T.closeAll(t),T},closeAll:function(e){for(var t=document.querySelectorAll(".ngdialog"),i=t.length-1;0<=i;i--){var r=t[i];w.closeDialog(n(r),e)}},getOpenDialogs:function(){return l},getDefaults:function(){return t}};return e.forEach(["html","body"],(function(e){var t;E[e]=A.find(e),a[e]&&(t=w.getRouterLocationEventName(),v.$on(t,(function(){E[e]=A.find(e)})))})),T}]})),t.directive("ngDialog",["ngDialog",function(t){return{restrict:"A",scope:{ngDialogScope:"="},link:function(n,i,r){i.on("click",(function(i){i.preventDefault();var o=e.isDefined(n.ngDialogScope)?n.ngDialogScope:"noScope";e.isDefined(r.ngDialogClosePrevious)&&t.close(r.ngDialogClosePrevious);var s=t.getDefaults();t.open({template:r.ngDialog,className:r.ngDialogClass||s.className,controller:r.ngDialogController,controllerAs:r.ngDialogControllerAs,bindToController:r.ngDialogBindToController,scope:o,data:r.ngDialogData,showClose:"false"!==r.ngDialogShowClose&&("true"===r.ngDialogShowClose||s.showClose),closeByDocument:"false"!==r.ngDialogCloseByDocument&&("true"===r.ngDialogCloseByDocument||s.closeByDocument),closeByEscape:"false"!==r.ngDialogCloseByEscape&&("true"===r.ngDialogCloseByEscape||s.closeByEscape),overlay:"false"!==r.ngDialogOverlay&&("true"===r.ngDialogOverlay||s.overlay),preCloseCallback:r.ngDialogPreCloseCallback||s.preCloseCallback})}))}}}]),t},e.exports?("undefined"==typeof angular?s(n("angular")):s(angular),e.exports="ngDialog"):(r=[n("angular")],void 0===(o="function"==typeof(i=s)?i.apply(t,r):i)||(e.exports=o))},"O:\\.BtCxCache\\MediaUx.V-Accordion.1.6.0\\node_modules\\v-accordion\\dist\\v-accordion.js":function(e,t){!function(e){"use strict";function t(t){return{restrict:"E",transclude:!0,controller:n,scope:{control:"=?",expandCb:"&?onexpand",collapseCb:"&?oncollapse",id:"@?"},link:{pre:function(t,n,i){t.allowMultiple=e.isDefined(i.multiple)&&(""===i.multiple||"true"===i.multiple)},post:function(n,i,r,o,s){var a;s(n.$parent.$new(),(function(e,t){t.$accordion=n.internalControl,n.id&&(t.$accordion.id=n.id),i.append(e)})),r.$set("role","tablist"),n.allowMultiple&&r.$set("aria-multiselectable","true"),e.isDefined(n.control)?(e.forEach(["toggle","expand","collapse","expandAll","collapseAll","hasExpandedPane"],(function(e){if(n.control[e])throw new Error("The `"+e+"` method can not be overwritten")})),a=e.extend({},n.internalControl,n.control),n.control=n.internalControl=a):n.control=n.internalControl,t((function(){var t=e.isDefined(o.getAccordionId())?o.getAccordionId()+":onReady":"vAccordion:onReady";n.$emit(t)}),0)}}}}function n(t){var n=this,i=!1;t.panes=[],t.expandCb=e.isFunction(t.expandCb)?t.expandCb:e.noop,t.collapseCb=e.isFunction(t.collapseCb)?t.collapseCb:e.noop,n.hasExpandedPane=function(){for(var e=!1,n=0,i=t.panes.length;n<i;n++)if(t.panes[n].isExpanded){e=!0;break}return e},n.getPaneByIndex=function(n){var i;return e.forEach(t.panes,(function(t){t.$parent&&e.isDefined(t.$parent.$index)&&t.$parent.$index===n&&(i=t)})),i||t.panes[n]},n.getPaneIndex=function(n){var i;return e.forEach(t.panes,(function(t){t.$parent&&e.isDefined(t.$parent.$index)&&t===n&&(i=t.$parent.$index)})),e.isDefined(i)?i:t.panes.indexOf(n)},n.getPaneById=function(n){var i;return e.forEach(t.panes,(function(e){e.id&&e.id===n&&(i=e)})),i},n.getPaneId=function(e){return e.id},n.getAccordionId=function(){return t.id},n.disable=function(){i=!0},n.enable=function(){i=!1},n.addPane=function(e){if(!t.allowMultiple&&n.hasExpandedPane()&&e.isExpanded)throw new Error("The `multiple` attribute can't be found");t.panes.push(e),e.isExpanded&&t.expandCb({index:n.getPaneIndex(e),id:e.id,pane:e})},n.focusNext=function(){for(var e=t.panes.length,n=0;n<e;n++)if(t.panes[n].isFocused){var i=n+1;i>t.panes.length-1&&(i=0),t.panes[i].paneElement.find("v-pane-header")[0].focus();break}},n.focusPrevious=function(){for(var e=t.panes.length,n=0;n<e;n++)if(t.panes[n].isFocused){var i=n-1;i<0&&(i=t.panes.length-1),t.panes[i].paneElement.find("v-pane-header")[0].focus();break}},n.toggle=function(e){!i&&e&&(t.allowMultiple||n.collapseAll(e),e.isExpanded=!e.isExpanded,e.isExpanded?t.expandCb({index:n.getPaneIndex(e),id:e.id,pane:e}):t.collapseCb({index:n.getPaneIndex(e),id:e.id,pane:e}))},n.expand=function(e){!i&&e&&(t.allowMultiple||n.collapseAll(e),e.isExpanded||(e.isExpanded=!0,t.expandCb({index:n.getPaneIndex(e),id:e.id,pane:e})))},n.collapse=function(e){!i&&e&&e.isExpanded&&(e.isExpanded=!1,t.collapseCb({index:n.getPaneIndex(e),id:e.id,pane:e}))},n.expandAll=function(){if(!i){if(!t.allowMultiple)throw new Error("The `multiple` attribute can't be found");e.forEach(t.panes,(function(e){n.expand(e)}))}},n.collapseAll=function(r){i||e.forEach(t.panes,(function(e){e!==r&&n.collapse(e)}))},t.internalControl={toggle:function(t){e.isString(t)?n.toggle(n.getPaneById(t)):n.toggle(n.getPaneByIndex(t))},expand:function(t){e.isString(t)?n.expand(n.getPaneById(t)):n.expand(n.getPaneByIndex(t))},collapse:function(t){e.isString(t)?n.collapse(n.getPaneById(t)):n.collapse(n.getPaneByIndex(t))},expandAll:n.expandAll,collapseAll:n.collapseAll,hasExpandedPane:n.hasExpandedPane}}function i(t,n,i){return{restrict:"E",require:"^vAccordion",transclude:!0,controller:r,scope:{isExpanded:"=?expanded",isDisabled:"=?ngDisabled",id:"@?"},link:function(t,r,o,s,a){a(t.$parent.$new(),(function(e,n){n.$pane=t.internalControl,t.id&&(n.$pane.id=t.id),r.append(e)})),e.isDefined(t.isExpanded)||(t.isExpanded=e.isDefined(o.expanded)&&""===o.expanded),e.isDefined(o.disabled)&&(t.isDisabled=!0);var c=i.states,l=r.find("v-pane-header"),u=r.find("v-pane-content"),d=u.find("div"),p=s.getAccordionId();if(!l[0])throw new Error("The `v-pane-header` directive can't be found");if(!u[0])throw new Error("The `v-pane-content` directive can't be found");function A(n){n=e.isDefined(p)?p+":"+n:"vAccordion:"+n,t.$emit(n)}t.paneElement=r,t.paneContentElement=u,t.paneInnerElement=d,(t.accordionCtrl=s).addPane(t),t.$evalAsync((function(){t.isExpanded?(r.addClass(c.expanded),u.css("max-height","none").attr("aria-hidden","false"),l.attr({"aria-selected":"true","aria-expanded":"true"})):(u.css("max-height","0px").attr("aria-hidden","true"),l.attr({"aria-selected":"false","aria-expanded":"false"}))})),t.$watch("isExpanded",(function(e,t){return e===t||void(e?(s.disable(),u.attr("aria-hidden","false"),l.attr({"aria-selected":"true","aria-expanded":"true"}),A("onExpand"),n.addClass(r,c.expanded).then((function(){s.enable(),A("onExpandAnimationEnd")}))):(s.disable(),u.attr("aria-hidden","true"),l.attr({"aria-selected":"false","aria-expanded":"false"}),A("onCollapse"),n.removeClass(r,c.expanded).then((function(){s.enable(),A("onCollapseAnimationEnd")}))))}))}}}function r(e){var t=this;t.isExpanded=function(){return e.isExpanded},t.toggle=function(){e.isAnimating||e.isDisabled||e.accordionCtrl.toggle(e)},t.expand=function(){e.isAnimating||e.isDisabled||e.accordionCtrl.expand(e)},t.collapse=function(){e.isAnimating||e.isDisabled||e.accordionCtrl.collapse(e)},t.focusPane=function(){e.isFocused=!0},t.blurPane=function(){e.isFocused=!1},e.internalControl={toggle:t.toggle,expand:t.expand,collapse:t.collapse,isExpanded:t.isExpanded}}e.module("vAccordion.config",[]).constant("accordionConfig",{states:{expanded:"is-expanded"},expandAnimationDuration:.5}).animation(".is-expanded",["$animateCss","accordionConfig",function(t,n){return{addClass:function(i,r,o){var s=e.element(i[0].querySelector("v-pane-content")),a=e.element(s[0].querySelector("div"))[0].offsetHeight;return t(s,{easing:"ease",from:{maxHeight:"0px"},to:{maxHeight:a+"px"},duration:n.expandAnimationDuration}).start().done((function(){s.css("max-height","none"),o()})),function(e){e&&s.css("max-height","none")}},removeClass:function(i,r,o){var s=e.element(i[0].querySelector("v-pane-content")),a=e.element(s[0].querySelector("div"))[0].offsetHeight;return t(s,{easing:"ease",from:{maxHeight:a+"px"},to:{maxHeight:"0px"},duration:n.expandAnimationDuration}).start().done(o),function(e){e&&s.css("max-height","0px")}}}}]),e.module("vAccordion.directives",[]),e.module("vAccordion",["vAccordion.config","vAccordion.directives"]),e.module("vAccordion.directives").directive("vAccordion",t),t.$inject=["$timeout"],n.$inject=["$scope"],e.module("vAccordion.directives").directive("vPane",i),i.$inject=["$timeout","$animate","accordionConfig"],r.$inject=["$scope"],e.module("vAccordion.directives").directive("vPaneContent",(function(){return{restrict:"E",require:"^vPane",transclude:!0,template:"<div ng-transclude></div>",scope:{},link:function(e,t,n){n.$set("role","tabpanel"),n.$set("aria-hidden","true")}}})),e.module("vAccordion.directives").directive("vPaneHeader",(function(){return{restrict:"E",require:["^vPane","^vAccordion"],transclude:!0,template:"<div ng-transclude></div>",scope:{},link:function(t,n,i,r){i.$set("role","tab"),i.$set("tabindex","0");var o=r[0],s=r[1],a=e.isDefined(i.inactive);function c(){if(a)return!1;t.$apply((function(){o.toggle()}))}function l(e){32===e.keyCode||13===e.keyCode?(t.$apply((function(){o.toggle()})),e.preventDefault()):39===e.keyCode||40===e.keyCode?(t.$apply((function(){s.focusNext()})),e.preventDefault()):37!==e.keyCode&&38!==e.keyCode||(t.$apply((function(){s.focusPrevious()})),e.preventDefault())}n[0].onfocus=function(){o.focusPane()},n[0].onblur=function(){o.blurPane()},n.bind("click",c),n.bind("keydown",l),t.$on("$destroy",(function(){n.unbind("click",c),n.unbind("keydown",l),n[0].onfocus=null,n[0].onblur=null}))}}}))}(angular)},"O:\\.BtCxCache\\MediaUx.V-Accordion.1.6.0\\node_modules\\v-accordion\\index.js":function(e,t,n){n("O:\\.BtCxCache\\MediaUx.V-Accordion.1.6.0\\node_modules\\v-accordion\\dist\\v-accordion.js"),e.exports="vAccordion"},"O:\\.BtCxCache\\Microsoft.AspNet.SignalR.JS.2.2.2\\content\\Scripts\\jquery.signalR-2.2.2.min.js":function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return e+".hubProxy"}function r(e){return l.isFunction(e)||"undefined"===l.type(e)?null:e}function o(e){for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}function s(e,t){var n,i,r=e._.invocationCallbacks;for(i in o(r)&&e.log("Clearing hub invocation callbacks with error: "+t+"."),e._.invocationCallbackId=0,delete e._.invocationCallbacks,e._.invocationCallbacks={},r)(n=r[i]).method.call(n.scope,{E:t})}function a(e,t){return new a.fn.init(e,t)}function c(e,t){var n={qs:null,logging:!1,useDefaultPath:!0};return l.extend(n,t),e&&!n.useDefaultPath||(e=(e||"")+"/signalr"),new c.fn.init(e,n)}var l,u,d,p,A,m,h,f,g,v,y,S,b,C,E,w,T,P,_,B,I,D,k,F,M,U,N,L,x,R,O,V,Q,H,$,j,Y;function G(){var e=y.document.createElement("iframe");return e.setAttribute("style","position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;"),e}function K(e){B.clearTimeout(e._.reconnectAttemptTimeoutHandle),delete e._.reconnectAttemptTimeoutHandle}function z(e,t){var n=e.url+t;return e.transport&&(n+="?transport="+e.transport.name),Q.prepareQueryString(e,n)}function W(e){this.connection=e,this.startRequested=!1,this.startCompleted=!1,this.connectionStopped=!1}(function(e,t){function n(e,t){return t.match(/:\d+$/)?t:t+":"+("http:"===(n=e)?80:"https:"===n?443:void 0);var n}function i(t,n){var i=[];this.tryBuffer=function(n){return t.state===e.signalR.connectionState.connecting&&(i.push(n),!0)},this.drain=function(){if(t.state===e.signalR.connectionState.connected)for(;0<i.length;)n(i.shift())},this.clear=function(){i=[]}}var r={nojQuery:"jQuery was not found. Please ensure jQuery is referenced before the SignalR client JavaScript file.",noTransportOnInit:"No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization.",errorOnNegotiate:"Error during negotiation request.",stoppedWhileLoading:"The connection was stopped during page load.",stoppedWhileNegotiating:"The connection was stopped during the negotiate request.",errorParsingNegotiateResponse:"Error parsing negotiate response.",errorDuringStartRequest:"Error during start request. Stopping the connection.",stoppedDuringStartRequest:"The connection was stopped during the start request.",errorParsingStartResponse:"Error parsing start response: '{0}'. Stopping the connection.",invalidStartResponse:"Invalid start response: '{0}'. Stopping the connection.",protocolIncompatible:"You are using a version of the client that isn't compatible with the server. Client version {0}, server version {1}.",sendFailed:"Send failed.",parseFailed:"Failed at parsing response: {0}",longPollFailed:"Long polling request failed.",eventSourceFailedToConnect:"EventSource failed to connect.",eventSourceError:"Error raised by EventSource",webSocketClosed:"WebSocket closed.",pingServerFailedInvalidResponse:"Invalid ping response when pinging server: '{0}'.",pingServerFailed:"Failed to ping server.",pingServerFailedStatusCode:"Failed to ping server.  Server responded with status code {0}, stopping the connection.",pingServerFailedParse:"Failed to parse ping server response, stopping the connection.",noConnectionTransport:"Connection is in an invalid state, there is no transport active.",webSocketsInvalidState:"The Web Socket transport is in an invalid state, transitioning into reconnecting.",reconnectTimeout:"Couldn't reconnect within the configured timeout of {0} ms, disconnecting.",reconnectWindowTimeout:"The client has been inactive since {0} and it has exceeded the inactivity timeout of {1} ms. Stopping the connection."};if("function"!=typeof e)throw new Error(r.nojQuery);function o(t,n,i){return n===t.state&&(t.state=i,e(t).triggerHandler(m.onStateChanged,[{oldState:n,newState:i}]),!0)}function s(e){return e._.keepAliveData.activated&&e.transport.supportsKeepAlive(e)}var a,c,l,u,d="complete"===t.document.readyState,p=e(t),A="__Negotiate Aborted__",m={onStart:"onStart",onStarting:"onStarting",onReceived:"onReceived",onError:"onError",onConnectionSlow:"onConnectionSlow",onReconnecting:"onReconnecting",onReconnect:"onReconnect",onStateChanged:"onStateChanged",onDisconnect:"onDisconnect"};(a=function(e,t,n){return new a.fn.init(e,t,n)})._={defaultContentType:"application/x-www-form-urlencoded; charset=UTF-8",ieVersion:("Microsoft Internet Explorer"===t.navigator.appName&&(u=/MSIE ([0-9]+\.[0-9]+)/.exec(t.navigator.userAgent))&&(l=t.parseFloat(u[1])),l),error:function(e,t,n){var i=new Error(e);return i.source=t,void 0!==n&&(i.context=n),i},transportError:function(e,t,n,i){var r=this.error(e,n,i);return r.transport=t?t.name:void 0,r},format:function(e){for(var t=e,n=0;n<arguments.length-1;n++)t=t.replace("{"+n+"}",arguments[n+1]);return t},firefoxMajorVersion:function(e){var t=e.match(/Firefox\/(\d+)/);return!t||!t.length||t.length<2?0:parseInt(t[1],10)},configurePingInterval:function(n){function i(t){e(n).triggerHandler(m.onError,[t])}var r=n._.config;r&&!n._.pingIntervalId&&r.pingInterval&&(n._.pingIntervalId=t.setInterval((function(){a.transports._logic.pingServer(n).fail(i)}),r.pingInterval))}},a.events=m,a.resources=r,a.ajaxDefaults={processData:!0,timeout:null,async:!0,global:!1,cache:!1},a.changeState=o,a.isDisconnecting=function(e){return e.state===a.connectionState.disconnected},a.connectionState={connecting:0,connected:1,reconnecting:2,disconnected:4},a.hub={start:function(){throw new Error("SignalR: Error loading hubs. Ensure your hubs reference is correct, e.g. <script src='/signalr/js'><\/script>.")}},"function"==typeof p.on?p.on("load",(function(){d=!0})):p.load((function(){d=!0})),a.fn=a.prototype={init:function(t,n,r){var o=e(this);this.url=t,this.qs=n,this.lastError=null,this._={keepAliveData:{},connectingMessageBuffer:new i(this,(function(e){o.triggerHandler(m.onReceived,[e])})),lastMessageAt:(new Date).getTime(),lastActiveAt:(new Date).getTime(),beatInterval:5e3,beatHandle:null,totalTransportConnectTimeout:0},"boolean"==typeof r&&(this.logging=r)},_parseResponse:function(e){return e&&"string"==typeof e?this.json.parse(e):e},_originalJson:t.JSON,json:t.JSON,isCrossDomain:function(i,r){var o;return i=e.trim(i),r=r||t.location,0===i.indexOf("http")&&((o=t.document.createElement("a")).href=i,o.protocol+n(o.protocol,o.host)!==r.protocol+n(r.protocol,r.host))},ajaxDataType:"text",contentType:"application/json; charset=UTF-8",logging:!1,state:a.connectionState.disconnected,clientProtocol:"1.5",reconnectDelay:2e3,transportConnectTimeout:0,disconnectTimeout:3e4,reconnectWindow:3e4,keepAliveWarnAt:2/3,start:function(n,i){var c,l,u,h,f,g,v=this,y={pingInterval:3e5,waitForPageLoad:!0,transport:"auto",jsonp:!1},S=v._deferral||e.Deferred(),b=t.document.createElement("a");if(v.lastError=null,v._deferral=S,!v.json)throw new Error("SignalR: No JSON parser found. Please ensure json2.js is referenced before the SignalR.js file if you need to support clients without native JSON parsing support, e.g. IE<8.");if("function"===e.type(n)?i=n:"object"===e.type(n)&&(e.extend(y,n),"function"===e.type(y.callback)&&(i=y.callback)),y.transport=function(t,n){var i,r;if(e.isArray(t)){for(i=t.length-1;0<=i;i--)r=t[i],"string"===e.type(r)&&a.transports[r]||(n.log("Invalid transport: "+r+", removing it from the transports list."),t.splice(i,1));0===t.length&&(n.log("No transports remain within the specified transport array."),t=null)}else if(a.transports[t]||"auto"===t){if("auto"===t&&a._.ieVersion<=8)return["longPolling"]}else n.log("Invalid transport: "+t.toString()+"."),t=null;return t}(y.transport,v),!y.transport)throw new Error("SignalR: Invalid transport(s) specified, aborting start.");return v._.config=y,d||!0!==y.waitForPageLoad?v.state===a.connectionState.connecting||(!1===o(v,a.connectionState.disconnected,a.connectionState.connecting)?S.resolve(v):((h=v)._.configuredStopReconnectingTimeout||(g=function(t){var n=a._.format(a.resources.reconnectTimeout,t.disconnectTimeout);t.log(n),e(t).triggerHandler(m.onError,[a._.error(n,"TimeoutException")]),t.stop(!1,!1)},h.reconnecting((function(){var e=this;e.state===a.connectionState.reconnecting&&(f=t.setTimeout((function(){g(e)}),e.disconnectTimeout))})),h.stateChanged((function(e){e.oldState===a.connectionState.reconnecting&&t.clearTimeout(f)})),h._.configuredStopReconnectingTimeout=!0),b.href=v.url,b.protocol&&":"!==b.protocol?(v.protocol=b.protocol,v.host=b.host):(v.protocol=t.document.location.protocol,v.host=b.host||t.document.location.host),v.baseUrl=v.protocol+"//"+v.host,v.wsProtocol="https:"===v.protocol?"wss://":"ws://","auto"===y.transport&&!0===y.jsonp&&(y.transport="longPolling"),0===v.url.indexOf("//")&&(v.url=t.location.protocol+v.url,v.log("Protocol relative URL detected, normalizing it to '"+v.url+"'.")),this.isCrossDomain(v.url)&&(v.log("Auto detected cross domain url."),"auto"===y.transport&&(y.transport=["webSockets","serverSentEvents","longPolling"]),void 0===y.withCredentials&&(y.withCredentials=!0),y.jsonp||(y.jsonp=!e.support.cors,y.jsonp&&v.log("Using jsonp because this browser doesn't support CORS.")),v.contentType=a._.defaultContentType),v.withCredentials=y.withCredentials,v.ajaxDataType=y.jsonp?"jsonp":"text",e(v).bind(m.onStart,(function(){"function"===e.type(i)&&i.call(v),S.resolve(v)})),v._.initHandler=a.transports._logic.initHandler(v),c=function(n,i){var l=a._.error(r.noTransportOnInit);if((i=i||0)>=n.length)return 0===i?v.log("No transports supported by the server were selected."):1===i?v.log("No fallback transports were selected."):v.log("Fallback transports exhausted."),e(v).triggerHandler(m.onError,[l]),S.reject(l),void v.stop();if(v.state!==a.connectionState.disconnected){function u(){c(n,i+1)}var d=n[i],A=a.transports[d];v.transport=A;try{v._.initHandler.start(A,(function(){var n=11<=a._.firefoxMajorVersion(t.navigator.userAgent),i=!!v.withCredentials&&n;v.log("The start request succeeded. Transitioning to the connected state."),s(v)&&a.transports._logic.monitorKeepAlive(v),a.transports._logic.startHeartbeat(v),a._.configurePingInterval(v),o(v,a.connectionState.connecting,a.connectionState.connected)||v.log("WARNING! The connection was not in the connecting state."),v._.connectingMessageBuffer.drain(),e(v).triggerHandler(m.onStart),p.bind("unload",(function(){v.log("Window unloading, stopping the connection."),v.stop(i)})),n&&p.bind("beforeunload",(function(){t.setTimeout((function(){v.stop(i)}),0)}))}),u)}catch(n){v.log(A.name+" transport threw '"+n.message+"' when attempting to start."),u()}}},l=v.url+"/negotiate",u=function(t,n){var i=a._.error(r.errorOnNegotiate,t,n._.negotiateRequest);e(n).triggerHandler(m.onError,i),S.reject(i),n.stop()},e(v).triggerHandler(m.onStarting),l=a.transports._logic.prepareQueryString(v,l),v.log("Negotiating with '"+l+"'."),v._.negotiateRequest=a.transports._logic.ajax(v,{url:l,error:function(e,t){t!==A?u(e,v):S.reject(a._.error(r.stoppedWhileNegotiating,null,v._.negotiateRequest))},success:function(t){var n,i,o,s=[],l=[];try{n=v._parseResponse(t)}catch(t){return void u(a._.error(r.errorParsingNegotiateResponse,t),v)}if(i=v._.keepAliveData,v.appRelativeUrl=n.Url,v.id=n.ConnectionId,v.token=n.ConnectionToken,v.webSocketServerUrl=n.WebSocketServerUrl,v._.pollTimeout=1e3*n.ConnectionTimeout+1e4,v.disconnectTimeout=1e3*n.DisconnectTimeout,v._.totalTransportConnectTimeout=v.transportConnectTimeout+1e3*n.TransportConnectTimeout,n.KeepAliveTimeout?(i.activated=!0,i.timeout=1e3*n.KeepAliveTimeout,i.timeoutWarning=i.timeout*v.keepAliveWarnAt,v._.beatInterval=(i.timeout-i.timeoutWarning)/3):i.activated=!1,v.reconnectWindow=v.disconnectTimeout+(i.timeout||0),!n.ProtocolVersion||n.ProtocolVersion!==v.clientProtocol)return o=a._.error(a._.format(r.protocolIncompatible,v.clientProtocol,n.ProtocolVersion)),e(v).triggerHandler(m.onError,[o]),void S.reject(o);e.each(a.transports,(function(e){return 0===e.indexOf("_")||"webSockets"===e&&!n.TryWebSockets||void l.push(e)})),e.isArray(y.transport)?e.each(y.transport,(function(t,n){0<=e.inArray(n,l)&&s.push(n)})):"auto"===y.transport?s=l:0<=e.inArray(y.transport,l)&&s.push(y.transport),c(s)}}))):(v._.deferredStartHandler=function(){v.start(n,i)},p.bind("load",v._.deferredStartHandler)),S.promise()},starting:function(t){var n=this;return e(n).bind(m.onStarting,(function(){t.call(n)})),n},send:function(e){if(this.state===a.connectionState.disconnected)throw new Error("SignalR: Connection must be started before data can be sent. Call .start() before .send()");if(this.state===a.connectionState.connecting)throw new Error("SignalR: Connection has not been fully initialized. Use .start().done() or .start().fail() to run logic after the connection has started.");return this.transport.send(this,e),this},received:function(t){var n=this;return e(n).bind(m.onReceived,(function(e,i){t.call(n,i)})),n},stateChanged:function(t){var n=this;return e(n).bind(m.onStateChanged,(function(e,i){t.call(n,i)})),n},error:function(t){var n=this;return e(n).bind(m.onError,(function(e,i,r){n.lastError=i,t.call(n,i,r)})),n},disconnected:function(t){var n=this;return e(n).bind(m.onDisconnect,(function(){t.call(n)})),n},connectionSlow:function(t){var n=this;return e(n).bind(m.onConnectionSlow,(function(){t.call(n)})),n},reconnecting:function(t){var n=this;return e(n).bind(m.onReconnecting,(function(){t.call(n)})),n},reconnected:function(t){var n=this;return e(n).bind(m.onReconnect,(function(){t.call(n)})),n},stop:function(n,i){var c=this,l=c._deferral;return c._.deferredStartHandler&&p.unbind("load",c._.deferredStartHandler),delete c._.config,delete c._.deferredStartHandler,d||c._.config&&!0!==c._.config.waitForPageLoad?c.state!==a.connectionState.disconnected?(c.log("Stopping connection."),t.clearTimeout(c._.beatHandle),t.clearInterval(c._.pingIntervalId),c.transport&&(c.transport.stop(c),!1!==i&&c.transport.abort(c,n),s(c)&&a.transports._logic.stopMonitoringKeepAlive(c),c.transport=null),c._.negotiateRequest&&(c._.negotiateRequest.abort(A),delete c._.negotiateRequest),c._.initHandler&&c._.initHandler.stop(),delete c._deferral,delete c.messageId,delete c.groupsToken,delete c.id,delete c._.pingIntervalId,delete c._.lastMessageAt,delete c._.lastActiveAt,c._.connectingMessageBuffer.clear(),e(c).unbind(m.onStart),o(c,c.state,a.connectionState.disconnected),e(c).triggerHandler(m.onDisconnect),c):void 0:(c.log("Stopping connection prior to negotiate."),void(l&&l.reject(a._.error(r.stoppedWhileLoading))))},log:function(e){var n,i;n=e,!1!==this.logging&&void 0!==t.console&&(i="["+(new Date).toTimeString()+"] SignalR: "+n,t.console.debug?t.console.debug(i):t.console.log&&t.console.log(i))}},a.fn.init.prototype=a.fn,a.noConflict=function(){return e.connection===a&&(e.connection=c),a},e.connection&&(c=e.connection),e.connection=e.signalR=a})(window.jQuery,window),O=window.jQuery,V=window,H=O.signalR,$=O.signalR.events,j=O.signalR.changeState,Y="__Start Aborted__",H.transports={},W.prototype={start:function(e,t,n){var i=this,r=i.connection,o=!1;i.startRequested||i.connectionStopped?r.log("WARNING! "+e.name+" transport cannot be started. Initialization ongoing or completed."):(r.log(e.name+" transport starting."),e.start(r,(function(){o||i.initReceived(e,t)}),(function(t){return o||(o=!0,i.transportFailed(e,t,n)),!i.startCompleted||i.connectionStopped})),i.transportTimeoutHandle=V.setTimeout((function(){o||(o=!0,r.log(e.name+" transport timed out when trying to connect."),i.transportFailed(e,void 0,n))}),r._.totalTransportConnectTimeout))},stop:function(){this.connectionStopped=!0,V.clearTimeout(this.transportTimeoutHandle),H.transports._logic.tryAbortStartRequest(this.connection)},initReceived:function(e,t){var n=this,i=n.connection;n.startRequested?i.log("WARNING! The client received multiple init messages."):n.connectionStopped||(n.startRequested=!0,V.clearTimeout(n.transportTimeoutHandle),i.log(e.name+" transport connected. Initiating start request."),H.transports._logic.ajaxStart(i,(function(){n.startCompleted=!0,t()})))},transportFailed:function(e,t,n){var i,r=this.connection,o=r._deferral;this.connectionStopped||(V.clearTimeout(this.transportTimeoutHandle),this.startRequested?this.startCompleted||(i=H._.error(H.resources.errorDuringStartRequest,t),r.log(e.name+" transport failed during the start request. Stopping the connection."),O(r).triggerHandler($.onError,[i]),o&&o.reject(i),r.stop()):(e.stop(r),r.log(e.name+" transport failed to connect. Attempting to fall back."),n()))}},Q=H.transports._logic={ajax:function(e,t){return O.ajax(O.extend(!0,{},O.signalR.ajaxDefaults,{type:"GET",data:{},xhrFields:{withCredentials:e.withCredentials},contentType:e.contentType,dataType:e.ajaxDataType},t))},pingServer:function(e){var t,n,i=O.Deferred();return e.transport?(t=e.url+"/ping",t=Q.addQs(t,e.qs),n=Q.ajax(e,{url:t,success:function(t){var r;try{r=e._parseResponse(t)}catch(t){return i.reject(H._.transportError(H.resources.pingServerFailedParse,e.transport,t,n)),void e.stop()}"pong"===r.Response?i.resolve():i.reject(H._.transportError(H._.format(H.resources.pingServerFailedInvalidResponse,t),e.transport,null,n))},error:function(t){401===t.status||403===t.status?(i.reject(H._.transportError(H._.format(H.resources.pingServerFailedStatusCode,t.status),e.transport,t,n)),e.stop()):i.reject(H._.transportError(H.resources.pingServerFailed,e.transport,t,n))}})):i.reject(H._.transportError(H.resources.noConnectionTransport,e.transport)),i.promise()},prepareQueryString:function(e,t){var n=Q.addQs(t,"clientProtocol="+e.clientProtocol);return n=Q.addQs(n,e.qs),e.token&&(n+="&connectionToken="+V.encodeURIComponent(e.token)),e.data&&(n+="&connectionData="+V.encodeURIComponent(e.data)),n},addQs:function(e,t){var i,r=-1!==e.indexOf("?")?"&":"?";if(!t)return e;if("object"==n(t))return e+r+O.param(t);if("string"==typeof t)return"?"!==(i=t.charAt(0))&&"&"!==i||(r=""),e+r+t;throw new Error("Query string property must be either a string or object.")},getUrl:function(e,t,n,i,r){var o=("webSockets"===t?"":e.baseUrl)+e.appRelativeUrl,s="transport="+t;return!r&&e.groupsToken&&(s+="&groupsToken="+V.encodeURIComponent(e.groupsToken)),n?(o+=i?"/poll":"/reconnect",!r&&e.messageId&&(s+="&messageId="+V.encodeURIComponent(e.messageId))):o+="/connect",o+="?"+s,o=Q.prepareQueryString(e,o),r||(o+="&tid="+Math.floor(11*Math.random())),o},maximizePersistentResponse:function(e){return{MessageId:e.C,Messages:e.M,Initialized:void 0!==e.S,ShouldReconnect:void 0!==e.T,LongPollDelay:e.L,GroupsToken:e.G}},updateGroups:function(e,t){t&&(e.groupsToken=t)},stringifySend:function(e,t){return"string"==typeof t||null==t?t:e.json.stringify(t)},ajaxSend:function(e,t){function n(e,n){O(n).triggerHandler($.onError,[H._.transportError(H.resources.sendFailed,n.transport,e,i),t])}var i,r=Q.stringifySend(e,t),o=z(e,"/send");return i=Q.ajax(e,{url:o,type:"jsonp"===e.ajaxDataType?"GET":"POST",contentType:H._.defaultContentType,data:{data:r},success:function(t){var i;if(t){try{i=e._parseResponse(t)}catch(t){return n(t,e),void e.stop()}Q.triggerReceived(e,i)}},error:function(t,i){"abort"!==i&&"parsererror"!==i&&n(t,e)}})},ajaxAbort:function(e,t){var n;void 0!==e.transport&&(t=void 0===t||t,n=z(e,"/abort"),Q.ajax(e,{url:n,async:t,timeout:1e3,type:"POST"}),e.log("Fired ajax abort async = "+t+"."))},ajaxStart:function(e,t){function n(t){var n=e._deferral;n&&n.reject(t)}function i(t){e.log("The start request failed. Stopping the connection."),O(e).triggerHandler($.onError,[t]),n(t),e.stop()}e._.startRequest=Q.ajax(e,{url:z(e,"/start"),success:function(n,r,o){var s;try{s=e._parseResponse(n)}catch(r){return void i(H._.error(H._.format(H.resources.errorParsingStartResponse,n),r,o))}"started"===s.Response?t():i(H._.error(H._.format(H.resources.invalidStartResponse,n),null,o))},error:function(t,r,o){r!==Y?i(H._.error(H.resources.errorDuringStartRequest,o,t)):(e.log("The start request aborted because connection.stop() was called."),n(H._.error(H.resources.stoppedDuringStartRequest,null,t)))}})},tryAbortStartRequest:function(e){e._.startRequest&&(e._.startRequest.abort(Y),delete e._.startRequest)},tryInitialize:function(e,t,n){t.Initialized&&n?n():t.Initialized&&e.log("WARNING! The client received an init message after reconnecting.")},triggerReceived:function(e,t){e._.connectingMessageBuffer.tryBuffer(t)||O(e).triggerHandler($.onReceived,[t])},processMessages:function(e,t,n){var i;Q.markLastMessage(e),t&&(i=Q.maximizePersistentResponse(t),Q.updateGroups(e,i.GroupsToken),i.MessageId&&(e.messageId=i.MessageId),i.Messages&&(O.each(i.Messages,(function(t,n){Q.triggerReceived(e,n)})),Q.tryInitialize(e,i,n)))},monitorKeepAlive:function(e){var t=e._.keepAliveData;t.monitoring?e.log("Tried to monitor keep alive but it's already being monitored."):(t.monitoring=!0,Q.markLastMessage(e),e._.keepAliveData.reconnectKeepAliveUpdate=function(){Q.markLastMessage(e)},O(e).bind($.onReconnect,e._.keepAliveData.reconnectKeepAliveUpdate),e.log("Now monitoring keep alive with a warning timeout of "+t.timeoutWarning+", keep alive timeout of "+t.timeout+" and disconnecting timeout of "+e.disconnectTimeout))},stopMonitoringKeepAlive:function(e){var t=e._.keepAliveData;t.monitoring&&(t.monitoring=!1,O(e).unbind($.onReconnect,e._.keepAliveData.reconnectKeepAliveUpdate),e._.keepAliveData={},e.log("Stopping the monitoring of the keep alive."))},startHeartbeat:function(e){e._.lastActiveAt=(new Date).getTime(),function e(t){var n,i,r;t._.keepAliveData.monitoring&&(r=(n=t)._.keepAliveData,n.state===H.connectionState.connected&&((i=(new Date).getTime()-n._.lastMessageAt)>=r.timeout?(n.log("Keep alive timed out.  Notifying transport that connection has been lost."),n.transport.lostConnection(n)):i>=r.timeoutWarning?r.userNotified||(n.log("Keep alive has been missed, connection may be dead/slow."),O(n).triggerHandler($.onConnectionSlow),r.userNotified=!0):r.userNotified=!1)),Q.markActive(t)&&(t._.beatHandle=V.setTimeout((function(){e(t)}),t._.beatInterval))}(e)},markLastMessage:function(e){e._.lastMessageAt=(new Date).getTime()},markActive:function(e){return!!Q.verifyLastActive(e)&&(e._.lastActiveAt=(new Date).getTime(),!0)},isConnectedOrReconnecting:function(e){return e.state===H.connectionState.connected||e.state===H.connectionState.reconnecting},ensureReconnectingState:function(e){return!0===j(e,H.connectionState.connected,H.connectionState.reconnecting)&&O(e).triggerHandler($.onReconnecting),e.state===H.connectionState.reconnecting},clearReconnectTimeout:function(e){e&&e._.reconnectTimeout&&(V.clearTimeout(e._.reconnectTimeout),delete e._.reconnectTimeout)},verifyLastActive:function(e){if((new Date).getTime()-e._.lastActiveAt>=e.reconnectWindow){var t=H._.format(H.resources.reconnectWindowTimeout,new Date(e._.lastActiveAt),e.reconnectWindow);return e.log(t),O(e).triggerHandler($.onError,[H._.error(t,"TimeoutException")]),e.stop(!1,!1),!1}return!0},reconnect:function(e,t){var n=H.transports[t];if(Q.isConnectedOrReconnecting(e)&&!e._.reconnectTimeout){if(!Q.verifyLastActive(e))return;e._.reconnectTimeout=V.setTimeout((function(){Q.verifyLastActive(e)&&(n.stop(e),Q.ensureReconnectingState(e)&&(e.log(t+" reconnecting."),n.start(e)))}),e.reconnectDelay)}},handleParseFailure:function(e,t,n,i,r){var o=H._.transportError(H._.format(H.resources.parseFailed,t),e.transport,n,r);i&&i(o)?e.log("Failed to parse server response while attempting to connect."):(O(e).triggerHandler($.onError,[o]),e.stop())},initHandler:function(e){return new W(e)},foreverFrame:{count:0,connections:{}}},M=window.jQuery,U=window,N=M.signalR,L=M.signalR.events,x=M.signalR.changeState,R=N.transports._logic,N.transports.webSockets={name:"webSockets",supportsKeepAlive:function(){return!0},send:function(e,t){var n=R.stringifySend(e,t);try{e.socket.send(n)}catch(n){M(e).triggerHandler(L.onError,[N._.transportError(N.resources.webSocketsInvalidState,e.transport,n,e.socket),t])}},start:function(e,t,n){var i,r=!1,o=this,s=!t,a=M(e);U.WebSocket?e.socket||(i=e.webSocketServerUrl?e.webSocketServerUrl:e.wsProtocol+e.host,i+=R.getUrl(e,this.name,s),e.log("Connecting to websocket endpoint '"+i+"'."),e.socket=new U.WebSocket(i),e.socket.onopen=function(){r=!0,e.log("Websocket opened."),R.clearReconnectTimeout(e),!0===x(e,N.connectionState.reconnecting,N.connectionState.connected)&&a.triggerHandler(L.onReconnect)},e.socket.onclose=function(t){var i;this===e.socket&&(r&&void 0!==t.wasClean&&!1===t.wasClean?(i=N._.transportError(N.resources.webSocketClosed,e.transport,t),e.log("Unclean disconnect from websocket: "+(t.reason||"[no reason given]."))):e.log("Websocket closed."),n&&n(i)||(i&&M(e).triggerHandler(L.onError,[i]),o.reconnect(e)))},e.socket.onmessage=function(i){var r;try{r=e._parseResponse(i.data)}catch(r){return void R.handleParseFailure(e,i.data,r,n,i)}r&&(M.isEmptyObject(r)||r.M?R.processMessages(e,r,t):R.triggerReceived(e,r))}):n()},reconnect:function(e){R.reconnect(e,this.name)},lostConnection:function(e){this.reconnect(e)},stop:function(e){R.clearReconnectTimeout(e),e.socket&&(e.log("Closing the Websocket."),e.socket.close(),e.socket=null)},abort:function(e,t){R.ajaxAbort(e,t)}},_=window.jQuery,B=window,I=_.signalR,D=_.signalR.events,k=_.signalR.changeState,F=I.transports._logic,I.transports.serverSentEvents={name:"serverSentEvents",supportsKeepAlive:function(){return!0},timeOut:3e3,start:function(e,t,n){var i,r=this,o=!1,s=_(e),a=!t;if(e.eventSource&&(e.log("The connection already has an event source. Stopping it."),e.stop()),B.EventSource){i=F.getUrl(e,this.name,a);try{e.log("Attempting to connect to SSE endpoint '"+i+"'."),e.eventSource=new B.EventSource(i,{withCredentials:e.withCredentials})}catch(i){return e.log("EventSource failed trying to connect with error "+i.Message+"."),void(n?n():(s.triggerHandler(D.onError,[I._.transportError(I.resources.eventSourceFailedToConnect,e.transport,i)]),a&&r.reconnect(e)))}a&&(e._.reconnectAttemptTimeoutHandle=B.setTimeout((function(){!1===o&&e.eventSource.readyState!==B.EventSource.OPEN&&r.reconnect(e)}),r.timeOut)),e.eventSource.addEventListener("open",(function(){e.log("EventSource connected."),K(e),F.clearReconnectTimeout(e),!1!==o||(o=!0)===k(e,I.connectionState.reconnecting,I.connectionState.connected)&&s.triggerHandler(D.onReconnect)}),!1),e.eventSource.addEventListener("message",(function(i){var r;if("initialized"!==i.data){try{r=e._parseResponse(i.data)}catch(r){return void F.handleParseFailure(e,i.data,r,n,i)}F.processMessages(e,r,t)}}),!1),e.eventSource.addEventListener("error",(function(t){var i=I._.transportError(I.resources.eventSourceError,e.transport,t);this===e.eventSource&&(n&&n(i)||(e.log("EventSource readyState: "+e.eventSource.readyState+"."),t.eventPhase===B.EventSource.CLOSED?(e.log("EventSource reconnecting due to the server connection ending."),r.reconnect(e)):(e.log("EventSource error."),s.triggerHandler(D.onError,[i]))))}),!1)}else n&&(e.log("This browser doesn't support SSE."),n())},reconnect:function(e){F.reconnect(e,this.name)},lostConnection:function(e){this.reconnect(e)},send:function(e,t){F.ajaxSend(e,t)},stop:function(e){K(e),F.clearReconnectTimeout(e),e&&e.eventSource&&(e.log("EventSource calling close()."),e.eventSource.close(),e.eventSource=null,delete e.eventSource)},abort:function(e,t){F.ajaxAbort(e,t)}},v=window.jQuery,y=window,C=v.signalR,E=v.signalR.events,w=v.signalR.changeState,T=C.transports._logic,S=null,b=0,P={prevent:function(){C._.ieVersion<=8&&(0===b&&(S=y.setInterval((function(){var e=G();y.document.body.appendChild(e),y.document.body.removeChild(e)}),1e3)),b++)},cancel:function(){1===b&&y.clearInterval(S),0<b&&b--}},C.transports.foreverFrame={name:"foreverFrame",supportsKeepAlive:function(){return!0},iframeClearThreshold:50,start:function(e,t,n){function i(){e.log("Forever frame iframe finished loading and is no longer receiving messages."),n&&n()||o.reconnect(e)}var r,o=this,s=T.foreverFrame.count+=1,a=G();y.EventSource?n&&(e.log("Forever Frame is not supported by SignalR on browsers with SSE support."),n()):(a.setAttribute("data-signalr-connection-id",e.id),P.prevent(),r=T.getUrl(e,this.name),r+="&frameId="+s,y.document.documentElement.appendChild(a),e.log("Binding to iframe's load event."),a.addEventListener?a.addEventListener("load",i,!1):a.attachEvent&&a.attachEvent("onload",i),a.src=r,(T.foreverFrame.connections[s]=e).frame=a,e.frameId=s,t&&(e.onSuccess=function(){e.log("Iframe transport started."),t()}))},reconnect:function(e){var t=this;T.isConnectedOrReconnecting(e)&&T.verifyLastActive(e)&&y.setTimeout((function(){var n,i;T.verifyLastActive(e)&&e.frame&&T.ensureReconnectingState(e)&&(n=e.frame,i=T.getUrl(e,t.name,!0)+"&frameId="+e.frameId,e.log("Updating iframe src to '"+i+"'."),n.src=i)}),e.reconnectDelay)},lostConnection:function(e){this.reconnect(e)},send:function(e,t){T.ajaxSend(e,t)},receive:function(e,t){var n,i,r;if(e.json!==e._originalJson&&(t=e._originalJson.stringify(t)),r=e._parseResponse(t),T.processMessages(e,r,e.onSuccess),e.state===v.signalR.connectionState.connected&&(e.frameMessageCount=(e.frameMessageCount||0)+1,e.frameMessageCount>C.transports.foreverFrame.iframeClearThreshold&&(e.frameMessageCount=0,(n=e.frame.contentWindow||e.frame.contentDocument)&&n.document&&n.document.body)))for(i=n.document.body;i.firstChild;)i.removeChild(i.firstChild)},stop:function(e){var t=null;if(P.cancel(),e.frame){if(e.frame.stop)e.frame.stop();else try{(t=e.frame.contentWindow||e.frame.contentDocument).document&&t.document.execCommand&&t.document.execCommand("Stop")}catch(t){e.log("Error occurred when stopping foreverFrame transport. Message = "+t.message+".")}e.frame.parentNode===y.document.documentElement&&y.document.documentElement.removeChild(e.frame),delete T.foreverFrame.connections[e.frameId],e.frame=null,e.frameId=null,delete e.frame,delete e.frameId,delete e.onSuccess,delete e.frameMessageCount,e.log("Stopping forever frame.")}},abort:function(e,t){T.ajaxAbort(e,t)},getConnection:function(e){return T.foreverFrame.connections[e]},started:function(e){!0===w(e,C.connectionState.reconnecting,C.connectionState.connected)&&v(e).triggerHandler(E.onReconnect)}},d=window.jQuery,p=window,A=d.signalR,m=d.signalR.events,h=d.signalR.changeState,f=d.signalR.isDisconnecting,g=A.transports._logic,A.transports.longPolling={name:"longPolling",supportsKeepAlive:function(){return!1},reconnectDelay:3e3,start:function(e,t,n){function i(t){return!!n(t)&&(e.log("LongPolling failed to connect."),!0)}function r(e){p.clearTimeout(a.reconnectTimeoutId),!(a.reconnectTimeoutId=null)===h(e,A.connectionState.reconnecting,A.connectionState.connected)&&(e.log("Raising the reconnect event"),d(e).triggerHandler(m.onReconnect))}var o=this,s=function(){s=d.noop,e.log("LongPolling connected."),t?t():e.log("WARNING! The client received an init message after reconnecting.")},a=e._,c=0;e.pollXhr&&(e.log("Polling xhr requests already exists, aborting."),e.stop()),e.messageId=null,a.reconnectTimeoutId=null,a.pollTimeoutId=p.setTimeout((function(){!function t(n,l){var u=!(null===n.messageId),h=!l,v=g.getUrl(n,o.name,u,h,!0),y={};n.messageId&&(y.messageId=n.messageId),n.groupsToken&&(y.groupsToken=n.groupsToken),!0!==f(n)&&(e.log("Opening long polling request to '"+v+"'."),n.pollXhr=g.ajax(e,{xhrFields:{onprogress:function(){g.markLastMessage(e)}},url:v,type:"POST",contentType:A._.defaultContentType,data:y,timeout:e._.pollTimeout,success:function(o){var l,u,A,m=0;e.log("Long poll complete."),c=0;try{l=e._parseResponse(o)}catch(l){return void g.handleParseFailure(n,o,l,i,n.pollXhr)}null!==a.reconnectTimeoutId&&r(n),l&&(u=g.maximizePersistentResponse(l)),g.processMessages(n,l,s),u&&"number"===d.type(u.LongPollDelay)&&(m=u.LongPollDelay),!0===f(n)||(A=u&&u.ShouldReconnect)&&!g.ensureReconnectingState(n)||(0<m?a.pollTimeoutId=p.setTimeout((function(){t(n,A)}),m):t(n,A))},error:function(r,s){var l=A._.transportError(A.resources.longPollFailed,e.transport,r,n.pollXhr);if(p.clearTimeout(a.reconnectTimeoutId),a.reconnectTimeoutId=null,"abort"!==s){if(!i(l)){if(c++,e.state!==A.connectionState.reconnecting&&(e.log("An error occurred using longPolling. Status = "+s+".  Response = "+r.responseText+"."),d(n).triggerHandler(m.onError,[l])),(e.state===A.connectionState.connected||e.state===A.connectionState.reconnecting)&&!g.verifyLastActive(e))return;if(!g.ensureReconnectingState(n))return;a.pollTimeoutId=p.setTimeout((function(){t(n,!0)}),o.reconnectDelay)}}else e.log("Aborted xhr request.")}}),u&&!0===l&&(a.reconnectTimeoutId=p.setTimeout((function(){r(n)}),Math.min(1e3*(Math.pow(2,c)-1),36e5))))}(e)}),250)},lostConnection:function(e){e.pollXhr&&e.pollXhr.abort("lostConnection")},send:function(e,t){g.ajaxSend(e,t)},stop:function(e){p.clearTimeout(e._.pollTimeoutId),p.clearTimeout(e._.reconnectTimeoutId),delete e._.pollTimeoutId,delete e._.reconnectTimeoutId,e.pollXhr&&(e.pollXhr.abort(),e.pollXhr=null,delete e.pollXhr)},abort:function(e,t){g.ajaxAbort(e,t)}},l=window.jQuery,window,u=l.signalR,a.fn=a.prototype={init:function(e,t){this.state={},this.connection=e,this.hubName=t,this._={callbackMap:{}}},constructor:a,hasSubscriptions:function(){return o(this._.callbackMap)},on:function(e,t){var n=this,r=n._.callbackMap;return r[e=e.toLowerCase()]||(r[e]={}),r[e][t]=function(e,i){t.apply(n,i)},l(n).bind(i(e),r[e][t]),n},off:function(e,t){var n,r=this._.callbackMap;return(n=r[e=e.toLowerCase()])&&(n[t]?(l(this).unbind(i(e),n[t]),delete n[t],o(n)||delete r[e]):t||(l(this).unbind(i(e)),delete r[e])),this},invoke:function(e){var t=this,n=t.connection,i=function(e,t,n){for(var i=e.length,r=[],o=0;o<i;o+=1)e.hasOwnProperty(o)&&(r[o]=t.call(void 0,e[o],o,e));return r}(l.makeArray(arguments).slice(1),r),o={H:t.hubName,M:e,A:i,I:n._.invocationCallbackId},s=l.Deferred();return n._.invocationCallbacks[n._.invocationCallbackId.toString()]={scope:t,method:function(i){var r,o,a=t._maximizeHubResponse(i);l.extend(t.state,a.State),a.Progress?s.notifyWith?s.notifyWith(t,[a.Progress.Data]):n._.progressjQueryVersionLogged||(n.log("A hub method invocation progress update was received but the version of jQuery in use ("+l.prototype.jquery+") does not support progress updates. Upgrade to jQuery 1.7+ to receive progress notifications."),n._.progressjQueryVersionLogged=!0):a.Error?(a.StackTrace&&n.log(a.Error+"\n"+a.StackTrace+"."),r=a.IsHubException?"HubException":"Exception",(o=u._.error(a.Error,r)).data=a.ErrorData,n.log(t.hubName+"."+e+" failed to execute. Error: "+o.message),s.rejectWith(t,[o])):(n.log("Invoked "+t.hubName+"."+e),s.resolveWith(t,[a.Result]))}},n._.invocationCallbackId+=1,l.isEmptyObject(t.state)||(o.S=t.state),n.log("Invoking "+t.hubName+"."+e),n.send(o),s.promise()},_maximizeHubResponse:function(e){return{State:e.S,Result:e.R,Progress:e.P?{Id:e.P.I,Data:e.P.D}:null,Id:e.I,IsHubException:e.H,Error:e.E,StackTrace:e.T,ErrorData:e.D}}},a.fn.init.prototype=a.fn,c.fn=c.prototype=l.connection(),c.fn.init=function(e,t){var n={qs:null,logging:!1,useDefaultPath:!0},r=this;l.extend(n,t),l.signalR.fn.init.call(r,e,n.qs,n.logging),r.proxies={},r._.invocationCallbackId=0,r._.invocationCallbacks={},r.received((function(e){var t,n,o,s,a,c;e&&(void 0!==e.P?(o=e.P.I.toString(),(s=r._.invocationCallbacks[o])&&s.method.call(s.scope,e)):void 0!==e.I?(o=e.I.toString(),(s=r._.invocationCallbacks[o])&&(r._.invocationCallbacks[o]=null,delete r._.invocationCallbacks[o],s.method.call(s.scope,e))):(t=this._maximizeClientHubInvocation(e),r.log("Triggering client hub event '"+t.Method+"' on hub '"+t.Hub+"'."),a=t.Hub.toLowerCase(),c=t.Method.toLowerCase(),n=this.proxies[a],l.extend(n.state,t.State),l(n).triggerHandler(i(c),[t.Args])))})),r.error((function(e,t){var n,i;t&&(n=t.I,(i=r._.invocationCallbacks[n])&&(r._.invocationCallbacks[n]=null,delete r._.invocationCallbacks[n],i.method.call(i.scope,{E:e})))})),r.reconnecting((function(){r.transport&&"webSockets"===r.transport.name&&s(r,"Connection started reconnecting before invocation result was received.")})),r.disconnected((function(){s(r,"Connection was disconnected before invocation result was received.")}))},c.fn._maximizeClientHubInvocation=function(e){return{Hub:e.H,Method:e.M,Args:e.A,State:e.S}},c.fn._registerSubscribedHubs=function(){var e=this;e._subscribedToHubs||(e._subscribedToHubs=!0,e.starting((function(){var t=[];l.each(e.proxies,(function(n){this.hasSubscriptions()&&(t.push({name:n}),e.log("Client subscribed to hub '"+n+"'."))})),0===t.length&&e.log("No hubs have been subscribed to.  The client will not receive data from hubs.  To fix, declare at least one client side function prior to connection start for each hub you wish to subscribe to."),e.data=e.json.stringify(t)})))},c.fn.createHubProxy=function(e){e=e.toLowerCase();var t=this.proxies[e];return t||(t=a(this,e),this.proxies[e]=t),this._registerSubscribedHubs(),t},c.fn.init.prototype=c.fn,l.hubConnection=c,window.jQuery.signalR.version="2.2.2"}}])}},e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(e){return t[e]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",Object.defineProperty(e,"p",{get:function(){try{if("string"!=typeof streamFullStaticPath)throw new Error("WebpackRequireFrom: 'streamFullStaticPath' is not a string or not available at runtime. See https://github.com/agoldis/webpack-require-from#troubleshooting");return streamFullStaticPath}catch(e){return""}}}),e(e.s=127);function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var t,n}));